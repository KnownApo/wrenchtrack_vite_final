var d8=Object.defineProperty;var h8=(t,e,r)=>e in t?d8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var jt=(t,e,r)=>(h8(t,typeof e!="symbol"?e+"":e,r),r);function f8(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nF(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function g8(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var sF={exports:{}},Xx={},iF={exports:{}},wr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm=Symbol.for("react.element"),p8=Symbol.for("react.portal"),m8=Symbol.for("react.fragment"),y8=Symbol.for("react.strict_mode"),v8=Symbol.for("react.profiler"),x8=Symbol.for("react.provider"),w8=Symbol.for("react.context"),b8=Symbol.for("react.forward_ref"),B8=Symbol.for("react.suspense"),C8=Symbol.for("react.memo"),_8=Symbol.for("react.lazy"),kE=Symbol.iterator;function k8(t){return t===null||typeof t!="object"?null:(t=kE&&t[kE]||t["@@iterator"],typeof t=="function"?t:null)}var oF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aF=Object.assign,lF={};function Kg(t,e,r){this.props=t,this.context=e,this.refs=lF,this.updater=r||oF}Kg.prototype.isReactComponent={};Kg.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Kg.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function AF(){}AF.prototype=Kg.prototype;function OC(t,e,r){this.props=t,this.context=e,this.refs=lF,this.updater=r||oF}var VC=OC.prototype=new AF;VC.constructor=OC;aF(VC,Kg.prototype);VC.isPureReactComponent=!0;var EE=Array.isArray,cF=Object.prototype.hasOwnProperty,HC={current:null},uF={key:!0,ref:!0,__self:!0,__source:!0};function dF(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)cF.call(e,n)&&!uF.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Vm,type:t,key:i,ref:o,props:s,_owner:HC.current}}function E8(t,e){return{$$typeof:Vm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function KC(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vm}function I8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var IE=/\/+/g;function z2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?I8(""+t.key):e.toString(36)}function Xv(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vm:case p8:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+z2(o,0):n,EE(s)?(r="",t!=null&&(r=t.replace(IE,"$&/")+"/"),Xv(s,e,r,"",function(c){return c})):s!=null&&(KC(s)&&(s=E8(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(IE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",EE(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+z2(i,a);o+=Xv(i,e,r,l,s)}else if(l=k8(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+z2(i,a++),o+=Xv(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zy(t,e,r){if(t==null)return t;var n=[],s=0;return Xv(t,n,"","",function(i){return e.call(r,i,s++)}),n}function S8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var no={current:null},Jv={transition:null},N8={ReactCurrentDispatcher:no,ReactCurrentBatchConfig:Jv,ReactCurrentOwner:HC};function hF(){throw Error("act(...) is not supported in production builds of React.")}wr.Children={map:Zy,forEach:function(t,e,r){Zy(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Zy(t,function(){e++}),e},toArray:function(t){return Zy(t,function(e){return e})||[]},only:function(t){if(!KC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};wr.Component=Kg;wr.Fragment=m8;wr.Profiler=v8;wr.PureComponent=OC;wr.StrictMode=y8;wr.Suspense=B8;wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N8;wr.act=hF;wr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=aF({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=HC.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)cF.call(e,l)&&!uF.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Vm,type:t.type,key:s,ref:i,props:n,_owner:o}};wr.createContext=function(t){return t={$$typeof:w8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:x8,_context:t},t.Consumer=t};wr.createElement=dF;wr.createFactory=function(t){var e=dF.bind(null,t);return e.type=t,e};wr.createRef=function(){return{current:null}};wr.forwardRef=function(t){return{$$typeof:b8,render:t}};wr.isValidElement=KC;wr.lazy=function(t){return{$$typeof:_8,_payload:{_status:-1,_result:t},_init:S8}};wr.memo=function(t,e){return{$$typeof:C8,type:t,compare:e===void 0?null:e}};wr.startTransition=function(t){var e=Jv.transition;Jv.transition={};try{t()}finally{Jv.transition=e}};wr.unstable_act=hF;wr.useCallback=function(t,e){return no.current.useCallback(t,e)};wr.useContext=function(t){return no.current.useContext(t)};wr.useDebugValue=function(){};wr.useDeferredValue=function(t){return no.current.useDeferredValue(t)};wr.useEffect=function(t,e){return no.current.useEffect(t,e)};wr.useId=function(){return no.current.useId()};wr.useImperativeHandle=function(t,e,r){return no.current.useImperativeHandle(t,e,r)};wr.useInsertionEffect=function(t,e){return no.current.useInsertionEffect(t,e)};wr.useLayoutEffect=function(t,e){return no.current.useLayoutEffect(t,e)};wr.useMemo=function(t,e){return no.current.useMemo(t,e)};wr.useReducer=function(t,e,r){return no.current.useReducer(t,e,r)};wr.useRef=function(t){return no.current.useRef(t)};wr.useState=function(t){return no.current.useState(t)};wr.useSyncExternalStore=function(t,e,r){return no.current.useSyncExternalStore(t,e,r)};wr.useTransition=function(){return no.current.useTransition()};wr.version="18.3.1";iF.exports=wr;var J=iF.exports;const fr=nF(J),T8=f8({__proto__:null,default:fr},[J]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j8=J,F8=Symbol.for("react.element"),P8=Symbol.for("react.fragment"),L8=Object.prototype.hasOwnProperty,U8=j8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D8={key:!0,ref:!0,__self:!0,__source:!0};function fF(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)L8.call(e,n)&&!D8.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:F8,type:t,key:i,ref:o,props:s,_owner:U8.current}}Xx.Fragment=P8;Xx.jsx=fF;Xx.jsxs=fF;sF.exports=Xx;var A=sF.exports;var vB={},gF={exports:{}},ua={},pF={exports:{}},mF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,Y){var ue=G.length;G.push(Y);e:for(;0<ue;){var ke=ue-1>>>1,K=G[ke];if(0<s(K,Y))G[ke]=Y,G[ue]=K,ue=ke;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var Y=G[0],ue=G.pop();if(ue!==Y){G[0]=ue;e:for(var ke=0,K=G.length,se=K>>>1;ke<se;){var ae=2*(ke+1)-1,he=G[ae],ye=ae+1,Ce=G[ye];if(0>s(he,ue))ye<K&&0>s(Ce,he)?(G[ke]=Ce,G[ye]=ue,ke=ye):(G[ke]=he,G[ae]=ue,ke=ae);else if(ye<K&&0>s(Ce,ue))G[ke]=Ce,G[ye]=ue,ke=ye;else break e}}return Y}function s(G,Y){var ue=G.sortIndex-Y.sortIndex;return ue!==0?ue:G.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(G){for(var Y=r(c);Y!==null;){if(Y.callback===null)n(c);else if(Y.startTime<=G)n(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=r(c)}}function N(G){if(v=!1,E(G),!m)if(r(l)!==null)m=!0,Z(j);else{var Y=r(c);Y!==null&&ce(N,Y.startTime-G)}}function j(G,Y){m=!1,v&&(v=!1,x(T),T=-1),f=!0;var ue=h;try{for(E(Y),d=r(l);d!==null&&(!(d.expirationTime>Y)||G&&!I());){var ke=d.callback;if(typeof ke=="function"){d.callback=null,h=d.priorityLevel;var K=ke(d.expirationTime<=Y);Y=t.unstable_now(),typeof K=="function"?d.callback=K:d===r(l)&&n(l),E(Y)}else n(l);d=r(l)}if(d!==null)var se=!0;else{var ae=r(c);ae!==null&&ce(N,ae.startTime-Y),se=!1}return se}finally{d=null,h=ue,f=!1}}var O=!1,P=null,T=-1,U=5,R=-1;function I(){return!(t.unstable_now()-R<U)}function L(){if(P!==null){var G=t.unstable_now();R=G;var Y=!0;try{Y=P(!0,G)}finally{Y?M():(O=!1,P=null)}}else O=!1}var M;if(typeof b=="function")M=function(){b(L)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,X=W.port2;W.port1.onmessage=L,M=function(){X.postMessage(null)}}else M=function(){_(L,0)};function Z(G){P=G,O||(O=!0,M())}function ce(G,Y){T=_(function(){G(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,Z(j))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(G){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var ue=h;h=Y;try{return G()}finally{h=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ue=h;h=G;try{return Y()}finally{h=ue}},t.unstable_scheduleCallback=function(G,Y,ue){var ke=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ke+ue:ke):ue=ke,G){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ue+K,G={id:u++,callback:Y,priorityLevel:G,startTime:ue,expirationTime:K,sortIndex:-1},ue>ke?(G.sortIndex=ue,e(c,G),r(l)===null&&G===r(c)&&(v?(x(T),T=-1):v=!0,ce(N,ue-ke))):(G.sortIndex=K,e(l,G),m||f||(m=!0,Z(j))),G},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(G){var Y=h;return function(){var ue=h;h=Y;try{return G.apply(this,arguments)}finally{h=ue}}}})(mF);pF.exports=mF;var R8=pF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M8=J,aa=R8;function dt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yF=new Set,K0={};function Hh(t,e){vg(t,e),vg(t+"Capture",e)}function vg(t,e){for(K0[t]=e,t=0;t<e.length;t++)yF.add(e[t])}var ic=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xB=Object.prototype.hasOwnProperty,Q8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SE={},NE={};function O8(t){return xB.call(NE,t)?!0:xB.call(SE,t)?!1:Q8.test(t)?NE[t]=!0:(SE[t]=!0,!1)}function V8(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function H8(t,e,r,n){if(e===null||typeof e>"u"||V8(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function so(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ii={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ii[t]=new so(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ii[e]=new so(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ii[t]=new so(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ii[t]=new so(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ii[t]=new so(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ii[t]=new so(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ii[t]=new so(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ii[t]=new so(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ii[t]=new so(t,5,!1,t.toLowerCase(),null,!1,!1)});var zC=/[\-:]([a-z])/g;function GC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zC,GC);ii[e]=new so(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zC,GC);ii[e]=new so(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zC,GC);ii[e]=new so(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ii[t]=new so(t,1,!1,t.toLowerCase(),null,!1,!1)});ii.xlinkHref=new so("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ii[t]=new so(t,1,!1,t.toLowerCase(),null,!0,!0)});function WC(t,e,r,n){var s=ii.hasOwnProperty(e)?ii[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(H8(e,r,s,n)&&(r=null),n||s===null?O8(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var mc=M8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ev=Symbol.for("react.element"),Kf=Symbol.for("react.portal"),zf=Symbol.for("react.fragment"),$C=Symbol.for("react.strict_mode"),wB=Symbol.for("react.profiler"),vF=Symbol.for("react.provider"),xF=Symbol.for("react.context"),qC=Symbol.for("react.forward_ref"),bB=Symbol.for("react.suspense"),BB=Symbol.for("react.suspense_list"),YC=Symbol.for("react.memo"),du=Symbol.for("react.lazy"),wF=Symbol.for("react.offscreen"),TE=Symbol.iterator;function Bp(t){return t===null||typeof t!="object"?null:(t=TE&&t[TE]||t["@@iterator"],typeof t=="function"?t:null)}var Qn=Object.assign,G2;function $p(t){if(G2===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);G2=e&&e[1]||""}return`
`+G2+t}var W2=!1;function $2(t,e){if(!t||W2)return"";W2=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{W2=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?$p(t):""}function K8(t){switch(t.tag){case 5:return $p(t.type);case 16:return $p("Lazy");case 13:return $p("Suspense");case 19:return $p("SuspenseList");case 0:case 2:case 15:return t=$2(t.type,!1),t;case 11:return t=$2(t.type.render,!1),t;case 1:return t=$2(t.type,!0),t;default:return""}}function CB(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zf:return"Fragment";case Kf:return"Portal";case wB:return"Profiler";case $C:return"StrictMode";case bB:return"Suspense";case BB:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xF:return(t.displayName||"Context")+".Consumer";case vF:return(t._context.displayName||"Context")+".Provider";case qC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case YC:return e=t.displayName||null,e!==null?e:CB(t.type)||"Memo";case du:e=t._payload,t=t._init;try{return CB(t(e))}catch{}}return null}function z8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return CB(e);case 8:return e===$C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bF(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function G8(t){var e=bF(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tv(t){t._valueTracker||(t._valueTracker=G8(t))}function BF(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=bF(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function F1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _B(t,e){var r=e.checked;return Qn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function jE(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=qu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CF(t,e){e=e.checked,e!=null&&WC(t,"checked",e,!1)}function kB(t,e){CF(t,e);var r=qu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?EB(t,e.type,r):e.hasOwnProperty("defaultValue")&&EB(t,e.type,qu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function FE(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function EB(t,e,r){(e!=="number"||F1(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var qp=Array.isArray;function lg(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+qu(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function IB(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(dt(91));return Qn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function PE(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(dt(92));if(qp(r)){if(1<r.length)throw Error(dt(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:qu(r)}}function _F(t,e){var r=qu(e.value),n=qu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function LE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kF(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function SB(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kF(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rv,EF=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rv=rv||document.createElement("div"),rv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function z0(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var h0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W8=["Webkit","ms","Moz","O"];Object.keys(h0).forEach(function(t){W8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),h0[e]=h0[t]})});function IF(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||h0.hasOwnProperty(t)&&h0[t]?(""+e).trim():e+"px"}function SF(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=IF(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var $8=Qn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function NB(t,e){if(e){if($8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(dt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(dt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(dt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(dt(62))}}function TB(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jB=null;function XC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var FB=null,Ag=null,cg=null;function UE(t){if(t=zm(t)){if(typeof FB!="function")throw Error(dt(280));var e=t.stateNode;e&&(e=rw(e),FB(t.stateNode,t.type,e))}}function NF(t){Ag?cg?cg.push(t):cg=[t]:Ag=t}function TF(){if(Ag){var t=Ag,e=cg;if(cg=Ag=null,UE(t),e)for(t=0;t<e.length;t++)UE(e[t])}}function jF(t,e){return t(e)}function FF(){}var q2=!1;function PF(t,e,r){if(q2)return t(e,r);q2=!0;try{return jF(t,e,r)}finally{q2=!1,(Ag!==null||cg!==null)&&(FF(),TF())}}function G0(t,e){var r=t.stateNode;if(r===null)return null;var n=rw(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(dt(231,e,typeof r));return r}var PB=!1;if(ic)try{var Cp={};Object.defineProperty(Cp,"passive",{get:function(){PB=!0}}),window.addEventListener("test",Cp,Cp),window.removeEventListener("test",Cp,Cp)}catch{PB=!1}function q8(t,e,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var f0=!1,P1=null,L1=!1,LB=null,Y8={onError:function(t){f0=!0,P1=t}};function X8(t,e,r,n,s,i,o,a,l){f0=!1,P1=null,q8.apply(Y8,arguments)}function J8(t,e,r,n,s,i,o,a,l){if(X8.apply(this,arguments),f0){if(f0){var c=P1;f0=!1,P1=null}else throw Error(dt(198));L1||(L1=!0,LB=c)}}function Kh(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function LF(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function DE(t){if(Kh(t)!==t)throw Error(dt(188))}function Z8(t){var e=t.alternate;if(!e){if(e=Kh(t),e===null)throw Error(dt(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return DE(s),t;if(i===n)return DE(s),e;i=i.sibling}throw Error(dt(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(dt(189))}}if(r.alternate!==n)throw Error(dt(190))}if(r.tag!==3)throw Error(dt(188));return r.stateNode.current===r?t:e}function UF(t){return t=Z8(t),t!==null?DF(t):null}function DF(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=DF(t);if(e!==null)return e;t=t.sibling}return null}var RF=aa.unstable_scheduleCallback,RE=aa.unstable_cancelCallback,e7=aa.unstable_shouldYield,t7=aa.unstable_requestPaint,ns=aa.unstable_now,r7=aa.unstable_getCurrentPriorityLevel,JC=aa.unstable_ImmediatePriority,MF=aa.unstable_UserBlockingPriority,U1=aa.unstable_NormalPriority,n7=aa.unstable_LowPriority,QF=aa.unstable_IdlePriority,Jx=null,tA=null;function s7(t){if(tA&&typeof tA.onCommitFiberRoot=="function")try{tA.onCommitFiberRoot(Jx,t,void 0,(t.current.flags&128)===128)}catch{}}var fl=Math.clz32?Math.clz32:a7,i7=Math.log,o7=Math.LN2;function a7(t){return t>>>=0,t===0?32:31-(i7(t)/o7|0)|0}var nv=64,sv=4194304;function Yp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function D1(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Yp(a):(i&=o,i!==0&&(n=Yp(i)))}else o=r&~s,o!==0?n=Yp(o):i!==0&&(n=Yp(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-fl(e),s=1<<r,n|=t[r],e&=~s;return n}function l7(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A7(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-fl(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=l7(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function UB(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function OF(){var t=nv;return nv<<=1,!(nv&4194240)&&(nv=64),t}function Y2(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Hm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fl(e),t[e]=r}function c7(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-fl(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function ZC(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-fl(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Xr=0;function VF(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var HF,e4,KF,zF,GF,DB=!1,iv=[],Fu=null,Pu=null,Lu=null,W0=new Map,$0=new Map,fu=[],u7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ME(t,e){switch(t){case"focusin":case"focusout":Fu=null;break;case"dragenter":case"dragleave":Pu=null;break;case"mouseover":case"mouseout":Lu=null;break;case"pointerover":case"pointerout":W0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$0.delete(e.pointerId)}}function _p(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=zm(e),e!==null&&e4(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function d7(t,e,r,n,s){switch(e){case"focusin":return Fu=_p(Fu,t,e,r,n,s),!0;case"dragenter":return Pu=_p(Pu,t,e,r,n,s),!0;case"mouseover":return Lu=_p(Lu,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return W0.set(i,_p(W0.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,$0.set(i,_p($0.get(i)||null,t,e,r,n,s)),!0}return!1}function WF(t){var e=Zd(t.target);if(e!==null){var r=Kh(e);if(r!==null){if(e=r.tag,e===13){if(e=LF(r),e!==null){t.blockedOn=e,GF(t.priority,function(){KF(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=RB(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);jB=n,r.target.dispatchEvent(n),jB=null}else return e=zm(r),e!==null&&e4(e),t.blockedOn=r,!1;e.shift()}return!0}function QE(t,e,r){Zv(t)&&r.delete(e)}function h7(){DB=!1,Fu!==null&&Zv(Fu)&&(Fu=null),Pu!==null&&Zv(Pu)&&(Pu=null),Lu!==null&&Zv(Lu)&&(Lu=null),W0.forEach(QE),$0.forEach(QE)}function kp(t,e){t.blockedOn===e&&(t.blockedOn=null,DB||(DB=!0,aa.unstable_scheduleCallback(aa.unstable_NormalPriority,h7)))}function q0(t){function e(s){return kp(s,t)}if(0<iv.length){kp(iv[0],t);for(var r=1;r<iv.length;r++){var n=iv[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Fu!==null&&kp(Fu,t),Pu!==null&&kp(Pu,t),Lu!==null&&kp(Lu,t),W0.forEach(e),$0.forEach(e),r=0;r<fu.length;r++)n=fu[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<fu.length&&(r=fu[0],r.blockedOn===null);)WF(r),r.blockedOn===null&&fu.shift()}var ug=mc.ReactCurrentBatchConfig,R1=!0;function f7(t,e,r,n){var s=Xr,i=ug.transition;ug.transition=null;try{Xr=1,t4(t,e,r,n)}finally{Xr=s,ug.transition=i}}function g7(t,e,r,n){var s=Xr,i=ug.transition;ug.transition=null;try{Xr=4,t4(t,e,r,n)}finally{Xr=s,ug.transition=i}}function t4(t,e,r,n){if(R1){var s=RB(t,e,r,n);if(s===null)ob(t,e,n,M1,r),ME(t,n);else if(d7(s,t,e,r,n))n.stopPropagation();else if(ME(t,n),e&4&&-1<u7.indexOf(t)){for(;s!==null;){var i=zm(s);if(i!==null&&HF(i),i=RB(t,e,r,n),i===null&&ob(t,e,n,M1,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ob(t,e,n,null,r)}}var M1=null;function RB(t,e,r,n){if(M1=null,t=XC(n),t=Zd(t),t!==null)if(e=Kh(t),e===null)t=null;else if(r=e.tag,r===13){if(t=LF(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return M1=t,null}function $F(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(r7()){case JC:return 1;case MF:return 4;case U1:case n7:return 16;case QF:return 536870912;default:return 16}default:return 16}}var bu=null,r4=null,e1=null;function qF(){if(e1)return e1;var t,e=r4,r=e.length,n,s="value"in bu?bu.value:bu.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return e1=s.slice(t,1<n?1-n:void 0)}function t1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ov(){return!0}function OE(){return!1}function da(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ov:OE,this.isPropagationStopped=OE,this}return Qn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ov)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ov)},persist:function(){},isPersistent:ov}),e}var zg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n4=da(zg),Km=Qn({},zg,{view:0,detail:0}),p7=da(Km),X2,J2,Ep,Zx=Qn({},Km,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s4,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ep&&(Ep&&t.type==="mousemove"?(X2=t.screenX-Ep.screenX,J2=t.screenY-Ep.screenY):J2=X2=0,Ep=t),X2)},movementY:function(t){return"movementY"in t?t.movementY:J2}}),VE=da(Zx),m7=Qn({},Zx,{dataTransfer:0}),y7=da(m7),v7=Qn({},Km,{relatedTarget:0}),Z2=da(v7),x7=Qn({},zg,{animationName:0,elapsedTime:0,pseudoElement:0}),w7=da(x7),b7=Qn({},zg,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),B7=da(b7),C7=Qn({},zg,{data:0}),HE=da(C7),_7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I7(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=E7[t])?!!e[t]:!1}function s4(){return I7}var S7=Qn({},Km,{key:function(t){if(t.key){var e=_7[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=t1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?k7[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s4,charCode:function(t){return t.type==="keypress"?t1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?t1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),N7=da(S7),T7=Qn({},Zx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KE=da(T7),j7=Qn({},Km,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s4}),F7=da(j7),P7=Qn({},zg,{propertyName:0,elapsedTime:0,pseudoElement:0}),L7=da(P7),U7=Qn({},Zx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),D7=da(U7),R7=[9,13,27,32],i4=ic&&"CompositionEvent"in window,g0=null;ic&&"documentMode"in document&&(g0=document.documentMode);var M7=ic&&"TextEvent"in window&&!g0,YF=ic&&(!i4||g0&&8<g0&&11>=g0),zE=String.fromCharCode(32),GE=!1;function XF(t,e){switch(t){case"keyup":return R7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gf=!1;function Q7(t,e){switch(t){case"compositionend":return JF(e);case"keypress":return e.which!==32?null:(GE=!0,zE);case"textInput":return t=e.data,t===zE&&GE?null:t;default:return null}}function O7(t,e){if(Gf)return t==="compositionend"||!i4&&XF(t,e)?(t=qF(),e1=r4=bu=null,Gf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return YF&&e.locale!=="ko"?null:e.data;default:return null}}var V7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!V7[t.type]:e==="textarea"}function ZF(t,e,r,n){NF(n),e=Q1(e,"onChange"),0<e.length&&(r=new n4("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var p0=null,Y0=null;function H7(t){cP(t,0)}function ew(t){var e=qf(t);if(BF(e))return t}function K7(t,e){if(t==="change")return e}var eP=!1;if(ic){var eb;if(ic){var tb="oninput"in document;if(!tb){var $E=document.createElement("div");$E.setAttribute("oninput","return;"),tb=typeof $E.oninput=="function"}eb=tb}else eb=!1;eP=eb&&(!document.documentMode||9<document.documentMode)}function qE(){p0&&(p0.detachEvent("onpropertychange",tP),Y0=p0=null)}function tP(t){if(t.propertyName==="value"&&ew(Y0)){var e=[];ZF(e,Y0,t,XC(t)),PF(H7,e)}}function z7(t,e,r){t==="focusin"?(qE(),p0=e,Y0=r,p0.attachEvent("onpropertychange",tP)):t==="focusout"&&qE()}function G7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ew(Y0)}function W7(t,e){if(t==="click")return ew(e)}function $7(t,e){if(t==="input"||t==="change")return ew(e)}function q7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ml=typeof Object.is=="function"?Object.is:q7;function X0(t,e){if(ml(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!xB.call(e,s)||!ml(t[s],e[s]))return!1}return!0}function YE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function XE(t,e){var r=YE(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=YE(r)}}function rP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nP(){for(var t=window,e=F1();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=F1(t.document)}return e}function o4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Y7(t){var e=nP(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&rP(r.ownerDocument.documentElement,r)){if(n!==null&&o4(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=XE(r,i);var o=XE(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var X7=ic&&"documentMode"in document&&11>=document.documentMode,Wf=null,MB=null,m0=null,QB=!1;function JE(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;QB||Wf==null||Wf!==F1(n)||(n=Wf,"selectionStart"in n&&o4(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),m0&&X0(m0,n)||(m0=n,n=Q1(MB,"onSelect"),0<n.length&&(e=new n4("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Wf)))}function av(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var $f={animationend:av("Animation","AnimationEnd"),animationiteration:av("Animation","AnimationIteration"),animationstart:av("Animation","AnimationStart"),transitionend:av("Transition","TransitionEnd")},rb={},sP={};ic&&(sP=document.createElement("div").style,"AnimationEvent"in window||(delete $f.animationend.animation,delete $f.animationiteration.animation,delete $f.animationstart.animation),"TransitionEvent"in window||delete $f.transitionend.transition);function tw(t){if(rb[t])return rb[t];if(!$f[t])return t;var e=$f[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in sP)return rb[t]=e[r];return t}var iP=tw("animationend"),oP=tw("animationiteration"),aP=tw("animationstart"),lP=tw("transitionend"),AP=new Map,ZE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ad(t,e){AP.set(t,e),Hh(e,[t])}for(var nb=0;nb<ZE.length;nb++){var sb=ZE[nb],J7=sb.toLowerCase(),Z7=sb[0].toUpperCase()+sb.slice(1);Ad(J7,"on"+Z7)}Ad(iP,"onAnimationEnd");Ad(oP,"onAnimationIteration");Ad(aP,"onAnimationStart");Ad("dblclick","onDoubleClick");Ad("focusin","onFocus");Ad("focusout","onBlur");Ad(lP,"onTransitionEnd");vg("onMouseEnter",["mouseout","mouseover"]);vg("onMouseLeave",["mouseout","mouseover"]);vg("onPointerEnter",["pointerout","pointerover"]);vg("onPointerLeave",["pointerout","pointerover"]);Hh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e9=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xp));function eI(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,J8(n,e,void 0,t),t.currentTarget=null}function cP(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;eI(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;eI(s,a,c),i=l}}}if(L1)throw t=LB,L1=!1,LB=null,t}function un(t,e){var r=e[zB];r===void 0&&(r=e[zB]=new Set);var n=t+"__bubble";r.has(n)||(uP(e,t,2,!1),r.add(n))}function ib(t,e,r){var n=0;e&&(n|=4),uP(r,t,n,e)}var lv="_reactListening"+Math.random().toString(36).slice(2);function J0(t){if(!t[lv]){t[lv]=!0,yF.forEach(function(r){r!=="selectionchange"&&(e9.has(r)||ib(r,!1,t),ib(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lv]||(e[lv]=!0,ib("selectionchange",!1,e))}}function uP(t,e,r,n){switch($F(e)){case 1:var s=f7;break;case 4:s=g7;break;default:s=t4}r=s.bind(null,e,r,t),s=void 0,!PB||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function ob(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Zd(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}PF(function(){var c=i,u=XC(r),d=[];e:{var h=AP.get(t);if(h!==void 0){var f=n4,m=t;switch(t){case"keypress":if(t1(r)===0)break e;case"keydown":case"keyup":f=N7;break;case"focusin":m="focus",f=Z2;break;case"focusout":m="blur",f=Z2;break;case"beforeblur":case"afterblur":f=Z2;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=VE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=y7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=F7;break;case iP:case oP:case aP:f=w7;break;case lP:f=L7;break;case"scroll":f=p7;break;case"wheel":f=D7;break;case"copy":case"cut":case"paste":f=B7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=KE}var v=(e&4)!==0,_=!v&&t==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var b=c,E;b!==null;){E=b;var N=E.stateNode;if(E.tag===5&&N!==null&&(E=N,x!==null&&(N=G0(b,x),N!=null&&v.push(Z0(b,N,E)))),_)break;b=b.return}0<v.length&&(h=new f(h,m,null,r,u),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&r!==jB&&(m=r.relatedTarget||r.fromElement)&&(Zd(m)||m[oc]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=r.relatedTarget||r.toElement,f=c,m=m?Zd(m):null,m!==null&&(_=Kh(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(v=VE,N="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(v=KE,N="onPointerLeave",x="onPointerEnter",b="pointer"),_=f==null?h:qf(f),E=m==null?h:qf(m),h=new v(N,b+"leave",f,r,u),h.target=_,h.relatedTarget=E,N=null,Zd(u)===c&&(v=new v(x,b+"enter",m,r,u),v.target=E,v.relatedTarget=_,N=v),_=N,f&&m)t:{for(v=f,x=m,b=0,E=v;E;E=Ef(E))b++;for(E=0,N=x;N;N=Ef(N))E++;for(;0<b-E;)v=Ef(v),b--;for(;0<E-b;)x=Ef(x),E--;for(;b--;){if(v===x||x!==null&&v===x.alternate)break t;v=Ef(v),x=Ef(x)}v=null}else v=null;f!==null&&tI(d,h,f,v,!1),m!==null&&_!==null&&tI(d,_,m,v,!0)}}e:{if(h=c?qf(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var j=K7;else if(WE(h))if(eP)j=$7;else{j=G7;var O=z7}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=W7);if(j&&(j=j(t,c))){ZF(d,j,r,u);break e}O&&O(t,h,c),t==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&EB(h,"number",h.value)}switch(O=c?qf(c):window,t){case"focusin":(WE(O)||O.contentEditable==="true")&&(Wf=O,MB=c,m0=null);break;case"focusout":m0=MB=Wf=null;break;case"mousedown":QB=!0;break;case"contextmenu":case"mouseup":case"dragend":QB=!1,JE(d,r,u);break;case"selectionchange":if(X7)break;case"keydown":case"keyup":JE(d,r,u)}var P;if(i4)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Gf?XF(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(YF&&r.locale!=="ko"&&(Gf||T!=="onCompositionStart"?T==="onCompositionEnd"&&Gf&&(P=qF()):(bu=u,r4="value"in bu?bu.value:bu.textContent,Gf=!0)),O=Q1(c,T),0<O.length&&(T=new HE(T,t,null,r,u),d.push({event:T,listeners:O}),P?T.data=P:(P=JF(r),P!==null&&(T.data=P)))),(P=M7?Q7(t,r):O7(t,r))&&(c=Q1(c,"onBeforeInput"),0<c.length&&(u=new HE("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=P))}cP(d,e)})}function Z0(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Q1(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=G0(t,r),i!=null&&n.unshift(Z0(t,i,s)),i=G0(t,e),i!=null&&n.push(Z0(t,i,s))),t=t.return}return n}function Ef(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tI(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=G0(r,i),l!=null&&o.unshift(Z0(r,l,a))):s||(l=G0(r,i),l!=null&&o.push(Z0(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var t9=/\r\n?/g,r9=/\u0000|\uFFFD/g;function rI(t){return(typeof t=="string"?t:""+t).replace(t9,`
`).replace(r9,"")}function Av(t,e,r){if(e=rI(e),rI(t)!==e&&r)throw Error(dt(425))}function O1(){}var OB=null,VB=null;function HB(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var KB=typeof setTimeout=="function"?setTimeout:void 0,n9=typeof clearTimeout=="function"?clearTimeout:void 0,nI=typeof Promise=="function"?Promise:void 0,s9=typeof queueMicrotask=="function"?queueMicrotask:typeof nI<"u"?function(t){return nI.resolve(null).then(t).catch(i9)}:KB;function i9(t){setTimeout(function(){throw t})}function ab(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),q0(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);q0(e)}function Uu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Gg=Math.random().toString(36).slice(2),ql="__reactFiber$"+Gg,em="__reactProps$"+Gg,oc="__reactContainer$"+Gg,zB="__reactEvents$"+Gg,o9="__reactListeners$"+Gg,a9="__reactHandles$"+Gg;function Zd(t){var e=t[ql];if(e)return e;for(var r=t.parentNode;r;){if(e=r[oc]||r[ql]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=sI(t);t!==null;){if(r=t[ql])return r;t=sI(t)}return e}t=r,r=t.parentNode}return null}function zm(t){return t=t[ql]||t[oc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(dt(33))}function rw(t){return t[em]||null}var GB=[],Yf=-1;function cd(t){return{current:t}}function hn(t){0>Yf||(t.current=GB[Yf],GB[Yf]=null,Yf--)}function ln(t,e){Yf++,GB[Yf]=t.current,t.current=e}var Yu={},Fi=cd(Yu),Uo=cd(!1),xh=Yu;function xg(t,e){var r=t.type.contextTypes;if(!r)return Yu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Do(t){return t=t.childContextTypes,t!=null}function V1(){hn(Uo),hn(Fi)}function iI(t,e,r){if(Fi.current!==Yu)throw Error(dt(168));ln(Fi,e),ln(Uo,r)}function dP(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(dt(108,z8(t)||"Unknown",s));return Qn({},r,n)}function H1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yu,xh=Fi.current,ln(Fi,t),ln(Uo,Uo.current),!0}function oI(t,e,r){var n=t.stateNode;if(!n)throw Error(dt(169));r?(t=dP(t,e,xh),n.__reactInternalMemoizedMergedChildContext=t,hn(Uo),hn(Fi),ln(Fi,t)):hn(Uo),ln(Uo,r)}var $A=null,nw=!1,lb=!1;function hP(t){$A===null?$A=[t]:$A.push(t)}function l9(t){nw=!0,hP(t)}function ud(){if(!lb&&$A!==null){lb=!0;var t=0,e=Xr;try{var r=$A;for(Xr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}$A=null,nw=!1}catch(s){throw $A!==null&&($A=$A.slice(t+1)),RF(JC,ud),s}finally{Xr=e,lb=!1}}return null}var Xf=[],Jf=0,K1=null,z1=0,Sa=[],Na=0,wh=null,YA=1,XA="";function Md(t,e){Xf[Jf++]=z1,Xf[Jf++]=K1,K1=t,z1=e}function fP(t,e,r){Sa[Na++]=YA,Sa[Na++]=XA,Sa[Na++]=wh,wh=t;var n=YA;t=XA;var s=32-fl(n)-1;n&=~(1<<s),r+=1;var i=32-fl(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,YA=1<<32-fl(e)+s|r<<s|n,XA=i+t}else YA=1<<i|r<<s|n,XA=t}function a4(t){t.return!==null&&(Md(t,1),fP(t,1,0))}function l4(t){for(;t===K1;)K1=Xf[--Jf],Xf[Jf]=null,z1=Xf[--Jf],Xf[Jf]=null;for(;t===wh;)wh=Sa[--Na],Sa[Na]=null,XA=Sa[--Na],Sa[Na]=null,YA=Sa[--Na],Sa[Na]=null}var oa=null,ra=null,wn=!1,ul=null;function gP(t,e){var r=Ta(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function aI(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,oa=t,ra=Uu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,oa=t,ra=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=wh!==null?{id:YA,overflow:XA}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ta(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,oa=t,ra=null,!0):!1;default:return!1}}function WB(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $B(t){if(wn){var e=ra;if(e){var r=e;if(!aI(t,e)){if(WB(t))throw Error(dt(418));e=Uu(r.nextSibling);var n=oa;e&&aI(t,e)?gP(n,r):(t.flags=t.flags&-4097|2,wn=!1,oa=t)}}else{if(WB(t))throw Error(dt(418));t.flags=t.flags&-4097|2,wn=!1,oa=t}}}function lI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;oa=t}function cv(t){if(t!==oa)return!1;if(!wn)return lI(t),wn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!HB(t.type,t.memoizedProps)),e&&(e=ra)){if(WB(t))throw pP(),Error(dt(418));for(;e;)gP(t,e),e=Uu(e.nextSibling)}if(lI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(dt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ra=Uu(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ra=null}}else ra=oa?Uu(t.stateNode.nextSibling):null;return!0}function pP(){for(var t=ra;t;)t=Uu(t.nextSibling)}function wg(){ra=oa=null,wn=!1}function A4(t){ul===null?ul=[t]:ul.push(t)}var A9=mc.ReactCurrentBatchConfig;function Ip(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(dt(309));var n=r.stateNode}if(!n)throw Error(dt(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(dt(284));if(!r._owner)throw Error(dt(290,t))}return t}function uv(t,e){throw t=Object.prototype.toString.call(e),Error(dt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function AI(t){var e=t._init;return e(t._payload)}function mP(t){function e(x,b){if(t){var E=x.deletions;E===null?(x.deletions=[b],x.flags|=16):E.push(b)}}function r(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function s(x,b){return x=Qu(x,b),x.index=0,x.sibling=null,x}function i(x,b,E){return x.index=E,t?(E=x.alternate,E!==null?(E=E.index,E<b?(x.flags|=2,b):E):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,b,E,N){return b===null||b.tag!==6?(b=gb(E,x.mode,N),b.return=x,b):(b=s(b,E),b.return=x,b)}function l(x,b,E,N){var j=E.type;return j===zf?u(x,b,E.props.children,N,E.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===du&&AI(j)===b.type)?(N=s(b,E.props),N.ref=Ip(x,b,E),N.return=x,N):(N=l1(E.type,E.key,E.props,null,x.mode,N),N.ref=Ip(x,b,E),N.return=x,N)}function c(x,b,E,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=pb(E,x.mode,N),b.return=x,b):(b=s(b,E.children||[]),b.return=x,b)}function u(x,b,E,N,j){return b===null||b.tag!==7?(b=ah(E,x.mode,N,j),b.return=x,b):(b=s(b,E),b.return=x,b)}function d(x,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=gb(""+b,x.mode,E),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ev:return E=l1(b.type,b.key,b.props,null,x.mode,E),E.ref=Ip(x,null,b),E.return=x,E;case Kf:return b=pb(b,x.mode,E),b.return=x,b;case du:var N=b._init;return d(x,N(b._payload),E)}if(qp(b)||Bp(b))return b=ah(b,x.mode,E,null),b.return=x,b;uv(x,b)}return null}function h(x,b,E,N){var j=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return j!==null?null:a(x,b,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ev:return E.key===j?l(x,b,E,N):null;case Kf:return E.key===j?c(x,b,E,N):null;case du:return j=E._init,h(x,b,j(E._payload),N)}if(qp(E)||Bp(E))return j!==null?null:u(x,b,E,N,null);uv(x,E)}return null}function f(x,b,E,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(E)||null,a(b,x,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ev:return x=x.get(N.key===null?E:N.key)||null,l(b,x,N,j);case Kf:return x=x.get(N.key===null?E:N.key)||null,c(b,x,N,j);case du:var O=N._init;return f(x,b,E,O(N._payload),j)}if(qp(N)||Bp(N))return x=x.get(E)||null,u(b,x,N,j,null);uv(b,N)}return null}function m(x,b,E,N){for(var j=null,O=null,P=b,T=b=0,U=null;P!==null&&T<E.length;T++){P.index>T?(U=P,P=null):U=P.sibling;var R=h(x,P,E[T],N);if(R===null){P===null&&(P=U);break}t&&P&&R.alternate===null&&e(x,P),b=i(R,b,T),O===null?j=R:O.sibling=R,O=R,P=U}if(T===E.length)return r(x,P),wn&&Md(x,T),j;if(P===null){for(;T<E.length;T++)P=d(x,E[T],N),P!==null&&(b=i(P,b,T),O===null?j=P:O.sibling=P,O=P);return wn&&Md(x,T),j}for(P=n(x,P);T<E.length;T++)U=f(P,x,T,E[T],N),U!==null&&(t&&U.alternate!==null&&P.delete(U.key===null?T:U.key),b=i(U,b,T),O===null?j=U:O.sibling=U,O=U);return t&&P.forEach(function(I){return e(x,I)}),wn&&Md(x,T),j}function v(x,b,E,N){var j=Bp(E);if(typeof j!="function")throw Error(dt(150));if(E=j.call(E),E==null)throw Error(dt(151));for(var O=j=null,P=b,T=b=0,U=null,R=E.next();P!==null&&!R.done;T++,R=E.next()){P.index>T?(U=P,P=null):U=P.sibling;var I=h(x,P,R.value,N);if(I===null){P===null&&(P=U);break}t&&P&&I.alternate===null&&e(x,P),b=i(I,b,T),O===null?j=I:O.sibling=I,O=I,P=U}if(R.done)return r(x,P),wn&&Md(x,T),j;if(P===null){for(;!R.done;T++,R=E.next())R=d(x,R.value,N),R!==null&&(b=i(R,b,T),O===null?j=R:O.sibling=R,O=R);return wn&&Md(x,T),j}for(P=n(x,P);!R.done;T++,R=E.next())R=f(P,x,T,R.value,N),R!==null&&(t&&R.alternate!==null&&P.delete(R.key===null?T:R.key),b=i(R,b,T),O===null?j=R:O.sibling=R,O=R);return t&&P.forEach(function(L){return e(x,L)}),wn&&Md(x,T),j}function _(x,b,E,N){if(typeof E=="object"&&E!==null&&E.type===zf&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case ev:e:{for(var j=E.key,O=b;O!==null;){if(O.key===j){if(j=E.type,j===zf){if(O.tag===7){r(x,O.sibling),b=s(O,E.props.children),b.return=x,x=b;break e}}else if(O.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===du&&AI(j)===O.type){r(x,O.sibling),b=s(O,E.props),b.ref=Ip(x,O,E),b.return=x,x=b;break e}r(x,O);break}else e(x,O);O=O.sibling}E.type===zf?(b=ah(E.props.children,x.mode,N,E.key),b.return=x,x=b):(N=l1(E.type,E.key,E.props,null,x.mode,N),N.ref=Ip(x,b,E),N.return=x,x=N)}return o(x);case Kf:e:{for(O=E.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){r(x,b.sibling),b=s(b,E.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else e(x,b);b=b.sibling}b=pb(E,x.mode,N),b.return=x,x=b}return o(x);case du:return O=E._init,_(x,b,O(E._payload),N)}if(qp(E))return m(x,b,E,N);if(Bp(E))return v(x,b,E,N);uv(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(r(x,b.sibling),b=s(b,E),b.return=x,x=b):(r(x,b),b=gb(E,x.mode,N),b.return=x,x=b),o(x)):r(x,b)}return _}var bg=mP(!0),yP=mP(!1),G1=cd(null),W1=null,Zf=null,c4=null;function u4(){c4=Zf=W1=null}function d4(t){var e=G1.current;hn(G1),t._currentValue=e}function qB(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function dg(t,e){W1=t,c4=Zf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jo=!0),t.firstContext=null)}function Ra(t){var e=t._currentValue;if(c4!==t)if(t={context:t,memoizedValue:e,next:null},Zf===null){if(W1===null)throw Error(dt(308));Zf=t,W1.dependencies={lanes:0,firstContext:t}}else Zf=Zf.next=t;return e}var eh=null;function h4(t){eh===null?eh=[t]:eh.push(t)}function vP(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,h4(e)):(r.next=s.next,s.next=r),e.interleaved=r,ac(t,n)}function ac(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var hu=!1;function f4(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Du(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Sr&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,ac(t,r)}return s=n.interleaved,s===null?(e.next=e,h4(n)):(e.next=s.next,s.next=e),n.interleaved=e,ac(t,r)}function r1(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ZC(t,r)}}function cI(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function $1(t,e,r,n){var s=t.updateQueue;hu=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,f=a.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(h=e,f=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=Qn({},d,h);break e;case 2:hu=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Bh|=o,t.lanes=o,t.memoizedState=d}}function uI(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(dt(191,s));s.call(n)}}}var Gm={},rA=cd(Gm),tm=cd(Gm),rm=cd(Gm);function th(t){if(t===Gm)throw Error(dt(174));return t}function g4(t,e){switch(ln(rm,e),ln(tm,t),ln(rA,Gm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:SB(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=SB(e,t)}hn(rA),ln(rA,e)}function Bg(){hn(rA),hn(tm),hn(rm)}function wP(t){th(rm.current);var e=th(rA.current),r=SB(e,t.type);e!==r&&(ln(tm,t),ln(rA,r))}function p4(t){tm.current===t&&(hn(rA),hn(tm))}var Pn=cd(0);function q1(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ab=[];function m4(){for(var t=0;t<Ab.length;t++)Ab[t]._workInProgressVersionPrimary=null;Ab.length=0}var n1=mc.ReactCurrentDispatcher,cb=mc.ReactCurrentBatchConfig,bh=0,Dn=null,Is=null,Os=null,Y1=!1,y0=!1,nm=0,c9=0;function mi(){throw Error(dt(321))}function y4(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ml(t[r],e[r]))return!1;return!0}function v4(t,e,r,n,s,i){if(bh=i,Dn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,n1.current=t===null||t.memoizedState===null?f9:g9,t=r(n,s),y0){i=0;do{if(y0=!1,nm=0,25<=i)throw Error(dt(301));i+=1,Os=Is=null,e.updateQueue=null,n1.current=p9,t=r(n,s)}while(y0)}if(n1.current=X1,e=Is!==null&&Is.next!==null,bh=0,Os=Is=Dn=null,Y1=!1,e)throw Error(dt(300));return t}function x4(){var t=nm!==0;return nm=0,t}function Wl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Os===null?Dn.memoizedState=Os=t:Os=Os.next=t,Os}function Ma(){if(Is===null){var t=Dn.alternate;t=t!==null?t.memoizedState:null}else t=Is.next;var e=Os===null?Dn.memoizedState:Os.next;if(e!==null)Os=e,Is=t;else{if(t===null)throw Error(dt(310));Is=t,t={memoizedState:Is.memoizedState,baseState:Is.baseState,baseQueue:Is.baseQueue,queue:Is.queue,next:null},Os===null?Dn.memoizedState=Os=t:Os=Os.next=t}return Os}function sm(t,e){return typeof e=="function"?e(t):e}function ub(t){var e=Ma(),r=e.queue;if(r===null)throw Error(dt(311));r.lastRenderedReducer=t;var n=Is,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((bh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,Dn.lanes|=u,Bh|=u}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,ml(n,e.memoizedState)||(jo=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Dn.lanes|=i,Bh|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function db(t){var e=Ma(),r=e.queue;if(r===null)throw Error(dt(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ml(i,e.memoizedState)||(jo=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function bP(){}function BP(t,e){var r=Dn,n=Ma(),s=e(),i=!ml(n.memoizedState,s);if(i&&(n.memoizedState=s,jo=!0),n=n.queue,w4(kP.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Os!==null&&Os.memoizedState.tag&1){if(r.flags|=2048,im(9,_P.bind(null,r,n,s,e),void 0,null),Ks===null)throw Error(dt(349));bh&30||CP(r,e,s)}return s}function CP(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Dn.updateQueue,e===null?(e={lastEffect:null,stores:null},Dn.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function _P(t,e,r,n){e.value=r,e.getSnapshot=n,EP(e)&&IP(t)}function kP(t,e,r){return r(function(){EP(e)&&IP(t)})}function EP(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ml(t,r)}catch{return!0}}function IP(t){var e=ac(t,1);e!==null&&gl(e,t,1,-1)}function dI(t){var e=Wl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sm,lastRenderedState:t},e.queue=t,t=t.dispatch=h9.bind(null,Dn,t),[e.memoizedState,t]}function im(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Dn.updateQueue,e===null?(e={lastEffect:null,stores:null},Dn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function SP(){return Ma().memoizedState}function s1(t,e,r,n){var s=Wl();Dn.flags|=t,s.memoizedState=im(1|e,r,void 0,n===void 0?null:n)}function sw(t,e,r,n){var s=Ma();n=n===void 0?null:n;var i=void 0;if(Is!==null){var o=Is.memoizedState;if(i=o.destroy,n!==null&&y4(n,o.deps)){s.memoizedState=im(e,r,i,n);return}}Dn.flags|=t,s.memoizedState=im(1|e,r,i,n)}function hI(t,e){return s1(8390656,8,t,e)}function w4(t,e){return sw(2048,8,t,e)}function NP(t,e){return sw(4,2,t,e)}function TP(t,e){return sw(4,4,t,e)}function jP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FP(t,e,r){return r=r!=null?r.concat([t]):null,sw(4,4,jP.bind(null,e,t),r)}function b4(){}function PP(t,e){var r=Ma();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&y4(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function LP(t,e){var r=Ma();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&y4(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function UP(t,e,r){return bh&21?(ml(r,e)||(r=OF(),Dn.lanes|=r,Bh|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jo=!0),t.memoizedState=r)}function u9(t,e){var r=Xr;Xr=r!==0&&4>r?r:4,t(!0);var n=cb.transition;cb.transition={};try{t(!1),e()}finally{Xr=r,cb.transition=n}}function DP(){return Ma().memoizedState}function d9(t,e,r){var n=Mu(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},RP(t))MP(e,r);else if(r=vP(t,e,r,n),r!==null){var s=eo();gl(r,t,n,s),QP(r,e,n)}}function h9(t,e,r){var n=Mu(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(RP(t))MP(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,ml(a,o)){var l=e.interleaved;l===null?(s.next=s,h4(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=vP(t,e,s,n),r!==null&&(s=eo(),gl(r,t,n,s),QP(r,e,n))}}function RP(t){var e=t.alternate;return t===Dn||e!==null&&e===Dn}function MP(t,e){y0=Y1=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function QP(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ZC(t,r)}}var X1={readContext:Ra,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},f9={readContext:Ra,useCallback:function(t,e){return Wl().memoizedState=[t,e===void 0?null:e],t},useContext:Ra,useEffect:hI,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,s1(4194308,4,jP.bind(null,e,t),r)},useLayoutEffect:function(t,e){return s1(4194308,4,t,e)},useInsertionEffect:function(t,e){return s1(4,2,t,e)},useMemo:function(t,e){var r=Wl();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Wl();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=d9.bind(null,Dn,t),[n.memoizedState,t]},useRef:function(t){var e=Wl();return t={current:t},e.memoizedState=t},useState:dI,useDebugValue:b4,useDeferredValue:function(t){return Wl().memoizedState=t},useTransition:function(){var t=dI(!1),e=t[0];return t=u9.bind(null,t[1]),Wl().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Dn,s=Wl();if(wn){if(r===void 0)throw Error(dt(407));r=r()}else{if(r=e(),Ks===null)throw Error(dt(349));bh&30||CP(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,hI(kP.bind(null,n,i,t),[t]),n.flags|=2048,im(9,_P.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Wl(),e=Ks.identifierPrefix;if(wn){var r=XA,n=YA;r=(n&~(1<<32-fl(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=nm++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=c9++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},g9={readContext:Ra,useCallback:PP,useContext:Ra,useEffect:w4,useImperativeHandle:FP,useInsertionEffect:NP,useLayoutEffect:TP,useMemo:LP,useReducer:ub,useRef:SP,useState:function(){return ub(sm)},useDebugValue:b4,useDeferredValue:function(t){var e=Ma();return UP(e,Is.memoizedState,t)},useTransition:function(){var t=ub(sm)[0],e=Ma().memoizedState;return[t,e]},useMutableSource:bP,useSyncExternalStore:BP,useId:DP,unstable_isNewReconciler:!1},p9={readContext:Ra,useCallback:PP,useContext:Ra,useEffect:w4,useImperativeHandle:FP,useInsertionEffect:NP,useLayoutEffect:TP,useMemo:LP,useReducer:db,useRef:SP,useState:function(){return db(sm)},useDebugValue:b4,useDeferredValue:function(t){var e=Ma();return Is===null?e.memoizedState=t:UP(e,Is.memoizedState,t)},useTransition:function(){var t=db(sm)[0],e=Ma().memoizedState;return[t,e]},useMutableSource:bP,useSyncExternalStore:BP,useId:DP,unstable_isNewReconciler:!1};function al(t,e){if(t&&t.defaultProps){e=Qn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function YB(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Qn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var iw={isMounted:function(t){return(t=t._reactInternals)?Kh(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=eo(),s=Mu(t),i=nc(n,s);i.payload=e,r!=null&&(i.callback=r),e=Du(t,i,s),e!==null&&(gl(e,t,s,n),r1(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=eo(),s=Mu(t),i=nc(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Du(t,i,s),e!==null&&(gl(e,t,s,n),r1(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=eo(),n=Mu(t),s=nc(r,n);s.tag=2,e!=null&&(s.callback=e),e=Du(t,s,n),e!==null&&(gl(e,t,n,r),r1(e,t,n))}};function fI(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!X0(r,n)||!X0(s,i):!0}function OP(t,e,r){var n=!1,s=Yu,i=e.contextType;return typeof i=="object"&&i!==null?i=Ra(i):(s=Do(e)?xh:Fi.current,n=e.contextTypes,i=(n=n!=null)?xg(t,s):Yu),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=iw,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function gI(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&iw.enqueueReplaceState(e,e.state,null)}function XB(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},f4(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ra(i):(i=Do(e)?xh:Fi.current,s.context=xg(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(YB(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&iw.enqueueReplaceState(s,s.state,null),$1(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Cg(t,e){try{var r="",n=e;do r+=K8(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function hb(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function JB(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var m9=typeof WeakMap=="function"?WeakMap:Map;function VP(t,e,r){r=nc(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Z1||(Z1=!0,l5=n),JB(t,e)},r}function HP(t,e,r){r=nc(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){JB(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){JB(t,e),typeof n!="function"&&(Ru===null?Ru=new Set([this]):Ru.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function pI(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new m9;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=T9.bind(null,t,e,r),e.then(t,t))}function mI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yI(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=nc(-1,1),e.tag=2,Du(r,e,1))),r.lanes|=1),t)}var y9=mc.ReactCurrentOwner,jo=!1;function Xi(t,e,r,n){e.child=t===null?yP(e,null,r,n):bg(e,t.child,r,n)}function vI(t,e,r,n,s){r=r.render;var i=e.ref;return dg(e,s),n=v4(t,e,r,n,i,s),r=x4(),t!==null&&!jo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,lc(t,e,s)):(wn&&r&&a4(e),e.flags|=1,Xi(t,e,n,s),e.child)}function xI(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!N4(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,KP(t,e,i,n,s)):(t=l1(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:X0,r(o,n)&&t.ref===e.ref)return lc(t,e,s)}return e.flags|=1,t=Qu(i,n),t.ref=e.ref,t.return=e,e.child=t}function KP(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(X0(i,n)&&t.ref===e.ref)if(jo=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(jo=!0);else return e.lanes=t.lanes,lc(t,e,s)}return ZB(t,e,r,n,s)}function zP(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ln(tg,ea),ea|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ln(tg,ea),ea|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ln(tg,ea),ea|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,ln(tg,ea),ea|=n;return Xi(t,e,s,r),e.child}function GP(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ZB(t,e,r,n,s){var i=Do(r)?xh:Fi.current;return i=xg(e,i),dg(e,s),r=v4(t,e,r,n,i,s),n=x4(),t!==null&&!jo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,lc(t,e,s)):(wn&&n&&a4(e),e.flags|=1,Xi(t,e,r,s),e.child)}function wI(t,e,r,n,s){if(Do(r)){var i=!0;H1(e)}else i=!1;if(dg(e,s),e.stateNode===null)i1(t,e),OP(e,r,n),XB(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ra(c):(c=Do(r)?xh:Fi.current,c=xg(e,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&gI(e,o,n,c),hu=!1;var h=e.memoizedState;o.state=h,$1(e,n,o,s),l=e.memoizedState,a!==n||h!==l||Uo.current||hu?(typeof u=="function"&&(YB(e,r,u,n),l=e.memoizedState),(a=hu||fI(e,r,a,n,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,xP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:al(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ra(l):(l=Do(r)?xh:Fi.current,l=xg(e,l));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&gI(e,o,n,l),hu=!1,h=e.memoizedState,o.state=h,$1(e,n,o,s);var m=e.memoizedState;a!==d||h!==m||Uo.current||hu?(typeof f=="function"&&(YB(e,r,f,n),m=e.memoizedState),(c=hu||fI(e,r,c,n,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return e5(t,e,r,n,i,s)}function e5(t,e,r,n,s,i){GP(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&oI(e,r,!1),lc(t,e,i);n=e.stateNode,y9.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=bg(e,t.child,null,i),e.child=bg(e,null,a,i)):Xi(t,e,a,i),e.memoizedState=n.state,s&&oI(e,r,!0),e.child}function WP(t){var e=t.stateNode;e.pendingContext?iI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iI(t,e.context,!1),g4(t,e.containerInfo)}function bI(t,e,r,n,s){return wg(),A4(s),e.flags|=256,Xi(t,e,r,n),e.child}var t5={dehydrated:null,treeContext:null,retryLane:0};function r5(t){return{baseLanes:t,cachePool:null,transitions:null}}function $P(t,e,r){var n=e.pendingProps,s=Pn.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ln(Pn,s&1),t===null)return $B(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=lw(o,n,0,null),t=ah(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=r5(r),e.memoizedState=t5,t):B4(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return v9(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Qu(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Qu(a,i):(i=ah(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?r5(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=t5,n}return i=t.child,t=i.sibling,n=Qu(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function B4(t,e){return e=lw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dv(t,e,r,n){return n!==null&&A4(n),bg(e,t.child,null,r),t=B4(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function v9(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=hb(Error(dt(422))),dv(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=lw({mode:"visible",children:n.children},s,0,null),i=ah(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&bg(e,t.child,null,o),e.child.memoizedState=r5(o),e.memoizedState=t5,i);if(!(e.mode&1))return dv(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(dt(419)),n=hb(i,n,void 0),dv(t,e,o,n)}if(a=(o&t.childLanes)!==0,jo||a){if(n=Ks,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ac(t,s),gl(n,t,s,-1))}return S4(),n=hb(Error(dt(421))),dv(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=j9.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ra=Uu(s.nextSibling),oa=e,wn=!0,ul=null,t!==null&&(Sa[Na++]=YA,Sa[Na++]=XA,Sa[Na++]=wh,YA=t.id,XA=t.overflow,wh=e),e=B4(e,n.children),e.flags|=4096,e)}function BI(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),qB(t.return,e,r)}function fb(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function qP(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Xi(t,e,n.children,r),n=Pn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&BI(t,r,e);else if(t.tag===19)BI(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ln(Pn,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&q1(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),fb(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&q1(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}fb(e,!0,r,null,i);break;case"together":fb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function i1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function lc(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Bh|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(dt(153));if(e.child!==null){for(t=e.child,r=Qu(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Qu(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function x9(t,e,r){switch(e.tag){case 3:WP(e),wg();break;case 5:wP(e);break;case 1:Do(e.type)&&H1(e);break;case 4:g4(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;ln(G1,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ln(Pn,Pn.current&1),e.flags|=128,null):r&e.child.childLanes?$P(t,e,r):(ln(Pn,Pn.current&1),t=lc(t,e,r),t!==null?t.sibling:null);ln(Pn,Pn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return qP(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ln(Pn,Pn.current),n)break;return null;case 22:case 23:return e.lanes=0,zP(t,e,r)}return lc(t,e,r)}var YP,n5,XP,JP;YP=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};n5=function(){};XP=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,th(rA.current);var i=null;switch(r){case"input":s=_B(t,s),n=_B(t,n),i=[];break;case"select":s=Qn({},s,{value:void 0}),n=Qn({},n,{value:void 0}),i=[];break;case"textarea":s=IB(t,s),n=IB(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=O1)}NB(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(K0.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(K0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&un("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};JP=function(t,e,r,n){r!==n&&(e.flags|=4)};function Sp(t,e){if(!wn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function yi(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function w9(t,e,r){var n=e.pendingProps;switch(l4(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yi(e),null;case 1:return Do(e.type)&&V1(),yi(e),null;case 3:return n=e.stateNode,Bg(),hn(Uo),hn(Fi),m4(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(cv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ul!==null&&(u5(ul),ul=null))),n5(t,e),yi(e),null;case 5:p4(e);var s=th(rm.current);if(r=e.type,t!==null&&e.stateNode!=null)XP(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(dt(166));return yi(e),null}if(t=th(rA.current),cv(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[ql]=e,n[em]=i,t=(e.mode&1)!==0,r){case"dialog":un("cancel",n),un("close",n);break;case"iframe":case"object":case"embed":un("load",n);break;case"video":case"audio":for(s=0;s<Xp.length;s++)un(Xp[s],n);break;case"source":un("error",n);break;case"img":case"image":case"link":un("error",n),un("load",n);break;case"details":un("toggle",n);break;case"input":jE(n,i),un("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},un("invalid",n);break;case"textarea":PE(n,i),un("invalid",n)}NB(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Av(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Av(n.textContent,a,t),s=["children",""+a]):K0.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&un("scroll",n)}switch(r){case"input":tv(n),FE(n,i,!0);break;case"textarea":tv(n),LE(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=O1)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kF(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ql]=e,t[em]=n,YP(t,e,!1,!1),e.stateNode=t;e:{switch(o=TB(r,n),r){case"dialog":un("cancel",t),un("close",t),s=n;break;case"iframe":case"object":case"embed":un("load",t),s=n;break;case"video":case"audio":for(s=0;s<Xp.length;s++)un(Xp[s],t);s=n;break;case"source":un("error",t),s=n;break;case"img":case"image":case"link":un("error",t),un("load",t),s=n;break;case"details":un("toggle",t),s=n;break;case"input":jE(t,n),s=_B(t,n),un("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Qn({},n,{value:void 0}),un("invalid",t);break;case"textarea":PE(t,n),s=IB(t,n),un("invalid",t);break;default:s=n}NB(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?SF(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&EF(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&z0(t,l):typeof l=="number"&&z0(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(K0.hasOwnProperty(i)?l!=null&&i==="onScroll"&&un("scroll",t):l!=null&&WC(t,i,l,o))}switch(r){case"input":tv(t),FE(t,n,!1);break;case"textarea":tv(t),LE(t);break;case"option":n.value!=null&&t.setAttribute("value",""+qu(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?lg(t,!!n.multiple,i,!1):n.defaultValue!=null&&lg(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=O1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yi(e),null;case 6:if(t&&e.stateNode!=null)JP(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(dt(166));if(r=th(rm.current),th(rA.current),cv(e)){if(n=e.stateNode,r=e.memoizedProps,n[ql]=e,(i=n.nodeValue!==r)&&(t=oa,t!==null))switch(t.tag){case 3:Av(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Av(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ql]=e,e.stateNode=n}return yi(e),null;case 13:if(hn(Pn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wn&&ra!==null&&e.mode&1&&!(e.flags&128))pP(),wg(),e.flags|=98560,i=!1;else if(i=cv(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(dt(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(dt(317));i[ql]=e}else wg(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yi(e),i=!1}else ul!==null&&(u5(ul),ul=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Pn.current&1?js===0&&(js=3):S4())),e.updateQueue!==null&&(e.flags|=4),yi(e),null);case 4:return Bg(),n5(t,e),t===null&&J0(e.stateNode.containerInfo),yi(e),null;case 10:return d4(e.type._context),yi(e),null;case 17:return Do(e.type)&&V1(),yi(e),null;case 19:if(hn(Pn),i=e.memoizedState,i===null)return yi(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Sp(i,!1);else{if(js!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=q1(t),o!==null){for(e.flags|=128,Sp(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ln(Pn,Pn.current&1|2),e.child}t=t.sibling}i.tail!==null&&ns()>_g&&(e.flags|=128,n=!0,Sp(i,!1),e.lanes=4194304)}else{if(!n)if(t=q1(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Sp(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!wn)return yi(e),null}else 2*ns()-i.renderingStartTime>_g&&r!==1073741824&&(e.flags|=128,n=!0,Sp(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ns(),e.sibling=null,r=Pn.current,ln(Pn,n?r&1|2:r&1),e):(yi(e),null);case 22:case 23:return I4(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ea&1073741824&&(yi(e),e.subtreeFlags&6&&(e.flags|=8192)):yi(e),null;case 24:return null;case 25:return null}throw Error(dt(156,e.tag))}function b9(t,e){switch(l4(e),e.tag){case 1:return Do(e.type)&&V1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bg(),hn(Uo),hn(Fi),m4(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return p4(e),null;case 13:if(hn(Pn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(dt(340));wg()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return hn(Pn),null;case 4:return Bg(),null;case 10:return d4(e.type._context),null;case 22:case 23:return I4(),null;case 24:return null;default:return null}}var hv=!1,_i=!1,B9=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function eg(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$n(t,e,n)}else r.current=null}function s5(t,e,r){try{r()}catch(n){$n(t,e,n)}}var CI=!1;function C9(t,e){if(OB=R1,t=nP(),o4(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==r||s!==0&&d.nodeType!==3||(a=o+s),d!==i||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===r&&++c===s&&(a=o),h===i&&++u===n&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(VB={focusedElem:t,selectionRange:r},R1=!1,Lt=e;Lt!==null;)if(e=Lt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Lt=t;else for(;Lt!==null;){e=Lt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,_=m.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:al(e.type,v),_);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(dt(163))}}catch(N){$n(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Lt=t;break}Lt=e.return}return m=CI,CI=!1,m}function v0(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&s5(e,r,i)}s=s.next}while(s!==n)}}function ow(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function i5(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function ZP(t){var e=t.alternate;e!==null&&(t.alternate=null,ZP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ql],delete e[em],delete e[zB],delete e[o9],delete e[a9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function e6(t){return t.tag===5||t.tag===3||t.tag===4}function _I(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e6(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function o5(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=O1));else if(n!==4&&(t=t.child,t!==null))for(o5(t,e,r),t=t.sibling;t!==null;)o5(t,e,r),t=t.sibling}function a5(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(a5(t,e,r),t=t.sibling;t!==null;)a5(t,e,r),t=t.sibling}var ei=null,Al=!1;function ru(t,e,r){for(r=r.child;r!==null;)t6(t,e,r),r=r.sibling}function t6(t,e,r){if(tA&&typeof tA.onCommitFiberUnmount=="function")try{tA.onCommitFiberUnmount(Jx,r)}catch{}switch(r.tag){case 5:_i||eg(r,e);case 6:var n=ei,s=Al;ei=null,ru(t,e,r),ei=n,Al=s,ei!==null&&(Al?(t=ei,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ei.removeChild(r.stateNode));break;case 18:ei!==null&&(Al?(t=ei,r=r.stateNode,t.nodeType===8?ab(t.parentNode,r):t.nodeType===1&&ab(t,r),q0(t)):ab(ei,r.stateNode));break;case 4:n=ei,s=Al,ei=r.stateNode.containerInfo,Al=!0,ru(t,e,r),ei=n,Al=s;break;case 0:case 11:case 14:case 15:if(!_i&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&s5(r,e,o),s=s.next}while(s!==n)}ru(t,e,r);break;case 1:if(!_i&&(eg(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){$n(r,e,a)}ru(t,e,r);break;case 21:ru(t,e,r);break;case 22:r.mode&1?(_i=(n=_i)||r.memoizedState!==null,ru(t,e,r),_i=n):ru(t,e,r);break;default:ru(t,e,r)}}function kI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new B9),e.forEach(function(n){var s=F9.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function nl(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ei=a.stateNode,Al=!1;break e;case 3:ei=a.stateNode.containerInfo,Al=!0;break e;case 4:ei=a.stateNode.containerInfo,Al=!0;break e}a=a.return}if(ei===null)throw Error(dt(160));t6(i,o,s),ei=null,Al=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){$n(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)r6(e,t),e=e.sibling}function r6(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nl(e,t),Kl(t),n&4){try{v0(3,t,t.return),ow(3,t)}catch(v){$n(t,t.return,v)}try{v0(5,t,t.return)}catch(v){$n(t,t.return,v)}}break;case 1:nl(e,t),Kl(t),n&512&&r!==null&&eg(r,r.return);break;case 5:if(nl(e,t),Kl(t),n&512&&r!==null&&eg(r,r.return),t.flags&32){var s=t.stateNode;try{z0(s,"")}catch(v){$n(t,t.return,v)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&CF(s,i),TB(a,o);var c=TB(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?SF(s,d):u==="dangerouslySetInnerHTML"?EF(s,d):u==="children"?z0(s,d):WC(s,u,d,c)}switch(a){case"input":kB(s,i);break;case"textarea":_F(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?lg(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?lg(s,!!i.multiple,i.defaultValue,!0):lg(s,!!i.multiple,i.multiple?[]:"",!1))}s[em]=i}catch(v){$n(t,t.return,v)}}break;case 6:if(nl(e,t),Kl(t),n&4){if(t.stateNode===null)throw Error(dt(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){$n(t,t.return,v)}}break;case 3:if(nl(e,t),Kl(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{q0(e.containerInfo)}catch(v){$n(t,t.return,v)}break;case 4:nl(e,t),Kl(t);break;case 13:nl(e,t),Kl(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(k4=ns())),n&4&&kI(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(_i=(c=_i)||u,nl(e,t),_i=c):nl(e,t),Kl(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Lt=t,u=t.child;u!==null;){for(d=Lt=u;Lt!==null;){switch(h=Lt,f=h.child,h.tag){case 0:case 11:case 14:case 15:v0(4,h,h.return);break;case 1:eg(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){$n(n,r,v)}}break;case 5:eg(h,h.return);break;case 22:if(h.memoizedState!==null){II(d);continue}}f!==null?(f.return=h,Lt=f):II(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=IF("display",o))}catch(v){$n(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){$n(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:nl(e,t),Kl(t),n&4&&kI(t);break;case 21:break;default:nl(e,t),Kl(t)}}function Kl(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(e6(r)){var n=r;break e}r=r.return}throw Error(dt(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(z0(s,""),n.flags&=-33);var i=_I(t);a5(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=_I(t);o5(t,a,o);break;default:throw Error(dt(161))}}catch(l){$n(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _9(t,e,r){Lt=t,n6(t)}function n6(t,e,r){for(var n=(t.mode&1)!==0;Lt!==null;){var s=Lt,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||hv;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||_i;a=hv;var c=_i;if(hv=o,(_i=l)&&!c)for(Lt=s;Lt!==null;)o=Lt,l=o.child,o.tag===22&&o.memoizedState!==null?SI(s):l!==null?(l.return=o,Lt=l):SI(s);for(;i!==null;)Lt=i,n6(i),i=i.sibling;Lt=s,hv=a,_i=c}EI(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Lt=i):EI(t)}}function EI(t){for(;Lt!==null;){var e=Lt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_i||ow(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!_i)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:al(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&uI(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}uI(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&q0(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(dt(163))}_i||e.flags&512&&i5(e)}catch(h){$n(e,e.return,h)}}if(e===t){Lt=null;break}if(r=e.sibling,r!==null){r.return=e.return,Lt=r;break}Lt=e.return}}function II(t){for(;Lt!==null;){var e=Lt;if(e===t){Lt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Lt=r;break}Lt=e.return}}function SI(t){for(;Lt!==null;){var e=Lt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ow(4,e)}catch(l){$n(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){$n(e,s,l)}}var i=e.return;try{i5(e)}catch(l){$n(e,i,l)}break;case 5:var o=e.return;try{i5(e)}catch(l){$n(e,o,l)}}}catch(l){$n(e,e.return,l)}if(e===t){Lt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Lt=a;break}Lt=e.return}}var k9=Math.ceil,J1=mc.ReactCurrentDispatcher,C4=mc.ReactCurrentOwner,Pa=mc.ReactCurrentBatchConfig,Sr=0,Ks=null,ms=null,si=0,ea=0,tg=cd(0),js=0,om=null,Bh=0,aw=0,_4=0,x0=null,No=null,k4=0,_g=1/0,WA=null,Z1=!1,l5=null,Ru=null,fv=!1,Bu=null,ex=0,w0=0,A5=null,o1=-1,a1=0;function eo(){return Sr&6?ns():o1!==-1?o1:o1=ns()}function Mu(t){return t.mode&1?Sr&2&&si!==0?si&-si:A9.transition!==null?(a1===0&&(a1=OF()),a1):(t=Xr,t!==0||(t=window.event,t=t===void 0?16:$F(t.type)),t):1}function gl(t,e,r,n){if(50<w0)throw w0=0,A5=null,Error(dt(185));Hm(t,r,n),(!(Sr&2)||t!==Ks)&&(t===Ks&&(!(Sr&2)&&(aw|=r),js===4&&gu(t,si)),Ro(t,n),r===1&&Sr===0&&!(e.mode&1)&&(_g=ns()+500,nw&&ud()))}function Ro(t,e){var r=t.callbackNode;A7(t,e);var n=D1(t,t===Ks?si:0);if(n===0)r!==null&&RE(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&RE(r),e===1)t.tag===0?l9(NI.bind(null,t)):hP(NI.bind(null,t)),s9(function(){!(Sr&6)&&ud()}),r=null;else{switch(VF(n)){case 1:r=JC;break;case 4:r=MF;break;case 16:r=U1;break;case 536870912:r=QF;break;default:r=U1}r=u6(r,s6.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function s6(t,e){if(o1=-1,a1=0,Sr&6)throw Error(dt(327));var r=t.callbackNode;if(hg()&&t.callbackNode!==r)return null;var n=D1(t,t===Ks?si:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=tx(t,n);else{e=n;var s=Sr;Sr|=2;var i=o6();(Ks!==t||si!==e)&&(WA=null,_g=ns()+500,oh(t,e));do try{S9();break}catch(a){i6(t,a)}while(1);u4(),J1.current=i,Sr=s,ms!==null?e=0:(Ks=null,si=0,e=js)}if(e!==0){if(e===2&&(s=UB(t),s!==0&&(n=s,e=c5(t,s))),e===1)throw r=om,oh(t,0),gu(t,n),Ro(t,ns()),r;if(e===6)gu(t,n);else{if(s=t.current.alternate,!(n&30)&&!E9(s)&&(e=tx(t,n),e===2&&(i=UB(t),i!==0&&(n=i,e=c5(t,i))),e===1))throw r=om,oh(t,0),gu(t,n),Ro(t,ns()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(dt(345));case 2:Qd(t,No,WA);break;case 3:if(gu(t,n),(n&130023424)===n&&(e=k4+500-ns(),10<e)){if(D1(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){eo(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=KB(Qd.bind(null,t,No,WA),e);break}Qd(t,No,WA);break;case 4:if(gu(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-fl(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=ns()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*k9(n/1960))-n,10<n){t.timeoutHandle=KB(Qd.bind(null,t,No,WA),n);break}Qd(t,No,WA);break;case 5:Qd(t,No,WA);break;default:throw Error(dt(329))}}}return Ro(t,ns()),t.callbackNode===r?s6.bind(null,t):null}function c5(t,e){var r=x0;return t.current.memoizedState.isDehydrated&&(oh(t,e).flags|=256),t=tx(t,e),t!==2&&(e=No,No=r,e!==null&&u5(e)),t}function u5(t){No===null?No=t:No.push.apply(No,t)}function E9(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ml(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gu(t,e){for(e&=~_4,e&=~aw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-fl(e),n=1<<r;t[r]=-1,e&=~n}}function NI(t){if(Sr&6)throw Error(dt(327));hg();var e=D1(t,0);if(!(e&1))return Ro(t,ns()),null;var r=tx(t,e);if(t.tag!==0&&r===2){var n=UB(t);n!==0&&(e=n,r=c5(t,n))}if(r===1)throw r=om,oh(t,0),gu(t,e),Ro(t,ns()),r;if(r===6)throw Error(dt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qd(t,No,WA),Ro(t,ns()),null}function E4(t,e){var r=Sr;Sr|=1;try{return t(e)}finally{Sr=r,Sr===0&&(_g=ns()+500,nw&&ud())}}function Ch(t){Bu!==null&&Bu.tag===0&&!(Sr&6)&&hg();var e=Sr;Sr|=1;var r=Pa.transition,n=Xr;try{if(Pa.transition=null,Xr=1,t)return t()}finally{Xr=n,Pa.transition=r,Sr=e,!(Sr&6)&&ud()}}function I4(){ea=tg.current,hn(tg)}function oh(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,n9(r)),ms!==null)for(r=ms.return;r!==null;){var n=r;switch(l4(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&V1();break;case 3:Bg(),hn(Uo),hn(Fi),m4();break;case 5:p4(n);break;case 4:Bg();break;case 13:hn(Pn);break;case 19:hn(Pn);break;case 10:d4(n.type._context);break;case 22:case 23:I4()}r=r.return}if(Ks=t,ms=t=Qu(t.current,null),si=ea=e,js=0,om=null,_4=aw=Bh=0,No=x0=null,eh!==null){for(e=0;e<eh.length;e++)if(r=eh[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}eh=null}return t}function i6(t,e){do{var r=ms;try{if(u4(),n1.current=X1,Y1){for(var n=Dn.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Y1=!1}if(bh=0,Os=Is=Dn=null,y0=!1,nm=0,C4.current=null,r===null||r.return===null){js=1,om=e,ms=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=si,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=mI(o);if(f!==null){f.flags&=-257,yI(f,o,a,i,e),f.mode&1&&pI(i,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){pI(i,c,e),S4();break e}l=Error(dt(426))}}else if(wn&&a.mode&1){var _=mI(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),yI(_,o,a,i,e),A4(Cg(l,a));break e}}i=l=Cg(l,a),js!==4&&(js=2),x0===null?x0=[i]:x0.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=VP(i,l,e);cI(i,x);break e;case 1:a=l;var b=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ru===null||!Ru.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=HP(i,a,e);cI(i,N);break e}}i=i.return}while(i!==null)}l6(r)}catch(j){e=j,ms===r&&r!==null&&(ms=r=r.return);continue}break}while(1)}function o6(){var t=J1.current;return J1.current=X1,t===null?X1:t}function S4(){(js===0||js===3||js===2)&&(js=4),Ks===null||!(Bh&268435455)&&!(aw&268435455)||gu(Ks,si)}function tx(t,e){var r=Sr;Sr|=2;var n=o6();(Ks!==t||si!==e)&&(WA=null,oh(t,e));do try{I9();break}catch(s){i6(t,s)}while(1);if(u4(),Sr=r,J1.current=n,ms!==null)throw Error(dt(261));return Ks=null,si=0,js}function I9(){for(;ms!==null;)a6(ms)}function S9(){for(;ms!==null&&!e7();)a6(ms)}function a6(t){var e=c6(t.alternate,t,ea);t.memoizedProps=t.pendingProps,e===null?l6(t):ms=e,C4.current=null}function l6(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=b9(r,e),r!==null){r.flags&=32767,ms=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{js=6,ms=null;return}}else if(r=w9(r,e,ea),r!==null){ms=r;return}if(e=e.sibling,e!==null){ms=e;return}ms=e=t}while(e!==null);js===0&&(js=5)}function Qd(t,e,r){var n=Xr,s=Pa.transition;try{Pa.transition=null,Xr=1,N9(t,e,r,n)}finally{Pa.transition=s,Xr=n}return null}function N9(t,e,r,n){do hg();while(Bu!==null);if(Sr&6)throw Error(dt(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(dt(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(c7(t,i),t===Ks&&(ms=Ks=null,si=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||fv||(fv=!0,u6(U1,function(){return hg(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Pa.transition,Pa.transition=null;var o=Xr;Xr=1;var a=Sr;Sr|=4,C4.current=null,C9(t,r),r6(r,t),Y7(VB),R1=!!OB,VB=OB=null,t.current=r,_9(r),t7(),Sr=a,Xr=o,Pa.transition=i}else t.current=r;if(fv&&(fv=!1,Bu=t,ex=s),i=t.pendingLanes,i===0&&(Ru=null),s7(r.stateNode),Ro(t,ns()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Z1)throw Z1=!1,t=l5,l5=null,t;return ex&1&&t.tag!==0&&hg(),i=t.pendingLanes,i&1?t===A5?w0++:(w0=0,A5=t):w0=0,ud(),null}function hg(){if(Bu!==null){var t=VF(ex),e=Pa.transition,r=Xr;try{if(Pa.transition=null,Xr=16>t?16:t,Bu===null)var n=!1;else{if(t=Bu,Bu=null,ex=0,Sr&6)throw Error(dt(331));var s=Sr;for(Sr|=4,Lt=t.current;Lt!==null;){var i=Lt,o=i.child;if(Lt.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Lt=c;Lt!==null;){var u=Lt;switch(u.tag){case 0:case 11:case 15:v0(8,u,i)}var d=u.child;if(d!==null)d.return=u,Lt=d;else for(;Lt!==null;){u=Lt;var h=u.sibling,f=u.return;if(ZP(u),u===c){Lt=null;break}if(h!==null){h.return=f,Lt=h;break}Lt=f}}}var m=i.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}Lt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Lt=o;else e:for(;Lt!==null;){if(i=Lt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:v0(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Lt=x;break e}Lt=i.return}}var b=t.current;for(Lt=b;Lt!==null;){o=Lt;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,Lt=E;else e:for(o=b;Lt!==null;){if(a=Lt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ow(9,a)}}catch(j){$n(a,a.return,j)}if(a===o){Lt=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,Lt=N;break e}Lt=a.return}}if(Sr=s,ud(),tA&&typeof tA.onPostCommitFiberRoot=="function")try{tA.onPostCommitFiberRoot(Jx,t)}catch{}n=!0}return n}finally{Xr=r,Pa.transition=e}}return!1}function TI(t,e,r){e=Cg(r,e),e=VP(t,e,1),t=Du(t,e,1),e=eo(),t!==null&&(Hm(t,1,e),Ro(t,e))}function $n(t,e,r){if(t.tag===3)TI(t,t,r);else for(;e!==null;){if(e.tag===3){TI(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ru===null||!Ru.has(n))){t=Cg(r,t),t=HP(e,t,1),e=Du(e,t,1),t=eo(),e!==null&&(Hm(e,1,t),Ro(e,t));break}}e=e.return}}function T9(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=eo(),t.pingedLanes|=t.suspendedLanes&r,Ks===t&&(si&r)===r&&(js===4||js===3&&(si&130023424)===si&&500>ns()-k4?oh(t,0):_4|=r),Ro(t,e)}function A6(t,e){e===0&&(t.mode&1?(e=sv,sv<<=1,!(sv&130023424)&&(sv=4194304)):e=1);var r=eo();t=ac(t,e),t!==null&&(Hm(t,e,r),Ro(t,r))}function j9(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),A6(t,r)}function F9(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(dt(314))}n!==null&&n.delete(e),A6(t,r)}var c6;c6=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Uo.current)jo=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return jo=!1,x9(t,e,r);jo=!!(t.flags&131072)}else jo=!1,wn&&e.flags&1048576&&fP(e,z1,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;i1(t,e),t=e.pendingProps;var s=xg(e,Fi.current);dg(e,r),s=v4(null,e,n,t,s,r);var i=x4();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Do(n)?(i=!0,H1(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,f4(e),s.updater=iw,e.stateNode=s,s._reactInternals=e,XB(e,n,t,r),e=e5(null,e,n,!0,i,r)):(e.tag=0,wn&&i&&a4(e),Xi(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(i1(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=L9(n),t=al(n,t),s){case 0:e=ZB(null,e,n,t,r);break e;case 1:e=wI(null,e,n,t,r);break e;case 11:e=vI(null,e,n,t,r);break e;case 14:e=xI(null,e,n,al(n.type,t),r);break e}throw Error(dt(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:al(n,s),ZB(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:al(n,s),wI(t,e,n,s,r);case 3:e:{if(WP(e),t===null)throw Error(dt(387));n=e.pendingProps,i=e.memoizedState,s=i.element,xP(t,e),$1(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Cg(Error(dt(423)),e),e=bI(t,e,n,r,s);break e}else if(n!==s){s=Cg(Error(dt(424)),e),e=bI(t,e,n,r,s);break e}else for(ra=Uu(e.stateNode.containerInfo.firstChild),oa=e,wn=!0,ul=null,r=yP(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wg(),n===s){e=lc(t,e,r);break e}Xi(t,e,n,r)}e=e.child}return e;case 5:return wP(e),t===null&&$B(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,HB(n,s)?o=null:i!==null&&HB(n,i)&&(e.flags|=32),GP(t,e),Xi(t,e,o,r),e.child;case 6:return t===null&&$B(e),null;case 13:return $P(t,e,r);case 4:return g4(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=bg(e,null,n,r):Xi(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:al(n,s),vI(t,e,n,s,r);case 7:return Xi(t,e,e.pendingProps,r),e.child;case 8:return Xi(t,e,e.pendingProps.children,r),e.child;case 12:return Xi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ln(G1,n._currentValue),n._currentValue=o,i!==null)if(ml(i.value,o)){if(i.children===s.children&&!Uo.current){e=lc(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=nc(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),qB(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(dt(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),qB(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xi(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,dg(e,r),s=Ra(s),n=n(s),e.flags|=1,Xi(t,e,n,r),e.child;case 14:return n=e.type,s=al(n,e.pendingProps),s=al(n.type,s),xI(t,e,n,s,r);case 15:return KP(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:al(n,s),i1(t,e),e.tag=1,Do(n)?(t=!0,H1(e)):t=!1,dg(e,r),OP(e,n,s),XB(e,n,s,r),e5(null,e,n,!0,t,r);case 19:return qP(t,e,r);case 22:return zP(t,e,r)}throw Error(dt(156,e.tag))};function u6(t,e){return RF(t,e)}function P9(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ta(t,e,r,n){return new P9(t,e,r,n)}function N4(t){return t=t.prototype,!(!t||!t.isReactComponent)}function L9(t){if(typeof t=="function")return N4(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qC)return 11;if(t===YC)return 14}return 2}function Qu(t,e){var r=t.alternate;return r===null?(r=Ta(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function l1(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")N4(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zf:return ah(r.children,s,i,e);case $C:o=8,s|=8;break;case wB:return t=Ta(12,r,e,s|2),t.elementType=wB,t.lanes=i,t;case bB:return t=Ta(13,r,e,s),t.elementType=bB,t.lanes=i,t;case BB:return t=Ta(19,r,e,s),t.elementType=BB,t.lanes=i,t;case wF:return lw(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vF:o=10;break e;case xF:o=9;break e;case qC:o=11;break e;case YC:o=14;break e;case du:o=16,n=null;break e}throw Error(dt(130,t==null?t:typeof t,""))}return e=Ta(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function ah(t,e,r,n){return t=Ta(7,t,n,e),t.lanes=r,t}function lw(t,e,r,n){return t=Ta(22,t,n,e),t.elementType=wF,t.lanes=r,t.stateNode={isHidden:!1},t}function gb(t,e,r){return t=Ta(6,t,null,e),t.lanes=r,t}function pb(t,e,r){return e=Ta(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function U9(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Y2(0),this.expirationTimes=Y2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Y2(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function T4(t,e,r,n,s,i,o,a,l){return t=new U9(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ta(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},f4(i),t}function D9(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kf,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function d6(t){if(!t)return Yu;t=t._reactInternals;e:{if(Kh(t)!==t||t.tag!==1)throw Error(dt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Do(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(dt(171))}if(t.tag===1){var r=t.type;if(Do(r))return dP(t,r,e)}return e}function h6(t,e,r,n,s,i,o,a,l){return t=T4(r,n,!0,t,s,i,o,a,l),t.context=d6(null),r=t.current,n=eo(),s=Mu(r),i=nc(n,s),i.callback=e??null,Du(r,i,s),t.current.lanes=s,Hm(t,s,n),Ro(t,n),t}function Aw(t,e,r,n){var s=e.current,i=eo(),o=Mu(s);return r=d6(r),e.context===null?e.context=r:e.pendingContext=r,e=nc(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Du(s,e,o),t!==null&&(gl(t,s,o,i),r1(t,s,o)),o}function rx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function j4(t,e){jI(t,e),(t=t.alternate)&&jI(t,e)}function R9(){return null}var f6=typeof reportError=="function"?reportError:function(t){console.error(t)};function F4(t){this._internalRoot=t}cw.prototype.render=F4.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(dt(409));Aw(t,e,null,null)};cw.prototype.unmount=F4.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ch(function(){Aw(null,t,null,null)}),e[oc]=null}};function cw(t){this._internalRoot=t}cw.prototype.unstable_scheduleHydration=function(t){if(t){var e=zF();t={blockedOn:null,target:t,priority:e};for(var r=0;r<fu.length&&e!==0&&e<fu[r].priority;r++);fu.splice(r,0,t),r===0&&WF(t)}};function P4(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function uw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function FI(){}function M9(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=rx(o);i.call(c)}}var o=h6(e,n,t,0,null,!1,!1,"",FI);return t._reactRootContainer=o,t[oc]=o.current,J0(t.nodeType===8?t.parentNode:t),Ch(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=rx(l);a.call(c)}}var l=T4(t,0,!1,null,null,!1,!1,"",FI);return t._reactRootContainer=l,t[oc]=l.current,J0(t.nodeType===8?t.parentNode:t),Ch(function(){Aw(e,l,r,n)}),l}function dw(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=rx(o);a.call(l)}}Aw(e,o,t,s)}else o=M9(r,e,t,s,n);return rx(o)}HF=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Yp(e.pendingLanes);r!==0&&(ZC(e,r|1),Ro(e,ns()),!(Sr&6)&&(_g=ns()+500,ud()))}break;case 13:Ch(function(){var n=ac(t,1);if(n!==null){var s=eo();gl(n,t,1,s)}}),j4(t,1)}};e4=function(t){if(t.tag===13){var e=ac(t,134217728);if(e!==null){var r=eo();gl(e,t,134217728,r)}j4(t,134217728)}};KF=function(t){if(t.tag===13){var e=Mu(t),r=ac(t,e);if(r!==null){var n=eo();gl(r,t,e,n)}j4(t,e)}};zF=function(){return Xr};GF=function(t,e){var r=Xr;try{return Xr=t,e()}finally{Xr=r}};FB=function(t,e,r){switch(e){case"input":if(kB(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=rw(n);if(!s)throw Error(dt(90));BF(n),kB(n,s)}}}break;case"textarea":_F(t,r);break;case"select":e=r.value,e!=null&&lg(t,!!r.multiple,e,!1)}};jF=E4;FF=Ch;var Q9={usingClientEntryPoint:!1,Events:[zm,qf,rw,NF,TF,E4]},Np={findFiberByHostInstance:Zd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},O9={bundleType:Np.bundleType,version:Np.version,rendererPackageName:Np.rendererPackageName,rendererConfig:Np.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=UF(t),t===null?null:t.stateNode},findFiberByHostInstance:Np.findFiberByHostInstance||R9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gv.isDisabled&&gv.supportsFiber)try{Jx=gv.inject(O9),tA=gv}catch{}}ua.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q9;ua.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P4(e))throw Error(dt(200));return D9(t,e,null,r)};ua.createRoot=function(t,e){if(!P4(t))throw Error(dt(299));var r=!1,n="",s=f6;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=T4(t,1,!1,null,null,r,!1,n,s),t[oc]=e.current,J0(t.nodeType===8?t.parentNode:t),new F4(e)};ua.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(dt(188)):(t=Object.keys(t).join(","),Error(dt(268,t)));return t=UF(e),t=t===null?null:t.stateNode,t};ua.flushSync=function(t){return Ch(t)};ua.hydrate=function(t,e,r){if(!uw(e))throw Error(dt(200));return dw(null,t,e,!0,r)};ua.hydrateRoot=function(t,e,r){if(!P4(t))throw Error(dt(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=f6;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=h6(e,null,t,1,r??null,s,!1,i,o),t[oc]=e.current,J0(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new cw(e)};ua.render=function(t,e,r){if(!uw(e))throw Error(dt(200));return dw(null,t,e,!1,r)};ua.unmountComponentAtNode=function(t){if(!uw(t))throw Error(dt(40));return t._reactRootContainer?(Ch(function(){dw(null,null,t,!1,function(){t._reactRootContainer=null,t[oc]=null})}),!0):!1};ua.unstable_batchedUpdates=E4;ua.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!uw(r))throw Error(dt(200));if(t==null||t._reactInternals===void 0)throw Error(dt(38));return dw(t,e,r,!1,n)};ua.version="18.3.1-next-f1338f8080-20240426";function g6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g6)}catch(t){console.error(t)}}g6(),gF.exports=ua;var V9=gF.exports,PI=V9;vB.createRoot=PI.createRoot,vB.hydrateRoot=PI.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},am.apply(this,arguments)}var Cu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Cu||(Cu={}));const LI="popstate";function H9(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:a}=n.location;return d5("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:nx(s)}return z9(e,r,null,t)}function Rn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function p6(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function K9(){return Math.random().toString(36).substr(2,8)}function UI(t,e){return{usr:t.state,key:t.key,idx:e}}function d5(t,e,r,n){return r===void 0&&(r=null),am({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wg(e):e,{state:r,key:e&&e.key||n||K9()})}function nx(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Wg(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function z9(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Cu.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(am({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Cu.Pop;let _=u(),x=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:x})}function h(_,x){a=Cu.Push;let b=d5(v.location,_,x);r&&r(b,_),c=u()+1;let E=UI(b,c),N=v.createHref(b);try{o.pushState(E,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(N)}i&&l&&l({action:a,location:v.location,delta:1})}function f(_,x){a=Cu.Replace;let b=d5(v.location,_,x);r&&r(b,_),c=u();let E=UI(b,c),N=v.createHref(b);o.replaceState(E,"",N),i&&l&&l({action:a,location:v.location,delta:0})}function m(_){let x=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof _=="string"?_:nx(_);return b=b.replace(/ $/,"%20"),Rn(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let v={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(LI,d),l=_,()=>{s.removeEventListener(LI,d),l=null}},createHref(_){return e(s,_)},createURL:m,encodeLocation(_){let x=m(_);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:f,go(_){return o.go(_)}};return v}var DI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(DI||(DI={}));function G9(t,e,r){return r===void 0&&(r="/"),W9(t,e,r,!1)}function W9(t,e,r,n){let s=typeof e=="string"?Wg(e):e,i=kg(s.pathname||"/",r);if(i==null)return null;let o=m6(t);$9(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=iV(i);a=nV(o[l],c,n)}return a}function m6(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Rn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Ou([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(Rn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),m6(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:tV(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of y6(i.path))s(i,o,l)}),e}function y6(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=y6(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function $9(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:rV(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const q9=/^:[\w-]+$/,Y9=3,X9=2,J9=1,Z9=10,eV=-2,RI=t=>t==="*";function tV(t,e){let r=t.split("/"),n=r.length;return r.some(RI)&&(n+=eV),e&&(n+=X9),r.filter(s=>!RI(s)).reduce((s,i)=>s+(q9.test(i)?Y9:i===""?J9:Z9),n)}function rV(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function nV(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=sx({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=sx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Ou([i,d.pathname]),pathnameBase:AV(Ou([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Ou([i,d.pathnameBase]))}return o}function sx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=sV(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let v=a[d]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[d];return f&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function sV(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),p6(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function iV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return p6(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function kg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function oV(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Wg(t):t;return{pathname:r?r.startsWith("/")?r:aV(r,e):e,search:cV(n),hash:uV(s)}}function aV(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function mb(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lV(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function L4(t,e){let r=lV(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function U4(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Wg(t):(s=am({},t),Rn(!s.pathname||!s.pathname.includes("?"),mb("?","pathname","search",s)),Rn(!s.pathname||!s.pathname.includes("#"),mb("#","pathname","hash",s)),Rn(!s.search||!s.search.includes("#"),mb("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=oV(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ou=t=>t.join("/").replace(/\/\/+/g,"/"),AV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const v6=["post","put","patch","delete"];new Set(v6);const hV=["get",...v6];new Set(hV);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lm.apply(this,arguments)}const hw=J.createContext(null),x6=J.createContext(null),yc=J.createContext(null),fw=J.createContext(null),gA=J.createContext({outlet:null,matches:[],isDataRoute:!1}),w6=J.createContext(null);function fV(t,e){let{relative:r}=e===void 0?{}:e;$g()||Rn(!1);let{basename:n,navigator:s}=J.useContext(yc),{hash:i,pathname:o,search:a}=gw(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Ou([n,o])),s.createHref({pathname:l,search:a,hash:i})}function $g(){return J.useContext(fw)!=null}function zh(){return $g()||Rn(!1),J.useContext(fw).location}function b6(t){J.useContext(yc).static||J.useLayoutEffect(t)}function xs(){let{isDataRoute:t}=J.useContext(gA);return t?SV():gV()}function gV(){$g()||Rn(!1);let t=J.useContext(hw),{basename:e,future:r,navigator:n}=J.useContext(yc),{matches:s}=J.useContext(gA),{pathname:i}=zh(),o=JSON.stringify(L4(s,r.v7_relativeSplatPath)),a=J.useRef(!1);return b6(()=>{a.current=!0}),J.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=U4(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ou([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,o,i,t])}const pV=J.createContext(null);function mV(t){let e=J.useContext(gA).outlet;return e&&J.createElement(pV.Provider,{value:t},e)}function D4(){let{matches:t}=J.useContext(gA),e=t[t.length-1];return e?e.params:{}}function gw(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=J.useContext(yc),{matches:s}=J.useContext(gA),{pathname:i}=zh(),o=JSON.stringify(L4(s,n.v7_relativeSplatPath));return J.useMemo(()=>U4(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function yV(t,e){return vV(t,e)}function vV(t,e,r,n){$g()||Rn(!1);let{navigator:s,static:i}=J.useContext(yc),{matches:o}=J.useContext(gA),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=zh(),d;if(e){var h;let x=typeof e=="string"?Wg(e):e;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||Rn(!1),d=x}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=!i&&r&&r.matches&&r.matches.length>0?r.matches:G9(t,{pathname:m}),_=CV(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Ou([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Ou([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,r,n);return e&&_?J.createElement(fw.Provider,{value:{location:lm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Cu.Pop}},_):_}function xV(){let t=IV(),e=dV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),r?J.createElement("pre",{style:s},r):null,i)}const wV=J.createElement(xV,null);class bV extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?J.createElement(gA.Provider,{value:this.props.routeContext},J.createElement(w6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BV(t){let{routeContext:e,match:r,children:n}=t,s=J.useContext(hw);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),J.createElement(gA.Provider,{value:e},n)}function CV(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Rn(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=r,m=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,m=!1,v=null,_=null;r&&(f=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||wV,l&&(c<0&&h===0?(NV("route-fallback",!1),m=!0,_=null):c===h&&(m=!0,_=d.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,h+1)),b=()=>{let E;return f?E=v:m?E=_:d.route.Component?E=J.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=u,J.createElement(BV,{match:d,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:E})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?J.createElement(bV,{location:r.location,revalidation:r.revalidation,component:v,error:f,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var B6=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(B6||{}),ix=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ix||{});function _V(t){let e=J.useContext(hw);return e||Rn(!1),e}function kV(t){let e=J.useContext(x6);return e||Rn(!1),e}function EV(t){let e=J.useContext(gA);return e||Rn(!1),e}function C6(t){let e=EV(),r=e.matches[e.matches.length-1];return r.route.id||Rn(!1),r.route.id}function IV(){var t;let e=J.useContext(w6),r=kV(ix.UseRouteError),n=C6(ix.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function SV(){let{router:t}=_V(B6.UseNavigateStable),e=C6(ix.UseNavigateStable),r=J.useRef(!1);return b6(()=>{r.current=!0}),J.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,lm({fromRouteId:e},i)))},[t,e])}const MI={};function NV(t,e,r){!e&&!MI[t]&&(MI[t]=!0)}function TV(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function R4(t){let{to:e,replace:r,state:n,relative:s}=t;$g()||Rn(!1);let{future:i,static:o}=J.useContext(yc),{matches:a}=J.useContext(gA),{pathname:l}=zh(),c=xs(),u=U4(e,L4(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(u);return J.useEffect(()=>c(JSON.parse(d),{replace:r,state:n,relative:s}),[c,d,s,r,n]),null}function jV(t){return mV(t.context)}function zn(t){Rn(!1)}function FV(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Cu.Pop,navigator:i,static:o=!1,future:a}=t;$g()&&Rn(!1);let l=e.replace(/^\/*/,"/"),c=J.useMemo(()=>({basename:l,navigator:i,static:o,future:lm({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=Wg(n));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=n,v=J.useMemo(()=>{let _=kg(u,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:f,key:m},navigationType:s}},[l,u,d,h,f,m,s]);return v==null?null:J.createElement(yc.Provider,{value:c},J.createElement(fw.Provider,{children:r,value:v}))}function PV(t){let{children:e,location:r}=t;return yV(h5(e),r)}new Promise(()=>{});function h5(t,e){e===void 0&&(e=[]);let r=[];return J.Children.forEach(t,(n,s)=>{if(!J.isValidElement(n))return;let i=[...e,s];if(n.type===J.Fragment){r.push.apply(r,h5(n.props.children,i));return}n.type!==zn&&Rn(!1),!n.props.index||!n.props.children||Rn(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=h5(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ox.apply(this,arguments)}function _6(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function LV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UV(t,e){return t.button===0&&(!e||e==="_self")&&!LV(t)}const DV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],RV=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],MV="6";try{window.__reactRouterVersion=MV}catch{}const QV=J.createContext({isTransitioning:!1}),OV="startTransition",QI=T8[OV];function VV(t){let{basename:e,children:r,future:n,window:s}=t,i=J.useRef();i.current==null&&(i.current=H9({window:s,v5Compat:!0}));let o=i.current,[a,l]=J.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=J.useCallback(d=>{c&&QI?QI(()=>l(d)):l(d)},[l,c]);return J.useLayoutEffect(()=>o.listen(u),[o,u]),J.useEffect(()=>TV(n),[n]),J.createElement(FV,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const HV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_u=J.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=_6(e,DV),{basename:f}=J.useContext(yc),m,v=!1;if(typeof c=="string"&&KV.test(c)&&(m=c,HV))try{let E=new URL(window.location.href),N=c.startsWith("//")?new URL(E.protocol+c):new URL(c),j=kg(N.pathname,f);N.origin===E.origin&&j!=null?c=j+N.search+N.hash:v=!0}catch{}let _=fV(c,{relative:s}),x=WV(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:d});function b(E){n&&n(E),E.defaultPrevented||x(E)}return J.createElement("a",ox({},h,{href:m||_,onClick:v||i?n:b,ref:r,target:l}))}),zV=J.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:c,children:u}=e,d=_6(e,RV),h=gw(l,{relative:d.relative}),f=zh(),m=J.useContext(x6),{navigator:v,basename:_}=J.useContext(yc),x=m!=null&&$V(h)&&c===!0,b=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,E=f.pathname,N=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(E=E.toLowerCase(),N=N?N.toLowerCase():null,b=b.toLowerCase()),N&&_&&(N=kg(N,_)||N);const j=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let O=E===b||!o&&E.startsWith(b)&&E.charAt(j)==="/",P=N!=null&&(N===b||!o&&N.startsWith(b)&&N.charAt(b.length)==="/"),T={isActive:O,isPending:P,isTransitioning:x},U=O?n:void 0,R;typeof i=="function"?R=i(T):R=[i,O?"active":null,P?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(T):a;return J.createElement(_u,ox({},d,{"aria-current":U,className:R,ref:r,style:I,to:l,viewTransition:c}),typeof u=="function"?u(T):u)});var f5;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(f5||(f5={}));var OI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(OI||(OI={}));function GV(t){let e=J.useContext(hw);return e||Rn(!1),e}function WV(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=xs(),c=zh(),u=gw(t,{relative:o});return J.useCallback(d=>{if(UV(d,r)){d.preventDefault();let h=n!==void 0?n:nx(c)===nx(u);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,n,s,r,t,i,o,a])}function $V(t,e){e===void 0&&(e={});let r=J.useContext(QV);r==null&&Rn(!1);let{basename:n}=GV(f5.useViewTransitionState),s=gw(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=kg(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=kg(r.nextLocation.pathname,n)||r.nextLocation.pathname;return sx(s.pathname,o)!=null||sx(s.pathname,i)!=null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},qV=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],o=t[r++],a=t[r++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const i=t[r++],o=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},E6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),n.push(r[u],r[d],r[h],r[f])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(k6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],a=s<t.length?r[t.charAt(s)]:0;++s;const c=s<t.length?r[t.charAt(s)]:64;++s;const d=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new YV;const h=i<<2|a>>4;if(n.push(h),c!==64){const f=a<<4&240|c>>2;if(n.push(f),d!==64){const m=c<<6&192|d;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XV=function(t){const e=k6(t);return E6.encodeByteArray(e,!0)},ax=function(t){return XV(t).replace(/\./g,"")},I6=function(t){try{return E6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=()=>JV().__FIREBASE_DEFAULTS__,eH=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&I6(t[1]);return e&&JSON.parse(e)},pw=()=>{try{return ZV()||eH()||tH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},S6=t=>{var e,r;return(r=(e=pw())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},N6=t=>{const e=S6(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},T6=()=>{var t;return(t=pw())===null||t===void 0?void 0:t.config},j6=t=>{var e;return(e=pw())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ax(JSON.stringify(r)),ax(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nH(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ps())}function sH(){var t;const e=(t=pw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oH(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lH(){const t=Ps();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function P6(){return!sH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L6(){try{return typeof indexedDB=="object"}catch{return!1}}function AH(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH="FirebaseError";class pA extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=cH,Object.setPrototypeOf(this,pA.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wm.prototype.create)}}class Wm{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?uH(i,n):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new pA(s,a,n)}}function uH(t,e){return t.replace(dH,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const dH=/\{\$([^}]+)}/g;function hH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lx(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],o=e[s];if(VI(i)&&VI(o)){if(!lx(i,o))return!1}else if(i!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function VI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Jp(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Zp(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function fH(t,e){const r=new gH(t,e);return r.subscribe.bind(r)}class gH{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");pH(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=yb),s.error===void 0&&(s.error=yb),s.complete===void 0&&(s.complete=yb);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pH(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function yb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t){return t&&t._delegate?t._delegate:t}class Xu{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new rH;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vH(e))try{this.getOrInitializeService({instanceIdentifier:Od})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=Od){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Od){return this.instances.has(e)}getOptions(e=Od){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);n===a&&o.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:yH(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Od){return this.component?this.component.multipleInstances?e:Od:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yH(t){return t===Od?void 0:t}function vH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new mH(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var br;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(br||(br={}));const wH={debug:br.DEBUG,verbose:br.VERBOSE,info:br.INFO,warn:br.WARN,error:br.ERROR,silent:br.SILENT},bH=br.INFO,BH={[br.DEBUG]:"log",[br.VERBOSE]:"log",[br.INFO]:"info",[br.WARN]:"warn",[br.ERROR]:"error"},CH=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=BH[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class M4{constructor(e){this.name=e,this._logLevel=bH,this._logHandler=CH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in br))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,br.DEBUG,...e),this._logHandler(this,br.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,br.VERBOSE,...e),this._logHandler(this,br.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,br.INFO,...e),this._logHandler(this,br.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,br.WARN,...e),this._logHandler(this,br.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,br.ERROR,...e),this._logHandler(this,br.ERROR,...e)}}const _H=(t,e)=>e.some(r=>t instanceof r);let HI,KI;function kH(){return HI||(HI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EH(){return KI||(KI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U6=new WeakMap,g5=new WeakMap,D6=new WeakMap,vb=new WeakMap,Q4=new WeakMap;function IH(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(Vu(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&U6.set(r,t)}).catch(()=>{}),Q4.set(e,t),e}function SH(t){if(g5.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});g5.set(t,e)}let p5={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return g5.get(t);if(e==="objectStoreNames")return t.objectStoreNames||D6.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Vu(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NH(t){p5=t(p5)}function TH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(xb(this),e,...r);return D6.set(n,e.sort?e.sort():[e]),Vu(n)}:EH().includes(t)?function(...e){return t.apply(xb(this),e),Vu(U6.get(this))}:function(...e){return Vu(t.apply(xb(this),e))}}function jH(t){return typeof t=="function"?TH(t):(t instanceof IDBTransaction&&SH(t),_H(t,kH())?new Proxy(t,p5):t)}function Vu(t){if(t instanceof IDBRequest)return IH(t);if(vb.has(t))return vb.get(t);const e=jH(t);return e!==t&&(vb.set(t,e),Q4.set(e,t)),e}const xb=t=>Q4.get(t);function FH(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Vu(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Vu(o.result),l.oldVersion,l.newVersion,Vu(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const PH=["get","getKey","getAll","getAllKeys","count"],LH=["put","add","delete","clear"],wb=new Map;function zI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wb.get(e))return wb.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=LH.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||PH.includes(r)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(a.shift())),(await Promise.all([c[r](...a),s&&l.done]))[0]};return wb.set(e,i),i}NH(t=>({...t,get:(e,r,n)=>zI(e,r)||t.get(e,r,n),has:(e,r)=>!!zI(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(DH(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function DH(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const m5="@firebase/app",GI="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new M4("@firebase/app"),RH="@firebase/app-compat",MH="@firebase/analytics-compat",QH="@firebase/analytics",OH="@firebase/app-check-compat",VH="@firebase/app-check",HH="@firebase/auth",KH="@firebase/auth-compat",zH="@firebase/database",GH="@firebase/data-connect",WH="@firebase/database-compat",$H="@firebase/functions",qH="@firebase/functions-compat",YH="@firebase/installations",XH="@firebase/installations-compat",JH="@firebase/messaging",ZH="@firebase/messaging-compat",eK="@firebase/performance",tK="@firebase/performance-compat",rK="@firebase/remote-config",nK="@firebase/remote-config-compat",sK="@firebase/storage",iK="@firebase/storage-compat",oK="@firebase/firestore",aK="@firebase/vertexai-preview",lK="@firebase/firestore-compat",AK="firebase",cK="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5="[DEFAULT]",uK={[m5]:"fire-core",[RH]:"fire-core-compat",[QH]:"fire-analytics",[MH]:"fire-analytics-compat",[VH]:"fire-app-check",[OH]:"fire-app-check-compat",[HH]:"fire-auth",[KH]:"fire-auth-compat",[zH]:"fire-rtdb",[GH]:"fire-data-connect",[WH]:"fire-rtdb-compat",[$H]:"fire-fn",[qH]:"fire-fn-compat",[YH]:"fire-iid",[XH]:"fire-iid-compat",[JH]:"fire-fcm",[ZH]:"fire-fcm-compat",[eK]:"fire-perf",[tK]:"fire-perf-compat",[rK]:"fire-rc",[nK]:"fire-rc-compat",[sK]:"fire-gcs",[iK]:"fire-gcs-compat",[oK]:"fire-fst",[lK]:"fire-fst-compat",[aK]:"fire-vertex","fire-js":"fire-js",[AK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new Map,dK=new Map,v5=new Map;function WI(t,e){try{t.container.addComponent(e)}catch(r){Ac.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function _h(t){const e=t.name;if(v5.has(e))return Ac.debug(`There were multiple attempts to register component ${e}.`),!1;v5.set(e,t);for(const r of Ax.values())WI(r,t);for(const r of dK.values())WI(r,t);return!0}function mw(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Yl(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hu=new Wm("app","Firebase",hK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Xu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=cK;function R6(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:y5,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw Hu.create("bad-app-name",{appName:String(s)});if(r||(r=T6()),!r)throw Hu.create("no-options");const i=Ax.get(s);if(i){if(lx(r,i.options)&&lx(n,i.config))return i;throw Hu.create("duplicate-app",{appName:s})}const o=new xH(s);for(const l of v5.values())o.addComponent(l);const a=new fK(r,n,o);return Ax.set(s,a),a}function O4(t=y5){const e=Ax.get(t);if(!e&&t===y5&&T6())return R6();if(!e)throw Hu.create("no-app",{appName:t});return e}function nA(t,e,r){var n;let s=(n=uK[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ac.warn(a.join(" "));return}_h(new Xu(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gK="firebase-heartbeat-database",pK=1,Am="firebase-heartbeat-store";let bb=null;function M6(){return bb||(bb=FH(gK,pK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Am)}catch(r){console.warn(r)}}}}).catch(t=>{throw Hu.create("idb-open",{originalErrorMessage:t.message})})),bb}async function mK(t){try{const r=(await M6()).transaction(Am),n=await r.objectStore(Am).get(Q6(t));return await r.done,n}catch(e){if(e instanceof pA)Ac.warn(e.message);else{const r=Hu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ac.warn(r.message)}}}async function $I(t,e){try{const n=(await M6()).transaction(Am,"readwrite");await n.objectStore(Am).put(e,Q6(t)),await n.done}catch(r){if(r instanceof pA)Ac.warn(r.message);else{const n=Hu.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ac.warn(n.message)}}}function Q6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK=1024,vK=30*24*60*60*1e3;class xK{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new bK(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=qI();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=vK}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ac.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=qI(),{heartbeatsToSend:n,unsentEntries:s}=wK(this._heartbeatsCache.heartbeats),i=ax(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Ac.warn(r),""}}}function qI(){return new Date().toISOString().substring(0,10)}function wK(t,e=yK){const r=[];let n=t.slice();for(const s of t){const i=r.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),YI(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),YI(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class bK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return L6()?AH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await mK(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return $I(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return $I(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function YI(t){return ax(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BK(t){_h(new Xu("platform-logger",e=>new UH(e),"PRIVATE")),_h(new Xu("heartbeat",e=>new xK(e),"PRIVATE")),nA(m5,GI,t),nA(m5,GI,"esm2017"),nA("fire-js","")}BK("");var CK="firebase",_K="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nA(CK,_K,"app");function V4(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function O6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kK=O6,V6=new Wm("auth","Firebase",O6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=new M4("@firebase/auth");function EK(t,...e){cx.logLevel<=br.WARN&&cx.warn(`Auth (${Gh}): ${t}`,...e)}function A1(t,...e){cx.logLevel<=br.ERROR&&cx.error(`Auth (${Gh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t,...e){throw H4(t,...e)}function sA(t,...e){return H4(t,...e)}function H6(t,e,r){const n=Object.assign(Object.assign({},kK()),{[e]:r});return new Wm("auth","Firebase",n).create(e,{appName:t.name})}function sc(t){return H6(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function H4(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return V6.create(t,...e)}function Jt(t,e,...r){if(!t)throw H4(e,...r)}function JA(t){const e="INTERNAL ASSERTION FAILED: "+t;throw A1(e),new Error(e)}function cc(t,e){t||JA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function IK(){return XI()==="http:"||XI()==="https:"}function XI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IK()||oH()||"connection"in navigator)?navigator.onLine:!0}function NK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,r){this.shortDelay=e,this.longDelay=r,cc(r>e,"Short delay should be less than long delay!"),this.isMobile=nH()||aH()}get(){return SK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t,e){cc(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;JA("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;JA("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;JA("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jK=new qm(3e4,6e4);function vc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xc(t,e,r,n,s={}){return z6(t,s,async()=>{let i={},o={};n&&(e==="GET"?o=n:i={body:JSON.stringify(n)});const a=$m(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return iH()||(c.referrerPolicy="no-referrer"),K6.fetch()(G6(t,t.config.apiHost,r,a),c)})}async function z6(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},TK),e);try{const s=new PK(t),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw pv(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw pv(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw pv(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw pv(t,"user-disabled",o);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw H6(t,u,c);yl(t,u)}}catch(s){if(s instanceof pA)throw s;yl(t,"network-request-failed",{message:String(s)})}}async function Ym(t,e,r,n,s={}){const i=await xc(t,e,r,n,s);return"mfaPendingCredential"in i&&yl(t,"multi-factor-auth-required",{_serverResponse:i}),i}function G6(t,e,r,n){const s=`${e}${r}?${n}`;return t.config.emulator?K4(t.config,s):`${t.config.apiScheme}://${s}`}function FK(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PK{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(sA(this.auth,"network-request-failed")),jK.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pv(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=sA(t,e,n);return s.customData._tokenResponse=r,s}function JI(t){return t!==void 0&&t.enterprise!==void 0}class LK{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return FK(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function UK(t,e){return xc(t,"GET","/v2/recaptchaConfig",vc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DK(t,e){return xc(t,"POST","/v1/accounts:delete",e)}async function W6(t,e){return xc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RK(t,e=!1){const r=ys(t),n=await r.getIdToken(e),s=z4(n);Jt(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:b0(Bb(s.auth_time)),issuedAtTime:b0(Bb(s.iat)),expirationTime:b0(Bb(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Bb(t){return Number(t)*1e3}function z4(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return A1("JWT malformed, contained fewer than 3 sections"),null;try{const s=I6(r);return s?JSON.parse(s):(A1("Failed to decode base64 JWT payload"),null)}catch(s){return A1("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ZI(t){const e=z4(t);return Jt(e,"internal-error"),Jt(typeof e.exp<"u","internal-error"),Jt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cm(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof pA&&MK(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function MK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=b0(this.lastLoginAt),this.creationTime=b0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ux(t){var e;const r=t.auth,n=await t.getIdToken(),s=await cm(t,W6(r,{idToken:n}));Jt(s==null?void 0:s.users.length,r,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?$6(i.providerUserInfo):[],a=VK(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new w5(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function OK(t){const e=ys(t);await ux(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VK(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function $6(t){return t.map(e=>{var{providerId:r}=e,n=V4(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HK(t,e){const r=await z6(t,{},async()=>{const n=$m({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=G6(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",K6.fetch()(o,{method:"POST",headers:a,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function KK(t,e){return xc(t,"POST","/v2/accounts:revokeToken",vc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Jt(e.idToken,"internal-error"),Jt(typeof e.idToken<"u","internal-error"),Jt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Jt(e.length!==0,"internal-error");const r=ZI(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Jt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await HK(e,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,o=new fg;return n&&(Jt(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),s&&(Jt(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Jt(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fg,this.toJSON())}_performRefresh(){return JA("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t,e){Jt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ZA{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,i=V4(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new w5(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await cm(this,this.stsTokenManager.getToken(this.auth,e));return Jt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return RK(this,e)}reload(){return OK(this)}_assign(e){this!==e&&(Jt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ZA(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await ux(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yl(this.auth.app))return Promise.reject(sc(this.auth));const e=await this.getIdToken();return await cm(this,DK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,i,o,a,l,c,u;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(s=r.email)!==null&&s!==void 0?s:void 0,f=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=r.photoURL)!==null&&o!==void 0?o:void 0,v=(a=r.tenantId)!==null&&a!==void 0?a:void 0,_=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=r.createdAt)!==null&&c!==void 0?c:void 0,b=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:N,isAnonymous:j,providerData:O,stsTokenManager:P}=r;Jt(E&&P,e,"internal-error");const T=fg.fromJSON(this.name,P);Jt(typeof E=="string",e,"internal-error"),nu(d,e.name),nu(h,e.name),Jt(typeof N=="boolean",e,"internal-error"),Jt(typeof j=="boolean",e,"internal-error"),nu(f,e.name),nu(m,e.name),nu(v,e.name),nu(_,e.name),nu(x,e.name),nu(b,e.name);const U=new ZA({uid:E,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:j,photoURL:m,phoneNumber:f,tenantId:v,stsTokenManager:T,createdAt:x,lastLoginAt:b});return O&&Array.isArray(O)&&(U.providerData=O.map(R=>Object.assign({},R))),_&&(U._redirectEventId=_),U}static async _fromIdTokenResponse(e,r,n=!1){const s=new fg;s.updateFromServerResponse(r);const i=new ZA({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await ux(i),i}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];Jt(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?$6(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new fg;a.updateFromIdToken(n);const l=new ZA({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new w5(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new Map;function ec(t){cc(t instanceof Function,"Expected a class definition");let e=eS.get(t);return e?(cc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}q6.type="NONE";const tS=q6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t,e,r){return`firebase:${t}:${e}:${r}`}class gg{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=c1(this.userKey,s.apiKey,i),this.fullPersistenceKey=c1("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ZA._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new gg(ec(tS),e,n);const s=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||ec(tS);const o=c1(n,e.config.apiKey,e.name);let a=null;for(const c of r)try{const u=await c._get(o);if(u){const d=ZA._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new gg(i,e,n):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(r.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new gg(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Y6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tL(e))return"Blackberry";if(rL(e))return"Webos";if(X6(e))return"Safari";if((e.includes("chrome/")||J6(e))&&!e.includes("edge/"))return"Chrome";if(eL(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Y6(t=Ps()){return/firefox\//i.test(t)}function X6(t=Ps()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function J6(t=Ps()){return/crios\//i.test(t)}function Z6(t=Ps()){return/iemobile/i.test(t)}function eL(t=Ps()){return/android/i.test(t)}function tL(t=Ps()){return/blackberry/i.test(t)}function rL(t=Ps()){return/webos/i.test(t)}function G4(t=Ps()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zK(t=Ps()){var e;return G4(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GK(){return lH()&&document.documentMode===10}function nL(t=Ps()){return G4(t)||eL(t)||rL(t)||tL(t)||/windows phone/i.test(t)||Z6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t,e=[]){let r;switch(t){case"Browser":r=rS(Ps());break;case"Worker":r=`${rS(Ps())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Gh}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $K(t,e={}){return xc(t,"GET","/v2/passwordPolicy",vc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qK=6;class YK{constructor(e){var r,n,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:qK,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nS(this),this.idTokenSubscription=new nS(this),this.beforeStateQueue=new WK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ec(r)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await gg.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await W6(this,{idToken:e}),n=await ZA._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Yl(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await ux(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yl(this.app))return Promise.reject(sc(this));const r=e?ys(e):null;return r&&Jt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Jt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yl(this.app)?Promise.reject(sc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yl(this.app)?Promise.reject(sc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ec(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $K(this),r=new YK(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wm("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await KK(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ec(e)||this._popupRedirectResolver;Jt(r,this,"argument-error"),this.redirectPersistenceManager=await gg.create(this,[ec(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Jt(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,s);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&EK(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function dd(t){return ys(t)}class nS{constructor(e){this.auth=e,this.observer=null,this.addObserver=fH(r=>this.observer=r)}get next(){return Jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JK(t){yw=t}function iL(t){return yw.loadJS(t)}function ZK(){return yw.recaptchaEnterpriseScript}function ez(){return yw.gapiScript}function tz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const rz="recaptcha-enterprise",nz="NO_RECAPTCHA";class sz{constructor(e){this.type=rz,this.auth=dd(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{UK(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new LK(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;JI(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(nz)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{n(this.auth).then(a=>{if(!r&&JI(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ZK();l.length!==0&&(l+=a),iL(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function sS(t,e,r,n=!1){const s=new sz(t);let i;try{i=await s.verify(r)}catch{i=await s.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function dx(t,e,r,n){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await sS(t,e,r,r==="getOobCode");return n(t,i)}else return n(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await sS(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(t,e){const r=mw(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(lx(i,e??{}))return s;yl(s,"already-initialized")}return r.initialize({options:e})}function oz(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ec);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function az(t,e,r){const n=dd(t);Jt(n._canInitEmulator,n,"emulator-config-failed"),Jt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!!(r!=null&&r.disableWarnings),i=oL(e),{host:o,port:a}=lz(e),l=a===null?"":`:${a}`;n.config.emulator={url:`${i}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||Az()}function oL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lz(t){const e=oL(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:iS(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:iS(o)}}}function iS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Az(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return JA("not implemented")}_getIdTokenResponse(e){return JA("not implemented")}_linkToIdToken(e,r){return JA("not implemented")}_getReauthenticationResolver(e){return JA("not implemented")}}async function cz(t,e){return xc(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uz(t,e){return Ym(t,"POST","/v1/accounts:signInWithPassword",vc(t,e))}async function dz(t,e){return xc(t,"POST","/v1/accounts:sendOobCode",vc(t,e))}async function hz(t,e){return dz(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(t,e){return Ym(t,"POST","/v1/accounts:signInWithEmailLink",vc(t,e))}async function gz(t,e){return Ym(t,"POST","/v1/accounts:signInWithEmailLink",vc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um extends W4{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new um(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new um(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dx(e,r,"signInWithPassword",uz);case"emailLink":return fz(e,{email:this._email,oobCode:this._password});default:yl(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dx(e,n,"signUpPassword",cz);case"emailLink":return gz(e,{idToken:r,email:this._email,oobCode:this._password});default:yl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pg(t,e){return Ym(t,"POST","/v1/accounts:signInWithIdp",vc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz="http://localhost";class kh extends W4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new kh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):yl("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,i=V4(r,["providerId","signInMethod"]);if(!n||!s)return null;const o=new kh(n,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return pg(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,pg(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,pg(e,r)}buildRequest(){const e={requestUri:pz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=$m(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yz(t){const e=Jp(Zp(t)).link,r=e?Jp(Zp(e)).deep_link_id:null,n=Jp(Zp(t)).deep_link_id;return(n?Jp(Zp(n)).link:null)||n||r||e||t}class $4{constructor(e){var r,n,s,i,o,a;const l=Jp(Zp(e)),c=(r=l.apiKey)!==null&&r!==void 0?r:null,u=(n=l.oobCode)!==null&&n!==void 0?n:null,d=mz((s=l.mode)!==null&&s!==void 0?s:null);Jt(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const r=yz(e);try{return new $4(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this.providerId=qg.PROVIDER_ID}static credential(e,r){return um._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=$4.parseLink(r);return Jt(n,"argument-error"),um._fromEmailAndCode(e,n.code,n.tenantId)}}qg.PROVIDER_ID="password";qg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm extends aL{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends Xm{constructor(){super("facebook.com")}static credential(e){return kh._fromParams({providerId:pu.PROVIDER_ID,signInMethod:pu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pu.credentialFromTaggedObject(e)}static credentialFromError(e){return pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pu.credential(e.oauthAccessToken)}catch{return null}}}pu.FACEBOOK_SIGN_IN_METHOD="facebook.com";pu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends Xm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return kh._fromParams({providerId:mu.PROVIDER_ID,signInMethod:mu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return mu.credentialFromTaggedObject(e)}static credentialFromError(e){return mu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return mu.credential(r,n)}catch{return null}}}mu.GOOGLE_SIGN_IN_METHOD="google.com";mu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends Xm{constructor(){super("github.com")}static credential(e){return kh._fromParams({providerId:yu.PROVIDER_ID,signInMethod:yu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yu.credentialFromTaggedObject(e)}static credentialFromError(e){return yu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yu.credential(e.oauthAccessToken)}catch{return null}}}yu.GITHUB_SIGN_IN_METHOD="github.com";yu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends Xm{constructor(){super("twitter.com")}static credential(e,r){return kh._fromParams({providerId:vu.PROVIDER_ID,signInMethod:vu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return vu.credentialFromTaggedObject(e)}static credentialFromError(e){return vu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return vu.credential(r,n)}catch{return null}}}vu.TWITTER_SIGN_IN_METHOD="twitter.com";vu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vz(t,e){return Ym(t,"POST","/v1/accounts:signUp",vc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const i=await ZA._fromIdTokenResponse(e,n,s),o=oS(n);return new Eh({user:i,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=oS(n);return new Eh({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function oS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx extends pA{constructor(e,r,n,s){var i;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,hx.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new hx(e,r,n,s)}}function lL(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?hx._fromErrorAndOperation(t,i,e,n):i})}async function xz(t,e,r=!1){const n=await cm(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Eh._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wz(t,e,r=!1){const{auth:n}=t;if(Yl(n.app))return Promise.reject(sc(n));const s="reauthenticate";try{const i=await cm(t,lL(n,s,e,t),r);Jt(i.idToken,n,"internal-error");const o=z4(i.idToken);Jt(o,n,"internal-error");const{sub:a}=o;return Jt(t.uid===a,n,"user-mismatch"),Eh._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&yl(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(t,e,r=!1){if(Yl(t.app))return Promise.reject(sc(t));const n="signIn",s=await lL(t,n,e),i=await Eh._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(i.user),i}async function bz(t,e){return AL(dd(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bz(t,e,r){var n;Jt(((n=r.url)===null||n===void 0?void 0:n.length)>0,t,"invalid-continue-uri"),Jt(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=r.url,e.dynamicLinkDomain=r.dynamicLinkDomain,e.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(Jt(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=r.iOS.bundleId),r.android&&(Jt(r.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=r.android.installApp,e.androidMinimumVersionCode=r.android.minimumVersion,e.androidPackageName=r.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(t){const e=dd(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Cz(t,e,r){const n=dd(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};r&&Bz(n,s,r),await dx(n,s,"getOobCode",hz)}async function _z(t,e,r){if(Yl(t.app))return Promise.reject(sc(t));const n=dd(t),o=await dx(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vz).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&cL(t),l}),a=await Eh._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(a.user),a}function kz(t,e,r){return Yl(t.app)?Promise.reject(sc(t)):bz(ys(t),qg.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&cL(t),n})}function Ez(t,e,r,n){return ys(t).onIdTokenChanged(e,r,n)}function Iz(t,e,r){return ys(t).beforeAuthStateChanged(e,r)}function Sz(t,e,r,n){return ys(t).onAuthStateChanged(e,r,n)}function Nz(t){return ys(t).signOut()}const fx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(fx,"1"),this.storage.removeItem(fx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz=1e3,jz=10;class dL extends uL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);GK()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,jz):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Tz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}dL.type="LOCAL";const Fz=dL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL extends uL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}hL.type="SESSION";const fL=hL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new vw(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:i}=r.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const a=Array.from(o).map(async c=>c(r.origin,i)),l=await Pz(a);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=q4("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(){return window}function Uz(t){iA().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(){return typeof iA().WorkerGlobalScope<"u"&&typeof iA().importScripts=="function"}async function Dz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Mz(){return gL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="firebaseLocalStorageDb",Qz=1,gx="firebaseLocalStorage",mL="fbase_key";class Jm{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function xw(t,e){return t.transaction([gx],e?"readwrite":"readonly").objectStore(gx)}function Oz(){const t=indexedDB.deleteDatabase(pL);return new Jm(t).toPromise()}function b5(){const t=indexedDB.open(pL,Qz);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(gx,{keyPath:mL})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(gx)?e(n):(n.close(),await Oz(),e(await b5()))})})}async function aS(t,e,r){const n=xw(t,!0).put({[mL]:e,value:r});return new Jm(n).toPromise()}async function Vz(t,e){const r=xw(t,!1).get(e),n=await new Jm(r).toPromise();return n===void 0?null:n.value}function lS(t,e){const r=xw(t,!0).delete(e);return new Jm(r).toPromise()}const Hz=800,Kz=3;class yL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await b5(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Kz)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vw._getInstance(Mz()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await Dz(),!this.activeServiceWorker)return;this.sender=new Lz(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Rz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await b5();return await aS(e,fx,"1"),await lS(e,fx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>aS(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Vz(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>lS(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=xw(s,!1).getAll();return new Jm(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Hz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yL.type="LOCAL";const zz=yL;new qm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(t,e){return e?ec(e):(Jt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4 extends W4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pg(e,this._buildIdpRequest())}_linkToIdToken(e,r){return pg(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return pg(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Wz(t){return AL(t.auth,new Y4(t),t.bypassAuthState)}function $z(t){const{auth:e,user:r}=t;return Jt(r,e,"internal-error"),wz(r,new Y4(t),t.bypassAuthState)}async function qz(t){const{auth:e,user:r}=t;return Jt(r,e,"internal-error"),xz(r,new Y4(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,r,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wz;case"linkViaPopup":case"linkViaRedirect":return qz;case"reauthViaPopup":case"reauthViaRedirect":return $z;default:yl(this.auth,"internal-error")}}resolve(e){cc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz=new qm(2e3,1e4);class rg extends vL{constructor(e,r,n,s,i){super(e,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,rg.currentPopupAction&&rg.currentPopupAction.cancel(),rg.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Jt(e,this.auth,"internal-error"),e}async onExecution(){cc(this.filter.length===1,"Popup operations only handle one event");const e=q4();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(sA(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(sA(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rg.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sA(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Yz.get())};e()}}rg.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz="pendingRedirect",u1=new Map;class Jz extends vL{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=u1.get(this.auth._key());if(!e){try{const n=await Zz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}u1.set(this.auth._key(),e)}return this.bypassAuthState||u1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Zz(t,e){const r=rG(e),n=tG(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function eG(t,e){u1.set(t._key(),e)}function tG(t){return ec(t._redirectPersistence)}function rG(t){return c1(Xz,t.config.apiKey,t.name)}async function nG(t,e,r=!1){if(Yl(t.app))return Promise.reject(sc(t));const n=dd(t),s=Gz(n,e),o=await new Jz(n,s,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=10*60*1e3;class iG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oG(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!xL(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(sA(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sG&&this.cachedEventUids.clear(),this.cachedEventUids.has(AS(e))}saveEventToCache(e){this.cachedEventUids.add(AS(e)),this.lastProcessedEventTime=Date.now()}}function AS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aG(t,e={}){return xc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AG=/^https?/;async function cG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aG(t);for(const r of e)try{if(uG(r))return}catch{}yl(t,"unauthorized-domain")}function uG(t){const e=x5(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!AG.test(r))return!1;if(lG.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=new qm(3e4,6e4);function cS(){const t=iA().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function hG(t){return new Promise((e,r)=>{var n,s,i;function o(){cS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cS(),r(sA(t,"network-request-failed"))},timeout:dG.get()})}if(!((s=(n=iA().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=iA().gapi)===null||i===void 0)&&i.load)o();else{const a=tz("iframefcb");return iA()[a]=()=>{gapi.load?o():r(sA(t,"network-request-failed"))},iL(`${ez()}?onload=${a}`).catch(l=>r(l))}}).catch(e=>{throw d1=null,e})}let d1=null;function fG(t){return d1=d1||hG(t),d1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG=new qm(5e3,15e3),pG="__/auth/iframe",mG="emulator/auth/iframe",yG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xG(t){const e=t.config;Jt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?K4(e,mG):`https://${t.config.authDomain}/${pG}`,n={apiKey:e.apiKey,appName:t.name,v:Gh},s=vG.get(t.config.apiHost);s&&(n.eid=s);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${$m(n).slice(1)}`}async function wG(t){const e=await fG(t),r=iA().gapi;return Jt(r,t,"internal-error"),e.open({where:document.body,url:xG(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yG,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const o=sA(t,"network-request-failed"),a=iA().setTimeout(()=>{i(o)},gG.get());function l(){iA().clearTimeout(a),s(n)}n.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BG=500,CG=600,_G="_blank",kG="http://localhost";class uS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EG(t,e,r,n=BG,s=CG){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const l=Object.assign(Object.assign({},bG),{width:n.toString(),height:s.toString(),top:i,left:o}),c=Ps().toLowerCase();r&&(a=J6(c)?_G:r),Y6(c)&&(e=e||kG,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,m])=>`${h}${f}=${m},`,"");if(zK(c)&&a!=="_self")return IG(e||"",a),new uS(null);const d=window.open(e||"",a,u);Jt(d,t,"popup-blocked");try{d.focus()}catch{}return new uS(d)}function IG(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG="__/auth/handler",NG="emulator/auth/handler",TG=encodeURIComponent("fac");async function dS(t,e,r,n,s,i){Jt(t.config.authDomain,t,"auth-domain-config-required"),Jt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Gh,eventId:s};if(e instanceof aL){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",hH(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(i||{}))o[u]=d}if(e instanceof Xm){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${TG}=${encodeURIComponent(l)}`:"";return`${jG(t)}?${$m(a).slice(1)}${c}`}function jG({config:t}){return t.emulator?K4(t,NG):`https://${t.authDomain}/${SG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="webStorageSupport";class FG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fL,this._completeRedirectFn=nG,this._overrideRedirectResult=eG}async _openPopup(e,r,n,s){var i;cc((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await dS(e,r,n,x5(),s);return EG(e,o,q4())}async _openRedirect(e,r,n,s){await this._originValidation(e);const i=await dS(e,r,n,x5(),s);return Uz(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(cc(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await wG(e),n=new iG(e);return r.register("authEvent",s=>(Jt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Cb,{type:Cb},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Cb];o!==void 0&&r(!!o),yl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=cG(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return nL()||X6()||G4()}}const PG=FG;var hS="@firebase/auth",fS="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DG(t){_h(new Xu("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;Jt(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sL(t)},c=new XK(n,s,i,l);return oz(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),_h(new Xu("auth-internal",e=>{const r=dd(e.getProvider("auth").getImmediate());return(n=>new LG(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),nA(hS,fS,UG(t)),nA(hS,fS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG=5*60,MG=j6("authIdTokenMaxAge")||RG;let gS=null;const QG=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>MG)return;const s=r==null?void 0:r.token;gS!==s&&(gS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function OG(t=O4()){const e=mw(t,"auth");if(e.isInitialized())return e.getImmediate();const r=iz(t,{popupRedirectResolver:PG,persistence:[zz,Fz,fL]}),n=j6("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const o=QG(i.toString());Iz(r,o,()=>o(r.currentUser)),Ez(r,a=>o(a))}}const s=S6("auth");return s&&az(r,`http://${s}`),r}function VG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}JK({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const i=sA("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",VG().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DG("Browser");var pS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lh,wL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,T){function U(){}U.prototype=T.prototype,P.D=T.prototype,P.prototype=new U,P.prototype.constructor=P,P.C=function(R,I,L){for(var M=Array(arguments.length-2),W=2;W<arguments.length;W++)M[W-2]=arguments[W];return T.prototype[I].apply(R,M)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,T,U){U||(U=0);var R=Array(16);if(typeof T=="string")for(var I=0;16>I;++I)R[I]=T.charCodeAt(U++)|T.charCodeAt(U++)<<8|T.charCodeAt(U++)<<16|T.charCodeAt(U++)<<24;else for(I=0;16>I;++I)R[I]=T[U++]|T[U++]<<8|T[U++]<<16|T[U++]<<24;T=P.g[0],U=P.g[1],I=P.g[2];var L=P.g[3],M=T+(L^U&(I^L))+R[0]+3614090360&4294967295;T=U+(M<<7&4294967295|M>>>25),M=L+(I^T&(U^I))+R[1]+3905402710&4294967295,L=T+(M<<12&4294967295|M>>>20),M=I+(U^L&(T^U))+R[2]+606105819&4294967295,I=L+(M<<17&4294967295|M>>>15),M=U+(T^I&(L^T))+R[3]+3250441966&4294967295,U=I+(M<<22&4294967295|M>>>10),M=T+(L^U&(I^L))+R[4]+4118548399&4294967295,T=U+(M<<7&4294967295|M>>>25),M=L+(I^T&(U^I))+R[5]+1200080426&4294967295,L=T+(M<<12&4294967295|M>>>20),M=I+(U^L&(T^U))+R[6]+2821735955&4294967295,I=L+(M<<17&4294967295|M>>>15),M=U+(T^I&(L^T))+R[7]+4249261313&4294967295,U=I+(M<<22&4294967295|M>>>10),M=T+(L^U&(I^L))+R[8]+1770035416&4294967295,T=U+(M<<7&4294967295|M>>>25),M=L+(I^T&(U^I))+R[9]+2336552879&4294967295,L=T+(M<<12&4294967295|M>>>20),M=I+(U^L&(T^U))+R[10]+4294925233&4294967295,I=L+(M<<17&4294967295|M>>>15),M=U+(T^I&(L^T))+R[11]+2304563134&4294967295,U=I+(M<<22&4294967295|M>>>10),M=T+(L^U&(I^L))+R[12]+1804603682&4294967295,T=U+(M<<7&4294967295|M>>>25),M=L+(I^T&(U^I))+R[13]+4254626195&4294967295,L=T+(M<<12&4294967295|M>>>20),M=I+(U^L&(T^U))+R[14]+2792965006&4294967295,I=L+(M<<17&4294967295|M>>>15),M=U+(T^I&(L^T))+R[15]+1236535329&4294967295,U=I+(M<<22&4294967295|M>>>10),M=T+(I^L&(U^I))+R[1]+4129170786&4294967295,T=U+(M<<5&4294967295|M>>>27),M=L+(U^I&(T^U))+R[6]+3225465664&4294967295,L=T+(M<<9&4294967295|M>>>23),M=I+(T^U&(L^T))+R[11]+643717713&4294967295,I=L+(M<<14&4294967295|M>>>18),M=U+(L^T&(I^L))+R[0]+3921069994&4294967295,U=I+(M<<20&4294967295|M>>>12),M=T+(I^L&(U^I))+R[5]+3593408605&4294967295,T=U+(M<<5&4294967295|M>>>27),M=L+(U^I&(T^U))+R[10]+38016083&4294967295,L=T+(M<<9&4294967295|M>>>23),M=I+(T^U&(L^T))+R[15]+3634488961&4294967295,I=L+(M<<14&4294967295|M>>>18),M=U+(L^T&(I^L))+R[4]+3889429448&4294967295,U=I+(M<<20&4294967295|M>>>12),M=T+(I^L&(U^I))+R[9]+568446438&4294967295,T=U+(M<<5&4294967295|M>>>27),M=L+(U^I&(T^U))+R[14]+3275163606&4294967295,L=T+(M<<9&4294967295|M>>>23),M=I+(T^U&(L^T))+R[3]+4107603335&4294967295,I=L+(M<<14&4294967295|M>>>18),M=U+(L^T&(I^L))+R[8]+1163531501&4294967295,U=I+(M<<20&4294967295|M>>>12),M=T+(I^L&(U^I))+R[13]+2850285829&4294967295,T=U+(M<<5&4294967295|M>>>27),M=L+(U^I&(T^U))+R[2]+4243563512&4294967295,L=T+(M<<9&4294967295|M>>>23),M=I+(T^U&(L^T))+R[7]+1735328473&4294967295,I=L+(M<<14&4294967295|M>>>18),M=U+(L^T&(I^L))+R[12]+2368359562&4294967295,U=I+(M<<20&4294967295|M>>>12),M=T+(U^I^L)+R[5]+4294588738&4294967295,T=U+(M<<4&4294967295|M>>>28),M=L+(T^U^I)+R[8]+2272392833&4294967295,L=T+(M<<11&4294967295|M>>>21),M=I+(L^T^U)+R[11]+1839030562&4294967295,I=L+(M<<16&4294967295|M>>>16),M=U+(I^L^T)+R[14]+4259657740&4294967295,U=I+(M<<23&4294967295|M>>>9),M=T+(U^I^L)+R[1]+2763975236&4294967295,T=U+(M<<4&4294967295|M>>>28),M=L+(T^U^I)+R[4]+1272893353&4294967295,L=T+(M<<11&4294967295|M>>>21),M=I+(L^T^U)+R[7]+4139469664&4294967295,I=L+(M<<16&4294967295|M>>>16),M=U+(I^L^T)+R[10]+3200236656&4294967295,U=I+(M<<23&4294967295|M>>>9),M=T+(U^I^L)+R[13]+681279174&4294967295,T=U+(M<<4&4294967295|M>>>28),M=L+(T^U^I)+R[0]+3936430074&4294967295,L=T+(M<<11&4294967295|M>>>21),M=I+(L^T^U)+R[3]+3572445317&4294967295,I=L+(M<<16&4294967295|M>>>16),M=U+(I^L^T)+R[6]+76029189&4294967295,U=I+(M<<23&4294967295|M>>>9),M=T+(U^I^L)+R[9]+3654602809&4294967295,T=U+(M<<4&4294967295|M>>>28),M=L+(T^U^I)+R[12]+3873151461&4294967295,L=T+(M<<11&4294967295|M>>>21),M=I+(L^T^U)+R[15]+530742520&4294967295,I=L+(M<<16&4294967295|M>>>16),M=U+(I^L^T)+R[2]+3299628645&4294967295,U=I+(M<<23&4294967295|M>>>9),M=T+(I^(U|~L))+R[0]+4096336452&4294967295,T=U+(M<<6&4294967295|M>>>26),M=L+(U^(T|~I))+R[7]+1126891415&4294967295,L=T+(M<<10&4294967295|M>>>22),M=I+(T^(L|~U))+R[14]+2878612391&4294967295,I=L+(M<<15&4294967295|M>>>17),M=U+(L^(I|~T))+R[5]+4237533241&4294967295,U=I+(M<<21&4294967295|M>>>11),M=T+(I^(U|~L))+R[12]+1700485571&4294967295,T=U+(M<<6&4294967295|M>>>26),M=L+(U^(T|~I))+R[3]+2399980690&4294967295,L=T+(M<<10&4294967295|M>>>22),M=I+(T^(L|~U))+R[10]+4293915773&4294967295,I=L+(M<<15&4294967295|M>>>17),M=U+(L^(I|~T))+R[1]+2240044497&4294967295,U=I+(M<<21&4294967295|M>>>11),M=T+(I^(U|~L))+R[8]+1873313359&4294967295,T=U+(M<<6&4294967295|M>>>26),M=L+(U^(T|~I))+R[15]+4264355552&4294967295,L=T+(M<<10&4294967295|M>>>22),M=I+(T^(L|~U))+R[6]+2734768916&4294967295,I=L+(M<<15&4294967295|M>>>17),M=U+(L^(I|~T))+R[13]+1309151649&4294967295,U=I+(M<<21&4294967295|M>>>11),M=T+(I^(U|~L))+R[4]+4149444226&4294967295,T=U+(M<<6&4294967295|M>>>26),M=L+(U^(T|~I))+R[11]+3174756917&4294967295,L=T+(M<<10&4294967295|M>>>22),M=I+(T^(L|~U))+R[2]+718787259&4294967295,I=L+(M<<15&4294967295|M>>>17),M=U+(L^(I|~T))+R[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(I+(M<<21&4294967295|M>>>11))&4294967295,P.g[2]=P.g[2]+I&4294967295,P.g[3]=P.g[3]+L&4294967295}n.prototype.u=function(P,T){T===void 0&&(T=P.length);for(var U=T-this.blockSize,R=this.B,I=this.h,L=0;L<T;){if(I==0)for(;L<=U;)s(this,P,L),L+=this.blockSize;if(typeof P=="string"){for(;L<T;)if(R[I++]=P.charCodeAt(L++),I==this.blockSize){s(this,R),I=0;break}}else for(;L<T;)if(R[I++]=P[L++],I==this.blockSize){s(this,R),I=0;break}}this.h=I,this.o+=T},n.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;var U=8*this.o;for(T=P.length-8;T<P.length;++T)P[T]=U&255,U/=256;for(this.u(P),P=Array(16),T=U=0;4>T;++T)for(var R=0;32>R;R+=8)P[U++]=this.g[T]>>>R&255;return P};function i(P,T){var U=a;return Object.prototype.hasOwnProperty.call(U,P)?U[P]:U[P]=T(P)}function o(P,T){this.h=T;for(var U=[],R=!0,I=P.length-1;0<=I;I--){var L=P[I]|0;R&&L==T||(U[I]=L,R=!1)}this.g=U}var a={};function l(P){return-128<=P&&128>P?i(P,function(T){return new o([T|0],0>T?-1:0)}):new o([P|0],0>P?-1:0)}function c(P){if(isNaN(P)||!isFinite(P))return d;if(0>P)return _(c(-P));for(var T=[],U=1,R=0;P>=U;R++)T[R]=P/U|0,U*=4294967296;return new o(T,0)}function u(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return _(u(P.substring(1),T));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=c(Math.pow(T,8)),R=d,I=0;I<P.length;I+=8){var L=Math.min(8,P.length-I),M=parseInt(P.substring(I,I+L),T);8>L?(L=c(Math.pow(T,L)),R=R.j(L).add(c(M))):(R=R.j(U),R=R.add(c(M)))}return R}var d=l(0),h=l(1),f=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-_(this).m();for(var P=0,T=1,U=0;U<this.g.length;U++){var R=this.i(U);P+=(0<=R?R:4294967296+R)*T,T*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(m(this))return"0";if(v(this))return"-"+_(this).toString(P);for(var T=c(Math.pow(P,6)),U=this,R="";;){var I=N(U,T).g;U=x(U,I.j(T));var L=((0<U.g.length?U.g[0]:U.h)>>>0).toString(P);if(U=I,m(U))return L+R;for(;6>L.length;)L="0"+L;R=L+R}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function m(P){if(P.h!=0)return!1;for(var T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function v(P){return P.h==-1}t.l=function(P){return P=x(this,P),v(P)?-1:m(P)?0:1};function _(P){for(var T=P.g.length,U=[],R=0;R<T;R++)U[R]=~P.g[R];return new o(U,~P.h).add(h)}t.abs=function(){return v(this)?_(this):this},t.add=function(P){for(var T=Math.max(this.g.length,P.g.length),U=[],R=0,I=0;I<=T;I++){var L=R+(this.i(I)&65535)+(P.i(I)&65535),M=(L>>>16)+(this.i(I)>>>16)+(P.i(I)>>>16);R=M>>>16,L&=65535,M&=65535,U[I]=M<<16|L}return new o(U,U[U.length-1]&-2147483648?-1:0)};function x(P,T){return P.add(_(T))}t.j=function(P){if(m(this)||m(P))return d;if(v(this))return v(P)?_(this).j(_(P)):_(_(this).j(P));if(v(P))return _(this.j(_(P)));if(0>this.l(f)&&0>P.l(f))return c(this.m()*P.m());for(var T=this.g.length+P.g.length,U=[],R=0;R<2*T;R++)U[R]=0;for(R=0;R<this.g.length;R++)for(var I=0;I<P.g.length;I++){var L=this.i(R)>>>16,M=this.i(R)&65535,W=P.i(I)>>>16,X=P.i(I)&65535;U[2*R+2*I]+=M*X,b(U,2*R+2*I),U[2*R+2*I+1]+=L*X,b(U,2*R+2*I+1),U[2*R+2*I+1]+=M*W,b(U,2*R+2*I+1),U[2*R+2*I+2]+=L*W,b(U,2*R+2*I+2)}for(R=0;R<T;R++)U[R]=U[2*R+1]<<16|U[2*R];for(R=T;R<2*T;R++)U[R]=0;return new o(U,0)};function b(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function E(P,T){this.g=P,this.h=T}function N(P,T){if(m(T))throw Error("division by zero");if(m(P))return new E(d,d);if(v(P))return T=N(_(P),T),new E(_(T.g),_(T.h));if(v(T))return T=N(P,_(T)),new E(_(T.g),T.h);if(30<P.g.length){if(v(P)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var U=h,R=T;0>=R.l(P);)U=j(U),R=j(R);var I=O(U,1),L=O(R,1);for(R=O(R,2),U=O(U,2);!m(R);){var M=L.add(R);0>=M.l(P)&&(I=I.add(U),L=M),R=O(R,1),U=O(U,1)}return T=x(P,I.j(T)),new E(I,T)}for(I=d;0<=P.l(T);){for(U=Math.max(1,Math.floor(P.m()/T.m())),R=Math.ceil(Math.log(U)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),L=c(U),M=L.j(T);v(M)||0<M.l(P);)U-=R,L=c(U),M=L.j(T);m(L)&&(L=h),I=I.add(L),P=x(P,M)}return new E(I,P)}t.A=function(P){return N(this,P).h},t.and=function(P){for(var T=Math.max(this.g.length,P.g.length),U=[],R=0;R<T;R++)U[R]=this.i(R)&P.i(R);return new o(U,this.h&P.h)},t.or=function(P){for(var T=Math.max(this.g.length,P.g.length),U=[],R=0;R<T;R++)U[R]=this.i(R)|P.i(R);return new o(U,this.h|P.h)},t.xor=function(P){for(var T=Math.max(this.g.length,P.g.length),U=[],R=0;R<T;R++)U[R]=this.i(R)^P.i(R);return new o(U,this.h^P.h)};function j(P){for(var T=P.g.length+1,U=[],R=0;R<T;R++)U[R]=P.i(R)<<1|P.i(R-1)>>>31;return new o(U,P.h)}function O(P,T){var U=T>>5;T%=32;for(var R=P.g.length-U,I=[],L=0;L<R;L++)I[L]=0<T?P.i(L+U)>>>T|P.i(L+U+1)<<32-T:P.i(L+U);return new o(I,P.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,wL=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,lh=o}).apply(typeof pS<"u"?pS:typeof self<"u"?self:typeof window<"u"?window:{});var mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bL,e0,BL,h1,B5,CL,_L,kL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,D,H){return y==Array.prototype||y==Object.prototype||(y[D]=H.value),y};function r(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof mv=="object"&&mv];for(var D=0;D<y.length;++D){var H=y[D];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var n=r(this);function s(y,D){if(D)e:{var H=n;y=y.split(".");for(var ne=0;ne<y.length-1;ne++){var _e=y[ne];if(!(_e in H))break e;H=H[_e]}y=y[y.length-1],ne=H[y],D=D(ne),D!=ne&&D!=null&&e(H,y,{configurable:!0,writable:!0,value:D})}}function i(y,D){y instanceof String&&(y+="");var H=0,ne=!1,_e={next:function(){if(!ne&&H<y.length){var Se=H++;return{value:D(Se,y[Se]),done:!1}}return ne=!0,{done:!0,value:void 0}}};return _e[Symbol.iterator]=function(){return _e},_e}s("Array.prototype.values",function(y){return y||function(){return i(this,function(D,H){return H})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(y){var D=typeof y;return D=D!="object"?D:y?Array.isArray(y)?"array":D:"null",D=="array"||D=="object"&&typeof y.length=="number"}function c(y){var D=typeof y;return D=="object"&&y!=null||D=="function"}function u(y,D,H){return y.call.apply(y.bind,arguments)}function d(y,D,H){if(!y)throw Error();if(2<arguments.length){var ne=Array.prototype.slice.call(arguments,2);return function(){var _e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_e,ne),y.apply(D,_e)}}return function(){return y.apply(D,arguments)}}function h(y,D,H){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,h.apply(null,arguments)}function f(y,D){var H=Array.prototype.slice.call(arguments,1);return function(){var ne=H.slice();return ne.push.apply(ne,arguments),y.apply(this,ne)}}function m(y,D){function H(){}H.prototype=D.prototype,y.aa=D.prototype,y.prototype=new H,y.prototype.constructor=y,y.Qb=function(ne,_e,Se){for(var at=Array(arguments.length-2),er=2;er<arguments.length;er++)at[er-2]=arguments[er];return D.prototype[_e].apply(ne,at)}}function v(y){const D=y.length;if(0<D){const H=Array(D);for(let ne=0;ne<D;ne++)H[ne]=y[ne];return H}return[]}function _(y,D){for(let H=1;H<arguments.length;H++){const ne=arguments[H];if(l(ne)){const _e=y.length||0,Se=ne.length||0;y.length=_e+Se;for(let at=0;at<Se;at++)y[_e+at]=ne[at]}else y.push(ne)}}class x{constructor(D,H){this.i=D,this.j=H,this.h=0,this.g=null}get(){let D;return 0<this.h?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}function b(y){return/^[\s\xa0]*$/.test(y)}function E(){var y=a.navigator;return y&&(y=y.userAgent)?y:""}function N(y){return N[" "](y),y}N[" "]=function(){};var j=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function O(y,D,H){for(const ne in y)D.call(H,y[ne],ne,y)}function P(y,D){for(const H in y)D.call(void 0,y[H],H,y)}function T(y){const D={};for(const H in y)D[H]=y[H];return D}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(y,D){let H,ne;for(let _e=1;_e<arguments.length;_e++){ne=arguments[_e];for(H in ne)y[H]=ne[H];for(let Se=0;Se<U.length;Se++)H=U[Se],Object.prototype.hasOwnProperty.call(ne,H)&&(y[H]=ne[H])}}function I(y){var D=1;y=y.split(":");const H=[];for(;0<D&&y.length;)H.push(y.shift()),D--;return y.length&&H.push(y.join(":")),H}function L(y){a.setTimeout(()=>{throw y},0)}function M(){var y=Y;let D=null;return y.g&&(D=y.g,y.g=y.g.next,y.g||(y.h=null),D.next=null),D}class W{constructor(){this.h=this.g=null}add(D,H){const ne=X.get();ne.set(D,H),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var X=new x(()=>new Z,y=>y.reset());class Z{constructor(){this.next=this.g=this.h=null}set(D,H){this.h=D,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,G=!1,Y=new W,ue=()=>{const y=a.Promise.resolve(void 0);ce=()=>{y.then(ke)}};var ke=()=>{for(var y;y=M();){try{y.h.call(y.g)}catch(H){L(H)}var D=X;D.j(y),100>D.h&&(D.h++,y.next=D.g,D.g=y)}G=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(y,D){this.type=y,this.g=this.target=D,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var y=!1,D=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const H=()=>{};a.addEventListener("test",H,D),a.removeEventListener("test",H,D)}catch{}return y}();function he(y,D){if(se.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var H=this.type=y.type,ne=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=D,D=y.relatedTarget){if(j){e:{try{N(D.nodeName);var _e=!0;break e}catch{}_e=!1}_e||(D=null)}}else H=="mouseover"?D=y.fromElement:H=="mouseout"&&(D=y.toElement);this.relatedTarget=D,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:ye[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&he.aa.h.call(this)}}m(he,se);var ye={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Te=0;function pe(y,D,H,ne,_e){this.listener=y,this.proxy=null,this.src=D,this.type=H,this.capture=!!ne,this.ha=_e,this.key=++Te,this.da=this.fa=!1}function Qe(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function De(y){this.src=y,this.g={},this.h=0}De.prototype.add=function(y,D,H,ne,_e){var Se=y.toString();y=this.g[Se],y||(y=this.g[Se]=[],this.h++);var at=We(y,D,ne,_e);return-1<at?(D=y[at],H||(D.fa=!1)):(D=new pe(D,this.src,Se,!!ne,_e),D.fa=H,y.push(D)),D};function Oe(y,D){var H=D.type;if(H in y.g){var ne=y.g[H],_e=Array.prototype.indexOf.call(ne,D,void 0),Se;(Se=0<=_e)&&Array.prototype.splice.call(ne,_e,1),Se&&(Qe(D),y.g[H].length==0&&(delete y.g[H],y.h--))}}function We(y,D,H,ne){for(var _e=0;_e<y.length;++_e){var Se=y[_e];if(!Se.da&&Se.listener==D&&Se.capture==!!H&&Se.ha==ne)return _e}return-1}var mt="closure_lm_"+(1e6*Math.random()|0),Me={};function fe(y,D,H,ne,_e){if(ne&&ne.once)return Ye(y,D,H,ne,_e);if(Array.isArray(D)){for(var Se=0;Se<D.length;Se++)fe(y,D[Se],H,ne,_e);return null}return H=st(H),y&&y[Ce]?y.K(D,H,c(ne)?!!ne.capture:!!ne,_e):Ht(y,D,H,!1,ne,_e)}function Ht(y,D,H,ne,_e,Se){if(!D)throw Error("Invalid event type");var at=c(_e)?!!_e.capture:!!_e,er=ze(y);if(er||(y[mt]=er=new De(y)),H=er.add(D,H,ne,at,Se),H.proxy)return H;if(ne=ft(),H.proxy=ne,ne.src=y,ne.listener=H,y.addEventListener)ae||(_e=at),_e===void 0&&(_e=!1),y.addEventListener(D.toString(),ne,_e);else if(y.attachEvent)y.attachEvent(ct(D.toString()),ne);else if(y.addListener&&y.removeListener)y.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return H}function ft(){function y(H){return D.call(y.src,y.listener,H)}const D=me;return y}function Ye(y,D,H,ne,_e){if(Array.isArray(D)){for(var Se=0;Se<D.length;Se++)Ye(y,D[Se],H,ne,_e);return null}return H=st(H),y&&y[Ce]?y.L(D,H,c(ne)?!!ne.capture:!!ne,_e):Ht(y,D,H,!0,ne,_e)}function lt(y,D,H,ne,_e){if(Array.isArray(D))for(var Se=0;Se<D.length;Se++)lt(y,D[Se],H,ne,_e);else ne=c(ne)?!!ne.capture:!!ne,H=st(H),y&&y[Ce]?(y=y.i,D=String(D).toString(),D in y.g&&(Se=y.g[D],H=We(Se,H,ne,_e),-1<H&&(Qe(Se[H]),Array.prototype.splice.call(Se,H,1),Se.length==0&&(delete y.g[D],y.h--)))):y&&(y=ze(y))&&(D=y.g[D.toString()],y=-1,D&&(y=We(D,H,ne,_e)),(H=-1<y?D[y]:null)&&gt(H))}function gt(y){if(typeof y!="number"&&y&&!y.da){var D=y.src;if(D&&D[Ce])Oe(D.i,y);else{var H=y.type,ne=y.proxy;D.removeEventListener?D.removeEventListener(H,ne,y.capture):D.detachEvent?D.detachEvent(ct(H),ne):D.addListener&&D.removeListener&&D.removeListener(ne),(H=ze(D))?(Oe(H,y),H.h==0&&(H.src=null,D[mt]=null)):Qe(y)}}}function ct(y){return y in Me?Me[y]:Me[y]="on"+y}function me(y,D){if(y.da)y=!0;else{D=new he(D,this);var H=y.listener,ne=y.ha||y.src;y.fa&&gt(y),y=H.call(ne,D)}return y}function ze(y){return y=y[mt],y instanceof De?y:null}var ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function st(y){return typeof y=="function"?y:(y[ot]||(y[ot]=function(D){return y.handleEvent(D)}),y[ot])}function et(){K.call(this),this.i=new De(this),this.M=this,this.F=null}m(et,K),et.prototype[Ce]=!0,et.prototype.removeEventListener=function(y,D,H,ne){lt(this,y,D,H,ne)};function ht(y,D){var H,ne=y.F;if(ne)for(H=[];ne;ne=ne.F)H.push(ne);if(y=y.M,ne=D.type||D,typeof D=="string")D=new se(D,y);else if(D instanceof se)D.target=D.target||y;else{var _e=D;D=new se(ne,y),R(D,_e)}if(_e=!0,H)for(var Se=H.length-1;0<=Se;Se--){var at=D.g=H[Se];_e=vt(at,ne,!0,D)&&_e}if(at=D.g=y,_e=vt(at,ne,!0,D)&&_e,_e=vt(at,ne,!1,D)&&_e,H)for(Se=0;Se<H.length;Se++)at=D.g=H[Se],_e=vt(at,ne,!1,D)&&_e}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var y=this.i,D;for(D in y.g){for(var H=y.g[D],ne=0;ne<H.length;ne++)Qe(H[ne]);delete y.g[D],y.h--}}this.F=null},et.prototype.K=function(y,D,H,ne){return this.i.add(String(y),D,!1,H,ne)},et.prototype.L=function(y,D,H,ne){return this.i.add(String(y),D,!0,H,ne)};function vt(y,D,H,ne){if(D=y.i.g[String(D)],!D)return!0;D=D.concat();for(var _e=!0,Se=0;Se<D.length;++Se){var at=D[Se];if(at&&!at.da&&at.capture==H){var er=at.listener,Fr=at.ha||at.src;at.fa&&Oe(y.i,at),_e=er.call(Fr,ne)!==!1&&_e}}return _e&&!ne.defaultPrevented}function Ie(y,D,H){if(typeof y=="function")H&&(y=h(y,H));else if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(D)?-1:a.setTimeout(y,D||0)}function je(y){y.g=Ie(()=>{y.g=null,y.i&&(y.i=!1,je(y))},y.l);const D=y.h;y.h=null,y.m.apply(null,D)}class qe extends K{constructor(D,H){super(),this.m=D,this.l=H,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:je(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tt(y){K.call(this),this.h=y,this.g={}}m(tt,K);var Pt=[];function Bt(y){O(y.g,function(D,H){this.g.hasOwnProperty(H)&&gt(D)},y),y.g={}}tt.prototype.N=function(){tt.aa.N.call(this),Bt(this)},tt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zt=a.JSON.stringify,An=a.JSON.parse,sr=class{stringify(y){return a.JSON.stringify(y,void 0)}parse(y){return a.JSON.parse(y,void 0)}};function us(){}us.prototype.h=null;function pr(y){return y.h||(y.h=y.i())}function Xn(){}var Xt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yt(){se.call(this,"d")}m(yt,se);function At(){se.call(this,"c")}m(At,se);var Ct={},Ar=null;function ur(){return Ar=Ar||new et}Ct.La="serverreachability";function Vn(y){se.call(this,Ct.La,y)}m(Vn,se);function Hn(y){const D=ur();ht(D,new Vn(D))}Ct.STAT_EVENT="statevent";function Qt(y,D){se.call(this,Ct.STAT_EVENT,y),this.stat=D}m(Qt,se);function Hr(y){const D=ur();ht(D,new Qt(D,y))}Ct.Ma="timingevent";function Ui(y,D){se.call(this,Ct.Ma,y),this.size=D}m(Ui,se);function En(y,D){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){y()},D)}function Mt(){this.g=!0}Mt.prototype.xa=function(){this.g=!1};function en(y,D,H,ne,_e,Se){y.info(function(){if(y.g)if(Se)for(var at="",er=Se.split("&"),Fr=0;Fr<er.length;Fr++){var $t=er[Fr].split("=");if(1<$t.length){var mr=$t[0];$t=$t[1];var Sn=mr.split("_");at=2<=Sn.length&&Sn[1]=="type"?at+(mr+"="+$t+"&"):at+(mr+"=redacted&")}}else at=null;else at=Se;return"XMLHTTP REQ ("+ne+") [attempt "+_e+"]: "+D+`
`+H+`
`+at})}function ws(y,D,H,ne,_e,Se,at){y.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+_e+"]: "+D+`
`+H+`
`+Se+" "+at})}function In(y,D,H,ne){y.info(function(){return"XMLHTTP TEXT ("+D+"): "+oi(y,H)+(ne?" "+ne:"")})}function Di(y,D){y.info(function(){return"TIMEOUT: "+D})}Mt.prototype.info=function(){};function oi(y,D){if(!y.g)return D;if(!D)return null;try{var H=JSON.parse(D);if(H){for(y=0;y<H.length;y++)if(Array.isArray(H[y])){var ne=H[y];if(!(2>ne.length)){var _e=ne[1];if(Array.isArray(_e)&&!(1>_e.length)){var Se=_e[0];if(Se!="noop"&&Se!="stop"&&Se!="close")for(var at=1;at<_e.length;at++)_e[at]=""}}}}return zt(H)}catch{return D}}var bs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gs;function Bs(){}m(Bs,us),Bs.prototype.g=function(){return new XMLHttpRequest},Bs.prototype.i=function(){return{}},Gs=new Bs;function Jn(y,D,H,ne){this.j=y,this.i=D,this.l=H,this.R=ne||1,this.U=new tt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oo}function oo(){this.i=null,this.g="",this.h=!1}var ha={},fa={};function ga(y,D,H){y.L=1,y.v=kl(ci(D)),y.m=H,y.P=!0,Qa(y,null)}function Qa(y,D){y.F=Date.now(),Bl(y),y.A=ci(y.v);var H=y.A,ne=y.R;Array.isArray(ne)||(ne=[String(ne)]),Sc(H.i,"t",ne),y.C=0,H=y.j.J,y.h=new oo,y.g=ge(y.j,H?D:null,!y.m),0<y.O&&(y.M=new qe(h(y.Y,y,y.g),y.O)),D=y.U,H=y.g,ne=y.ca;var _e="readystatechange";Array.isArray(_e)||(_e&&(Pt[0]=_e.toString()),_e=Pt);for(var Se=0;Se<_e.length;Se++){var at=fe(H,_e[Se],ne||D.handleEvent,!1,D.h||D);if(!at)break;D.g[at.key]=at}D=y.H?T(y.H):{},y.m?(y.u||(y.u="POST"),D["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,D)):(y.u="GET",y.g.ea(y.A,y.u,null,D)),Hn(),en(y.i,y.u,y.A,y.l,y.R,y.m)}Jn.prototype.ca=function(y){y=y.target;const D=this.M;D&&Oi(y)==3?D.j():this.Y(y)},Jn.prototype.Y=function(y){try{if(y==this.g)e:{const Sn=Oi(this.g);var D=this.g.Ba();const Zn=this.g.Z();if(!(3>Sn)&&(Sn!=3||this.g&&(this.h.h||this.g.oa()||Ho(this.g)))){this.J||Sn!=4||D==7||(D==8||0>=Zn?Hn(3):Hn(2)),Oa(this);var H=this.g.Z();this.X=H;t:if(vA(this)){var ne=Ho(this.g);y="";var _e=ne.length,Se=Oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){li(this),ao(this);var at="";break t}this.h.i=new a.TextDecoder}for(D=0;D<_e;D++)this.h.h=!0,y+=this.h.i.decode(ne[D],{stream:!(Se&&D==_e-1)});ne.length=0,this.h.g+=y,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=H==200,ws(this.i,this.u,this.A,this.l,this.R,Sn,H),this.o){if(this.T&&!this.K){t:{if(this.g){var er,Fr=this.g;if((er=Fr.g?Fr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(er)){var $t=er;break t}}$t=null}if(H=$t)In(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oo(this,H);else{this.o=!1,this.s=3,Hr(12),li(this),ao(this);break e}}if(this.P){H=!0;let yr;for(;!this.J&&this.C<at.length;)if(yr=yd(this,at),yr==fa){Sn==4&&(this.s=4,Hr(14),H=!1),In(this.i,this.l,null,"[Incomplete Response]");break}else if(yr==ha){this.s=4,Hr(15),In(this.i,this.l,at,"[Invalid Chunk]"),H=!1;break}else In(this.i,this.l,yr,null),Oo(this,yr);if(vA(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sn!=4||at.length!=0||this.h.h||(this.s=1,Hr(16),H=!1),this.o=this.o&&H,!H)In(this.i,this.l,at,"[Invalid Chunked Response]"),li(this),ao(this);else if(0<at.length&&!this.W){this.W=!0;var mr=this.j;mr.g==this&&mr.ba&&!mr.M&&(mr.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),EA(mr),mr.M=!0,Hr(11))}}else In(this.i,this.l,at,null),Oo(this,at);Sn==4&&li(this),this.o&&!this.J&&(Sn==4?jl(this.j,this):(this.o=!1,Bl(this)))}else Rs(this.g),H==400&&0<at.indexOf("Unknown SID")?(this.s=3,Hr(12)):(this.s=0,Hr(13)),li(this),ao(this)}}}catch{}finally{}};function vA(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function yd(y,D){var H=y.C,ne=D.indexOf(`
`,H);return ne==-1?fa:(H=Number(D.substring(H,ne)),isNaN(H)?ha:(ne+=1,ne+H>D.length?fa:(D=D.slice(ne,ne+H),y.C=ne+H,D)))}Jn.prototype.cancel=function(){this.J=!0,li(this)};function Bl(y){y.S=Date.now()+y.I,Ri(y,y.I)}function Ri(y,D){if(y.B!=null)throw Error("WatchDog timer not null");y.B=En(h(y.ba,y),D)}function Oa(y){y.B&&(a.clearTimeout(y.B),y.B=null)}Jn.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(Di(this.i,this.A),this.L!=2&&(Hn(),Hr(17)),li(this),this.s=2,ao(this)):Ri(this,this.S-y)};function ao(y){y.j.G==0||y.J||jl(y.j,y)}function li(y){Oa(y);var D=y.M;D&&typeof D.ma=="function"&&D.ma(),y.M=null,Bt(y.U),y.g&&(D=y.g,y.g=null,D.abort(),D.ma())}function Oo(y,D){try{var H=y.j;if(H.G!=0&&(H.g==y||tn(H.h,y))){if(!y.K&&tn(H.h,y)&&H.G==3){try{var ne=H.Da.g.parse(D)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var _e=ne;if(_e[0]==0){e:if(!H.u){if(H.g)if(H.g.F+3e3<y.F)yo(H),ds(H);else break e;Tl(H),Hr(18)}}else H.za=_e[1],0<H.za-H.T&&37500>_e[2]&&H.F&&H.v==0&&!H.C&&(H.C=En(h(H.Za,H),6e3));if(1>=pa(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else Vi(H,11)}else if((y.K||H.g==y)&&yo(H),!b(D))for(_e=H.Da.g.parse(D),D=0;D<_e.length;D++){let $t=_e[D];if(H.T=$t[0],$t=$t[1],H.G==2)if($t[0]=="c"){H.K=$t[1],H.ia=$t[2];const mr=$t[3];mr!=null&&(H.la=mr,H.j.info("VER="+H.la));const Sn=$t[4];Sn!=null&&(H.Aa=Sn,H.j.info("SVER="+H.Aa));const Zn=$t[5];Zn!=null&&typeof Zn=="number"&&0<Zn&&(ne=1.5*Zn,H.L=ne,H.j.info("backChannelRequestTimeoutMs_="+ne)),ne=H;const yr=y.g;if(yr){const vo=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vo){var Se=ne.h;Se.g||vo.indexOf("spdy")==-1&&vo.indexOf("quic")==-1&&vo.indexOf("h2")==-1||(Se.j=Se.l,Se.g=new Set,Se.h&&(Cl(Se,Se.h),Se.h=null))}if(ne.D){const rn=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;rn&&(ne.ya=rn,jr(ne.I,ne.D,rn))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-y.F,H.j.info("Handshake RTT: "+H.R+"ms")),ne=H;var at=y;if(ne.qa=q(ne,ne.J?ne.ia:null,ne.W),at.K){xA(ne.h,at);var er=at,Fr=ne.L;Fr&&(er.I=Fr),er.B&&(Oa(er),Bl(er)),ne.g=at}else Nl(ne);0<H.i.length&&po(H)}else $t[0]!="stop"&&$t[0]!="close"||Vi(H,7);else H.G==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Vi(H,7):CA(H):$t[0]!="noop"&&H.l&&H.l.ta($t),H.v=0)}}Hn(4)}catch{}}var Cc=class{constructor(y,D){this.g=y,this.map=D}};function _c(y){this.l=y||10,a.PerformanceNavigationTiming?(y=a.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lo(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function pa(y){return y.h?1:y.g?y.g.size:0}function tn(y,D){return y.h?y.h==D:y.g?y.g.has(D):!1}function Cl(y,D){y.g?y.g.add(D):y.h=D}function xA(y,D){y.h&&y.h==D?y.h=null:y.g&&y.g.has(D)&&y.g.delete(D)}_c.prototype.cancel=function(){if(this.i=ma(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function ma(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let D=y.i;for(const H of y.g.values())D=D.concat(H.D);return D}return v(y.i)}function ya(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(l(y)){for(var D=[],H=y.length,ne=0;ne<H;ne++)D.push(y[ne]);return D}D=[],H=0;for(ne in y)D[H++]=y[ne];return D}function Va(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(l(y)||typeof y=="string"){var D=[];y=y.length;for(var H=0;H<y;H++)D.push(H);return D}D=[],H=0;for(const ne in y)D[H++]=ne;return D}}}function Ai(y,D){if(y.forEach&&typeof y.forEach=="function")y.forEach(D,void 0);else if(l(y)||typeof y=="string")Array.prototype.forEach.call(y,D,void 0);else for(var H=Va(y),ne=ya(y),_e=ne.length,Se=0;Se<_e;Se++)D.call(void 0,ne[Se],H&&H[Se],y)}var fn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Us(y,D){if(y){y=y.split("&");for(var H=0;H<y.length;H++){var ne=y[H].indexOf("="),_e=null;if(0<=ne){var Se=y[H].substring(0,ne);_e=y[H].substring(ne+1)}else Se=y[H];D(Se,_e?decodeURIComponent(_e.replace(/\+/g," ")):"")}}}function Mi(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof Mi){this.h=y.h,_l(this,y.j),this.o=y.o,this.g=y.g,Ha(this,y.s),this.l=y.l;var D=y.i,H=new gn;H.i=D.i,D.g&&(H.g=new Map(D.g),H.h=D.h),kc(this,H),this.m=y.m}else y&&(D=String(y).match(fn))?(this.h=!1,_l(this,D[1]||"",!0),this.o=ui(D[2]||""),this.g=ui(D[3]||"",!0),Ha(this,D[4]),this.l=ui(D[5]||"",!0),kc(this,D[6]||"",!0),this.m=ui(D[7]||"")):(this.h=!1,this.i=new gn(null,this.h))}Mi.prototype.toString=function(){var y=[],D=this.j;D&&y.push(Ka(D,Ic,!0),":");var H=this.g;return(H||D=="file")&&(y.push("//"),(D=this.o)&&y.push(Ka(D,Ic,!0),"@"),y.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.s,H!=null&&y.push(":",String(H))),(H=this.l)&&(this.g&&H.charAt(0)!="/"&&y.push("/"),y.push(Ka(H,H.charAt(0)=="/"?za:Vo,!0))),(H=this.i.toString())&&y.push("?",H),(H=this.m)&&y.push("#",Ka(H,Ao)),y.join("")};function ci(y){return new Mi(y)}function _l(y,D,H){y.j=H?ui(D,!0):D,y.j&&(y.j=y.j.replace(/:$/,""))}function Ha(y,D){if(D){if(D=Number(D),isNaN(D)||0>D)throw Error("Bad port number "+D);y.s=D}else y.s=null}function kc(y,D,H){D instanceof gn?(y.i=D,uo(y.i,y.h)):(H||(D=Ka(D,va)),y.i=new gn(D,y.h))}function jr(y,D,H){y.i.set(D,H)}function kl(y){return jr(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function ui(y,D){return y?D?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Ka(y,D,H){return typeof y=="string"?(y=encodeURI(y).replace(D,Ec),H&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Ec(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Ic=/[#\/\?@]/g,Vo=/[#\?:]/g,za=/[#\?]/g,va=/[#\?@]/g,Ao=/#/g;function gn(y,D){this.h=this.g=null,this.i=y||null,this.j=!!D}function co(y){y.g||(y.g=new Map,y.h=0,y.i&&Us(y.i,function(D,H){y.add(decodeURIComponent(D.replace(/\+/g," ")),H)}))}t=gn.prototype,t.add=function(y,D){co(this),this.i=null,y=xa(this,y);var H=this.g.get(y);return H||this.g.set(y,H=[]),H.push(D),this.h+=1,this};function wA(y,D){co(y),D=xa(y,D),y.g.has(D)&&(y.i=null,y.h-=y.g.get(D).length,y.g.delete(D))}function Gt(y,D){return co(y),D=xa(y,D),y.g.has(D)}t.forEach=function(y,D){co(this),this.g.forEach(function(H,ne){H.forEach(function(_e){y.call(D,_e,ne,this)},this)},this)},t.na=function(){co(this);const y=Array.from(this.g.values()),D=Array.from(this.g.keys()),H=[];for(let ne=0;ne<D.length;ne++){const _e=y[ne];for(let Se=0;Se<_e.length;Se++)H.push(D[ne])}return H},t.V=function(y){co(this);let D=[];if(typeof y=="string")Gt(this,y)&&(D=D.concat(this.g.get(xa(this,y))));else{y=Array.from(this.g.values());for(let H=0;H<y.length;H++)D=D.concat(y[H])}return D},t.set=function(y,D){return co(this),this.i=null,y=xa(this,y),Gt(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[D]),this.h+=1,this},t.get=function(y,D){return y?(y=this.V(y),0<y.length?String(y[0]):D):D};function Sc(y,D,H){wA(y,D),0<H.length&&(y.i=null,y.g.set(xa(y,D),v(H)),y.h+=H.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],D=Array.from(this.g.keys());for(var H=0;H<D.length;H++){var ne=D[H];const Se=encodeURIComponent(String(ne)),at=this.V(ne);for(ne=0;ne<at.length;ne++){var _e=Se;at[ne]!==""&&(_e+="="+encodeURIComponent(String(at[ne]))),y.push(_e)}}return this.i=y.join("&")};function xa(y,D){return D=String(D),y.j&&(D=D.toLowerCase()),D}function uo(y,D){D&&!y.j&&(co(y),y.i=null,y.g.forEach(function(H,ne){var _e=ne.toLowerCase();ne!=_e&&(wA(this,ne),Sc(this,_e,H))},y)),y.j=D}function Nc(y,D){const H=new Mt;if(a.Image){const ne=new Image;ne.onload=f(Ws,H,"TestLoadImage: loaded",!0,D,ne),ne.onerror=f(Ws,H,"TestLoadImage: error",!1,D,ne),ne.onabort=f(Ws,H,"TestLoadImage: abort",!1,D,ne),ne.ontimeout=f(Ws,H,"TestLoadImage: timeout",!1,D,ne),a.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=y}else D(!1)}function Tc(y,D){const H=new Mt,ne=new AbortController,_e=setTimeout(()=>{ne.abort(),Ws(H,"TestPingServer: timeout",!1,D)},1e4);fetch(y,{signal:ne.signal}).then(Se=>{clearTimeout(_e),Se.ok?Ws(H,"TestPingServer: ok",!0,D):Ws(H,"TestPingServer: server error",!1,D)}).catch(()=>{clearTimeout(_e),Ws(H,"TestPingServer: error",!1,D)})}function Ws(y,D,H,ne,_e){try{_e&&(_e.onload=null,_e.onerror=null,_e.onabort=null,_e.ontimeout=null),ne(H)}catch{}}function Ds(){this.g=new sr}function jc(y,D,H){const ne=H||"";try{Ai(y,function(_e,Se){let at=_e;c(_e)&&(at=zt(_e)),D.push(ne+Se+"="+encodeURIComponent(at))})}catch(_e){throw D.push(ne+"type="+encodeURIComponent("_badmap")),_e}}function Ga(y){this.l=y.Ub||null,this.j=y.eb||!1}m(Ga,us),Ga.prototype.g=function(){return new Wa(this.l,this.j)},Ga.prototype.i=function(y){return function(){return y}}({});function Wa(y,D){et.call(this),this.D=y,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Wa,et),t=Wa.prototype,t.open=function(y,D){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=D,this.readyState=1,di(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const D={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(D.body=y),(this.D||a).fetch(new Request(this.A,D)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qi(this)),this.readyState=0},t.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;El(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function El(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}t.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var D=y.value?y.value:new Uint8Array(0);(D=this.v.decode(D,{stream:!y.done}))&&(this.response=this.responseText+=D)}y.done?Qi(this):di(this),this.readyState==3&&El(this)}},t.Ra=function(y){this.g&&(this.response=this.responseText=y,Qi(this))},t.Qa=function(y){this.g&&(this.response=y,Qi(this))},t.ga=function(){this.g&&Qi(this)};function Qi(y){y.readyState=4,y.l=null,y.j=null,y.v=null,di(y)}t.setRequestHeader=function(y,D){this.u.append(y,D)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],D=this.h.entries();for(var H=D.next();!H.done;)H=H.value,y.push(H[0]+": "+H[1]),H=D.next();return y.join(`\r
`)};function di(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function bA(y){let D="";return O(y,function(H,ne){D+=ne,D+=":",D+=H,D+=`\r
`}),D}function ho(y,D,H){e:{for(ne in H){var ne=!1;break e}ne=!0}ne||(H=bA(H),typeof y=="string"?H!=null&&encodeURIComponent(String(H)):jr(y,D,H))}function Rr(y){et.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Rr,et);var Il=/^https?$/i,Fc=["POST","PUT"];t=Rr.prototype,t.Ha=function(y){this.J=y},t.ea=function(y,D,H,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);D=D?D.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gs.g(),this.v=this.o?pr(this.o):pr(Gs),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(D,String(y),!0),this.B=!1}catch(Se){pn(this,Se);return}if(y=H||"",H=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var _e in ne)H.set(_e,ne[_e]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(const Se of ne.keys())H.set(Se,ne.get(Se));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(H.keys()).find(Se=>Se.toLowerCase()=="content-type"),_e=a.FormData&&y instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Fc,D,void 0))||ne||_e||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Se,at]of H)this.g.setRequestHeader(Se,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{go(this),this.u=!0,this.g.send(y),this.u=!1}catch(Se){pn(this,Se)}};function pn(y,D){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=D,y.m=5,BA(y),$s(y)}function BA(y){y.A||(y.A=!0,ht(y,"complete"),ht(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,ht(this,"complete"),ht(this,"abort"),$s(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$s(this,!0)),Rr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?fo(this):this.bb())},t.bb=function(){fo(this)};function fo(y){if(y.h&&typeof o<"u"&&(!y.v[1]||Oi(y)!=4||y.Z()!=2)){if(y.u&&Oi(y)==4)Ie(y.Ea,0,y);else if(ht(y,"readystatechange"),Oi(y)==4){y.h=!1;try{const at=y.Z();e:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var H;if(!(H=D)){var ne;if(ne=at===0){var _e=String(y.D).match(fn)[1]||null;!_e&&a.self&&a.self.location&&(_e=a.self.location.protocol.slice(0,-1)),ne=!Il.test(_e?_e.toLowerCase():"")}H=ne}if(H)ht(y,"complete"),ht(y,"success");else{y.m=6;try{var Se=2<Oi(y)?y.g.statusText:""}catch{Se=""}y.l=Se+" ["+y.Z()+"]",BA(y)}}finally{$s(y)}}}}function $s(y,D){if(y.g){go(y);const H=y.g,ne=y.v[0]?()=>{}:null;y.g=null,y.v=null,D||ht(y,"ready");try{H.onreadystatechange=ne}catch{}}}function go(y){y.I&&(a.clearTimeout(y.I),y.I=null)}t.isActive=function(){return!!this.g};function Oi(y){return y.g?y.g.readyState:0}t.Z=function(){try{return 2<Oi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(y){if(this.g){var D=this.g.responseText;return y&&D.indexOf(y)==0&&(D=D.substring(y.length)),An(D)}};function Ho(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Rs(y){const D={};y=(y.g&&2<=Oi(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<y.length;ne++){if(b(y[ne]))continue;var H=I(y[ne]);const _e=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const Se=D[_e]||[];D[_e]=Se,Se.push(H)}P(D,function(ne){return ne.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(y,D,H){return H&&H.internalChannelParams&&H.internalChannelParams[y]||D}function Ko(y){this.Aa=0,this.i=[],this.j=new Mt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hi("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hi("baseRetryDelayMs",5e3,y),this.cb=hi("retryDelaySeedMs",1e4,y),this.Wa=hi("forwardChannelMaxRetries",2,y),this.wa=hi("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new _c(y&&y.concurrentRequestLimit),this.Da=new Ds,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ko.prototype,t.la=8,t.G=1,t.connect=function(y,D,H,ne){Hr(0),this.W=y,this.H=D||{},H&&ne!==void 0&&(this.H.OSID=H,this.H.OAID=ne),this.F=this.X,this.I=q(this,null,this.W),po(this)};function CA(y){if($a(y),y.G==3){var D=y.U++,H=ci(y.I);if(jr(H,"SID",y.K),jr(H,"RID",D),jr(H,"TYPE","terminate"),mo(y,H),D=new Jn(y,y.j,D),D.L=2,D.v=kl(ci(H)),H=!1,a.navigator&&a.navigator.sendBeacon)try{H=a.navigator.sendBeacon(D.v.toString(),"")}catch{}!H&&a.Image&&(new Image().src=D.v,H=!0),H||(D.g=ge(D.j,null),D.g.ea(D.v)),D.F=Date.now(),Bl(D)}S(y)}function ds(y){y.g&&(EA(y),y.g.cancel(),y.g=null)}function $a(y){ds(y),y.u&&(a.clearTimeout(y.u),y.u=null),yo(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&a.clearTimeout(y.s),y.s=null)}function po(y){if(!lo(y.h)&&!y.s){y.s=!0;var D=y.Ga;ce||ue(),G||(ce(),G=!0),Y.add(D,y),y.B=0}}function _A(y,D){return pa(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=D.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=En(h(y.Ga,y,D),zo(y,y.B)),y.B++,!0)}t.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const _e=new Jn(this,this.j,y);let Se=this.o;if(this.S&&(Se?(Se=T(Se),R(Se,this.S)):Se=this.S),this.m!==null||this.O||(_e.H=Se,Se=null),this.P)e:{for(var D=0,H=0;H<this.i.length;H++){t:{var ne=this.i[H];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if(D+=ne,4096<D){D=H;break e}if(D===4096||H===this.i.length-1){D=H+1;break e}}D=1e3}else D=1e3;D=Sl(this,_e,D),H=ci(this.I),jr(H,"RID",y),jr(H,"CVER",22),this.D&&jr(H,"X-HTTP-Session-Id",this.D),mo(this,H),Se&&(this.O?D="headers="+encodeURIComponent(String(bA(Se)))+"&"+D:this.m&&ho(H,this.m,Se)),Cl(this.h,_e),this.Ua&&jr(H,"TYPE","init"),this.P?(jr(H,"$req",D),jr(H,"SID","null"),_e.T=!0,ga(_e,H,null)):ga(_e,H,D),this.G=2}}else this.G==3&&(y?kA(this,y):this.i.length==0||lo(this.h)||kA(this))};function kA(y,D){var H;D?H=D.l:H=y.U++;const ne=ci(y.I);jr(ne,"SID",y.K),jr(ne,"RID",H),jr(ne,"AID",y.T),mo(y,ne),y.m&&y.o&&ho(ne,y.m,y.o),H=new Jn(y,y.j,H,y.B+1),y.m===null&&(H.H=y.o),D&&(y.i=D.D.concat(y.i)),D=Sl(y,H,1e3),H.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),Cl(y.h,H),ga(H,ne,D)}function mo(y,D){y.H&&O(y.H,function(H,ne){jr(D,ne,H)}),y.l&&Ai({},function(H,ne){jr(D,ne,H)})}function Sl(y,D,H){H=Math.min(y.i.length,H);var ne=y.l?h(y.l.Na,y.l,y):null;e:{var _e=y.i;let Se=-1;for(;;){const at=["count="+H];Se==-1?0<H?(Se=_e[0].g,at.push("ofs="+Se)):Se=0:at.push("ofs="+Se);let er=!0;for(let Fr=0;Fr<H;Fr++){let $t=_e[Fr].g;const mr=_e[Fr].map;if($t-=Se,0>$t)Se=Math.max(0,_e[Fr].g-100),er=!1;else try{jc(mr,at,"req"+$t+"_")}catch{ne&&ne(mr)}}if(er){ne=at.join("&");break e}}}return y=y.i.splice(0,H),D.D=y,ne}function Nl(y){if(!y.g&&!y.u){y.Y=1;var D=y.Fa;ce||ue(),G||(ce(),G=!0),Y.add(D,y),y.v=0}}function Tl(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=En(h(y.Fa,y),zo(y,y.v)),y.v++,!0)}t.Fa=function(){if(this.u=null,qa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=En(h(this.ab,this),y)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Hr(10),ds(this),qa(this))};function EA(y){y.A!=null&&(a.clearTimeout(y.A),y.A=null)}function qa(y){y.g=new Jn(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var D=ci(y.qa);jr(D,"RID","rpc"),jr(D,"SID",y.K),jr(D,"AID",y.T),jr(D,"CI",y.F?"0":"1"),!y.F&&y.ja&&jr(D,"TO",y.ja),jr(D,"TYPE","xmlhttp"),mo(y,D),y.m&&y.o&&ho(D,y.m,y.o),y.L&&(y.g.I=y.L);var H=y.g;y=y.ia,H.L=1,H.v=kl(ci(D)),H.m=null,H.P=!0,Qa(H,y)}t.Za=function(){this.C!=null&&(this.C=null,ds(this),Tl(this),Hr(19))};function yo(y){y.C!=null&&(a.clearTimeout(y.C),y.C=null)}function jl(y,D){var H=null;if(y.g==D){yo(y),EA(y),y.g=null;var ne=2}else if(tn(y.h,D))H=D.D,xA(y.h,D),ne=1;else return;if(y.G!=0){if(D.o)if(ne==1){H=D.m?D.m.length:0,D=Date.now()-D.F;var _e=y.B;ne=ur(),ht(ne,new Ui(ne,H)),po(y)}else Nl(y);else if(_e=D.s,_e==3||_e==0&&0<D.X||!(ne==1&&_A(y,D)||ne==2&&Tl(y)))switch(H&&0<H.length&&(D=y.h,D.i=D.i.concat(H)),_e){case 1:Vi(y,5);break;case 4:Vi(y,10);break;case 3:Vi(y,6);break;default:Vi(y,2)}}}function zo(y,D){let H=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(H*=2),H*D}function Vi(y,D){if(y.j.info("Error code "+D),D==2){var H=h(y.fb,y),ne=y.Xa;const _e=!ne;ne=new Mi(ne||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||_l(ne,"https"),kl(ne),_e?Nc(ne.toString(),H):Tc(ne.toString(),H)}else Hr(2);y.G=0,y.l&&y.l.sa(D),S(y),$a(y)}t.fb=function(y){y?(this.j.info("Successfully pinged google.com"),Hr(2)):(this.j.info("Failed to ping google.com"),Hr(1))};function S(y){if(y.G=0,y.ka=[],y.l){const D=ma(y.h);(D.length!=0||y.i.length!=0)&&(_(y.ka,D),_(y.ka,y.i),y.h.i.length=0,v(y.i),y.i.length=0),y.l.ra()}}function q(y,D,H){var ne=H instanceof Mi?ci(H):new Mi(H);if(ne.g!="")D&&(ne.g=D+"."+ne.g),Ha(ne,ne.s);else{var _e=a.location;ne=_e.protocol,D=D?D+"."+_e.hostname:_e.hostname,_e=+_e.port;var Se=new Mi(null);ne&&_l(Se,ne),D&&(Se.g=D),_e&&Ha(Se,_e),H&&(Se.l=H),ne=Se}return H=y.D,D=y.ya,H&&D&&jr(ne,H,D),jr(ne,"VER",y.la),mo(y,ne),ne}function ge(y,D,H){if(D&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return D=y.Ca&&!y.pa?new Rr(new Ga({eb:H})):new Rr(y.pa),D.Ha(y.J),D}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ve(){}t=ve.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fe(){}Fe.prototype.g=function(y,D){return new Ve(y,D)};function Ve(y,D){et.call(this),this.g=new Ko(D),this.l=y,this.h=D&&D.messageUrlParams||null,y=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(y?y["X-WebChannel-Content-Type"]=D.messageContentType:y={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.va&&(y?y["X-WebChannel-Client-Profile"]=D.va:y={"X-WebChannel-Client-Profile":D.va}),this.g.S=y,(y=D&&D.Sb)&&!b(y)&&(this.g.m=y),this.v=D&&D.supportsCrossDomainXhr||!1,this.u=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!b(D)&&(this.g.D=D,y=this.h,y!==null&&D in y&&(y=this.h,D in y&&delete y[D])),this.j=new Dt(this)}m(Ve,et),Ve.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ve.prototype.close=function(){CA(this.g)},Ve.prototype.o=function(y){var D=this.g;if(typeof y=="string"){var H={};H.__data__=y,y=H}else this.u&&(H={},H.__data__=zt(y),y=H);D.i.push(new Cc(D.Ya++,y)),D.G==3&&po(D)},Ve.prototype.N=function(){this.g.l=null,delete this.j,CA(this.g),delete this.g,Ve.aa.N.call(this)};function nt(y){yt.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var D=y.__sm__;if(D){e:{for(const H in D){y=H;break e}y=void 0}(this.i=y)&&(y=this.i,D=D!==null&&y in D?D[y]:void 0),this.data=D}else this.data=y}m(nt,yt);function kt(){At.call(this),this.status=1}m(kt,At);function Dt(y){this.g=y}m(Dt,ve),Dt.prototype.ua=function(){ht(this.g,"a")},Dt.prototype.ta=function(y){ht(this.g,new nt(y))},Dt.prototype.sa=function(y){ht(this.g,new kt)},Dt.prototype.ra=function(){ht(this.g,"b")},Fe.prototype.createWebChannel=Fe.prototype.g,Ve.prototype.send=Ve.prototype.o,Ve.prototype.open=Ve.prototype.m,Ve.prototype.close=Ve.prototype.close,kL=function(){return new Fe},_L=function(){return ur()},CL=Ct,B5={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,h1=bs,ai.COMPLETE="complete",BL=ai,Xn.EventType=Xt,Xt.OPEN="a",Xt.CLOSE="b",Xt.ERROR="c",Xt.MESSAGE="d",et.prototype.listen=et.prototype.K,e0=Xn,Rr.prototype.listenOnce=Rr.prototype.L,Rr.prototype.getLastError=Rr.prototype.Ka,Rr.prototype.getLastErrorCode=Rr.prototype.Ba,Rr.prototype.getStatus=Rr.prototype.Z,Rr.prototype.getResponseJson=Rr.prototype.Oa,Rr.prototype.getResponseText=Rr.prototype.oa,Rr.prototype.send=Rr.prototype.ea,Rr.prototype.setWithCredentials=Rr.prototype.Ha,bL=Rr}).apply(typeof mv<"u"?mv:typeof self<"u"?self:typeof window<"u"?window:{});const mS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ri=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ri.UNAUTHENTICATED=new ri(null),ri.GOOGLE_CREDENTIALS=new ri("google-credentials-uid"),ri.FIRST_PARTY=new ri("first-party-uid"),ri.MOCK_USER=new ri("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yg="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new M4("@firebase/firestore");function Df(){return Ih.logLevel}function ut(t,...e){if(Ih.logLevel<=br.DEBUG){const r=e.map(X4);Ih.debug(`Firestore (${Yg}): ${t}`,...r)}}function Ji(t,...e){if(Ih.logLevel<=br.ERROR){const r=e.map(X4);Ih.error(`Firestore (${Yg}): ${t}`,...r)}}function Sh(t,...e){if(Ih.logLevel<=br.WARN){const r=e.map(X4);Ih.warn(`Firestore (${Yg}): ${t}`,...r)}}function X4(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t="Unexpected state"){const e=`FIRESTORE (${Yg}) INTERNAL ASSERTION FAILED: `+t;throw Ji(e),new Error(e)}function Kt(t,e){t||Vt()}function nr(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bt extends pA{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(ri.UNAUTHENTICATED))}shutdown(){}}class KG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class zG{constructor(e){this.t=e,this.currentUser=ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Kt(this.o===void 0);let n=this.i;const s=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new oA;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new oA,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new oA)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Kt(typeof n.accessToken=="string"),new EL(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kt(e===null||typeof e=="string"),new ri(e)}}class GG{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=ri.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class WG{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new GG(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $G{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qG{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Kt(this.o===void 0);const n=i=>{i.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ut("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const s=i=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Kt(typeof r.token=="string"),this.R=r.token,new $G(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const s=YG(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<r&&(n+=e.charAt(s[i]%e.length))}return n}}function cr(t,e){return t<e?-1:t>e?1:0}function Eg(t,e,r){return t.length===e.length&&t.every((n,s)=>r(n,e[s]))}function SL(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new bt($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new bt($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new bt($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new bt($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mn.fromMillis(Date.now())}static fromDate(e){return Mn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Mn(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?cr(this.nanoseconds,e.nanoseconds):cr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Yt(e)}static min(){return new Yt(new Mn(0,0))}static max(){return new Yt(new Mn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,r,n){r===void 0?r=0:r>e.length&&Vt(),n===void 0?n=e.length-r:n>e.length-r&&Vt(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return dm.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof dm?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const i=e.get(s),o=r.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Vr extends dm{construct(e,r,n){return new Vr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new bt($e.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(s=>s.length>0))}return new Vr(r)}static emptyPath(){return new Vr([])}}const XG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends dm{construct(e,r,n){return new Ln(e,r,n)}static isValidIdentifier(e){return XG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ln(["__name__"])}static fromServerFormat(e){const r=[];let n="",s=0;const i=()=>{if(n.length===0)throw new bt($e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new bt($e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new bt($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(n+=a,s++):(i(),s++)}if(i(),o)throw new bt($e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ln(r)}static emptyPath(){return new Ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.path=e}static fromPath(e){return new It(Vr.fromString(e))}static fromName(e){return new It(Vr.fromString(e).popFirst(5))}static empty(){return new It(Vr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Vr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new It(new Vr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,r,n,s){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=s}}function C5(t){return t.fields.find(e=>e.kind===2)}function Vd(t){return t.fields.filter(e=>e.kind!==2)}px.UNKNOWN_ID=-1;class f1{constructor(e,r){this.fieldPath=e,this.kind=r}}class hm{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new hm(0,la.min())}}function JG(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=Yt.fromTimestamp(n===1e9?new Mn(r+1,0):new Mn(r,n));return new la(s,It.empty(),e)}function NL(t){return new la(t.readTime,t.key,-1)}class la{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new la(Yt.min(),It.empty(),-1)}static max(){return new la(Yt.max(),It.empty(),-1)}}function J4(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=It.comparator(t.documentKey,e.documentKey),r!==0?r:cr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(t){if(t.code!==$e.FAILED_PRECONDITION||t.message!==TL)throw t;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Re((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Re?r:Re.resolve(r)}catch(r){return Re.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Re.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Re.reject(r)}static resolve(e){return new Re((r,n)=>{r(e)})}static reject(e){return new Re((r,n)=>{n(e)})}static waitFor(e){return new Re((r,n)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&r()},l=>n(l))}),o=!0,i===s&&r()})}static or(e){let r=Re.resolve(!1);for(const n of e)r=r.next(s=>s?Re.resolve(s):n());return r}static forEach(e,r){const n=[];return e.forEach((s,i)=>{n.push(r.call(this,s,i))}),this.waitFor(n)}static mapArray(e,r){return new Re((n,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;r(e[c]).next(u=>{o[c]=u,++a,a===i&&n(o)},u=>s(u))}})}static doWhile(e,r){return new Re((n,s)=>{const i=()=>{e()===!0?r().next(()=>{i()},s):n()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new oA,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new B0(e,r.error)):this.V.resolve()},this.transaction.onerror=n=>{const s=Z4(n.target.error);this.V.reject(new B0(e,s))}}static open(e,r,n,s){try{return new ww(r,e.transaction(s,n))}catch(i){throw new B0(r,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ut("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new eW(r)}}class Ku{constructor(e,r,n){this.name=e,this.version=r,this.p=n,Ku.S(Ps())===12.2&&Ji("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ut("SimpleDb","Removing database:",e),qd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!L6())return!1;if(Ku.v())return!0;const e=Ps(),r=Ku.S(e),n=0<r&&r<10,s=FL(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(ut("SimpleDb","Opening database:",this.name),this.db=await new Promise((r,n)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;r(o)},s.onblocked=()=>{n(new B0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?n(new bt($e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?n(new bt($e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):n(new B0(e,o))},s.onupgradeneeded=i=>{ut("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.O(o,s.transaction,i.oldVersion,this.version).next(()=>{ut("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=r=>this.N(r)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,s){const i=r==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=ww.open(this.db,e,i?"readonly":"readwrite",n),l=s(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),Re.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(ut("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function FL(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class ZG{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return qd(this.B.delete())}}class B0 extends bt{constructor(e,r){super($e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function hd(t){return t.name==="IndexedDbTransactionError"}class eW{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(ut("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(ut("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),qd(n)}add(e){return ut("SimpleDb","ADD",this.store.name,e,e),qd(this.store.add(e))}get(e){return qd(this.store.get(e)).next(r=>(r===void 0&&(r=null),ut("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return ut("SimpleDb","DELETE",this.store.name,e),qd(this.store.delete(e))}count(){return ut("SimpleDb","COUNT",this.store.name),qd(this.store.count())}U(e,r){const n=this.options(e,r),s=n.index?this.store.index(n.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(n.range);return new Re((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(n),o=[];return this.W(i,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new Re((s,i)=>{n.onerror=o=>{i(o.target.error)},n.onsuccess=o=>{s(o.target.result)}})}j(e,r){ut("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,r);n.H=!1;const s=this.cursor(n);return this.W(s,(i,o,a)=>a.delete())}J(e,r){let n;r?n=e:(n={},r=e);const s=this.cursor(n);return this.W(s,r)}Y(e){const r=this.cursor({});return new Re((n,s)=>{r.onerror=i=>{const o=Z4(i.target.error);s(o)},r.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():n()}):n()}})}W(e,r){const n=[];return new Re((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new ZG(a),c=r(a.primaryKey,a.value,l);if(c instanceof Re){const u=c.catch(d=>(l.done(),Re.reject(d)));n.push(u)}l.isDone?s():l.K===null?a.continue():a.continue(l.K)}}).next(()=>Re.waitFor(n))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function qd(t){return new Re((e,r)=>{t.onsuccess=n=>{const s=n.target.result;e(s)},t.onerror=n=>{const s=Z4(n.target.error);r(s)}})}let yS=!1;function Z4(t){const e=Ku.S(Ps());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new bt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yS||(yS=!0,setTimeout(()=>{throw n},0)),n}}return t}class tW{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){ut("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{ut("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(r){hd(r)?ut("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):await Wh(r)}await this.X(6e4)})}}class rW{constructor(e,r){this.localStore=e,this.persistence=r}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.te(r,e))}te(e,r){const n=new Set;let s=r,i=!0;return Re.doWhile(()=>i===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!n.has(o))return ut("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,s).next(a=>{s-=a,n.add(o)});i=!1})).next(()=>r-s)}ne(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(s=>this.localStore.localDocuments.getNextDocuments(e,r,s,n).next(i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(s,i)).next(a=>(ut("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,r,a))).next(()=>o.size)}))}re(e,r){let n=e;return r.changes.forEach((s,i)=>{const o=NL(i);J4(o,n)>0&&(n=o)}),new la(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ja.oe=-1;function bw(t){return t==null}function fm(t){return t===0&&1/t==-1/0}function nW(t){return typeof t=="number"&&Number.isInteger(t)&&!fm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=vS(e)),e=sW(t.get(r),e);return vS(e)}function sW(t,e){let r=e;const n=t.length;for(let s=0;s<n;s++){const i=t.charAt(s);switch(i){case"\0":r+="";break;case"":r+="";break;default:r+=i}}return r}function vS(t){return t+""}function Xl(t){const e=t.length;if(Kt(e>=2),e===2)return Kt(t.charAt(0)===""&&t.charAt(1)===""),Vr.emptyPath();const r=e-2,n=[];let s="";for(let i=0;i<e;){const o=t.indexOf("",i);switch((o<0||o>r)&&Vt(),t.charAt(o+1)){case"":const a=t.substring(i,o);let l;s.length===0?l=a:(s+=a,l=s,s=""),n.push(l);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:Vt()}i=o+2}return new Vr(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t,e){return[t,to(e)]}function PL(t,e,r){return[t,to(e),r]}const iW={},oW=["prefixPath","collectionGroup","readTime","documentId"],aW=["prefixPath","collectionGroup","documentId"],lW=["collectionGroup","readTime","prefixPath","documentId"],AW=["canonicalId","targetId"],cW=["targetId","path"],uW=["path","targetId"],dW=["collectionId","parent"],hW=["indexId","uid"],fW=["uid","sequenceNumber"],gW=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pW=["indexId","uid","orderedDocumentKey"],mW=["userId","collectionPath","documentId"],yW=["userId","collectionPath","largestBatchId"],vW=["userId","collectionGroup","largestBatchId"],LL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],xW=[...LL,"documentOverlays"],UL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],DL=UL,e_=[...DL,"indexConfiguration","indexState","indexEntries"],wW=e_,bW=[...e_,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5 extends jL{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Ls(t,e){const r=nr(t);return Ku.F(r._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function $h(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function RL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,r){this.comparator=e,this.root=r||ni.EMPTY}insert(e,r){return new kn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ni.BLACK,null,null))}remove(e){return new kn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ni.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yv(this.root,e,this.comparator,!1)}getReverseIterator(){return new yv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yv(this.root,e,this.comparator,!0)}}class yv{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ni{constructor(e,r,n,s,i){this.key=e,this.value=r,this.color=n??ni.RED,this.left=s??ni.EMPTY,this.right=i??ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,i){return new ni(e??this.key,r??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,r,n),null):i===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return ni.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Vt();const e=this.left.check();if(e!==this.right.check())throw Vt();return e+(this.isRed()?0:1)}}ni.EMPTY=null,ni.RED=!0,ni.BLACK=!1;ni.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt()}get value(){throw Vt()}get color(){throw Vt()}get left(){throw Vt()}get right(){throw Vt()}copy(e,r,n,s,i){return this}insert(e,r,n){return new ni(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.comparator=e,this.data=new kn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new bS(this.data.getIterator())}getIteratorFrom(e){return new bS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Zr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Zr(this.comparator);return r.data=e,r}}class bS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function If(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.fields=e,e.sort(Ln.comparator)}static empty(){return new Fo([])}unionWith(e){let r=new Zr(Ln.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Fo(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Eg(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new ML("Invalid base64 string: "+i):i}}(e);return new vs(r)}static fromUint8Array(e){const r=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new vs(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return cr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vs.EMPTY_BYTE_STRING=new vs("");const BW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uc(t){if(Kt(!!t),typeof t=="string"){let e=0;const r=BW.exec(t);if(Kt(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:xn(t.seconds),nanos:xn(t.nanos)}}function xn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ju(t){return typeof t=="string"?vs.fromBase64String(t):vs.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function r_(t){const e=t.mapValue.fields.__previous_value__;return t_(e)?r_(e):e}function gm(t){const e=uc(t.mapValue.fields.__local_write_time__.timestampValue);return new Mn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(e,r,n,s,i,o,a,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Nh{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Nh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Nh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},p1={nullValue:"NULL_VALUE"};function Th(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?t_(t)?4:QL(t)?9007199254740991:Bw(t)?10:11:Vt()}function dA(t,e){if(t===e)return!0;const r=Th(t);if(r!==Th(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gm(t).isEqual(gm(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=uc(s.timestampValue),a=uc(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ju(s.bytesValue).isEqual(Ju(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return xn(s.geoPointValue.latitude)===xn(i.geoPointValue.latitude)&&xn(s.geoPointValue.longitude)===xn(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return xn(s.integerValue)===xn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=xn(s.doubleValue),a=xn(i.doubleValue);return o===a?fm(o)===fm(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Eg(t.arrayValue.values||[],e.arrayValue.values||[],dA);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(wS(o)!==wS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!dA(o[l],a[l])))return!1;return!0}(t,e);default:return Vt()}}function pm(t,e){return(t.values||[]).find(r=>dA(r,e))!==void 0}function Zu(t,e){if(t===e)return 0;const r=Th(t),n=Th(e);if(r!==n)return cr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return cr(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=xn(i.integerValue||i.doubleValue),l=xn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return BS(t.timestampValue,e.timestampValue);case 4:return BS(gm(t),gm(e));case 5:return cr(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ju(i),l=Ju(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=cr(a[c],l[c]);if(u!==0)return u}return cr(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=cr(xn(i.latitude),xn(o.latitude));return a!==0?a:cr(xn(i.longitude),xn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return CS(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,u;const d=i.fields||{},h=o.fields||{},f=(a=d.value)===null||a===void 0?void 0:a.arrayValue,m=(l=h.value)===null||l===void 0?void 0:l.arrayValue,v=cr(((c=f==null?void 0:f.values)===null||c===void 0?void 0:c.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:CS(f,m)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ku.mapValue&&o===ku.mapValue)return 0;if(i===ku.mapValue)return 1;if(o===ku.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=cr(l[d],u[d]);if(h!==0)return h;const f=Zu(a[l[d]],c[u[d]]);if(f!==0)return f}return cr(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Vt()}}function BS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return cr(t,e);const r=uc(t),n=uc(e),s=cr(r.seconds,n.seconds);return s!==0?s:cr(r.nanos,n.nanos)}function CS(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const i=Zu(r[s],n[s]);if(i)return i}return cr(r.length,n.length)}function Ig(t){return k5(t)}function k5(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=uc(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Ju(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return It.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",s=!0;for(const i of r.values||[])s?s=!1:n+=",",n+=k5(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let s="{",i=!0;for(const o of n)i?i=!1:s+=",",s+=`${o}:${k5(r.fields[o])}`;return s+"}"}(t.mapValue):Vt()}function mm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function E5(t){return!!t&&"integerValue"in t}function ym(t){return!!t&&"arrayValue"in t}function _S(t){return!!t&&"nullValue"in t}function kS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function m1(t){return!!t&&"mapValue"in t}function Bw(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function C0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $h(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=C0(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=C0(t.arrayValue.values[r]);return e}return Object.assign({},t)}function QL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const OL={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function _W(t){return"nullValue"in t?p1:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?mm(Nh.empty(),It.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Bw(t)?OL:{mapValue:{}}:Vt()}function kW(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?mm(Nh.empty(),It.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?OL:"mapValue"in t?Bw(t)?{mapValue:{}}:ku:Vt()}function ES(t,e){const r=Zu(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function IS(t,e){const r=Zu(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.value=e}static empty(){return new ki({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!m1(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=C0(r)}setAll(e){let r=Ln.emptyPath(),n={},s=[];e.forEach((o,a)=>{if(!r.isImmediateParentOf(a)){const l=this.getFieldsMap(r);this.applyChanges(l,n,s),n={},s=[],r=a.popLast()}o?n[a.lastSegment()]=C0(o):s.push(a.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,s)}delete(e){const r=this.field(e.popLast());m1(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return dA(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];m1(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){$h(r,(s,i)=>e[s]=i);for(const s of n)delete e[s]}clone(){return new ki(C0(this.value))}}function VL(t){const e=[];return $h(t.fields,(r,n)=>{const s=new Ln([r]);if(m1(n)){const i=VL(n.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Fo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,r,n,s,i,o,a){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new qn(e,0,Yt.min(),Yt.min(),Yt.min(),ki.empty(),0)}static newFoundDocument(e,r,n,s){return new qn(e,1,r,Yt.min(),n,s,0)}static newNoDocument(e,r){return new qn(e,2,r,Yt.min(),Yt.min(),ki.empty(),0)}static newUnknownDocument(e,r){return new qn(e,3,r,Yt.min(),Yt.min(),ki.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ki.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,r){this.position=e,this.inclusive=r}}function SS(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?n=It.comparator(It.fromName(o.referenceValue),r.key):n=Zu(o,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function NS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!dA(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,r="asc"){this.field=e,this.dir=r}}function EW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{}class Br extends HL{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new IW(e,r,n):r==="array-contains"?new TW(e,n):r==="in"?new qL(e,n):r==="not-in"?new jW(e,n):r==="array-contains-any"?new FW(e,n):new Br(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new SW(e,n):new NW(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Zu(r,this.value)):r!==null&&Th(this.value)===Th(r)&&this.matchesComparison(Zu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends HL{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Yr(e,r)}matches(e){return Ng(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ng(t){return t.op==="and"}function I5(t){return t.op==="or"}function n_(t){return KL(t)&&Ng(t)}function KL(t){for(const e of t.filters)if(e instanceof Yr)return!1;return!0}function S5(t){if(t instanceof Br)return t.field.canonicalString()+t.op.toString()+Ig(t.value);if(n_(t))return t.filters.map(e=>S5(e)).join(",");{const e=t.filters.map(r=>S5(r)).join(",");return`${t.op}(${e})`}}function zL(t,e){return t instanceof Br?function(n,s){return s instanceof Br&&n.op===s.op&&n.field.isEqual(s.field)&&dA(n.value,s.value)}(t,e):t instanceof Yr?function(n,s){return s instanceof Yr&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,o,a)=>i&&zL(o,s.filters[a]),!0):!1}(t,e):void Vt()}function GL(t,e){const r=t.filters.concat(e);return Yr.create(r,t.op)}function WL(t){return t instanceof Br?function(r){return`${r.field.canonicalString()} ${r.op} ${Ig(r.value)}`}(t):t instanceof Yr?function(r){return r.op.toString()+" {"+r.getFilters().map(WL).join(" ,")+"}"}(t):"Filter"}class IW extends Br{constructor(e,r,n){super(e,r,n),this.key=It.fromName(n.referenceValue)}matches(e){const r=It.comparator(e.key,this.key);return this.matchesComparison(r)}}class SW extends Br{constructor(e,r){super(e,"in",r),this.keys=$L("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class NW extends Br{constructor(e,r){super(e,"not-in",r),this.keys=$L("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function $L(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>It.fromName(n.referenceValue))}class TW extends Br{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ym(r)&&pm(r.arrayValue,this.value)}}class qL extends Br{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&pm(this.value.arrayValue,r)}}class jW extends Br{constructor(e,r){super(e,"not-in",r)}matches(e){if(pm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!pm(this.value.arrayValue,r)}}class FW extends Br{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ym(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>pm(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{constructor(e,r=null,n=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function N5(t,e=null,r=[],n=[],s=null,i=null,o=null){return new PW(t,e,r,n,s,i,o)}function jh(t){const e=nr(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>S5(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),bw(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Ig(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Ig(n)).join(",")),e.ue=r}return e.ue}function Zm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!EW(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!zL(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!NS(t.startAt,e.startAt)&&NS(t.endAt,e.endAt)}function mx(t){return It.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function yx(t,e){return t.filters.filter(r=>r instanceof Br&&r.field.isEqual(e))}function TS(t,e,r){let n=p1,s=!0;for(const i of yx(t,e)){let o=p1,a=!0;switch(i.op){case"<":case"<=":o=_W(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,a=!1;break;case"!=":case"not-in":o=p1}ES({value:n,inclusive:s},{value:o,inclusive:a})<0&&(n=o,s=a)}if(r!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=r.position[i];ES({value:n,inclusive:s},{value:o,inclusive:r.inclusive})<0&&(n=o,s=r.inclusive);break}}return{value:n,inclusive:s}}function jS(t,e,r){let n=ku,s=!0;for(const i of yx(t,e)){let o=ku,a=!0;switch(i.op){case">=":case">":o=kW(i.value),a=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,a=!1;break;case"!=":case"not-in":o=ku}IS({value:n,inclusive:s},{value:o,inclusive:a})>0&&(n=o,s=a)}if(r!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=r.position[i];IS({value:n,inclusive:s},{value:o,inclusive:r.inclusive})>0&&(n=o,s=r.inclusive);break}}return{value:n,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,r=null,n=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function LW(t,e,r,n,s,i,o,a){return new Xg(t,e,r,n,s,i,o,a)}function ey(t){return new Xg(t)}function FS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YL(t){return t.collectionGroup!==null}function _0(t){const e=nr(t);if(e.ce===null){e.ce=[];const r=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Zr(Ln.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.ce.push(new vm(i,n))}),r.has(Ln.keyField().canonicalString())||e.ce.push(new vm(Ln.keyField(),n))}return e.ce}function La(t){const e=nr(t);return e.le||(e.le=UW(e,_0(t))),e.le}function UW(t,e){if(t.limitType==="F")return N5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new vm(s.field,i)});const r=t.endAt?new Sg(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Sg(t.startAt.position,t.startAt.inclusive):null;return N5(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function T5(t,e){const r=t.filters.concat([e]);return new Xg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function j5(t,e,r){return new Xg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Cw(t,e){return Zm(La(t),La(e))&&t.limitType===e.limitType}function XL(t){return`${jh(La(t))}|lt:${t.limitType}`}function Rf(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(s=>WL(s)).join(", ")}]`),bw(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(s=>Ig(s)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(s=>Ig(s)).join(",")),`Target(${n})`}(La(t))}; limitType=${t.limitType})`}function ty(t,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):It.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,s){for(const i of _0(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(o,a,l){const c=SS(o,a,l);return o.inclusive?c<=0:c<0}(n.startAt,_0(n),s)||n.endAt&&!function(o,a,l){const c=SS(o,a,l);return o.inclusive?c>=0:c>0}(n.endAt,_0(n),s))}(t,e)}function DW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JL(t){return(e,r)=>{let n=!1;for(const s of _0(t)){const i=RW(s,e,r);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function RW(t,e,r){const n=t.field.isKeyField()?It.comparator(e.key,r.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Zu(l,c):Vt()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Vt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){$h(this.inner,(r,n)=>{for(const[s,i]of n)e(s,i)})}isEmpty(){return RL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MW=new kn(It.comparator);function na(){return MW}const ZL=new kn(It.comparator);function t0(...t){let e=ZL;for(const r of t)e=e.insert(r.key,r);return e}function eU(t){let e=ZL;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Jl(){return k0()}function tU(){return k0()}function k0(){return new fd(t=>t.toString(),(t,e)=>t.isEqual(e))}const QW=new kn(It.comparator),OW=new Zr(It.comparator);function gr(...t){let e=OW;for(const r of t)e=e.add(r);return e}const VW=new Zr(cr);function HW(){return VW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fm(e)?"-0":e}}function rU(t){return{integerValue:""+t}}function KW(t,e){return nW(e)?rU(e):s_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this._=void 0}}function zW(t,e,r){return t instanceof Tg?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&t_(i)&&(i=r_(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(r,e):t instanceof jg?sU(t,e):t instanceof Fg?iU(t,e):function(s,i){const o=nU(s,i),a=PS(o)+PS(s.Pe);return E5(o)&&E5(s.Pe)?rU(a):s_(s.serializer,a)}(t,e)}function GW(t,e,r){return t instanceof jg?sU(t,e):t instanceof Fg?iU(t,e):r}function nU(t,e){return t instanceof xm?function(n){return E5(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class Tg extends _w{}class jg extends _w{constructor(e){super(),this.elements=e}}function sU(t,e){const r=oU(e);for(const n of t.elements)r.some(s=>dA(s,n))||r.push(n);return{arrayValue:{values:r}}}class Fg extends _w{constructor(e){super(),this.elements=e}}function iU(t,e){let r=oU(e);for(const n of t.elements)r=r.filter(s=>!dA(s,n));return{arrayValue:{values:r}}}class xm extends _w{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function PS(t){return xn(t.integerValue||t.doubleValue)}function oU(t){return ym(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,r){this.field=e,this.transform=r}}function WW(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof jg&&s instanceof jg||n instanceof Fg&&s instanceof Fg?Eg(n.elements,s.elements,dA):n instanceof xm&&s instanceof xm?dA(n.Pe,s.Pe):n instanceof Tg&&s instanceof Tg}(t.transform,e.transform)}class $W{constructor(e,r){this.version=e,this.transformResults=r}}class Ii{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function y1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kw{}function lU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ew(t.key,Ii.none()):new Jg(t.key,t.data,Ii.none());{const r=t.data,n=ki.empty();let s=new Zr(Ln.comparator);for(let i of e.fields)if(!s.has(i)){let o=r.field(i);o===null&&i.length>1&&(i=i.popLast(),o=r.field(i)),o===null?n.delete(i):n.set(i,o),s=s.add(i)}return new wc(t.key,n,new Fo(s.toArray()),Ii.none())}}function qW(t,e,r){t instanceof Jg?function(s,i,o){const a=s.value.clone(),l=US(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,r):t instanceof wc?function(s,i,o){if(!y1(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=US(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(AU(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function E0(t,e,r,n){return t instanceof Jg?function(i,o,a,l){if(!y1(i.precondition,o))return a;const c=i.value.clone(),u=DS(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof wc?function(i,o,a,l){if(!y1(i.precondition,o))return a;const c=DS(i.fieldTransforms,l,o),u=o.data;return u.setAll(AU(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(i,o,a){return y1(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,r)}function YW(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),i=nU(n.transform,s||null);i!=null&&(r===null&&(r=ki.empty()),r.set(n.field,i))}return r||null}function LS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Eg(n,s,(i,o)=>WW(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jg extends kw{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class wc extends kw{constructor(e,r,n,s,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function AU(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function US(t,e,r){const n=new Map;Kt(t.length===r.length);for(let s=0;s<r.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);n.set(i.field,GW(o,a,r[s]))}return n}function DS(t,e,r){const n=new Map;for(const s of t){const i=s.transform,o=r.data.field(s.field);n.set(s.field,zW(i,o,e))}return n}class Ew extends kw{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cU extends kw{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&qW(i,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=E0(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=E0(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=tU();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=r.has(s.key)?null:a;const l=lU(o,a);l!==null&&n.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Yt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),gr())}isEqual(e){return this.batchId===e.batchId&&Eg(this.mutations,e.mutations,(r,n)=>LS(r,n))&&Eg(this.baseMutations,e.baseMutations,(r,n)=>LS(r,n))}}class o_{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){Kt(e.mutations.length===n.length);let s=function(){return QW}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,n[o].version);return new o_(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gs,kr;function JW(t){switch(t){default:return Vt();case $e.CANCELLED:case $e.UNKNOWN:case $e.DEADLINE_EXCEEDED:case $e.RESOURCE_EXHAUSTED:case $e.INTERNAL:case $e.UNAVAILABLE:case $e.UNAUTHENTICATED:return!1;case $e.INVALID_ARGUMENT:case $e.NOT_FOUND:case $e.ALREADY_EXISTS:case $e.PERMISSION_DENIED:case $e.FAILED_PRECONDITION:case $e.ABORTED:case $e.OUT_OF_RANGE:case $e.UNIMPLEMENTED:case $e.DATA_LOSS:return!0}}function uU(t){if(t===void 0)return Ji("GRPC error has no .code"),$e.UNKNOWN;switch(t){case gs.OK:return $e.OK;case gs.CANCELLED:return $e.CANCELLED;case gs.UNKNOWN:return $e.UNKNOWN;case gs.DEADLINE_EXCEEDED:return $e.DEADLINE_EXCEEDED;case gs.RESOURCE_EXHAUSTED:return $e.RESOURCE_EXHAUSTED;case gs.INTERNAL:return $e.INTERNAL;case gs.UNAVAILABLE:return $e.UNAVAILABLE;case gs.UNAUTHENTICATED:return $e.UNAUTHENTICATED;case gs.INVALID_ARGUMENT:return $e.INVALID_ARGUMENT;case gs.NOT_FOUND:return $e.NOT_FOUND;case gs.ALREADY_EXISTS:return $e.ALREADY_EXISTS;case gs.PERMISSION_DENIED:return $e.PERMISSION_DENIED;case gs.FAILED_PRECONDITION:return $e.FAILED_PRECONDITION;case gs.ABORTED:return $e.ABORTED;case gs.OUT_OF_RANGE:return $e.OUT_OF_RANGE;case gs.UNIMPLEMENTED:return $e.UNIMPLEMENTED;case gs.DATA_LOSS:return $e.DATA_LOSS;default:return Vt()}}(kr=gs||(gs={}))[kr.OK=0]="OK",kr[kr.CANCELLED=1]="CANCELLED",kr[kr.UNKNOWN=2]="UNKNOWN",kr[kr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kr[kr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kr[kr.NOT_FOUND=5]="NOT_FOUND",kr[kr.ALREADY_EXISTS=6]="ALREADY_EXISTS",kr[kr.PERMISSION_DENIED=7]="PERMISSION_DENIED",kr[kr.UNAUTHENTICATED=16]="UNAUTHENTICATED",kr[kr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kr[kr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kr[kr.ABORTED=10]="ABORTED",kr[kr.OUT_OF_RANGE=11]="OUT_OF_RANGE",kr[kr.UNIMPLEMENTED=12]="UNIMPLEMENTED",kr[kr.INTERNAL=13]="INTERNAL",kr[kr.UNAVAILABLE=14]="UNAVAILABLE",kr[kr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$=new lh([4294967295,4294967295],0);function RS(t){const e=ZW().encode(t),r=new wL;return r.update(e),new Uint8Array(r.digest())}function MS(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new lh([r,n],0),new lh([s,i],0)]}class l_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new r0(`Invalid padding: ${r}`);if(n<0)throw new r0(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new r0(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new r0(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=lh.fromNumber(this.Ie)}Ee(e,r,n){let s=e.add(r.multiply(lh.fromNumber(n)));return s.compare(e$)===1&&(s=new lh([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=RS(e),[n,s]=MS(r);for(let i=0;i<this.hashCount;i++){const o=this.Ee(n,s,i);if(!this.de(o))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new l_(i,s,r);return n.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const r=RS(e),[n,s]=MS(r);for(let i=0;i<this.hashCount;i++){const o=this.Ee(n,s,i);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class r0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,r,n,s,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,ry.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Iw(Yt.min(),s,new kn(cr),na(),gr())}}class ry{constructor(e,r,n,s,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new ry(n,r,gr(),gr(),gr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,r,n,s){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=s}}class dU{constructor(e,r){this.targetId=e,this.me=r}}class hU{constructor(e,r,n=vs.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class QS{constructor(){this.fe=0,this.ge=VS(),this.pe=vs.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=gr(),r=gr(),n=gr();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:Vt()}}),new ry(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=VS()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Kt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class t${constructor(e){this.Le=e,this.Be=new Map,this.ke=na(),this.qe=OS(),this.Qe=new kn(cr)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Vt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,s)=>{this.ze(s)&&r(s)})}He(e){const r=e.targetId,n=e.me.count,s=this.Je(r);if(s){const i=s.target;if(mx(i))if(n===0){const o=new It(i.path);this.Ue(r,o,qn.newNoDocument(o,Yt.min()))}else Kt(n===1);else{const o=this.Ye(r);if(o!==n){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,c)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=r;let o,a;try{o=Ju(n).toUint8Array()}catch(l){if(l instanceof ML)return Sh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new l_(o,s,i)}catch(l){return Sh(l instanceof r0?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let s=0;return n.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(r,i,null),s++)}),s}rt(e){const r=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&mx(a.target)){const l=new It(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,qn.newNoDocument(l,e))}i.be&&(r.set(o,i.ve()),i.Ce())}});let n=gr();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Iw(e,r,this.Qe,this.ke,n);return this.ke=na(),this.qe=OS(),this.Qe=new kn(cr),s}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,r)?s.Fe(r,1):s.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new QS,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Zr(cr),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||ut("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new QS),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function OS(){return new kn(It.comparator)}function VS(){return new kn(It.comparator)}const r$=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),n$=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),s$=(()=>({and:"AND",or:"OR"}))();class i${constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function F5(t,e){return t.useProto3Json||bw(e)?e:{value:e}}function Pg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function o$(t,e){return Pg(t,e.toTimestamp())}function ro(t){return Kt(!!t),Yt.fromTimestamp(function(r){const n=uc(r);return new Mn(n.seconds,n.nanos)}(t))}function A_(t,e){return P5(t,e).canonicalString()}function P5(t,e){const r=function(s){return new Vr(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?r:r.child(e)}function gU(t){const e=Vr.fromString(t);return Kt(CU(e)),e}function vx(t,e){return A_(t.databaseId,e.path)}function Ah(t,e){const r=gU(e);if(r.get(1)!==t.databaseId.projectId)throw new bt($e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new bt($e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new It(yU(r))}function pU(t,e){return A_(t.databaseId,e)}function mU(t){const e=gU(t);return e.length===4?Vr.emptyPath():yU(e)}function L5(t){return new Vr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yU(t){return Kt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function HS(t,e,r){return{name:vx(t,e),fields:r.value.mapValue.fields}}function a$(t,e,r){const n=Ah(t,e.name),s=ro(e.updateTime),i=e.createTime?ro(e.createTime):Yt.min(),o=new ki({mapValue:{fields:e.fields}}),a=qn.newFoundDocument(n,s,i,o);return r&&a.setHasCommittedMutations(),r?a.setHasCommittedMutations():a}function l$(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Vt()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Kt(u===void 0||typeof u=="string"),vs.fromBase64String(u||"")):(Kt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),vs.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?$e.UNKNOWN:uU(c.code);return new bt(u,c.message||"")}(o);r=new hU(n,s,i,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=Ah(t,n.document.name),i=ro(n.document.updateTime),o=n.document.createTime?ro(n.document.createTime):Yt.min(),a=new ki({mapValue:{fields:n.document.fields}}),l=qn.newFoundDocument(s,i,o,a),c=n.targetIds||[],u=n.removedTargetIds||[];r=new v1(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=Ah(t,n.document),i=n.readTime?ro(n.readTime):Yt.min(),o=qn.newNoDocument(s,i),a=n.removedTargetIds||[];r=new v1([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=Ah(t,n.document),i=n.removedTargetIds||[];r=new v1([],i,s,null)}else{if(!("filter"in e))return Vt();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,o=new XW(s,i),a=n.targetId;r=new dU(a,o)}}return r}function xx(t,e){let r;if(e instanceof Jg)r={update:HS(t,e.key,e.value)};else if(e instanceof Ew)r={delete:vx(t,e.key)};else if(e instanceof wc)r={update:HS(t,e.key,e.data),updateMask:f$(e.fieldMask)};else{if(!(e instanceof cU))return Vt();r={verify:vx(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,o){const a=o.transform;if(a instanceof Tg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof jg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xm)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Vt()}(0,n))),e.precondition.isNone||(r.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:o$(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Vt()}(t,e.precondition)),r}function U5(t,e){const r=e.currentDocument?function(i){return i.updateTime!==void 0?Ii.updateTime(ro(i.updateTime)):i.exists!==void 0?Ii.exists(i.exists):Ii.none()}(e.currentDocument):Ii.none(),n=e.updateTransforms?e.updateTransforms.map(s=>function(o,a){let l=null;if("setToServerValue"in a)Kt(a.setToServerValue==="REQUEST_TIME"),l=new Tg;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new jg(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new Fg(u)}else"increment"in a?l=new xm(o,a.increment):Vt();const c=Ln.fromServerFormat(a.fieldPath);return new aU(c,l)}(t,s)):[];if(e.update){e.update.name;const s=Ah(t,e.update.name),i=new ki({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new Fo(c.map(u=>Ln.fromServerFormat(u)))}(e.updateMask);return new wc(s,i,o,r,n)}return new Jg(s,i,r,n)}if(e.delete){const s=Ah(t,e.delete);return new Ew(s,r)}if(e.verify){const s=Ah(t,e.verify);return new cU(s,r)}return Vt()}function A$(t,e){return t&&t.length>0?(Kt(e!==void 0),t.map(r=>function(s,i){let o=s.updateTime?ro(s.updateTime):ro(i);return o.isEqual(Yt.min())&&(o=ro(i)),new $W(o,s.transformResults||[])}(r,e))):[]}function vU(t,e){return{documents:[pU(t,e.path)]}}function xU(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=pU(t,s);const i=function(c){if(c.length!==0)return BU(Yr.create(c,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Mf(h.field),direction:u$(h.dir)}}(u))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const a=F5(t,e.limit);return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:r,parent:s}}function wU(t){let e=mU(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){Kt(n===1);const u=r.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];r.where&&(i=function(d){const h=bU(d);return h instanceof Yr&&n_(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(d){return d.map(h=>function(m){return new vm(Qf(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(r.orderBy));let a=null;r.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,bw(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Sg(f,h)}(r.startAt));let c=null;return r.endAt&&(c=function(d){const h=!d.before,f=d.values||[];return new Sg(f,h)}(r.endAt)),LW(e,s,o,i,a,"F",l,c)}function c$(t,e){const r=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function bU(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Qf(r.unaryFilter.field);return Br.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Qf(r.unaryFilter.field);return Br.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Qf(r.unaryFilter.field);return Br.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qf(r.unaryFilter.field);return Br.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Vt()}}(t):t.fieldFilter!==void 0?function(r){return Br.create(Qf(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vt()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Yr.create(r.compositeFilter.filters.map(n=>bU(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Vt()}}(r.compositeFilter.op))}(t):Vt()}function u$(t){return r$[t]}function d$(t){return n$[t]}function h$(t){return s$[t]}function Mf(t){return{fieldPath:t.canonicalString()}}function Qf(t){return Ln.fromServerFormat(t.fieldPath)}function BU(t){return t instanceof Br?function(r){if(r.op==="=="){if(kS(r.value))return{unaryFilter:{field:Mf(r.field),op:"IS_NAN"}};if(_S(r.value))return{unaryFilter:{field:Mf(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(kS(r.value))return{unaryFilter:{field:Mf(r.field),op:"IS_NOT_NAN"}};if(_S(r.value))return{unaryFilter:{field:Mf(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mf(r.field),op:d$(r.op),value:r.value}}}(t):t instanceof Yr?function(r){const n=r.getFilters().map(s=>BU(s));return n.length===1?n[0]:{compositeFilter:{op:h$(r.op),filters:n}}}(t):Vt()}function f$(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function CU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,r,n,s,i=Yt.min(),o=Yt.min(),a=vs.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new tc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new tc(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.ct=e}}function g$(t,e){let r;if(e.document)r=a$(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=It.fromSegments(e.noDocument.path),s=Ph(e.noDocument.readTime);r=qn.newNoDocument(n,s),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Vt();{const n=It.fromSegments(e.unknownDocument.path),s=Ph(e.unknownDocument.version);r=qn.newUnknownDocument(n,s)}}return e.readTime&&r.setReadTime(function(s){const i=new Mn(s[0],s[1]);return Yt.fromTimestamp(i)}(e.readTime)),r}function KS(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:wx(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(i,o){return{name:vx(i,o.key),fields:o.data.value.mapValue.fields,updateTime:Pg(i,o.version.toTimestamp()),createTime:Pg(i,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:Fh(e.version)};else{if(!e.isUnknownDocument())return Vt();n.unknownDocument={path:r.path.toArray(),version:Fh(e.version)}}return n}function wx(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Fh(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ph(t){const e=new Mn(t.seconds,t.nanoseconds);return Yt.fromTimestamp(e)}function Yd(t,e){const r=(e.baseMutations||[]).map(i=>U5(t.ct,i));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const a=e.mutations[i+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const n=e.mutations.map(i=>U5(t.ct,i)),s=Mn.fromMillis(e.localWriteTimeMs);return new i_(e.batchId,s,r,n)}function n0(t){const e=Ph(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?Ph(t.lastLimboFreeSnapshotVersion):Yt.min();let n;return n=function(i){return i.documents!==void 0}(t.query)?function(i){return Kt(i.documents.length===1),La(ey(mU(i.documents[0])))}(t.query):function(i){return La(wU(i))}(t.query),new tc(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,vs.fromBase64String(t.resumeToken))}function kU(t,e){const r=Fh(e.snapshotVersion),n=Fh(e.lastLimboFreeSnapshotVersion);let s;s=mx(e.target)?vU(t.ct,e.target):xU(t.ct,e.target)._t;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:jh(e.target),readTime:r,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:s}}function EU(t){const e=wU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?j5(e,e.limit,"L"):e}function _b(t,e){return new a_(e.largestBatchId,U5(t.ct,e.overlayMutation))}function zS(t,e){const r=e.path.lastSegment();return[t,to(e.path.popLast()),r]}function GS(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:Fh(n.readTime),documentKey:to(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${getBundleMetadata(e,r){return WS(e).get(r).next(n=>{if(n)return function(i){return{id:i.bundleId,createTime:Ph(i.createTime),version:i.version}}(n)})}saveBundleMetadata(e,r){return WS(e).put(function(s){return{bundleId:s.id,createTime:Fh(ro(s.createTime)),version:s.version}}(r))}getNamedQuery(e,r){return $S(e).get(r).next(n=>{if(n)return function(i){return{name:i.name,query:EU(i.bundledQuery),readTime:Ph(i.readTime)}}(n)})}saveNamedQuery(e,r){return $S(e).put(function(s){return{name:s.name,readTime:Fh(ro(s.readTime)),bundledQuery:s.bundledQuery}}(r))}}function WS(t){return Ls(t,"bundles")}function $S(t){return Ls(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){const n=r.uid||"";return new Sw(e,n)}getOverlay(e,r){return Tp(e).get(zS(this.userId,r)).next(n=>n?_b(this.serializer,n):null)}getOverlays(e,r){const n=Jl();return Re.forEach(r,s=>this.getOverlay(e,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(e,r,n){const s=[];return n.forEach((i,o)=>{const a=new a_(r,o);s.push(this.ht(e,a))}),Re.waitFor(s)}removeOverlaysForBatchId(e,r,n){const s=new Set;r.forEach(o=>s.add(to(o.getCollectionPath())));const i=[];return s.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,n+1],!1,!0);i.push(Tp(e).j("collectionPathOverlayIndex",a))}),Re.waitFor(i)}getOverlaysForCollection(e,r,n){const s=Jl(),i=to(r),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Tp(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=_b(this.serializer,l);s.set(c.getKey(),c)}return s})}getOverlaysForCollectionGroup(e,r,n,s){const i=Jl();let o;const a=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Tp(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=_b(this.serializer,c);i.size()<s||d.largestBatchId===o?(i.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>i)}ht(e,r){return Tp(e).put(function(s,i,o){const[a,l,c]=zS(i,o.mutation.key);return{userId:i,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:xx(s.ct,o.mutation)}}(this.serializer,this.userId,r))}}function Tp(t){return Ls(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${Pt(e){return Ls(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const n=r==null?void 0:r.value;return n?vs.fromUint8Array(n):vs.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(xn(e.integerValue));else if("doubleValue"in e){const n=xn(e.doubleValue);isNaN(n)?this.dt(r,13):(this.dt(r,15),fm(n)?r.At(0):r.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(r,20),typeof n=="string"&&(n=uc(n)),r.Rt(`${n.seconds||""}`),r.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Ju(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(r,45),r.At(n.latitude||0),r.At(n.longitude||0)}else"mapValue"in e?QL(e)?this.dt(r,Number.MAX_SAFE_INTEGER):Bw(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):Vt()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const n=e.fields||{};this.dt(r,55);for(const s of Object.keys(n))this.Vt(s,r),this.Tt(n[s],r)}wt(e,r){var n,s;const i=e.fields||{};this.dt(r,53);const o="value",a=((s=(n=i[o].arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.length)||0;this.dt(r,15),r.At(xn(a)),this.Vt(o,r),this.Tt(i[o],r)}bt(e,r){const n=e.values||[];this.dt(r,50);for(const s of n)this.Tt(s,r)}yt(e,r){this.dt(r,37),It.fromName(e).path.forEach(n=>{this.dt(r,60),this.Dt(n,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}Xd.vt=new Xd;function y$(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function qS(t){const e=64-function(n){let s=0;for(let i=0;i<8;++i){const o=y$(255&n[i]);if(s+=o,o!==8)break}return s}(t);return Math.ceil(e/8)}class v${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ft(n.value),n=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ot(n.value),n=r.next();this.Nt()}Lt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{const s=r.codePointAt(0);this.Ft(240|s>>>18),this.Ft(128|63&s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s)}}this.Mt()}Bt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{const s=r.codePointAt(0);this.Ot(240|s>>>18),this.Ot(128|63&s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s)}}this.Nt()}kt(e){const r=this.qt(e),n=qS(r);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let s=r.length-n;s<r.length;++s)this.buffer[this.position++]=255&r[s]}Kt(e){const r=this.qt(e),n=qS(r);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let s=r.length-n;s<r.length;++s)this.buffer[this.position++]=~(255&r[s])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),n=(128&r[0])!=0;r[0]^=n?255:128;for(let s=1;s<r.length;++s)r[s]^=n?255:0;return r}Ft(e){const r=255&e;r===0?(this.Ut(0),this.Ut(255)):r===255?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;r===0?(this.Gt(0),this.Gt(255)):r===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const s=new Uint8Array(n);s.set(this.buffer),this.buffer=s}}class x${constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class w${constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class jp{constructor(){this.jt=new v$,this.Ht=new x$(this.jt),this.Jt=new w$(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,r,n,s){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=s}Zt(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Jd(this.indexId,this.documentKey,this.arrayValue,n)}}function su(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=YS(t.arrayValue,e.arrayValue),r!==0?r:(r=YS(t.directionalValue,e.directionalValue),r!==0?r:It.comparator(t.documentKey,e.documentKey)))}function YS(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.Xt=new Zr((r,n)=>Ln.comparator(r.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const n=r;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(e){if(Kt(e.collectionGroup===this.collectionId),this.nn)return!1;const r=C5(e);if(r!==void 0&&!this.sn(r))return!1;const n=Vd(e);let s=new Set,i=0,o=0;for(;i<n.length&&this.sn(n[i]);++i)s=s.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!s.has(a.field.canonicalString())){const l=n[i];if(!this.on(a,l)||!this._n(this.en[o++],l))return!1}++i}for(;i<n.length;++i){const a=n[i];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new Zr(Ln.comparator);const r=[];for(const n of this.tn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new f1(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new f1(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new f1(n.field,n.dir==="asc"?0:1)));return new px(px.UNKNOWN_ID,this.collectionId,r,hm.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t){var e,r;if(Kt(t instanceof Br||t instanceof Yr),t instanceof Br){if(t instanceof qL){const s=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(i=>Br.create(t.field,"==",i)))||[];return Yr.create(s,"or")}return t}const n=t.filters.map(s=>IU(s));return Yr.create(n,t.op)}function b$(t){if(t.getFilters().length===0)return[];const e=M5(IU(t));return Kt(SU(e)),D5(e)||R5(e)?[e]:e.getFilters()}function D5(t){return t instanceof Br}function R5(t){return t instanceof Yr&&n_(t)}function SU(t){return D5(t)||R5(t)||function(r){if(r instanceof Yr&&I5(r)){for(const n of r.getFilters())if(!D5(n)&&!R5(n))return!1;return!0}return!1}(t)}function M5(t){if(Kt(t instanceof Br||t instanceof Yr),t instanceof Br)return t;if(t.filters.length===1)return M5(t.filters[0]);const e=t.filters.map(n=>M5(n));let r=Yr.create(e,t.op);return r=bx(r),SU(r)?r:(Kt(r instanceof Yr),Kt(Ng(r)),Kt(r.filters.length>1),r.filters.reduce((n,s)=>c_(n,s)))}function c_(t,e){let r;return Kt(t instanceof Br||t instanceof Yr),Kt(e instanceof Br||e instanceof Yr),r=t instanceof Br?e instanceof Br?function(s,i){return Yr.create([s,i],"and")}(t,e):JS(t,e):e instanceof Br?JS(e,t):function(s,i){if(Kt(s.filters.length>0&&i.filters.length>0),Ng(s)&&Ng(i))return GL(s,i.getFilters());const o=I5(s)?s:i,a=I5(s)?i:s,l=o.filters.map(c=>c_(c,a));return Yr.create(l,"or")}(t,e),bx(r)}function JS(t,e){if(Ng(e))return GL(e,t.getFilters());{const r=e.filters.map(n=>c_(t,n));return Yr.create(r,"or")}}function bx(t){if(Kt(t instanceof Br||t instanceof Yr),t instanceof Br)return t;const e=t.getFilters();if(e.length===1)return bx(e[0]);if(KL(t))return t;const r=e.map(s=>bx(s)),n=[];return r.forEach(s=>{s instanceof Br?n.push(s):s instanceof Yr&&(s.op===t.op?n.push(...s.filters):n.push(s))}),n.length===1?n[0]:Yr.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(){this.un=new u_}addToCollectionParentIndex(e,r){return this.un.add(r),Re.resolve()}getCollectionParents(e,r){return Re.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Re.resolve()}deleteFieldIndex(e,r){return Re.resolve()}deleteAllFieldIndexes(e){return Re.resolve()}createTargetIndexes(e,r){return Re.resolve()}getDocumentsMatchingTarget(e,r){return Re.resolve(null)}getIndexType(e,r){return Re.resolve(0)}getFieldIndexes(e,r){return Re.resolve([])}getNextCollectionGroupToUpdate(e){return Re.resolve(null)}getMinOffset(e,r){return Re.resolve(la.min())}getMinOffsetFromCollectionGroup(e,r){return Re.resolve(la.min())}updateCollectionGroup(e,r,n){return Re.resolve()}updateIndexEntries(e,r){return Re.resolve()}}class u_{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new Zr(Vr.comparator),i=!s.has(n);return this.index[r]=s.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new Zr(Vr.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=new Uint8Array(0);class C${constructor(e,r){this.databaseId=r,this.cn=new u_,this.ln=new fd(n=>jh(n),(n,s)=>Zm(n,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const n=r.lastSegment(),s=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const i={collectionId:n,parent:to(s)};return ZS(e).put(i)}return Re.resolve()}getCollectionParents(e,r){const n=[],s=IDBKeyRange.bound([r,""],[SL(r),""],!1,!0);return ZS(e).U(s).next(i=>{for(const o of i){if(o.collectionId!==r)break;n.push(Xl(o.parent))}return n})}addFieldIndex(e,r){const n=Fp(e),s=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(r);delete s.indexId;const i=n.add(s);if(r.indexState){const o=Nf(e);return i.next(a=>{o.put(GS(a,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return i.next()}deleteFieldIndex(e,r){const n=Fp(e),s=Nf(e),i=Sf(e);return n.delete(r.indexId).next(()=>s.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Fp(e),n=Sf(e),s=Nf(e);return r.j().next(()=>n.j()).next(()=>s.j())}createTargetIndexes(e,r){return Re.forEach(this.hn(r),n=>this.getIndexType(e,n).next(s=>{if(s===0||s===1){const i=new XS(n).an();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,r){const n=Sf(e);let s=!0;const i=new Map;return Re.forEach(this.hn(r),o=>this.Pn(e,o).next(a=>{s&&(s=!!a),i.set(o,a)})).next(()=>{if(s){let o=gr();const a=[];return Re.forEach(i,(l,c)=>{ut("IndexedDbIndexManager",`Using index ${function(E){return`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(N=>`${N.fieldPath}:${N.kind}`).join(",")}`}(l)} to execute ${jh(r)}`);const u=function(E,N){const j=C5(N);if(j===void 0)return null;for(const O of yx(E,j.fieldPath))switch(O.op){case"array-contains-any":return O.value.arrayValue.values||[];case"array-contains":return[O.value]}return null}(c,l),d=function(E,N){const j=new Map;for(const O of Vd(N))for(const P of yx(E,O.fieldPath))switch(P.op){case"==":case"in":j.set(O.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return j.set(O.fieldPath.canonicalString(),P.value),Array.from(j.values())}return null}(c,l),h=function(E,N){const j=[];let O=!0;for(const P of Vd(N)){const T=P.kind===0?TS(E,P.fieldPath,E.startAt):jS(E,P.fieldPath,E.startAt);j.push(T.value),O&&(O=T.inclusive)}return new Sg(j,O)}(c,l),f=function(E,N){const j=[];let O=!0;for(const P of Vd(N)){const T=P.kind===0?jS(E,P.fieldPath,E.endAt):TS(E,P.fieldPath,E.endAt);j.push(T.value),O&&(O=T.inclusive)}return new Sg(j,O)}(c,l),m=this.In(l,c,h),v=this.In(l,c,f),_=this.Tn(l,c,d),x=this.En(l.indexId,u,m,h.inclusive,v,f.inclusive,_);return Re.forEach(x,b=>n.G(b,r.limit).next(E=>{E.forEach(N=>{const j=It.fromSegments(N.documentKey);o.has(j)||(o=o.add(j),a.push(j))})}))}).next(()=>a)}return Re.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(e.filters.length===0?r=[e]:r=b$(Yr.create(e.filters,"and")).map(n=>N5(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,n,s,i,o,a){const l=(r!=null?r.length:1)*Math.max(n.length,i.length),c=l/(r!=null?r.length:1),u=[];for(let d=0;d<l;++d){const h=r?this.dn(r[d/c]):vv,f=this.An(e,h,n[d%c],s),m=this.Rn(e,h,i[d%c],o),v=a.map(_=>this.An(e,h,_,!0));u.push(...this.createRange(f,m,v))}return u}An(e,r,n,s){const i=new Jd(e,It.empty(),r,n);return s?i:i.Zt()}Rn(e,r,n,s){const i=new Jd(e,It.empty(),r,n);return s?i.Zt():i}Pn(e,r){const n=new XS(r),s=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,s).next(i=>{let o=null;for(const a of i)n.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,r){let n=2;const s=this.hn(r);return Re.forEach(s,i=>this.Pn(e,i).next(o=>{o?n!==0&&o.fields.length<function(l){let c=new Zr(Ln.comparator),u=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:c=c.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(i)&&(n=1):n=0})).next(()=>function(o){return o.limit!==null}(r)&&s.length>1&&n===2?1:n)}Vn(e,r){const n=new jp;for(const s of Vd(e)){const i=r.data.field(s.fieldPath);if(i==null)return null;const o=n.Yt(s.kind);Xd.vt.It(i,o)}return n.zt()}dn(e){const r=new jp;return Xd.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const n=new jp;return Xd.vt.It(mm(this.databaseId,r),n.Yt(function(i){const o=Vd(i);return o.length===0?0:o[o.length-1].kind}(e))),n.zt()}Tn(e,r,n){if(n===null)return[];let s=[];s.push(new jp);let i=0;for(const o of Vd(e)){const a=n[i++];for(const l of s)if(this.fn(r,o.fieldPath)&&ym(a))s=this.gn(s,o,a);else{const c=l.Yt(o.kind);Xd.vt.It(a,c)}}return this.pn(s)}In(e,r,n){return this.Tn(e,r,n.position)}pn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].zt();return r}gn(e,r,n){const s=[...e],i=[];for(const o of n.arrayValue.values||[])for(const a of s){const l=new jp;l.seed(a.zt()),Xd.vt.It(o,l.Yt(r.kind)),i.push(l)}return i}fn(e,r){return!!e.filters.find(n=>n instanceof Br&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,r){const n=Fp(e),s=Nf(e);return(r?n.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):n.U()).next(i=>{const o=[];return Re.forEach(i,a=>s.get([a.indexId,this.uid]).next(l=>{o.push(function(u,d){const h=d?new hm(d.sequenceNumber,new la(Ph(d.readTime),new It(Xl(d.documentKey)),d.largestBatchId)):hm.empty(),f=u.fields.map(([m,v])=>new f1(Ln.fromServerFormat(m),v));return new px(u.indexId,u.collectionGroup,f,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((n,s)=>{const i=n.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:cr(n.collectionGroup,s.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,n){const s=Fp(e),i=Nf(e);return this.yn(e).next(o=>s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(a=>Re.forEach(a,l=>i.put(GS(l.indexId,this.uid,o,n)))))}updateIndexEntries(e,r){const n=new Map;return Re.forEach(r,(s,i)=>{const o=n.get(s.collectionGroup);return(o?Re.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(a=>(n.set(s.collectionGroup,a),Re.forEach(a,l=>this.wn(e,s,l).next(c=>{const u=this.Sn(i,l);return c.isEqual(u)?Re.resolve():this.bn(e,i,l,c,u)}))))})}Dn(e,r,n,s){return Sf(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.mn(n,r.key),documentKey:r.key.path.toArray()})}vn(e,r,n,s){return Sf(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.mn(n,r.key),r.key.path.toArray()])}wn(e,r,n){const s=Sf(e);let i=new Zr(su);return s.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,r)])},(o,a)=>{i=i.add(new Jd(n.indexId,r,a.arrayValue,a.directionalValue))}).next(()=>i)}Sn(e,r){let n=new Zr(su);const s=this.Vn(r,e);if(s==null)return n;const i=C5(r);if(i!=null){const o=e.data.field(i.fieldPath);if(ym(o))for(const a of o.arrayValue.values||[])n=n.add(new Jd(r.indexId,e.key,this.dn(a),s))}else n=n.add(new Jd(r.indexId,e.key,vv,s));return n}bn(e,r,n,s,i){ut("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const o=[];return function(l,c,u,d,h){const f=l.getIterator(),m=c.getIterator();let v=If(f),_=If(m);for(;v||_;){let x=!1,b=!1;if(v&&_){const E=u(v,_);E<0?b=!0:E>0&&(x=!0)}else v!=null?b=!0:x=!0;x?(d(_),_=If(m)):b?(h(v),v=If(f)):(v=If(f),_=If(m))}}(s,i,su,a=>{o.push(this.Dn(e,r,n,a))},a=>{o.push(this.vn(e,r,n,a))}),Re.waitFor(o)}yn(e){let r=1;return Nf(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,s,i)=>{i.done(),r=s.sequenceNumber+1}).next(()=>r)}createRange(e,r,n){n=n.sort((o,a)=>su(o,a)).filter((o,a,l)=>!a||su(o,l[a-1])!==0);const s=[];s.push(e);for(const o of n){const a=su(o,e),l=su(o,r);if(a===0)s[0]=e.Zt();else if(a>0&&l<0)s.push(o),s.push(o.Zt());else if(l>0)break}s.push(r);const i=[];for(let o=0;o<s.length;o+=2){if(this.Cn(s[o],s[o+1]))return[];const a=[s[o].indexId,this.uid,s[o].arrayValue,s[o].directionalValue,vv,[]],l=[s[o+1].indexId,this.uid,s[o+1].arrayValue,s[o+1].directionalValue,vv,[]];i.push(IDBKeyRange.bound(a,l))}return i}Cn(e,r){return su(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(eN)}getMinOffset(e,r){return Re.mapArray(this.hn(r),n=>this.Pn(e,n).next(s=>s||Vt())).next(eN)}}function ZS(t){return Ls(t,"collectionParents")}function Sf(t){return Ls(t,"indexEntries")}function Fp(t){return Ls(t,"indexConfiguration")}function Nf(t){return Ls(t,"indexState")}function eN(t){Kt(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const s=t[n].indexState.offset;J4(s,e)<0&&(e=s),r<s.largestBatchId&&(r=s.largestBatchId)}return new la(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class So{constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new So(e,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t,e,r){const n=t.store("mutations"),s=t.store("documentMutations"),i=[],o=IDBKeyRange.only(r.batchId);let a=0;const l=n.J({range:o},(u,d,h)=>(a++,h.delete()));i.push(l.next(()=>{Kt(a===1)}));const c=[];for(const u of r.mutations){const d=PL(e,u.key.path,r.batchId);i.push(s.delete(d)),c.push(u.key)}return Re.waitFor(i).next(()=>c)}function Bx(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Vt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */So.DEFAULT_COLLECTION_PERCENTILE=10,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,So.DEFAULT=new So(41943040,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),So.DISABLED=new So(-1,0,0);class Nw{constructor(e,r,n,s){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=s,this.Fn={}}static lt(e,r,n,s){Kt(e.uid!=="");const i=e.isAuthenticated()?e.uid:"";return new Nw(i,r,n,s)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return iu(e).J({index:"userMutationsIndex",range:n},(s,i,o)=>{r=!1,o.done()}).next(()=>r)}addMutationBatch(e,r,n,s){const i=Of(e),o=iu(e);return o.add({}).next(a=>{Kt(typeof a=="number");const l=new i_(a,r,n,s),c=function(f,m,v){const _=v.baseMutations.map(b=>xx(f.ct,b)),x=v.mutations.map(b=>xx(f.ct,b));return{userId:m,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:_,mutations:x}}(this.serializer,this.userId,l),u=[];let d=new Zr((h,f)=>cr(h.canonicalString(),f.canonicalString()));for(const h of s){const f=PL(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(o.put(c)),u.push(i.put(f,iW))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),Re.waitFor(u).next(()=>l)})}lookupMutationBatch(e,r){return iu(e).get(r).next(n=>n?(Kt(n.userId===this.userId),Yd(this.serializer,n)):null)}Mn(e,r){return this.Fn[r]?Re.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(n=>{if(n){const s=n.keys();return this.Fn[r]=s,s}return null})}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return iu(e).J({index:"userMutationsIndex",range:s},(o,a,l)=>{a.userId===this.userId&&(Kt(a.batchId>=n),i=Yd(this.serializer,a)),l.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return iu(e).J({index:"userMutationsIndex",range:r,reverse:!0},(s,i,o)=>{n=i.batchId,o.done()}).next(()=>n)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return iu(e).U("userMutationsIndex",r).next(n=>n.map(s=>Yd(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=g1(this.userId,r.path),s=IDBKeyRange.lowerBound(n),i=[];return Of(e).J({range:s},(o,a,l)=>{const[c,u,d]=o,h=Xl(u);if(c===this.userId&&r.path.isEqual(h))return iu(e).get(d).next(f=>{if(!f)throw Vt();Kt(f.userId===this.userId),i.push(Yd(this.serializer,f))});l.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Zr(cr);const s=[];return r.forEach(i=>{const o=g1(this.userId,i.path),a=IDBKeyRange.lowerBound(o),l=Of(e).J({range:a},(c,u,d)=>{const[h,f,m]=c,v=Xl(f);h===this.userId&&i.path.isEqual(v)?n=n.add(m):d.done()});s.push(l)}),Re.waitFor(s).next(()=>this.xn(e,n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1,i=g1(this.userId,n),o=IDBKeyRange.lowerBound(i);let a=new Zr(cr);return Of(e).J({range:o},(l,c,u)=>{const[d,h,f]=l,m=Xl(h);d===this.userId&&n.isPrefixOf(m)?m.length===s&&(a=a.add(f)):u.done()}).next(()=>this.xn(e,a))}xn(e,r){const n=[],s=[];return r.forEach(i=>{s.push(iu(e).get(i).next(o=>{if(o===null)throw Vt();Kt(o.userId===this.userId),n.push(Yd(this.serializer,o))}))}),Re.waitFor(s).next(()=>n)}removeMutationBatch(e,r){return NU(e._e,this.userId,r).next(n=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),Re.forEach(n,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Re.resolve();const n=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return Of(e).J({range:n},(i,o,a)=>{if(i[0]===this.userId){const l=Xl(i[1]);s.push(l)}else a.done()}).next(()=>{Kt(s.length===0)})})}containsKey(e,r){return TU(e,this.userId,r)}Nn(e){return jU(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function TU(t,e,r){const n=g1(e,r.path),s=n[1],i=IDBKeyRange.lowerBound(n);let o=!1;return Of(t).J({range:i,H:!0},(a,l,c)=>{const[u,d,h]=a;u===e&&d===s&&(o=!0),c.done()}).next(()=>o)}function iu(t){return Ls(t,"mutations")}function Of(t){return Ls(t,"documentMutations")}function jU(t){return Ls(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Lh(0)}static kn(){return new Lh(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const n=new Lh(r.highestTargetId);return r.highestTargetId=n.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>Yt.fromTimestamp(new Mn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,n){return this.qn(e).next(s=>(s.highestListenSequenceNumber=r,n&&(s.lastRemoteSnapshotVersion=n.toTimestamp()),r>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=r),this.Qn(e,s)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(n=>(n.targetCount+=1,this.$n(r,n),this.Qn(e,n))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Tf(e).delete(r.targetId)).next(()=>this.qn(e)).next(n=>(Kt(n.targetCount>0),n.targetCount-=1,this.Qn(e,n)))}removeTargets(e,r,n){let s=0;const i=[];return Tf(e).J((o,a)=>{const l=n0(a);l.sequenceNumber<=r&&n.get(l.targetId)===null&&(s++,i.push(this.removeTargetData(e,l)))}).next(()=>Re.waitFor(i)).next(()=>s)}forEachTarget(e,r){return Tf(e).J((n,s)=>{const i=n0(s);r(i)})}qn(e){return rN(e).get("targetGlobalKey").next(r=>(Kt(r!==null),r))}Qn(e,r){return rN(e).put("targetGlobalKey",r)}Kn(e,r){return Tf(e).put(kU(this.serializer,r))}$n(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const n=jh(r),s=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Tf(e).J({range:s,index:"queryTargetsIndex"},(o,a,l)=>{const c=n0(a);Zm(r,c.target)&&(i=c,l.done())}).next(()=>i)}addMatchingKeys(e,r,n){const s=[],i=xu(e);return r.forEach(o=>{const a=to(o.path);s.push(i.put({targetId:n,path:a})),s.push(this.referenceDelegate.addReference(e,n,o))}),Re.waitFor(s)}removeMatchingKeys(e,r,n){const s=xu(e);return Re.forEach(r,i=>{const o=to(i.path);return Re.waitFor([s.delete([n,o]),this.referenceDelegate.removeReference(e,n,i)])})}removeMatchingKeysForTargetId(e,r){const n=xu(e),s=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(s)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),s=xu(e);let i=gr();return s.J({range:n,H:!0},(o,a,l)=>{const c=Xl(o[1]),u=new It(c);i=i.add(u)}).next(()=>i)}containsKey(e,r){const n=to(r.path),s=IDBKeyRange.bound([n],[SL(n)],!1,!0);let i=0;return xu(e).J({index:"documentTargetsIndex",H:!0,range:s},([o,a],l,c)=>{o!==0&&(i++,c.done())}).next(()=>i>0)}ot(e,r){return Tf(e).get(r).next(n=>n?n0(n):null)}}function Tf(t){return Ls(t,"targets")}function rN(t){return Ls(t,"targetGlobal")}function xu(t){return Ls(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN([t,e],[r,n]){const s=cr(t,r);return s===0?cr(e,n):s}class k${constructor(e){this.Un=e,this.buffer=new Zr(nN),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();nN(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class E${constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){ut("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){hd(r)?ut("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await Wh(r)}await this.Hn(3e5)})}}class I${constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return Re.resolve(ja.oe);const n=new k$(r);return this.Jn.forEachTarget(e,s=>n.zn(s.sequenceNumber)).next(()=>this.Jn.Zn(e,s=>n.zn(s))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Jn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(tN)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tN):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let n,s,i,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s))).next(d=>(n=d,a=Date.now(),this.removeTargets(e,n,r))).next(d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(d=>(c=Date.now(),Df()<=br.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d})))}}function S$(t,e){return new I$(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e,r){this.db=e,this.garbageCollector=S$(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(n=>r.next(s=>n+s))}er(e){let r=0;return this.Zn(e,n=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(n,s)=>r(s))}addReference(e,r,n){return xv(e,n)}removeReference(e,r,n){return xv(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return xv(e,r)}nr(e,r){return function(s,i){let o=!1;return jU(s).Y(a=>TU(s,a,i).next(l=>(l&&(o=!0),Re.resolve(!l)))).next(()=>o)}(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.tr(e,(o,a)=>{if(a<=r){const l=this.nr(e,o).next(c=>{if(!c)return i++,n.getEntry(e,o).next(()=>(n.removeEntry(o,Yt.min()),xu(e).delete(function(d){return[0,to(d.path)]}(o))))});s.push(l)}}).next(()=>Re.waitFor(s)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return xv(e,r)}tr(e,r){const n=xu(e);let s,i=ja.oe;return n.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(i!==ja.oe&&r(new It(Xl(s)),i),i=c,s=l):i=ja.oe}).next(()=>{i!==ja.oe&&r(new It(Xl(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function xv(t,e){return xu(t).put(function(n,s){return{targetId:0,path:to(n.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(){this.changes=new fd(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Re.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return jd(e).put(n)}removeEntry(e,r,n){return jd(e).delete(function(i,o){const a=i.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],wx(o),a[a.length-1]]}(r,n))}updateMetadata(e,r){return this.getMetadata(e).next(n=>(n.byteSize+=r,this.rr(e,n)))}getEntry(e,r){let n=qn.newInvalidDocument(r);return jd(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Pp(r))},(s,i)=>{n=this.ir(r,i)}).next(()=>n)}sr(e,r){let n={size:0,document:qn.newInvalidDocument(r)};return jd(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Pp(r))},(s,i)=>{n={document:this.ir(r,i),size:Bx(i)}}).next(()=>n)}getEntries(e,r){let n=na();return this._r(e,r,(s,i)=>{const o=this.ir(s,i);n=n.insert(s,o)}).next(()=>n)}ar(e,r){let n=na(),s=new kn(It.comparator);return this._r(e,r,(i,o)=>{const a=this.ir(i,o);n=n.insert(i,a),s=s.insert(i,Bx(o))}).next(()=>({documents:n,ur:s}))}_r(e,r,n){if(r.isEmpty())return Re.resolve();let s=new Zr(oN);r.forEach(l=>s=s.add(l));const i=IDBKeyRange.bound(Pp(s.first()),Pp(s.last())),o=s.getIterator();let a=o.getNext();return jd(e).J({index:"documentKeyIndex",range:i},(l,c,u)=>{const d=It.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&oN(a,d)<0;)n(a,null),a=o.getNext();a&&a.isEqual(d)&&(n(a,c),a=o.hasNext()?o.getNext():null),a?u.$(Pp(a)):u.done()}).next(()=>{for(;a;)n(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,r,n,s,i){const o=r.path,a=[o.popLast().toArray(),o.lastSegment(),wx(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return jd(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{i==null||i.incrementDocumentReadCount(c.length);let u=na();for(const d of c){const h=this.ir(It.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(ty(r,h)||s.has(h.key))&&(u=u.insert(h.key,h))}return u})}getAllFromCollectionGroup(e,r,n,s){let i=na();const o=iN(r,n),a=iN(r,la.max());return jd(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const d=this.ir(It.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);i=i.insert(d.key,d),i.size===s&&u.done()}).next(()=>i)}newChangeBuffer(e){return new j$(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return sN(e).get("remoteDocumentGlobalKey").next(r=>(Kt(!!r),r))}rr(e,r){return sN(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const n=g$(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(Yt.min())))return n}return qn.newInvalidDocument(e)}}function PU(t){return new T$(t)}class j$ extends FU{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new fd(n=>n.toString(),(n,s)=>n.isEqual(s))}applyChanges(e){const r=[];let n=0,s=new Zr((i,o)=>cr(i.canonicalString(),o.canonicalString()));return this.changes.forEach((i,o)=>{const a=this.lr.get(i);if(r.push(this.cr.removeEntry(e,i,a.readTime)),o.isValidDocument()){const l=KS(this.cr.serializer,o);s=s.add(i.path.popLast());const c=Bx(l);n+=c-a.size,r.push(this.cr.addEntry(e,i,l))}else if(n-=a.size,this.trackRemovals){const l=KS(this.cr.serializer,o.convertToNoDocument(Yt.min()));r.push(this.cr.addEntry(e,i,l))}}),s.forEach(i=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,i))}),r.push(this.cr.updateMetadata(e,n)),Re.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(n=>(this.lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:n,ur:s})=>(s.forEach((i,o)=>{this.lr.set(i,{size:o,readTime:n.get(i).readTime})}),n))}}function sN(t){return Ls(t,"remoteDocumentGlobal")}function jd(t){return Ls(t,"remoteDocumentsV14")}function Pp(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function iN(t,e){const r=e.documentKey.path.toArray();return[t,wx(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function oN(t,e){const r=t.path.toArray(),n=e.path.toArray();let s=0;for(let i=0;i<r.length-2&&i<n.length-2;++i)if(s=cr(r[i],n[i]),s)return s;return s=cr(r.length,n.length),s||(s=cr(r[r.length-2],n[n.length-2]),s||cr(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(n!==null&&E0(n.mutation,s,Fo.empty(),Mn.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,gr()).next(()=>n))}getLocalViewOfDocuments(e,r,n=gr()){const s=Jl();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,n).next(i=>{let o=t0();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=Jl();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,gr()))}populateOverlays(e,r,n){const s=[];return n.forEach(i=>{r.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{r.set(o,a)})})}computeViews(e,r,n,s){let i=na();const o=k0(),a=function(){return k0()}();return r.forEach((l,c)=>{const u=n.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof wc)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),E0(u.mutation,c,u.mutation.getFieldMask(),Mn.now())):o.set(c.key,Fo.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),r.forEach((c,u)=>{var d;return a.set(c,new F$(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,r){const n=k0();let s=new kn((o,a)=>o-a),i=gr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||Fo.empty();u=a.applyToLocalView(c,u),n.set(l,u);const d=(s.get(a.batchId)||gr()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=tU();u.forEach(h=>{if(!i.has(h)){const f=lU(r.get(h),n.get(h));f!==null&&d.set(h,f),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return Re.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,s){return function(o){return It.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):YL(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-i.size):Re.resolve(Jl());let a=-1,l=i;return o.next(c=>Re.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(u)?Re.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,gr())).next(u=>({batchId:a,changes:eU(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new It(r)).next(n=>{let s=t0();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const i=r.collectionGroup;let o=t0();return this.indexManager.getCollectionParents(e,i).next(a=>Re.forEach(a,l=>{const c=function(d,h){return new Xg(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,n,s).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,qn.newInvalidDocument(u)))});let a=t0();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&E0(u.mutation,c,Fo.empty(),Mn.now()),ty(r,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Re.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:ro(s.createTime)}}(r)),Re.resolve()}getNamedQuery(e,r){return Re.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(s){return{name:s.name,query:EU(s.bundledQuery),readTime:ro(s.readTime)}}(r)),Re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(){this.overlays=new kn(It.comparator),this.Ir=new Map}getOverlay(e,r){return Re.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Jl();return Re.forEach(r,s=>this.getOverlay(e,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((s,i)=>{this.ht(e,r,i)}),Re.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Ir.get(n);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(n)),Re.resolve()}getOverlaysForCollection(e,r,n){const s=Jl(),i=r.length+1,o=new It(r.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&s.set(l.getKey(),l)}return Re.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let i=new kn((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=Jl(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Jl(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return Re.resolve(a)}ht(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(n.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new a_(r,n));let i=this.Ir.get(r);i===void 0&&(i=gr(),this.Ir.set(r,i)),this.Ir.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(){this.sessionToken=vs.EMPTY_BYTE_STRING}getSessionToken(e){return Re.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(){this.Tr=new Zr(Qs.Er),this.dr=new Zr(Qs.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Qs(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Qs(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new It(new Vr([])),n=new Qs(r,e),s=new Qs(r,e+1),i=[];return this.dr.forEachInRange([n,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new It(new Vr([])),n=new Qs(r,e),s=new Qs(r,e+1);let i=gr();return this.dr.forEachInRange([n,s],o=>{i=i.add(o.key)}),i}containsKey(e){const r=new Qs(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Qs{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return It.comparator(e.key,r.key)||cr(e.wr,r.wr)}static Ar(e,r){return cr(e.wr,r.wr)||It.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Zr(Qs.Er)}checkEmpty(e){return Re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new i_(i,r,n,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Qs(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Re.resolve(o)}lookupMutationBatch(e,r){return Re.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.vr(n),i=s<0?0:s;return Re.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Qs(r,0),s=new Qs(r,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,s],o=>{const a=this.Dr(o.wr);i.push(a)}),Re.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Zr(cr);return r.forEach(s=>{const i=new Qs(s,0),o=new Qs(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{n=n.add(a.wr)})}),Re.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let i=n;It.isDocumentKey(i)||(i=i.child(""));const o=new Qs(new It(i),0);let a=new Zr(cr);return this.br.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),Re.resolve(this.Cr(a))}Cr(e){const r=[];return e.forEach(n=>{const s=this.Dr(n);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){Kt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Re.forEach(r.mutations,s=>{const i=new Qs(s.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Qs(r,0),s=this.br.firstAfterOrEqual(n);return Re.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Re.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(e){this.Mr=e,this.docs=function(){return new kn(It.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),i=s?s.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Re.resolve(n?n.document.mutableCopy():qn.newInvalidDocument(r))}getEntries(e,r){let n=na();return r.forEach(s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():qn.newInvalidDocument(s))}),Re.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let i=na();const o=r.path,a=new It(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||J4(NL(u),n)<=0||(s.has(u.key)||ty(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Re.resolve(i)}getAllFromCollectionGroup(e,r,n,s){Vt()}Or(e,r){return Re.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new M$(this)}getSize(e){return Re.resolve(this.size)}}class M$ extends FU{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?r.push(this.cr.addEntry(e,s)):this.cr.removeEntry(n)}),Re.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(e){this.persistence=e,this.Nr=new fd(r=>jh(r),Zm),this.lastRemoteSnapshotVersion=Yt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new d_,this.targetCount=0,this.kr=Lh.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,s)=>r(s)),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),Re.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Lh(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Re.resolve()}updateTargetData(e,r){return this.Kn(r),Re.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,r,n){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=r&&n.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Re.waitFor(i).next(()=>s)}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return Re.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),Re.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const s=this.persistence.referenceDelegate,i=[];return s&&r.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Re.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Re.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return Re.resolve(n)}containsKey(e,r){return Re.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e,r){this.qr={},this.overlays={},this.Qr=new ja(0),this.Kr=!1,this.Kr=!0,this.$r=new U$,this.referenceDelegate=e(this),this.Ur=new Q$(this),this.indexManager=new B$,this.remoteDocumentCache=function(s){return new R$(s)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new _U(r),this.Gr=new P$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new L$,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new D$(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){ut("MemoryPersistence","Starting transaction:",e);const s=new O$(this.Qr.next());return this.referenceDelegate.zr(),n(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,r){return Re.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class O$ extends jL{constructor(e){super(),this.currentSequenceNumber=e}}class Tw{constructor(e){this.persistence=e,this.Jr=new d_,this.Yr=null}static Zr(e){return new Tw(e)}get Xr(){if(this.Yr)return this.Yr;throw Vt()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),Re.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),Re.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Re.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(s=>this.Xr.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.Xr,n=>{const s=It.fromPath(n);return this.ei(e,s).next(i=>{i||r.removeEntry(s,Yt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return Re.or([()=>Re.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e){this.serializer=e}O(e,r,n,s){const i=new ww("createOrUpgrade",r);n<1&&s>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xS,{unique:!0}),l.createObjectStore("documentMutations")}(e),aN(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=Re.resolve();return n<3&&s>=3&&(n!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),aN(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Yt.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(i))),n<4&&s>=4&&(n!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").U().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xS,{unique:!0});const d=c.store("mutations"),h=u.map(f=>d.put(f));return Re.waitFor(h)})}(e,i))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),n<5&&s>=5&&(o=o.next(()=>this.ni(i))),n<6&&s>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(i)))),n<7&&s>=7&&(o=o.next(()=>this.ii(i))),n<8&&s>=8&&(o=o.next(()=>this.si(e,i))),n<9&&s>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&s>=10&&(o=o.next(()=>this.oi(i))),n<11&&s>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&s>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:mW});c.createIndex("collectionPathOverlayIndex",yW,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",vW,{unique:!1})})(e)})),n<13&&s>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:oW});c.createIndex("documentKeyIndex",aW),c.createIndex("collectionGroupIndex",lW)}(e)).next(()=>this._i(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&s>=14&&(o=o.next(()=>this.ai(e,i))),n<15&&s>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:hW}).createIndex("sequenceNumberIndex",fW,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:gW}).createIndex("documentKeyIndex",pW,{unique:!1})}(e))),n<16&&s>=16&&(o=o.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),n<17&&s>=17&&(o=o.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let r=0;return e.store("remoteDocuments").J((n,s)=>{r+=Bx(s)}).next(()=>{const n={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}ni(e){const r=e.store("mutationQueues"),n=e.store("mutations");return r.U().next(s=>Re.forEach(s,i=>{const o=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",o).next(a=>Re.forEach(a,l=>{Kt(l.userId===i.userId);const c=Yd(this.serializer,l);return NU(e,i.userId,c).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const i=[];return n.J((o,a)=>{const l=new Vr(o),c=function(d){return[0,to(d)]}(l);i.push(r.get(c).next(u=>u?Re.resolve():(d=>r.put({targetId:0,path:to(d),sequenceNumber:s.highestListenSequenceNumber}))(l)))}).next(()=>Re.waitFor(i))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:dW});const n=r.store("collectionParents"),s=new u_,i=o=>{if(s.add(o)){const a=o.lastSegment(),l=o.popLast();return n.put({collectionId:a,parent:to(l)})}};return r.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new Vr(o);return i(l.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([o,a,l],c)=>{const u=Xl(a);return i(u.popLast())}))}oi(e){const r=e.store("targets");return r.J((n,s)=>{const i=n0(s),o=kU(this.serializer,i);return r.put(o)})}_i(e,r){const n=r.store("remoteDocuments"),s=[];return n.J((i,o)=>{const a=r.store("remoteDocumentsV14"),l=function(d){return d.document?new It(Vr.fromString(d.document.name).popFirst(5)):d.noDocument?It.fromSegments(d.noDocument.path):d.unknownDocument?It.fromSegments(d.unknownDocument.path):Vt()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(a.put(c))}).next(()=>Re.waitFor(s))}ai(e,r){const n=r.store("mutations"),s=PU(this.serializer),i=new UU(Tw.Zr,this.serializer.ct);return n.U().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:gr();Yd(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),Re.forEach(a,(l,c)=>{const u=new ri(c),d=Sw.lt(this.serializer,u),h=i.getIndexManager(u),f=Nw.lt(u,this.serializer,h,i.referenceDelegate);return new LU(s,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new _5(r,ja.oe),l).next()})})}}function aN(t){t.createObjectStore("targetDocuments",{keyPath:cW}).createIndex("documentTargetsIndex",uW,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",AW,{unique:!0}),t.createObjectStore("targetGlobal")}const kb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class h_{constructor(e,r,n,s,i,o,a,l,c,u,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.ui=i,this.window=o,this.document=a,this.ci=c,this.li=u,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=h=>Promise.resolve(),!h_.D())throw new bt($e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new N$(this,s),this.Ai=r+"main",this.serializer=new _U(l),this.Ri=new Ku(this.Ai,this.hi,new V$(this.serializer)),this.$r=new m$,this.Ur=new _$(this.referenceDelegate,this.serializer),this.remoteDocumentCache=PU(this.serializer),this.Gr=new p$,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,u===!1&&Ji("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new bt($e.FAILED_PRECONDITION,kb);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new ja(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>wv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(hd(e))return ut("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ut("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Lp(e).get("owner").next(r=>Re.resolve(this.vi(r)))}Ci(e){return wv(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const n=Ls(r,"clientMetadata");return n.U().next(s=>{const i=this.xi(s,18e5),o=s.filter(a=>i.indexOf(a)===-1);return Re.forEach(o,a=>n.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(const r of e)this.Vi.removeItem(this.Oi(r.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Re.resolve(!0):Lp(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new bt($e.FAILED_PRECONDITION,kb);return!1}}return!(!this.networkEnabled||!this.inForeground)||wv(e).U().next(n=>this.xi(n,5e3).find(s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,a=this.networkEnabled===s.networkEnabled;if(i||o&&a)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&ut("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new _5(e,ja.oe);return this.bi(r).next(()=>this.Ci(r))}),this.Ri.close(),this.qi()}xi(e,r){return e.filter(n=>this.Mi(n.updateTimeMs,r)&&!this.Ni(n.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>wv(e).U().next(r=>this.xi(r,18e5).map(n=>n.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return Nw.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new C$(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Sw.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,n){ut("IndexedDbPersistence","Starting transaction:",e);const s=r==="readonly"?"readonly":"readwrite",i=function(l){return l===17?bW:l===16?wW:l===15?e_:l===14?DL:l===13?UL:l===12?xW:l===11?LL:void Vt()}(this.hi);let o;return this.Ri.runTransaction(e,s,i,a=>(o=new _5(a,this.Qr?this.Qr.next():ja.oe),r==="readwrite-primary"?this.wi(o).next(l=>!!l||this.Si(o)).next(l=>{if(!l)throw Ji(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new bt($e.FAILED_PRECONDITION,TL);return n(o)}).next(l=>this.Di(o).next(()=>l)):this.Ki(o).next(()=>n(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return Lp(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new bt($e.FAILED_PRECONDITION,kb)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Lp(e).put("owner",r)}static D(){return Ku.D()}bi(e){const r=Lp(e);return r.get("owner").next(n=>this.vi(n)?(ut("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Re.resolve())}Mi(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(Ji(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;P6()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const n=((r=this.Vi)===null||r===void 0?void 0:r.getItem(this.Oi(e)))!==null;return ut("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Ji("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Ji("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Lp(t){return Ls(t,"owner")}function wv(t){return Ls(t,"clientMetadata")}function H$(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=s}static Wi(e,r){let n=gr(),s=gr();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new f_(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return P6()?8:FL(Ps())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,s){const i={result:null};return this.Yi(e,r).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,r,s,n).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new K$;return this.Xi(e,r,o).next(a=>{if(i.result=a,this.zi)return this.es(e,r,o,a.size)})}).next(()=>i.result)}es(e,r,n,s){return n.documentReadCount<this.ji?(Df()<=br.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Rf(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Re.resolve()):(Df()<=br.DEBUG&&ut("QueryEngine","Query:",Rf(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.Hi*s?(Df()<=br.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Rf(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,La(r))):Re.resolve())}Yi(e,r){if(FS(r))return Re.resolve(null);let n=La(r);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=j5(r,null,"F"),n=La(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const o=gr(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.ts(r,a);return this.ns(r,c,o,l.readTime)?this.Yi(e,j5(r,null,"F")):this.rs(e,c,r,l)}))})))}Zi(e,r,n,s){return FS(r)||s.isEqual(Yt.min())?Re.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const o=this.ts(r,i);return this.ns(r,o,n,s)?Re.resolve(null):(Df()<=br.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Rf(r)),this.rs(e,o,r,JG(s,-1)).next(a=>a))})}ts(e,r){let n=new Zr(JL(e));return r.forEach((s,i)=>{ty(e,i)&&(n=n.add(i))}),n}ns(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,r,n){return Df()<=br.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Rf(r)),this.Ji.getDocumentsMatchingQuery(e,r,la.min(),n)}rs(e,r,n,s){return this.Ji.getDocumentsMatchingQuery(e,n,s).next(i=>(r.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e,r,n,s){this.persistence=e,this.ss=r,this.serializer=s,this.os=new kn(cr),this._s=new fd(i=>jh(i),Zm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LU(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function RU(t,e,r,n){return new z$(t,e,r,n)}async function MU(t,e){const r=nr(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next(i=>(s=i,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const o=[],a=[];let l=gr();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function G$(t,e){const r=nr(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),i=r.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let f=Re.resolve();return h.forEach(m=>{f=f.next(()=>u.getEntry(l,m)).next(v=>{const _=c.docVersions.get(m);Kt(_!==null),v.version.compareTo(_)<0&&(d.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let l=gr();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,s))})}function QU(t){const e=nr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function W$(t,e){const r=nr(t),n=e.snapshotVersion;let s=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});s=r.os;const a=[];e.targetChanges.forEach((u,d)=>{const h=s.get(d);if(!h)return;a.push(r.Ur.removeMatchingKeys(i,u.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(i,u.addedDocuments,d)));let f=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(vs.EMPTY_BYTE_STRING,Yt.min()).withLastLimboFreeSnapshotVersion(Yt.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,n)),s=s.insert(d,f),function(v,_,x){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,f,u)&&a.push(r.Ur.updateTargetData(i,f))});let l=na(),c=gr();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push($$(i,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!n.isEqual(Yt.min())){const u=r.Ur.getLastRemoteSnapshotVersion(i).next(d=>r.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n));a.push(u)}return Re.waitFor(a).next(()=>o.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.os=s,i))}function $$(t,e,r){let n=gr(),s=gr();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let o=na();return r.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Yt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ut("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function q$(t,e){const r=nr(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Y$(t,e){const r=nr(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return r.Ur.getTargetData(n,e).next(i=>i?(s=i,Re.resolve(s)):r.Ur.allocateTargetId(n).next(o=>(s=new tc(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=r.os.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Q5(t,e,r){const n=nr(t),s=n.os.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,o=>n.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!hd(o))throw o;ut("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(s.target)}function lN(t,e,r){const n=nr(t);let s=Yt.min(),i=gr();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=nr(l),h=d._s.get(u);return h!==void 0?Re.resolve(d.os.get(h)):d.Ur.getTargetData(c,u)}(n,o,La(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?s:Yt.min(),r?i:gr())).next(a=>(X$(n,DW(e),a),{documents:a,Ts:i})))}function X$(t,e,r){let n=t.us.get(e)||Yt.min();r.forEach((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.us.set(e,n)}class AN{constructor(){this.activeTargetIds=HW()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OU{constructor(){this.so=new AN,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new AN,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bv=null;function Eb(){return bv===null?bv=function(){return 268435456+Math.round(2147483648*Math.random())}():bv++,"0x"+bv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="WebChannelConnection";class tq extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(r,n,s,i,o){const a=Eb(),l=this.xo(r,n.toUriEncodedString());ut("RestConnection",`Sending RPC '${r}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(r,l,c,s).then(u=>(ut("RestConnection",`Received RPC '${r}' ${a}: `,u),u),u=>{throw Sh("RestConnection",`RPC '${r}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Lo(r,n,s,i,o,a){return this.Mo(r,n,s,i,o)}Oo(r,n,s){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yg}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>r[o]=i),s&&s.headers.forEach((i,o)=>r[o]=i)}xo(r,n){const s=Z$[r];return`${this.Do}/v1/${n}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,s){const i=Eb();return new Promise((o,a)=>{const l=new bL;l.setWithCredentials(!0),l.listenOnce(BL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case h1.NO_ERROR:const u=l.getResponseJson();ut(vi,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case h1.TIMEOUT:ut(vi,`RPC '${e}' ${i} timed out`),a(new bt($e.DEADLINE_EXCEEDED,"Request time out"));break;case h1.HTTP_ERROR:const d=l.getStatus();if(ut(vi,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const m=function(_){const x=_.toLowerCase().replace(/_/g,"-");return Object.values($e).indexOf(x)>=0?x:$e.UNKNOWN}(f.status);a(new bt(m,f.message))}else a(new bt($e.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new bt($e.UNAVAILABLE,"Connection failed."));break;default:Vt()}}finally{ut(vi,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);ut(vi,`RPC '${e}' ${i} sending request:`,s),l.send(r,"POST",c,n,15)})}Bo(e,r,n){const s=Eb(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kL(),a=_L(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=i.join("");ut(vi,`Creating RPC '${e}' stream ${s}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const m=new eq({Io:_=>{f?ut(vi,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(h||(ut(vi,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),ut(vi,`RPC '${e}' stream ${s} sending:`,_),d.send(_))},To:()=>d.close()}),v=(_,x,b)=>{_.listen(x,E=>{try{b(E)}catch(N){setTimeout(()=>{throw N},0)}})};return v(d,e0.EventType.OPEN,()=>{f||(ut(vi,`RPC '${e}' stream ${s} transport opened.`),m.yo())}),v(d,e0.EventType.CLOSE,()=>{f||(f=!0,ut(vi,`RPC '${e}' stream ${s} transport closed`),m.So())}),v(d,e0.EventType.ERROR,_=>{f||(f=!0,Sh(vi,`RPC '${e}' stream ${s} transport errored:`,_),m.So(new bt($e.UNAVAILABLE,"The operation could not be completed")))}),v(d,e0.EventType.MESSAGE,_=>{var x;if(!f){const b=_.data[0];Kt(!!b);const E=b,N=E.error||((x=E[0])===null||x===void 0?void 0:x.error);if(N){ut(vi,`RPC '${e}' stream ${s} received error:`,N);const j=N.status;let O=function(U){const R=gs[U];if(R!==void 0)return uU(R)}(j),P=N.message;O===void 0&&(O=$e.INTERNAL,P="Unknown error status: "+j+" with message "+N.message),f=!0,m.So(new bt(O,P)),d.close()}else ut(vi,`RPC '${e}' stream ${s} received:`,b),m.bo(b)}}),v(a,CL.STAT_EVENT,_=>{_.stat===B5.PROXY?ut(vi,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===B5.NOPROXY&&ut(vi,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(){return typeof window<"u"?window:null}function x1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t){return new i$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,r,n=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),s=Math.max(0,r-n);s>0&&ut("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,r,n,s,i,o,a,l){this.ui=e,this.Ho=n,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new VU(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===$e.RESOURCE_EXHAUSTED?(Ji(r.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===$e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.Yo===r&&this.P_(n,s)},n=>{e(()=>{const s=new bt($e.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(s)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{n(()=>this.I_(s))}),this.stream.onMessage(s=>{n(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ut("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nq extends HU{constructor(e,r,n,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=l$(this.serializer,e),n=function(i){if(!("targetChange"in i))return Yt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Yt.min():o.readTime?ro(o.readTime):Yt.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=L5(this.serializer),r.addTarget=function(i,o){let a;const l=o.target;if(a=mx(l)?{documents:vU(i,l)}:{query:xU(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=fU(i,o.resumeToken);const c=F5(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Yt.min())>0){a.readTime=Pg(i,o.snapshotVersion.toTimestamp());const c=F5(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const n=c$(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=L5(this.serializer),r.removeTarget=e,this.a_(r)}}class sq extends HU{constructor(e,r,n,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Kt(!!e.streamToken),this.lastStreamToken=e.streamToken,Kt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=A$(e.writeResults,e.commitTime),n=ro(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=L5(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>xx(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq extends class{}{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new bt($e.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,P5(r,n),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new bt($e.UNKNOWN,i.toString())})}Lo(e,r,n,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,P5(r,n),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new bt($e.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class oq{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ji(r),this.D_=!1):ut("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e,r,n,s,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{n.enqueueAndForget(async()=>{qh(this)&&(ut("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=nr(l);c.L_.add(4),await Zg(c),c.q_.set("Unknown"),c.L_.delete(4),await ny(c)}(this))})}),this.q_=new oq(n,s)}}async function ny(t){if(qh(t))for(const e of t.B_)await e(!0)}async function Zg(t){for(const e of t.B_)await e(!1)}function KU(t,e){const r=nr(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),y_(r)?m_(r):ep(r).r_()&&p_(r,e))}function g_(t,e){const r=nr(t),n=ep(r);r.N_.delete(e),n.r_()&&zU(r,e),r.N_.size===0&&(n.r_()?n.o_():qh(r)&&r.q_.set("Unknown"))}function p_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Yt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ep(t).A_(e)}function zU(t,e){t.Q_.xe(e),ep(t).R_(e)}function m_(t){t.Q_=new t$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ep(t).start(),t.q_.v_()}function y_(t){return qh(t)&&!ep(t).n_()&&t.N_.size>0}function qh(t){return nr(t).L_.size===0}function GU(t){t.Q_=void 0}async function lq(t){t.q_.set("Online")}async function Aq(t){t.N_.forEach((e,r)=>{p_(t,e)})}async function cq(t,e){GU(t),y_(t)?(t.q_.M_(e),m_(t)):t.q_.set("Unknown")}async function uq(t,e,r){if(t.q_.set("Online"),e instanceof hU&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(n){ut("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Cx(t,n)}else if(e instanceof v1?t.Q_.Ke(e):e instanceof dU?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Yt.min()))try{const n=await QU(t.localStore);r.compareTo(n)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.N_.get(l);if(!u)return;i.N_.set(l,u.withResumeToken(vs.EMPTY_BYTE_STRING,u.snapshotVersion)),zU(i,l);const d=new tc(u.target,l,c,u.sequenceNumber);p_(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(n){ut("RemoteStore","Failed to raise snapshot:",n),await Cx(t,n)}}async function Cx(t,e,r){if(!hd(e))throw e;t.L_.add(1),await Zg(t),t.q_.set("Offline"),r||(r=()=>QU(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ut("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await ny(t)})}function WU(t,e){return e().catch(r=>Cx(t,r,e))}async function sy(t){const e=nr(t),r=ed(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;dq(e);)try{const s=await q$(e.localStore,n);if(s===null){e.O_.length===0&&r.o_();break}n=s.batchId,hq(e,s)}catch(s){await Cx(e,s)}$U(e)&&qU(e)}function dq(t){return qh(t)&&t.O_.length<10}function hq(t,e){t.O_.push(e);const r=ed(t);r.r_()&&r.V_&&r.m_(e.mutations)}function $U(t){return qh(t)&&!ed(t).n_()&&t.O_.length>0}function qU(t){ed(t).start()}async function fq(t){ed(t).p_()}async function gq(t){const e=ed(t);for(const r of t.O_)e.m_(r.mutations)}async function pq(t,e,r){const n=t.O_.shift(),s=o_.from(n,e,r);await WU(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await sy(t)}async function mq(t,e){e&&ed(t).V_&&await async function(n,s){if(function(o){return JW(o)&&o!==$e.ABORTED}(s.code)){const i=n.O_.shift();ed(n).s_(),await WU(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await sy(n)}}(t,e),$U(t)&&qU(t)}async function uN(t,e){const r=nr(t);r.asyncQueue.verifyOperationInProgress(),ut("RemoteStore","RemoteStore received new credentials");const n=qh(r);r.L_.add(3),await Zg(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await ny(r)}async function yq(t,e){const r=nr(t);e?(r.L_.delete(2),await ny(r)):e||(r.L_.add(2),await Zg(r),r.q_.set("Unknown"))}function ep(t){return t.K_||(t.K_=function(r,n,s){const i=nr(r);return i.w_(),new nq(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:lq.bind(null,t),Ro:Aq.bind(null,t),mo:cq.bind(null,t),d_:uq.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),y_(t)?m_(t):t.q_.set("Unknown")):(await t.K_.stop(),GU(t))})),t.K_}function ed(t){return t.U_||(t.U_=function(r,n,s){const i=nr(r);return i.w_(),new sq(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:fq.bind(null,t),mo:mq.bind(null,t),f_:gq.bind(null,t),g_:pq.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await sy(t)):(await t.U_.stop(),t.O_.length>0&&(ut("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,r,n,s,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new oA,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,i){const o=Date.now()+n,a=new v_(e,r,o,s,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new bt($e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function x_(t,e){if(Ji("AsyncQueue",`${e}: ${t}`),hd(t))return new bt($e.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this.comparator=e?(r,n)=>e(r,n)||It.comparator(r.key,n.key):(r,n)=>It.comparator(r.key,n.key),this.keyedMap=t0(),this.sortedSet=new kn(this.comparator)}static emptySet(e){return new mg(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof mg)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new mg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.W_=new kn(It.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Vt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Lg{constructor(e,r,n,s,i,o,a,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,s,i){const o=[];return r.forEach(a=>{o.push({type:0,doc:a})}),new Lg(e,r,mg.emptySet(r),o,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class xq{constructor(){this.queries=hN(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const s=nr(r),i=s.queries;s.queries=hN(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(n)})})(this,new bt($e.ABORTED,"Firestore shutting down"))}}function hN(){return new fd(t=>XL(t),Cw)}async function w_(t,e){const r=nr(t);let n=3;const s=e.query;let i=r.queries.get(s);i?!i.H_()&&e.J_()&&(n=2):(i=new vq,n=e.J_()?0:1);try{switch(n){case 0:i.z_=await r.onListen(s,!0);break;case 1:i.z_=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(o){const a=x_(o,`Initialization of query '${Rf(e.query)}' failed`);return void e.onError(a)}r.queries.set(s,i),i.j_.push(e),e.Z_(r.onlineState),i.z_&&e.X_(i.z_)&&B_(r)}async function b_(t,e){const r=nr(t),n=e.query;let s=3;const i=r.queries.get(n);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function wq(t,e){const r=nr(t);let n=!1;for(const s of e){const i=s.query,o=r.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(n=!0);o.z_=s}}n&&B_(r)}function bq(t,e,r){const n=nr(t),s=n.queries.get(e);if(s)for(const i of s.j_)i.onError(r);n.queries.delete(e)}function B_(t){t.Y_.forEach(e=>{e.next()})}var O5,fN;(fN=O5||(O5={})).ea="default",fN.Cache="cache";class C_{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new Lg(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Lg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==O5.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.key=e}}class XU{constructor(e){this.key=e}}class Bq{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=gr(),this.mutatedKeys=gr(),this.Aa=JL(e),this.Ra=new mg(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new dN,s=r?r.Ra:this.Ra;let i=r?r.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,d)=>{const h=s.get(u),f=ty(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?m!==v&&(n.track({type:3,doc:f}),_=!0):this.ga(h,f)||(n.track({type:2,doc:f}),_=!0,(l&&this.Aa(f,l)>0||c&&this.Aa(f,c)<0)&&(a=!0)):!h&&f?(n.track({type:0,doc:f}),_=!0):h&&!f&&(n.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(f?(o=o.add(f),i=v?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{Ra:o,fa:n,ns:a,mutatedKeys:i}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,d)=>function(f,m){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt()}};return v(f)-v(m)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(n),s=s!=null&&s;const a=r&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Lg(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new dN,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=gr(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new XU(n))}),this.da.forEach(n=>{e.has(n)||r.push(new YU(n))}),r}ba(e){this.Ta=e.Ts,this.da=gr();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Lg.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Cq{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class _q{constructor(e){this.key=e,this.va=!1}}class kq{constructor(e,r,n,s,i,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new fd(a=>XL(a),Cw),this.Ma=new Map,this.xa=new Set,this.Oa=new kn(It.comparator),this.Na=new Map,this.La=new d_,this.Ba={},this.ka=new Map,this.qa=Lh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Eq(t,e,r=!0){const n=nD(t);let s;const i=n.Fa.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await JU(n,e,r,!0),s}async function Iq(t,e){const r=nD(t);await JU(r,e,!0,!1)}async function JU(t,e,r,n){const s=await Y$(t.localStore,La(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,r);let a;return n&&(a=await Sq(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&r&&KU(t.remoteStore,s),a}async function Sq(t,e,r,n,s){t.Ka=(d,h,f)=>async function(v,_,x,b){let E=_.view.ma(x);E.ns&&(E=await lN(v.localStore,_.query,!1).then(({documents:P})=>_.view.ma(P,E)));const N=b&&b.targetChanges.get(_.targetId),j=b&&b.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(E,v.isPrimaryClient,N,j);return pN(v,_.targetId,O.wa),O.snapshot}(t,d,h,f);const i=await lN(t.localStore,e,!0),o=new Bq(e,i.Ts),a=o.ma(i.documents),l=ry.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);pN(t,r,c.wa);const u=new Cq(e,r,o);return t.Fa.set(e,u),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),c.snapshot}async function Nq(t,e,r){const n=nr(t),s=n.Fa.get(e),i=n.Ma.get(s.targetId);if(i.length>1)return n.Ma.set(s.targetId,i.filter(o=>!Cw(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Q5(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),r&&g_(n.remoteStore,s.targetId),V5(n,s.targetId)}).catch(Wh)):(V5(n,s.targetId),await Q5(n.localStore,s.targetId,!0))}async function Tq(t,e){const r=nr(t),n=r.Fa.get(e),s=r.Ma.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),g_(r.remoteStore,n.targetId))}async function jq(t,e,r){const n=sD(t);try{const s=await function(o,a){const l=nr(o),c=Mn.now(),u=a.reduce((f,m)=>f.add(m.key),gr());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=na(),v=gr();return l.cs.getEntries(f,u).next(_=>{m=_,m.forEach((x,b)=>{b.isValidDocument()||(v=v.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,m)).next(_=>{d=_;const x=[];for(const b of a){const E=YW(b,d.get(b.key).overlayedDocument);E!=null&&x.push(new wc(b.key,E,VL(E.value.mapValue),Ii.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,x,a)}).next(_=>{h=_;const x=_.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(f,_.batchId,x)})}).then(()=>({batchId:h.batchId,changes:eU(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new kn(cr)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(n,s.batchId,r),await iy(n,s.changes),await sy(n.remoteStore)}catch(s){const i=x_(s,"Failed to persist write");r.reject(i)}}async function ZU(t,e){const r=nr(t);try{const n=await W$(r.localStore,e);e.targetChanges.forEach((s,i)=>{const o=r.Na.get(i);o&&(Kt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Kt(o.va):s.removedDocuments.size>0&&(Kt(o.va),o.va=!1))}),await iy(r,n,e)}catch(n){await Wh(n)}}function gN(t,e,r){const n=nr(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=nr(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.j_)h.Z_(a)&&(c=!0)}),c&&B_(l)}(n.eventManager,e),s.length&&n.Ca.d_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Fq(t,e,r){const n=nr(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Na.get(e),i=s&&s.key;if(i){let o=new kn(It.comparator);o=o.insert(i,qn.newNoDocument(i,Yt.min()));const a=gr().add(i),l=new Iw(Yt.min(),new Map,new kn(cr),o,a);await ZU(n,l),n.Oa=n.Oa.remove(i),n.Na.delete(e),__(n)}else await Q5(n.localStore,e,!1).then(()=>V5(n,e,r)).catch(Wh)}async function Pq(t,e){const r=nr(t),n=e.batch.batchId;try{const s=await G$(r.localStore,e);tD(r,n,null),eD(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await iy(r,s)}catch(s){await Wh(s)}}async function Lq(t,e,r){const n=nr(t);try{const s=await function(o,a){const l=nr(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Kt(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,e);tD(n,e,r),eD(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await iy(n,s)}catch(s){await Wh(s)}}function eD(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function tD(t,e,r){const n=nr(t);let s=n.Ba[n.currentUser.toKey()];if(s){const i=s.get(e);i&&(r?i.reject(r):i.resolve(),s=s.remove(e)),n.Ba[n.currentUser.toKey()]=s}}function V5(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||rD(t,n)})}function rD(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(g_(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),__(t))}function pN(t,e,r){for(const n of r)n instanceof YU?(t.La.addReference(n.key,e),Uq(t,n)):n instanceof XU?(ut("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||rD(t,n.key)):Vt()}function Uq(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(ut("SyncEngine","New document in limbo: "+r),t.xa.add(n),__(t))}function __(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new It(Vr.fromString(e)),n=t.qa.next();t.Na.set(n,new _q(r)),t.Oa=t.Oa.insert(r,n),KU(t.remoteStore,new tc(La(ey(r.path)),n,"TargetPurposeLimboResolution",ja.oe))}}async function iy(t,e,r){const n=nr(t),s=[],i=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((a,l)=>{o.push(n.Ka(l,e,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const d=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){s.push(c);const d=f_.Wi(l.targetId,c);i.push(d)}}))}),await Promise.all(o),n.Ca.d_(s),await async function(l,c){const u=nr(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Re.forEach(c,h=>Re.forEach(h.$i,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>Re.forEach(h.Ui,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!hd(d))throw d;ut("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.os.get(h),m=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(m);u.os=u.os.insert(h,v)}}}(n.localStore,i))}async function Dq(t,e){const r=nr(t);if(!r.currentUser.isEqual(e)){ut("SyncEngine","User change. New user:",e.toKey());const n=await MU(r.localStore,e);r.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new bt($e.CANCELLED,o))})}),i.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await iy(r,n.hs)}}function Rq(t,e){const r=nr(t),n=r.Na.get(e);if(n&&n.va)return gr().add(n.key);{let s=gr();const i=r.Ma.get(e);if(!i)return s;for(const o of i){const a=r.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function nD(t){const e=nr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fq.bind(null,e),e.Ca.d_=wq.bind(null,e.eventManager),e.Ca.$a=bq.bind(null,e.eventManager),e}function sD(t){const e=nr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lq.bind(null,e),e}class wm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jw(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return RU(this.persistence,new DU,e.initialUser,this.serializer)}Ga(e){return new UU(Tw.Zr,this.serializer)}Wa(e){return new OU}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wm.provider={build:()=>new wm};class Mq extends wm{constructor(e,r,n){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await sD(this.Ja.syncEngine),await sy(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return RU(this.persistence,new DU,e.initialUser,this.serializer)}ja(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new E$(n,e.asyncQueue,r)}Ha(e,r){const n=new rW(r,this.persistence);return new tW(e.asyncQueue,n)}Ga(e){const r=H$(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?So.withCacheSize(this.cacheSizeBytes):So.DEFAULT;return new h_(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,rq(),x1(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new OU}}class _x{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>gN(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dq.bind(null,this.syncEngine),await yq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xq}()}createDatastore(e){const r=jw(e.databaseInfo.databaseId),n=function(i){return new tq(i)}(e.databaseInfo);return function(i,o,a,l){return new iq(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,s,i,o,a){return new aq(n,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,r=>gN(this.syncEngine,r,0),function(){return cN.D()?new cN:new J$}())}createSyncEngine(e,r){return function(s,i,o,a,l,c,u){const d=new kq(s,i,o,a,l,c);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const i=nr(s);ut("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Zg(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}_x.provider={build:()=>new _x};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e,r,n,s,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=ri.UNAUTHENTICATED,this.clientId=IL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async o=>{ut("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ut("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oA;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=x_(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Ib(t,e){t.asyncQueue.verifyOperationInProgress(),ut("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async s=>{n.isEqual(s)||(await MU(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function mN(t,e){t.asyncQueue.verifyOperationInProgress();const r=await iD(t);ut("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>uN(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,s)=>uN(e.remoteStore,s)),t._onlineComponents=e}async function iD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ut("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ib(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===$e.FAILED_PRECONDITION||s.code===$e.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;Sh("Error using user provided cache. Falling back to memory cache: "+r),await Ib(t,new wm)}}else ut("FirestoreClient","Using default OfflineComponentProvider"),await Ib(t,new wm);return t._offlineComponents}async function k_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ut("FirestoreClient","Using user provided OnlineComponentProvider"),await mN(t,t._uninitializedComponentsProvider._online)):(ut("FirestoreClient","Using default OnlineComponentProvider"),await mN(t,new _x))),t._onlineComponents}function oD(t){return iD(t).then(e=>e.persistence)}function aD(t){return k_(t).then(e=>e.remoteStore)}function Oq(t){return k_(t).then(e=>e.syncEngine)}async function Ug(t){const e=await k_(t),r=e.eventManager;return r.onListen=Eq.bind(null,e.syncEngine),r.onUnlisten=Nq.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Iq.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Tq.bind(null,e.syncEngine),r}function Vq(t){return t.asyncQueue.enqueue(async()=>{const e=await oD(t),r=await aD(t);return e.setNetworkEnabled(!0),function(s){const i=nr(s);return i.L_.delete(0),ny(i)}(r)})}function Hq(t){return t.asyncQueue.enqueue(async()=>{const e=await oD(t),r=await aD(t);return e.setNetworkEnabled(!1),async function(s){const i=nr(s);i.L_.add(0),await Zg(i),i.q_.set("Offline")}(r)})}function Kq(t,e,r={}){const n=new oA;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new Fw({next:h=>{u.Za(),o.enqueueAndForget(()=>b_(i,d));const f=h.docs.has(a);!f&&h.fromCache?c.reject(new bt($e.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?c.reject(new bt($e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new C_(ey(a.path),u,{includeMetadataChanges:!0,_a:!0});return w_(i,d)}(await Ug(t),t.asyncQueue,e,r,n)),n.promise}function zq(t,e,r={}){const n=new oA;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new Fw({next:h=>{u.Za(),o.enqueueAndForget(()=>b_(i,d)),h.fromCache&&l.source==="server"?c.reject(new bt($e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new C_(a,u,{includeMetadataChanges:!0,_a:!0});return w_(i,d)}(await Ug(t),t.asyncQueue,e,r,n)),n.promise}function Gq(t,e){const r=new Fw(e);return t.asyncQueue.enqueueAndForget(async()=>function(s,i){nr(s).Y_.add(i),i.next()}(await Ug(t),r)),()=>{r.Za(),t.asyncQueue.enqueueAndForget(async()=>function(s,i){nr(s).Y_.delete(i)}(await Ug(t),r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(t,e,r){if(!r)throw new bt($e.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Wq(t,e,r,n){if(e===!0&&n===!0)throw new bt($e.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function vN(t){if(!It.isDocumentKey(t))throw new bt($e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xN(t){if(It.isDocumentKey(t))throw new bt($e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Pw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Vt()}function zs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new bt($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Pw(t);throw new bt($e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new bt($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new bt($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Wq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lD((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new bt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new bt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new bt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lw{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wN({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new bt($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new bt($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wN(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new HG;switch(n.type){case"firstParty":return new WG(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new bt($e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=yN.get(r);n&&(ut("ComponentProvider","Removing Datastore"),yN.delete(r),n.terminate())}(this),Promise.resolve()}}function $q(t,e,r,n={}){var s;const i=(t=zs(t,Lw))._getSettings(),o=`${e}:${r}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Sh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),n.mockUserToken){let a,l;if(typeof n.mockUserToken=="string")a=n.mockUserToken,l=ri.MOCK_USER;else{a=F6(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new bt($e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ri(c)}t._authCredentials=new KG(new EL(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new gd(this.firestore,e,this._query)}}class Ti{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ti(this.firestore,e,this._key)}}class zu extends gd{constructor(e,r,n){super(e,r,ey(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ti(this.firestore,null,new It(e))}withConverter(e){return new zu(this.firestore,e,this._path)}}function sa(t,e,...r){if(t=ys(t),AD("collection","path",e),t instanceof Lw){const n=Vr.fromString(e,...r);return xN(n),new zu(t,null,n)}{if(!(t instanceof Ti||t instanceof zu))throw new bt($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Vr.fromString(e,...r));return xN(n),new zu(t.firestore,null,n)}}function Dr(t,e,...r){if(t=ys(t),arguments.length===1&&(e=IL.newId()),AD("doc","path",e),t instanceof Lw){const n=Vr.fromString(e,...r);return vN(n),new Ti(t,null,new It(n))}{if(!(t instanceof Ti||t instanceof zu))throw new bt($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Vr.fromString(e,...r));return vN(n),new Ti(t.firestore,t instanceof zu?t.converter:null,new It(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new VU(this,"async_queue_retry"),this.Vu=()=>{const n=x1();n&&ut("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=x1();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=x1();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new oA;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!hd(e))throw e;ut("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(n);throw Ji("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const s=v_.createAndSchedule(this,e,r,n,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Vt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function H5(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const s=r;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Aa extends Lw{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new bN,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bN(e),this._firestoreClient=void 0,await e}}}function qq(t,e){const r=typeof t=="object"?t:O4(),n=typeof t=="string"?t:e||"(default)",s=mw(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=N6("firestore");i&&$q(s,...i)}return s}function Yh(t){if(t._terminated)throw new bt($e.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||cD(t),t._firestoreClient}function cD(t){var e,r,n;const s=t._freezeSettings(),i=function(a,l,c,u){return new CW(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,lD(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Qq(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function Yq(t,e){Sh("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return Xq(t,_x.provider,{build:n=>new Mq(n,r.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function Xq(t,e,r){if((t=zs(t,Aa))._firestoreClient||t._terminated)throw new bt($e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new bt($e.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},cD(t)}function BN(t){return Vq(Yh(t=zs(t,Aa)))}function CN(t){return Hq(Yh(t=zs(t,Aa)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dg(vs.fromBase64String(e))}catch(r){throw new bt($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Dg(vs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new bt($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new bt($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new bt($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return cr(this._lat,e._lat)||cr(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jq=/^__.*__$/;class Zq{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new wc(e,this.data,this.fieldMask,r,this.fieldTransforms):new Jg(e,this.data,r,this.fieldTransforms)}}class uD{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new wc(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function dD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt()}}class S_{constructor(e,r,n,s,i,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new S_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.Ou(e),s}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return kx(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(dD(this.Cu)&&Jq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class eY{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||jw(e)}Qu(e,r,n,s=!1){return new S_({Cu:e,methodName:r,qu:n,path:Ln.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rw(t){const e=t._freezeSettings(),r=jw(t._databaseId);return new eY(t._databaseId,!!e.ignoreUndefinedProperties,r)}function hD(t,e,r,n,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,r,s);T_("Data must be an object, but it was:",o,n);const a=fD(n,o);let l,c;if(i.merge)l=new Fo(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const h=K5(e,d,r);if(!o.contains(h))throw new bt($e.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);pD(u,h)||u.push(h)}l=new Fo(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Zq(new ki(a),l,c)}class Mw extends Dw{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mw}}class N_ extends Dw{_toFieldTransform(e){return new aU(e.path,new Tg)}isEqual(e){return e instanceof N_}}function tY(t,e,r,n){const s=t.Qu(1,e,r);T_("Data must be an object, but it was:",s,n);const i=[],o=ki.empty();$h(n,(l,c)=>{const u=j_(e,l,r);c=ys(c);const d=s.Nu(u);if(c instanceof Mw)i.push(u);else{const h=oy(c,d);h!=null&&(i.push(u),o.set(u,h))}});const a=new Fo(i);return new uD(o,a,s.fieldTransforms)}function rY(t,e,r,n,s,i){const o=t.Qu(1,e,r),a=[K5(e,n,r)],l=[s];if(i.length%2!=0)throw new bt($e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(K5(e,i[h])),l.push(i[h+1]);const c=[],u=ki.empty();for(let h=a.length-1;h>=0;--h)if(!pD(c,a[h])){const f=a[h];let m=l[h];m=ys(m);const v=o.Nu(f);if(m instanceof Mw)c.push(f);else{const _=oy(m,v);_!=null&&(c.push(f),u.set(f,_))}}const d=new Fo(c);return new uD(u,d,o.fieldTransforms)}function nY(t,e,r,n=!1){return oy(r,t.Qu(n?4:3,e))}function oy(t,e){if(gD(t=ys(t)))return T_("Unsupported field value:",e,t),fD(t,e);if(t instanceof Dw)return function(n,s){if(!dD(s.Cu))throw s.Bu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,s){const i=[];let o=0;for(const a of n){let l=oy(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,s){if((n=ys(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return KW(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Mn.fromDate(n);return{timestampValue:Pg(s.serializer,i)}}if(n instanceof Mn){const i=new Mn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Pg(s.serializer,i)}}if(n instanceof E_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Dg)return{bytesValue:fU(s.serializer,n._byteString)};if(n instanceof Ti){const i=s.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:A_(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof I_)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return s_(a.serializer,l)})}}}}}}(n,s);throw s.Bu(`Unsupported field value: ${Pw(n)}`)}(t,e)}function fD(t,e){const r={};return RL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$h(t,(n,s)=>{const i=oy(s,e.Mu(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function gD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mn||t instanceof E_||t instanceof Dg||t instanceof Ti||t instanceof Dw||t instanceof I_)}function T_(t,e,r){if(!gD(r)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(r)){const n=Pw(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function K5(t,e,r){if((e=ys(e))instanceof Uw)return e._internalPath;if(typeof e=="string")return j_(t,e);throw kx("Field path arguments must be of type string or ",t,!1,void 0,r)}const sY=new RegExp("[~\\*/\\[\\]]");function j_(t,e,r){if(e.search(sY)>=0)throw kx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Uw(...e.split("."))._internalPath}catch{throw kx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function kx(t,e,r,n,s){const i=n&&!n.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${n}`),o&&(l+=` in document ${s}`),l+=")"),new bt($e.INVALID_ARGUMENT,a+t+l)}function pD(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,r,n,s,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ti(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Qw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class iY extends mD{data(){return super.data()}}function Qw(t,e){return typeof e=="string"?j_(t,e):e instanceof Uw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new bt($e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class F_{}class vD extends F_{}function Rg(t,e,...r){let n=[];e instanceof F_&&n.push(e),n=n.concat(r),function(i){const o=i.filter(l=>l instanceof P_).length,a=i.filter(l=>l instanceof Ow).length;if(o>1||o>0&&a>0)throw new bt($e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)t=s._apply(t);return t}class Ow extends vD{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Ow(e,r,n)}_apply(e){const r=this._parse(e);return wD(e._query,r),new gd(e.firestore,e.converter,T5(e._query,r))}_parse(e){const r=Rw(e.firestore);return function(i,o,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new bt($e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){kN(d,u);const f=[];for(const m of d)f.push(_N(l,i,m));h={arrayValue:{values:f}}}else h=_N(l,i,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||kN(d,u),h=nY(a,o,d,u==="in"||u==="not-in");return Br.create(c,u,h)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function xD(t,e,r){const n=e,s=Qw("where",t);return Ow._create(s,n,r)}class P_ extends F_{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new P_(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Yr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)wD(o,l),o=T5(o,l)}(e._query,r),new gd(e.firestore,e.converter,T5(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class L_ extends vD{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new L_(e,r)}_apply(e){const r=function(s,i,o){if(s.startAt!==null)throw new bt($e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new bt($e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vm(i,o)}(e._query,this._field,this._direction);return new gd(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Xg(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}function Ex(t,e="asc"){const r=e,n=Qw("orderBy",t);return L_._create(n,r)}function _N(t,e,r){if(typeof(r=ys(r))=="string"){if(r==="")throw new bt($e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YL(e)&&r.indexOf("/")!==-1)throw new bt($e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Vr.fromString(r));if(!It.isDocumentKey(n))throw new bt($e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return mm(t,new It(n))}if(r instanceof Ti)return mm(t,r._key);throw new bt($e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pw(r)}.`)}function kN(t,e){if(!Array.isArray(t)||t.length===0)throw new bt($e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wD(t,e){const r=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new bt($e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new bt($e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class oY{convertValue(e,r="none"){switch(Th(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ju(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Vt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return $h(e,(s,i)=>{n[s]=this.convertValue(i,r)}),n}convertVectorValue(e){var r,n,s;const i=(s=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(o=>xn(o.doubleValue));return new I_(i)}convertGeoPoint(e){return new E_(xn(e.latitude),xn(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=r_(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(gm(e));default:return null}}convertTimestamp(e){const r=uc(e);return new Mn(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Vr.fromString(e);Kt(CU(n));const s=new Nh(n.get(1),n.get(3)),i=new It(n.popFirst(5));return s.isEqual(r)||Ji(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class BD extends mD{constructor(e,r,n,s,i,o){super(e,r,n,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new w1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Qw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class w1 extends BD{data(e={}){return super.data(e)}}class CD{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new s0(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new w1(this._firestore,this._userDataWriter,n.key,n,new s0(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new bt($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new w1(s._firestore,s._userDataWriter,a.doc.key,a.doc,new s0(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new w1(s._firestore,s._userDataWriter,a.doc.key,a.doc,new s0(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:aY(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function aY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t){t=zs(t,Ti);const e=zs(t.firestore,Aa);return Kq(Yh(e),t._key).then(r=>_D(e,t,r))}class U_ extends oY{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dg(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ti(this.firestore,null,r)}}function D_(t){t=zs(t,gd);const e=zs(t.firestore,Aa),r=Yh(e),n=new U_(e);return yD(t._query),zq(r,t._query).then(s=>new CD(e,n,t,s))}function Uh(t,e,r){t=zs(t,Ti);const n=zs(t.firestore,Aa),s=bD(t.converter,e,r);return Vw(n,[hD(Rw(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,Ii.none())])}function pl(t,e,r,...n){t=zs(t,Ti);const s=zs(t.firestore,Aa),i=Rw(s);let o;return o=typeof(e=ys(e))=="string"||e instanceof Uw?rY(i,"updateDoc",t._key,e,r,n):tY(i,"updateDoc",t._key,e),Vw(s,[o.toMutation(t._key,Ii.exists(!0))])}function Ix(t){return Vw(zs(t.firestore,Aa),[new Ew(t._key,Ii.none())])}function Mg(t,e){const r=zs(t.firestore,Aa),n=Dr(t),s=bD(t.converter,e);return Vw(r,[hD(Rw(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,Ii.exists(!1))]).then(()=>n)}function Sx(t,...e){var r,n,s;t=ys(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||H5(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(H5(e[o])){const d=e[o];e[o]=(r=d.next)===null||r===void 0?void 0:r.bind(d),e[o+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),e[o+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let l,c,u;if(t instanceof Ti)c=zs(t.firestore,Aa),u=ey(t._key.path),l={next:d=>{e[o]&&e[o](_D(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=zs(t,gd);c=zs(d.firestore,Aa),u=d._query;const h=new U_(c);l={next:f=>{e[o]&&e[o](new CD(c,h,d,f))},error:e[o+1],complete:e[o+2]},yD(t._query)}return function(h,f,m,v){const _=new Fw(v),x=new C_(f,_,m);return h.asyncQueue.enqueueAndForget(async()=>w_(await Ug(h),x)),()=>{_.Za(),h.asyncQueue.enqueueAndForget(async()=>b_(await Ug(h),x))}}(Yh(c),u,a,l)}function lY(t,e){return Gq(Yh(t=zs(t,Aa)),H5(e)?e:{next:e})}function Vw(t,e){return function(n,s){const i=new oA;return n.asyncQueue.enqueueAndForget(async()=>jq(await Oq(n),s,i)),i.promise}(Yh(t),e)}function _D(t,e,r){const n=r.docs.get(e._key),s=new U_(t);return new BD(t,s,e._key,n,new s0(r.hasPendingWrites,r.fromCache),e.converter)}function ss(){return new N_("serverTimestamp")}(function(e,r=!0){(function(s){Yg=s})(Gh),_h(new Xu("firestore",(n,{instanceIdentifier:s,options:i})=>{const o=n.getProvider("app").getImmediate(),a=new Aa(new zG(n.getProvider("auth-internal")),new qG(n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new bt($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nh(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:r},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),nA(mS,"4.7.3",e),nA(mS,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="firebasestorage.googleapis.com",AY="storageBucket",cY=2*60*1e3,uY=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA extends pA{constructor(e,r,n=0){super(Sb(e),`Firebase Storage: ${r} (${Sb(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mA.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fA;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fA||(fA={}));function Sb(t){return"storage/"+t}function dY(){const t="An unknown error occurred, please check the error payload for server response.";return new mA(fA.UNKNOWN,t)}function hY(){return new mA(fA.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fY(){return new mA(fA.CANCELED,"User canceled the upload/download.")}function gY(t){return new mA(fA.INVALID_URL,"Invalid URL '"+t+"'.")}function pY(t){return new mA(fA.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function EN(t){return new mA(fA.INVALID_ARGUMENT,t)}function ED(){return new mA(fA.APP_DELETED,"The Firebase app was deleted.")}function mY(t){return new mA(fA.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=hl.makeFromUrl(e,r)}catch{return new hl(e,"")}if(n.path==="")return n;throw pY(e)}static makeFromUrl(e,r){let n=null;const s="([A-Za-z0-9.\\-_]+)";function i(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(N){N.path_=decodeURIComponent(N.path)}const u="v[A-Za-z0-9_]+",d=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${u}/b/${s}/o${h}`,"i"),m={bucket:1,path:3},v=r===kD?"(?:storage.googleapis.com|storage.cloud.google.com)":r,_="([^?#]*)",x=new RegExp(`^https?://${v}/${s}/${_}`,"i"),E=[{regex:a,indices:l,postModify:i},{regex:f,indices:m,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let N=0;N<E.length;N++){const j=E[N],O=j.regex.exec(e);if(O){const P=O[j.indices.bucket];let T=O[j.indices.path];T||(T=""),n=new hl(P,T),j.postModify(n);break}}if(n==null)throw gY(e);return n}}class yY{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vY(t,e,r){let n=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(..._){c||(c=!0,e.apply(null,_))}function d(_){s=setTimeout(()=>{s=null,t(f,l())},_)}function h(){i&&clearTimeout(i)}function f(_,...x){if(c){h();return}if(_){h(),u.call(null,_,...x);return}if(l()||o){h(),u.call(null,_,...x);return}n<64&&(n*=2);let E;a===1?(a=2,E=0):E=(n+Math.random())*1e3,d(E)}let m=!1;function v(_){m||(m=!0,h(),!c&&(s!==null?(_||(a=2),clearTimeout(s),d(0)):_||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,v(!0)},r),v}function xY(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wY(t){return t!==void 0}function IN(t,e,r,n){if(n<e)throw EN(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw EN(`Invalid value for '${t}'. Expected ${r} or less.`)}function bY(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const s=e(n)+"="+e(t[n]);r=r+s+"&"}return r=r.slice(0,-1),r}var Nx;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Nx||(Nx={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BY(t,e){const r=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return r||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(e,r,n,s,i,o,a,l,c,u,d,h=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,m)=>{this.resolve_=f,this.reject_=m,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new Bv(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Nx.NO_ERROR,l=i.getStatus();if(!a||BY(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===Nx.ABORT;n(!1,new Bv(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new Bv(c,i))})},r=(n,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());wY(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=dY();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?ED():fY();o(l)}else{const l=hY();o(l)}};this.canceled_?r(!1,new Bv(!1,null,!0)):this.backoffId_=vY(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xY(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Bv{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function _Y(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function kY(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function EY(t,e){e&&(t["X-Firebase-GMPID"]=e)}function IY(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function SY(t,e,r,n,s,i,o=!0){const a=bY(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return EY(c,e),_Y(c,r),kY(c,i),IY(c,n),new CY(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NY(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function TY(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,r){this._service=e,r instanceof hl?this._location=r:this._location=hl.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Tx(e,r)}get root(){const e=new hl(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TY(this._location.path)}get storage(){return this._service}get parent(){const e=NY(this._location.path);if(e===null)return null;const r=new hl(this._location.bucket,e);return new Tx(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw mY(e)}}function SN(t,e){const r=e==null?void 0:e[AY];return r==null?null:hl.makeFromBucketSpec(r,t)}function jY(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:s}=n;s&&(t._overrideAuthToken=typeof s=="string"?s:F6(s,t.app.options.projectId))}class FY{constructor(e,r,n,s,i){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=kD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cY,this._maxUploadRetryTime=uY,this._requests=new Set,s!=null?this._bucket=hl.makeFromBucketSpec(s,this._host):this._bucket=SN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hl.makeFromBucketSpec(this._url,e):this._bucket=SN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Tx(this,e)}_makeRequest(e,r,n,s,i=!0){if(this._deleted)return new yY(ED());{const o=SY(e,this._appId,n,s,r,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,s).getPromise()}}const NN="@firebase/storage",TN="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="storage";function PY(t=O4(),e){t=ys(t);const n=mw(t,ID).getImmediate({identifier:e}),s=N6("storage");return s&&LY(n,...s),n}function LY(t,e,r,n={}){jY(t,e,r,n)}function UY(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new FY(r,n,s,e,Gh)}function DY(){_h(new Xu(ID,UY,"PUBLIC").setMultipleInstances(!0)),nA(NN,TN,""),nA(NN,TN,"esm2017")}DY();const RY={apiKey:"AIzaSyC1OvuWfeL1EQefe_O7jv7czOsCsTwYAgA",authDomain:"termsbuilder.firebaseapp.com",projectId:"termsbuilder",storageBucket:"termsbuilder.appspot.com",messagingSenderId:"1065252219949",appId:"1:1065252219949:web:59e43be88da0ba02d79ca4",measurementId:"G-CWWKBJZ3J2"},R_=R6(RY),Ss=OG(R_),tr=qq(R_);PY(R_);let ou=!0;const MY=async()=>{let t=3;for(;t>0;)try{return await Yq(tr).catch(e=>{e.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):e.code==="unimplemented"&&console.warn("The current browser does not support persistence.")}),lY(tr,()=>{console.log("Firestore sync complete")}),!0}catch(e){if(t--,console.warn(`Persistence initialization attempt failed (${t} retries left):`,e),t===0)return console.error("Failed to enable persistence after all retries"),!1;await new Promise(r=>setTimeout(r,1e3))}return!1};MY().catch(console.error);Ss.onAuthStateChanged(async t=>{if(t)try{await t.getIdToken(!0);const e=setInterval(async()=>{try{if(!Ss.currentUser){clearInterval(e);return}await Ss.currentUser.getIdToken(!0)}catch(n){console.error("Token refresh failed:",n),n.code==="auth/network-request-failed"&&console.log("Network unavailable, will retry token refresh when online")}},30*60*1e3),r=async n=>{if(n.code==="permission-denied"&&ou)try{ou=!1,await CN(tr),await t.getIdToken(!0),await BN(tr),ou=!0}catch(s){console.error("Error recovering from permission denied:",s),ou=!0}};window.addEventListener("online",async()=>{if(!ou)try{await BN(tr),ou=!0}catch(n){console.error("Error re-enabling network:",n)}}),window.addEventListener("offline",async()=>{if(ou)try{await CN(tr),ou=!1}catch(n){console.error("Error disabling network:",n)}})}catch(e){console.error("Error during auth initialization:",e)}});function SD(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=SD(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Eu(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=SD(t))&&(n&&(n+=" "),n+=e);return n}const I0=t=>typeof t=="number"&&!isNaN(t),Dh=t=>typeof t=="string",Po=t=>typeof t=="function",b1=t=>Dh(t)||Po(t)?t:null,Nb=t=>J.isValidElement(t)||Dh(t)||Po(t)||I0(t);function QY(t,e,r){r===void 0&&(r=300);const{scrollHeight:n,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=n+"px",s.transition=`all ${r}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,r)})})}function Hw(t){let{enter:e,exit:r,appendPosition:n=!1,collapse:s=!0,collapseDuration:i=300}=t;return function(o){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h}=o;const f=n?`${e}--${l}`:e,m=n?`${r}--${l}`:r,v=J.useRef(0);return J.useLayoutEffect(()=>{const _=d.current,x=f.split(" "),b=E=>{E.target===d.current&&(_.dispatchEvent(new Event("d")),_.removeEventListener("animationend",b),_.removeEventListener("animationcancel",b),v.current===0&&E.type!=="animationcancel"&&_.classList.remove(...x))};_.classList.add(...x),_.addEventListener("animationend",b),_.addEventListener("animationcancel",b)},[]),J.useEffect(()=>{const _=d.current,x=()=>{_.removeEventListener("animationend",x),s?QY(_,u,i):u()};h||(c?x():(v.current=1,_.className+=` ${m}`,_.addEventListener("animationend",x)))},[h]),fr.createElement(fr.Fragment,null,a)}}function jN(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Ia={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const r=this.list.get(t).filter(n=>n!==e);return this.list.set(t,r),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const r=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(r)})}},Cv=t=>{let{theme:e,type:r,...n}=t;return fr.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...n})},Tb={info:function(t){return fr.createElement(Cv,{...t},fr.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return fr.createElement(Cv,{...t},fr.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return fr.createElement(Cv,{...t},fr.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return fr.createElement(Cv,{...t},fr.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return fr.createElement("div",{className:"Toastify__spinner"})}};function OY(t){const[,e]=J.useReducer(f=>f+1,0),[r,n]=J.useState([]),s=J.useRef(null),i=J.useRef(new Map).current,o=f=>r.indexOf(f)!==-1,a=J.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:f=>i.get(f)}).current;function l(f){let{containerId:m}=f;const{limit:v}=a.props;!v||m&&a.containerId!==m||(a.count-=a.queue.length,a.queue=[])}function c(f){n(m=>f==null?[]:m.filter(v=>v!==f))}function u(){const{toastContent:f,toastProps:m,staleId:v}=a.queue.shift();h(f,m,v)}function d(f,m){let{delay:v,staleId:_,...x}=m;if(!Nb(f)||function(L){return!s.current||a.props.enableMultiContainer&&L.containerId!==a.props.containerId||i.has(L.toastId)&&L.updateId==null}(x))return;const{toastId:b,updateId:E,data:N}=x,{props:j}=a,O=()=>c(b),P=E==null;P&&a.count++;const T={...j,style:j.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(x).filter(L=>{let[M,W]=L;return W!=null})),toastId:b,updateId:E,data:N,closeToast:O,isIn:!1,className:b1(x.className||j.toastClassName),bodyClassName:b1(x.bodyClassName||j.bodyClassName),progressClassName:b1(x.progressClassName||j.progressClassName),autoClose:!x.isLoading&&(U=x.autoClose,R=j.autoClose,U===!1||I0(U)&&U>0?U:R),deleteToast(){const L=jN(i.get(b),"removed");i.delete(b),Ia.emit(4,L);const M=a.queue.length;if(a.count=b==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),M>0){const W=b==null?a.props.limit:1;if(M===1||W===1)a.displayedToast++,u();else{const X=W>M?M:W;a.displayedToast=X;for(let Z=0;Z<X;Z++)u()}}else e()}};var U,R;T.iconOut=function(L){let{theme:M,type:W,isLoading:X,icon:Z}=L,ce=null;const G={theme:M,type:W};return Z===!1||(Po(Z)?ce=Z(G):J.isValidElement(Z)?ce=J.cloneElement(Z,G):Dh(Z)||I0(Z)?ce=Z:X?ce=Tb.spinner():(Y=>Y in Tb)(W)&&(ce=Tb[W](G))),ce}(T),Po(x.onOpen)&&(T.onOpen=x.onOpen),Po(x.onClose)&&(T.onClose=x.onClose),T.closeButton=j.closeButton,x.closeButton===!1||Nb(x.closeButton)?T.closeButton=x.closeButton:x.closeButton===!0&&(T.closeButton=!Nb(j.closeButton)||j.closeButton);let I=f;J.isValidElement(f)&&!Dh(f.type)?I=J.cloneElement(f,{closeToast:O,toastProps:T,data:N}):Po(f)&&(I=f({closeToast:O,toastProps:T,data:N})),j.limit&&j.limit>0&&a.count>j.limit&&P?a.queue.push({toastContent:I,toastProps:T,staleId:_}):I0(v)?setTimeout(()=>{h(I,T,_)},v):h(I,T,_)}function h(f,m,v){const{toastId:_}=m;v&&i.delete(v);const x={content:f,props:m};i.set(_,x),n(b=>[...b,_].filter(E=>E!==v)),Ia.emit(4,jN(x,x.props.updateId==null?"added":"updated"))}return J.useEffect(()=>(a.containerId=t.containerId,Ia.cancelEmit(3).on(0,d).on(1,f=>s.current&&c(f)).on(5,l).emit(2,a),()=>{i.clear(),Ia.emit(3,a)}),[]),J.useEffect(()=>{a.props=t,a.isToastActive=o,a.displayedToast=r.length}),{getToastToRender:function(f){const m=new Map,v=Array.from(i.values());return t.newestOnTop&&v.reverse(),v.forEach(_=>{const{position:x}=_.props;m.has(x)||m.set(x,[]),m.get(x).push(_)}),Array.from(m,_=>f(_[0],_[1]))},containerRef:s,isToastActive:o}}function FN(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function PN(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function VY(t){const[e,r]=J.useState(!1),[n,s]=J.useState(!1),i=J.useRef(null),o=J.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=J.useRef(t),{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=t;function f(N){if(t.draggable){N.nativeEvent.type==="touchstart"&&N.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",x),document.addEventListener("mouseup",b),document.addEventListener("touchmove",x),document.addEventListener("touchend",b);const j=i.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=j.getBoundingClientRect(),j.style.transition="",o.x=FN(N.nativeEvent),o.y=PN(N.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=j.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=j.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function m(N){if(o.boundingRect){const{top:j,bottom:O,left:P,right:T}=o.boundingRect;N.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=P&&o.x<=T&&o.y>=j&&o.y<=O?_():v()}}function v(){r(!0)}function _(){r(!1)}function x(N){const j=i.current;o.canDrag&&j&&(o.didMove=!0,e&&_(),o.x=FN(N),o.y=PN(N),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),j.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,j.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function b(){document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",x),document.removeEventListener("touchend",b);const N=i.current;if(o.canDrag&&o.didMove&&N){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),void t.closeToast();N.style.transition="transform 0.2s, opacity 0.2s",N.style.transform=`translate${t.draggableDirection}(0)`,N.style.opacity="1"}}J.useEffect(()=>{a.current=t}),J.useEffect(()=>(i.current&&i.current.addEventListener("d",v,{once:!0}),Po(t.onOpen)&&t.onOpen(J.isValidElement(t.children)&&t.children.props),()=>{const N=a.current;Po(N.onClose)&&N.onClose(J.isValidElement(N.children)&&N.children.props)}),[]),J.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||_(),window.addEventListener("focus",v),window.addEventListener("blur",_)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",v),window.removeEventListener("blur",_))}),[t.pauseOnFocusLoss]);const E={onMouseDown:f,onTouchStart:f,onMouseUp:m,onTouchEnd:m};return l&&c&&(E.onMouseEnter=_,E.onMouseLeave=v),h&&(E.onClick=N=>{d&&d(N),o.canCloseOnClick&&u()}),{playToast:v,pauseToast:_,isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:E}}function ND(t){let{closeToast:e,theme:r,ariaLabel:n="close"}=t;return fr.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:s=>{s.stopPropagation(),e(s)},"aria-label":n},fr.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},fr.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function HY(t){let{delay:e,isRunning:r,closeToast:n,type:s="default",hide:i,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=t;const f=i||l&&c===0,m={...a,animationDuration:`${e}ms`,animationPlayState:r?"running":"paused",opacity:f?0:1};l&&(m.transform=`scaleX(${c})`);const v=Eu("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":u}),_=Po(o)?o({rtl:u,type:s,defaultClassName:v}):Eu(v,o);return fr.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:_,style:m,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&n()}})}const KY=t=>{const{isRunning:e,preventExitTransition:r,toastRef:n,eventHandlers:s}=VY(t),{closeButton:i,children:o,autoClose:a,onClick:l,type:c,hideProgressBar:u,closeToast:d,transition:h,position:f,className:m,style:v,bodyClassName:_,bodyStyle:x,progressClassName:b,progressStyle:E,updateId:N,role:j,progress:O,rtl:P,toastId:T,deleteToast:U,isIn:R,isLoading:I,iconOut:L,closeOnClick:M,theme:W}=t,X=Eu("Toastify__toast",`Toastify__toast-theme--${W}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":P},{"Toastify__toast--close-on-click":M}),Z=Po(m)?m({rtl:P,position:f,type:c,defaultClassName:X}):Eu(X,m),ce=!!O||!a,G={closeToast:d,type:c,theme:W};let Y=null;return i===!1||(Y=Po(i)?i(G):J.isValidElement(i)?J.cloneElement(i,G):ND(G)),fr.createElement(h,{isIn:R,done:U,position:f,preventExitTransition:r,nodeRef:n},fr.createElement("div",{id:T,onClick:l,className:Z,...s,style:v,ref:n},fr.createElement("div",{...R&&{role:j},className:Po(_)?_({type:c}):Eu("Toastify__toast-body",_),style:x},L!=null&&fr.createElement("div",{className:Eu("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},L),fr.createElement("div",null,o)),Y,fr.createElement(HY,{...N&&!ce?{key:`pb-${N}`}:{},rtl:P,theme:W,delay:a,isRunning:e,isIn:R,closeToast:d,hide:u,type:c,style:E,className:b,controlledProgress:ce,progress:O||0})))},Kw=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},zY=Hw(Kw("bounce",!0));Hw(Kw("slide",!0));Hw(Kw("zoom"));Hw(Kw("flip"));const z5=J.forwardRef((t,e)=>{const{getToastToRender:r,containerRef:n,isToastActive:s}=OY(t),{className:i,style:o,rtl:a,containerId:l}=t;function c(u){const d=Eu("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":a});return Po(i)?i({position:u,rtl:a,defaultClassName:d}):Eu(d,b1(i))}return J.useEffect(()=>{e&&(e.current=n.current)},[]),fr.createElement("div",{ref:n,className:"Toastify",id:l},r((u,d)=>{const h=d.length?{...o}:{...o,pointerEvents:"none"};return fr.createElement("div",{className:c(u),style:h,key:`container-${u}`},d.map((f,m)=>{let{content:v,props:_}=f;return fr.createElement(KY,{..._,isIn:s(_.toastId),style:{..._.style,"--nth":m+1,"--len":d.length},key:`toast-${_.key}`},v)}))}))});z5.displayName="ToastContainer",z5.defaultProps={position:"top-right",transition:zY,autoClose:5e3,closeButton:ND,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let jb,Hd=new Map,i0=[],GY=1;function TD(){return""+GY++}function WY(t){return t&&(Dh(t.toastId)||I0(t.toastId))?t.toastId:TD()}function S0(t,e){return Hd.size>0?Ia.emit(0,t,e):i0.push({content:t,options:e}),e.toastId}function jx(t,e){return{...e,type:e&&e.type||t,toastId:WY(e)}}function _v(t){return(e,r)=>S0(e,jx(t,r))}function Ke(t,e){return S0(t,jx("default",e))}Ke.loading=(t,e)=>S0(t,jx("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Ke.promise=function(t,e,r){let n,{pending:s,error:i,success:o}=e;s&&(n=Dh(s)?Ke.loading(s,r):Ke.loading(s.render,{...r,...s}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null)return void Ke.dismiss(n);const f={type:u,...a,...r,data:h},m=Dh(d)?{render:d}:d;return n?Ke.update(n,{...f,...m}):Ke(m.render,{...f,...m}),h},c=Po(t)?t():t;return c.then(u=>l("success",o,u)).catch(u=>l("error",i,u)),c},Ke.success=_v("success"),Ke.info=_v("info"),Ke.error=_v("error"),Ke.warning=_v("warning"),Ke.warn=Ke.warning,Ke.dark=(t,e)=>S0(t,jx("default",{theme:"dark",...e})),Ke.dismiss=t=>{Hd.size>0?Ia.emit(1,t):i0=i0.filter(e=>t!=null&&e.options.toastId!==t)},Ke.clearWaitingQueue=function(t){return t===void 0&&(t={}),Ia.emit(5,t)},Ke.isActive=t=>{let e=!1;return Hd.forEach(r=>{r.isToastActive&&r.isToastActive(t)&&(e=!0)}),e},Ke.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const r=function(n,s){let{containerId:i}=s;const o=Hd.get(i||jb);return o&&o.getToast(n)}(t,e);if(r){const{props:n,content:s}=r,i={delay:100,...n,...e,toastId:e.toastId||t,updateId:TD()};i.toastId!==t&&(i.staleId=t);const o=i.render||s;delete i.render,S0(o,i)}},0)},Ke.done=t=>{Ke.update(t,{progress:1})},Ke.onChange=t=>(Ia.on(4,t),()=>{Ia.off(4,t)}),Ke.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Ke.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Ia.on(2,t=>{jb=t.containerId||t,Hd.set(jb,t),i0.forEach(e=>{Ia.emit(0,e.content,e.options)}),i0=[]}).on(3,t=>{Hd.delete(t.containerId||t),Hd.size===0&&Ia.off(0).off(1).off(5)});const jD=J.createContext();function io(){return J.useContext(jD)}function $Y({children:t}){const[e,r]=J.useState(null),[n,s]=J.useState(!0);J.useEffect(()=>{let a;const l=Sz(Ss,async c=>{if(console.log("Auth state changed:",c),c)try{await c.getIdToken(!0),a=setInterval(async()=>{try{await c.getIdToken(!0)}catch(u){console.error("Token refresh failed:",u)}},18e5)}catch(u){console.error("Initial token refresh failed:",u)}else a&&clearInterval(a);r(c),s(!1)});return()=>{l(),a&&clearInterval(a)}},[]);const o={user:e,loading:n,logout:async()=>{try{await Nz(Ss),Ke.success("Logged out successfully")}catch(a){console.error("Logout error:",a),Ke.error("Failed to log out")}},isAuthenticated:!!e};return A.jsx(jD.Provider,{value:o,children:t})}function Mo({size:t="md",className:e=""}){const r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return A.jsx("div",{className:`flex justify-center items-center ${e}`,children:A.jsx("div",{className:`${r[t]} border-4 border-blue-200 border-t-blue-500 rounded-full animate-spin`})})}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YY=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),LN=t=>{const e=YY(t);return e.charAt(0).toUpperCase()+e.slice(1)},FD=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),XY=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=J.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>J.createElement("svg",{ref:l,...JY,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:FD("lucide",s),...!i&&!XY(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,u])=>J.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=(t,e)=>{const r=J.forwardRef(({className:n,...s},i)=>J.createElement(ZY,{ref:i,iconNode:e,className:FD(`lucide-${qY(LN(t))}`,`lucide-${t}`,n),...s}));return r.displayName=LN(t),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],tX=Li("archive",eX);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],nX=Li("building",rX);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],iX=Li("chart-no-axes-column",sX);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],aX=Li("circle-user",oX);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],AX=Li("clock",lX);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],uX=Li("file-text",cX);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],hX=Li("house",dX);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gX=Li("log-out",fX);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],mX=Li("menu",pX);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],vX=Li("package",yX);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],wX=Li("search",xX);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],PD=Li("settings",bX);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],CX=Li("truck",BX);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],LD=Li("user",_X);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],EX=Li("users",kX);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],SX=Li("wrench",IX),M_=J.createContext({});function Q_(t){const e=J.useRef(null);return e.current===null&&(e.current=t()),e.current}const O_=typeof window<"u",UD=O_?J.useLayoutEffect:J.useEffect,zw=J.createContext(null);function V_(t,e){t.indexOf(e)===-1&&t.push(e)}function H_(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const dc=(t,e,r)=>r>e?e:r<t?t:r;let K_=()=>{};const hc={},DD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function RD(t){return typeof t=="object"&&t!==null}const MD=t=>/^0[^.\s]+$/u.test(t);function z_(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ua=t=>t,NX=(t,e)=>r=>e(t(r)),ay=(...t)=>t.reduce(NX),bm=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class G_{constructor(){this.subscriptions=[]}add(e){return V_(this.subscriptions,e),()=>H_(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const aA=t=>t*1e3,lA=t=>t/1e3;function QD(t,e){return e?t*(1e3/e):0}const OD=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,TX=1e-7,jX=12;function FX(t,e,r,n,s){let i,o,a=0;do o=e+(r-e)/2,i=OD(o,n,s)-t,i>0?r=o:e=o;while(Math.abs(i)>TX&&++a<jX);return o}function ly(t,e,r,n){if(t===e&&r===n)return Ua;const s=i=>FX(i,0,1,t,r);return i=>i===0||i===1?i:OD(s(i),e,n)}const VD=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,HD=t=>e=>1-t(1-e),KD=ly(.33,1.53,.69,.99),W_=HD(KD),zD=VD(W_),GD=t=>(t*=2)<1?.5*W_(t):.5*(2-Math.pow(2,-10*(t-1))),$_=t=>1-Math.sin(Math.acos(t)),WD=HD($_),$D=VD($_),PX=ly(.42,0,1,1),LX=ly(0,0,.58,1),qD=ly(.42,0,.58,1),UX=t=>Array.isArray(t)&&typeof t[0]!="number",YD=t=>Array.isArray(t)&&typeof t[0]=="number",DX={linear:Ua,easeIn:PX,easeInOut:qD,easeOut:LX,circIn:$_,circInOut:$D,circOut:WD,backIn:W_,backInOut:zD,backOut:KD,anticipate:GD},RX=t=>typeof t=="string",UN=t=>{if(YD(t)){K_(t.length===4);const[e,r,n,s]=t;return ly(e,r,n,s)}else if(RX(t))return DX[t];return t},kv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],DN={value:null,addProjectionMetrics:null};function MX(t,e){let r=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){o.has(d)&&(u.schedule(d),t()),l++,d(a)}const u={schedule:(d,h=!1,f=!1)=>{const v=f&&s?r:n;return h&&o.add(d),v.has(d)||v.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(a=d,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(c),e&&DN.value&&DN.value.frameloop[e].push(l),l=0,r.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const QX=40;function XD(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=kv.reduce((E,N)=>(E[N]=MX(i,e?N:void 0),E),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:f,postRender:m}=o,v=()=>{const E=hc.useManualTiming?s.timestamp:performance.now();r=!1,hc.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(E-s.timestamp,QX),1)),s.timestamp=E,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),m.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(v))},_=()=>{r=!0,n=!0,s.isProcessing||t(v)};return{schedule:kv.reduce((E,N)=>{const j=o[N];return E[N]=(O,P=!1,T=!1)=>(r||_(),j.schedule(O,P,T)),E},{}),cancel:E=>{for(let N=0;N<kv.length;N++)o[kv[N]].cancel(E)},state:s,steps:o}}const{schedule:Bn,cancel:td,state:ti,steps:Fb}=XD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ua,!0);let B1;function OX(){B1=void 0}const Lo={now:()=>(B1===void 0&&Lo.set(ti.isProcessing||hc.useManualTiming?ti.timestamp:performance.now()),B1),set:t=>{B1=t,queueMicrotask(OX)}},JD=t=>e=>typeof e=="string"&&e.startsWith(t),q_=JD("--"),VX=JD("var(--"),Y_=t=>VX(t)?HX.test(t.split("/*")[0].trim()):!1,HX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Bm={...tp,transform:t=>dc(0,1,t)},Ev={...tp,default:1},N0=t=>Math.round(t*1e5)/1e5,X_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function KX(t){return t==null}const zX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,J_=(t,e)=>r=>!!(typeof r=="string"&&zX.test(r)&&r.startsWith(t)||e&&!KX(r)&&Object.prototype.hasOwnProperty.call(r,e)),ZD=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,a]=n.match(X_);return{[t]:parseFloat(s),[e]:parseFloat(i),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},GX=t=>dc(0,255,t),Pb={...tp,transform:t=>Math.round(GX(t))},rh={test:J_("rgb","red"),parse:ZD("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Pb.transform(t)+", "+Pb.transform(e)+", "+Pb.transform(r)+", "+N0(Bm.transform(n))+")"};function WX(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const G5={test:J_("#"),parse:WX,transform:rh.transform},Ay=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),uu=Ay("deg"),AA=Ay("%"),ir=Ay("px"),$X=Ay("vh"),qX=Ay("vw"),RN=(()=>({...AA,parse:t=>AA.parse(t)/100,transform:t=>AA.transform(t*100)}))(),ng={test:J_("hsl","hue"),parse:ZD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+AA.transform(N0(e))+", "+AA.transform(N0(r))+", "+N0(Bm.transform(n))+")"},ps={test:t=>rh.test(t)||G5.test(t)||ng.test(t),parse:t=>rh.test(t)?rh.parse(t):ng.test(t)?ng.parse(t):G5.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?rh.transform(t):ng.transform(t),getAnimatableNone:t=>{const e=ps.parse(t);return e.alpha=0,ps.transform(e)}},YX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XX(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(X_))==null?void 0:e.length)||0)+(((r=t.match(YX))==null?void 0:r.length)||0)>0}const eR="number",tR="color",JX="var",ZX="var(",MN="${}",eJ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cm(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(eJ,l=>(ps.test(l)?(n.color.push(i),s.push(tR),r.push(ps.parse(l))):l.startsWith(ZX)?(n.var.push(i),s.push(JX),r.push(l)):(n.number.push(i),s.push(eR),r.push(parseFloat(l))),++i,MN)).split(MN);return{values:r,split:a,indexes:n,types:s}}function rR(t){return Cm(t).values}function nR(t){const{split:e,types:r}=Cm(t),n=e.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],s[o]!==void 0){const a=r[o];a===eR?i+=N0(s[o]):a===tR?i+=ps.transform(s[o]):i+=s[o]}return i}}const tJ=t=>typeof t=="number"?0:ps.test(t)?ps.getAnimatableNone(t):t;function rJ(t){const e=rR(t);return nR(t)(e.map(tJ))}const rd={test:XX,parse:rR,createTransformer:nR,getAnimatableNone:rJ};function Lb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function nJ({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,i=0,o=0;if(!e)s=i=o=r;else{const a=r<.5?r*(1+e):r+e-r*e,l=2*r-a;s=Lb(l,a,t+1/3),i=Lb(l,a,t),o=Lb(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function Fx(t,e){return r=>r>0?e:t}const Un=(t,e,r)=>t+(e-t)*r,Ub=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},sJ=[G5,rh,ng],iJ=t=>sJ.find(e=>e.test(t));function QN(t){const e=iJ(t);if(!e)return!1;let r=e.parse(t);return e===ng&&(r=nJ(r)),r}const ON=(t,e)=>{const r=QN(t),n=QN(e);if(!r||!n)return Fx(t,e);const s={...r};return i=>(s.red=Ub(r.red,n.red,i),s.green=Ub(r.green,n.green,i),s.blue=Ub(r.blue,n.blue,i),s.alpha=Un(r.alpha,n.alpha,i),rh.transform(s))},W5=new Set(["none","hidden"]);function oJ(t,e){return W5.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function aJ(t,e){return r=>Un(t,e,r)}function Z_(t){return typeof t=="number"?aJ:typeof t=="string"?Y_(t)?Fx:ps.test(t)?ON:cJ:Array.isArray(t)?sR:typeof t=="object"?ps.test(t)?ON:lJ:Fx}function sR(t,e){const r=[...t],n=r.length,s=t.map((i,o)=>Z_(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function lJ(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=Z_(t[s])(t[s],e[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function AJ(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][n[i]],a=t.values[o]??0;r[s]=a,n[i]++}return r}const cJ=(t,e)=>{const r=rd.createTransformer(e),n=Cm(t),s=Cm(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?W5.has(t)&&!s.values.length||W5.has(e)&&!n.values.length?oJ(t,e):ay(sR(AJ(n,s),s.values),r):Fx(t,e)};function iR(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Un(t,e,r):Z_(t)(t,e)}const uJ=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Bn.update(e,r),stop:()=>td(e),now:()=>ti.isProcessing?ti.timestamp:Lo.now()}},oR=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let i=0;i<s;i++)n+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Px=2e4;function ek(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Px;)e+=r,n=t.next(e);return e>=Px?1/0:e}function dJ(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(ek(n),Px);return{type:"keyframes",ease:i=>n.next(s*i).value/e,duration:lA(s)}}const hJ=5;function aR(t,e,r){const n=Math.max(e-hJ,0);return QD(r-t(n),e-n)}const Wn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Db=.001;function fJ({duration:t=Wn.duration,bounce:e=Wn.bounce,velocity:r=Wn.velocity,mass:n=Wn.mass}){let s,i,o=1-e;o=dc(Wn.minDamping,Wn.maxDamping,o),t=dc(Wn.minDuration,Wn.maxDuration,lA(t)),o<1?(s=c=>{const u=c*o,d=u*t,h=u-r,f=$5(c,o),m=Math.exp(-d);return Db-h/f*m},i=c=>{const d=c*o*t,h=d*r+r,f=Math.pow(o,2)*Math.pow(c,2)*t,m=Math.exp(-d),v=$5(Math.pow(c,2),o);return(-s(c)+Db>0?-1:1)*((h-f)*m)/v}):(s=c=>{const u=Math.exp(-c*t),d=(c-r)*t+1;return-Db+u*d},i=c=>{const u=Math.exp(-c*t),d=(r-c)*(t*t);return u*d});const a=5/t,l=pJ(s,i,a);if(t=aA(t),isNaN(l))return{stiffness:Wn.stiffness,damping:Wn.damping,duration:t};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:t}}}const gJ=12;function pJ(t,e,r){let n=r;for(let s=1;s<gJ;s++)n=n-t(n)/e(n);return n}function $5(t,e){return t*Math.sqrt(1-e*e)}const mJ=["duration","bounce"],yJ=["stiffness","damping","mass"];function VN(t,e){return e.some(r=>t[r]!==void 0)}function vJ(t){let e={velocity:Wn.velocity,stiffness:Wn.stiffness,damping:Wn.damping,mass:Wn.mass,isResolvedFromDuration:!1,...t};if(!VN(t,yJ)&&VN(t,mJ))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*dc(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Wn.mass,stiffness:s,damping:i}}else{const r=fJ(t);e={...e,...r,mass:Wn.mass},e.isResolvedFromDuration=!0}return e}function Lx(t=Wn.visualDuration,e=Wn.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=vJ({...r,velocity:-lA(r.velocity||0)}),m=h||0,v=c/(2*Math.sqrt(l*u)),_=o-i,x=lA(Math.sqrt(l/u)),b=Math.abs(_)<5;n||(n=b?Wn.restSpeed.granular:Wn.restSpeed.default),s||(s=b?Wn.restDelta.granular:Wn.restDelta.default);let E;if(v<1){const j=$5(x,v);E=O=>{const P=Math.exp(-v*x*O);return o-P*((m+v*x*_)/j*Math.sin(j*O)+_*Math.cos(j*O))}}else if(v===1)E=j=>o-Math.exp(-x*j)*(_+(m+x*_)*j);else{const j=x*Math.sqrt(v*v-1);E=O=>{const P=Math.exp(-v*x*O),T=Math.min(j*O,300);return o-P*((m+v*x*_)*Math.sinh(T)+j*_*Math.cosh(T))/j}}const N={calculatedDuration:f&&d||null,next:j=>{const O=E(j);if(f)a.done=j>=d;else{let P=j===0?m:0;v<1&&(P=j===0?aA(m):aR(E,j,O));const T=Math.abs(P)<=n,U=Math.abs(o-O)<=s;a.done=T&&U}return a.value=a.done?o:O,a},toString:()=>{const j=Math.min(ek(N),Px),O=oR(P=>N.next(j*P).value,j,30);return j+"ms "+O},toTransition:()=>{}};return N}Lx.applyToOptions=t=>{const e=dJ(t,100,Lx);return t.ease=e.ease,t.duration=aA(e.duration),t.type="keyframes",t};function q5({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},f=T=>a!==void 0&&T<a||l!==void 0&&T>l,m=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let v=r*e;const _=d+v,x=o===void 0?_:o(_);x!==_&&(v=x-d);const b=T=>-v*Math.exp(-T/n),E=T=>x+b(T),N=T=>{const U=b(T),R=E(T);h.done=Math.abs(U)<=c,h.value=h.done?x:R};let j,O;const P=T=>{f(h.value)&&(j=T,O=Lx({keyframes:[h.value,m(h.value)],velocity:aR(E,T,h.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return P(0),{calculatedDuration:null,next:T=>{let U=!1;return!O&&j===void 0&&(U=!0,N(T),P(T)),j!==void 0&&T>=j?O.next(T-j):(!U&&N(T),h)}}}function xJ(t,e,r){const n=[],s=r||hc.mix||iR,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ua:e;a=ay(l,a)}n.push(a)}return n}function wJ(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const i=t.length;if(K_(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=xJ(e,n,s),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=bm(t[d],t[d+1],u);return a[d](h)};return r?u=>c(dc(t[0],t[i-1],u)):c}function bJ(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=bm(0,e,n);t.push(Un(r,1,s))}}function BJ(t){const e=[0];return bJ(e,t.length-1),e}function CJ(t,e){return t.map(r=>r*e)}function _J(t,e){return t.map(()=>e||qD).splice(0,t.length-1)}function T0({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=UX(n)?n.map(UN):UN(n),i={done:!1,value:e[0]},o=CJ(r&&r.length===e.length?r:BJ(e),t),a=wJ(o,e,{ease:Array.isArray(s)?s:_J(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const kJ=t=>t!==null;function tk(t,{repeat:e,repeatType:r="loop"},n,s=1){const i=t.filter(kJ),a=s<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!a||n===void 0?i[a]:n}const EJ={decay:q5,inertia:q5,tween:T0,keyframes:T0,spring:Lx};function lR(t){typeof t.type=="string"&&(t.type=EJ[t.type])}class rk{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const IJ=t=>t/100;class nk extends rk{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==Lo.now()&&this.tick(Lo.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;lR(e);const{type:r=T0,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=r||T0;l!==T0&&typeof a[0]!="number"&&(this.mixKeyframes=ay(IJ,iR(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=ek(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=c}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:h,repeatDelay:f,type:m,onUpdate:v,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const x=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?x<0:x>s;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let E=this.currentTime,N=n;if(d){const T=Math.min(this.currentTime,s)/a;let U=Math.floor(T),R=T%1;!R&&T>=1&&(R=1),R===1&&U--,U=Math.min(U,d+1),!!(U%2)&&(h==="reverse"?(R=1-R,f&&(R-=f/a)):h==="mirror"&&(N=o)),E=dc(0,1,R)*a}const j=b?{done:!1,value:u[0]}:N.next(E);i&&(j.value=i(j.value));let{done:O}=j;!b&&l!==null&&(O=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return P&&m!==q5&&(j.value=tk(u,this.options,_,this.speed)),v&&v(j.value),P&&this.finish(),j}then(e,r){return this.finished.then(e,r)}get duration(){return lA(this.calculatedDuration)}get time(){return lA(this.currentTime)}set time(e){var r;e=aA(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Lo.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=lA(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=uJ,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Lo.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function SJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const nh=t=>t*180/Math.PI,Y5=t=>{const e=nh(Math.atan2(t[1],t[0]));return X5(e)},NJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Y5,rotateZ:Y5,skewX:t=>nh(Math.atan(t[1])),skewY:t=>nh(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},X5=t=>(t=t%360,t<0&&(t+=360),t),HN=Y5,KN=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),zN=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),TJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:KN,scaleY:zN,scale:t=>(KN(t)+zN(t))/2,rotateX:t=>X5(nh(Math.atan2(t[6],t[5]))),rotateY:t=>X5(nh(Math.atan2(-t[2],t[0]))),rotateZ:HN,rotate:HN,skewX:t=>nh(Math.atan(t[4])),skewY:t=>nh(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function J5(t){return t.includes("scale")?1:0}function Z5(t,e){if(!t||t==="none")return J5(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=TJ,s=r;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=NJ,s=a}if(!s)return J5(e);const i=n[e],o=s[1].split(",").map(FJ);return typeof i=="function"?i(o):o[i]}const jJ=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Z5(r,e)};function FJ(t){return parseFloat(t.trim())}const rp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],np=(()=>new Set(rp))(),GN=t=>t===tp||t===ir,PJ=new Set(["x","y","z"]),LJ=rp.filter(t=>!PJ.has(t));function UJ(t){const e=[];return LJ.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const ch={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Z5(e,"x"),y:(t,{transform:e})=>Z5(e,"y")};ch.translateX=ch.x;ch.translateY=ch.y;const uh=new Set;let eC=!1,tC=!1,rC=!1;function AR(){if(tC){const t=Array.from(uh).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=UJ(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var a;(a=n.getValue(i))==null||a.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}tC=!1,eC=!1,uh.forEach(t=>t.complete(rC)),uh.clear()}function cR(){uh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(tC=!0)})}function DJ(){rC=!0,cR(),AR(),rC=!1}class sk{constructor(e,r,n,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(uh.add(this),eC||(eC=!0,Bn.read(cR),Bn.resolveKeyframes(AR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const a=n.readValue(r,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}SJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),uh.delete(this)}cancel(){this.state==="scheduled"&&(uh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const RJ=t=>t.startsWith("--");function MJ(t,e,r){RJ(e)?t.style.setProperty(e,r):t.style[e]=r}const QJ=z_(()=>window.ScrollTimeline!==void 0),OJ={};function VJ(t,e){const r=z_(t);return()=>OJ[e]??r()}const uR=VJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),o0=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,WN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:o0([0,.65,.55,1]),circOut:o0([.55,0,1,.45]),backIn:o0([.31,.01,.66,-.59]),backOut:o0([.33,1.53,.69,.99])};function dR(t,e){if(t)return typeof t=="function"?uR()?oR(t,e):"ease-out":YD(t)?o0(t):Array.isArray(t)?t.map(r=>dR(r,e)||WN.easeOut):WN[t]}function HJ(t,e,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:r};l&&(u.offset=l);const d=dR(a,s);Array.isArray(d)&&(u.easing=d);const h={delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),t.animate(u,h)}function hR(t){return typeof t=="function"&&"applyToOptions"in t}function KJ({type:t,...e}){return hR(t)&&uR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class zJ extends rk{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,K_(typeof e.type!="string");const c=KJ(e);this.animation=HJ(r,n,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=tk(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):MJ(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return lA(Number(e))}get time(){return lA(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=aA(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&QJ()?(this.animation.timeline=e,Ua):r(this)}}const fR={anticipate:GD,backInOut:zD,circInOut:$D};function GJ(t){return t in fR}function WJ(t){typeof t.ease=="string"&&GJ(t.ease)&&(t.ease=fR[t.ease])}const $N=10;class $J extends zJ{constructor(e){WJ(e),lR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const a=new nk({...o,autoplay:!1}),l=aA(this.finishedTime??this.time);r.setWithVelocity(a.sample(l-$N).value,a.sample(l).value,$N),a.stop()}}const qN=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(rd.test(t)||t==="0")&&!t.startsWith("url("));function qJ(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function YJ(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=qN(s,e),a=qN(i,e);return!o||!a?!1:qJ(t)||(r==="spring"||hR(r))&&n}function ik(t){return RD(t)&&"offsetHeight"in t}const XJ=new Set(["opacity","clipPath","filter","transform"]),JJ=z_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ZJ(t){var c;const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:i,type:o}=t;if(!ik((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return JJ()&&r&&XJ.has(r)&&(r!=="transform"||!l)&&!a&&!n&&s!=="mirror"&&i!==0&&o!=="inertia"}const eZ=40;class tZ extends rk{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...d}){var m;super(),this.stop=()=>{var v,_;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=Lo.now();const h={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:u,...d},f=(u==null?void 0:u.KeyframeResolver)||sk;this.keyframeResolver=new f(a,(v,_,x)=>this.onKeyframesResolved(v,_,h,!x),l,c,u),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(e,r,n,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=Lo.now(),YJ(e,i,o,a)||((hc.instantAnimations||!l)&&(u==null||u(tk(e,n,r))),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>eZ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},f=!c&&ZJ(h)?new $J({...h,element:h.motionValue.owner.current}):new nk(h);f.finished.then(()=>this.notifyFinished()).catch(Ua),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),DJ()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const rZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nZ(t){const e=rZ.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function gR(t,e,r=1){const[n,s]=nZ(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return DD(o)?parseFloat(o):o}return Y_(s)?gR(s,e,r+1):s}function ok(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const pR=new Set(["width","height","top","left","right","bottom",...rp]),sZ={test:t=>t==="auto",parse:t=>t},mR=t=>e=>e.test(t),yR=[tp,ir,AA,uu,qX,$X,sZ],YN=t=>yR.find(mR(t));function iZ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||MD(t):!0}const oZ=new Set(["brightness","contrast","saturate","opacity"]);function aZ(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(X_)||[];if(!n)return t;const s=r.replace(n,"");let i=oZ.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+s+")"}const lZ=/\b([a-z-]*)\(.*?\)/gu,nC={...rd,getAnimatableNone:t=>{const e=t.match(lZ);return e?e.map(aZ).join(" "):t}},XN={...tp,transform:Math.round},AZ={rotate:uu,rotateX:uu,rotateY:uu,rotateZ:uu,scale:Ev,scaleX:Ev,scaleY:Ev,scaleZ:Ev,skew:uu,skewX:uu,skewY:uu,distance:ir,translateX:ir,translateY:ir,translateZ:ir,x:ir,y:ir,z:ir,perspective:ir,transformPerspective:ir,opacity:Bm,originX:RN,originY:RN,originZ:ir},ak={borderWidth:ir,borderTopWidth:ir,borderRightWidth:ir,borderBottomWidth:ir,borderLeftWidth:ir,borderRadius:ir,radius:ir,borderTopLeftRadius:ir,borderTopRightRadius:ir,borderBottomRightRadius:ir,borderBottomLeftRadius:ir,width:ir,maxWidth:ir,height:ir,maxHeight:ir,top:ir,right:ir,bottom:ir,left:ir,padding:ir,paddingTop:ir,paddingRight:ir,paddingBottom:ir,paddingLeft:ir,margin:ir,marginTop:ir,marginRight:ir,marginBottom:ir,marginLeft:ir,backgroundPositionX:ir,backgroundPositionY:ir,...AZ,zIndex:XN,fillOpacity:Bm,strokeOpacity:Bm,numOctaves:XN},cZ={...ak,color:ps,backgroundColor:ps,outlineColor:ps,fill:ps,stroke:ps,borderColor:ps,borderTopColor:ps,borderRightColor:ps,borderBottomColor:ps,borderLeftColor:ps,filter:nC,WebkitFilter:nC},vR=t=>cZ[t];function xR(t,e){let r=vR(t);return r!==nC&&(r=rd),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const uZ=new Set(["auto","none","0"]);function dZ(t,e,r){let n=0,s;for(;n<t.length&&!s;){const i=t[n];typeof i=="string"&&!uZ.has(i)&&Cm(i).values.length&&(s=t[n]),n++}if(s&&r)for(const i of e)t[i]=xR(r,s)}class hZ extends sk{constructor(e,r,n,s,i){super(e,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Y_(c))){const u=gR(c,r.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!pR.has(n)||e.length!==2)return;const[s,i]=e,o=YN(s),a=YN(i);if(o!==a)if(GN(o)&&GN(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else ch[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||iZ(e[s]))&&n.push(s);n.length&&dZ(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ch[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=ch[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function fZ(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;e&&(n=e.current);const s=(r==null?void 0:r[t])??n.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const wR=(t,e)=>e&&typeof t=="number"?e.transform(t):t,JN=30,gZ=t=>!isNaN(parseFloat(t));class pZ{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{var o,a;const i=Lo.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Lo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=gZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new G_);const n=this.events[e].add(r);return e==="change"?()=>{n(),Bn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Lo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>JN)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,JN);return QD(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qg(t,e){return new pZ(t,e)}const{schedule:lk,cancel:Sue}=XD(queueMicrotask,!1),ol={x:!1,y:!1};function bR(){return ol.x||ol.y}function mZ(t){return t==="x"||t==="y"?ol[t]?null:(ol[t]=!0,()=>{ol[t]=!1}):ol.x||ol.y?null:(ol.x=ol.y=!0,()=>{ol.x=ol.y=!1})}function BR(t,e){const r=fZ(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function ZN(t){return!(t.pointerType==="touch"||bR())}function yZ(t,e,r={}){const[n,s,i]=BR(t,r),o=a=>{if(!ZN(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=d=>{ZN(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,s)};return n.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const CR=(t,e)=>e?t===e?!0:CR(t,e.parentElement):!1,Ak=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,vZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xZ(t){return vZ.has(t.tagName)||t.tabIndex!==-1}const C1=new WeakSet;function eT(t){return e=>{e.key==="Enter"&&t(e)}}function Rb(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const wZ=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=eT(()=>{if(C1.has(r))return;Rb(r,"down");const s=eT(()=>{Rb(r,"up")}),i=()=>Rb(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function tT(t){return Ak(t)&&!bR()}function bZ(t,e,r={}){const[n,s,i]=BR(t,r),o=a=>{const l=a.currentTarget;if(!tT(a))return;C1.add(l);const c=e(l,a),u=(f,m)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),C1.has(l)&&C1.delete(l),tT(f)&&typeof c=="function"&&c(f,{success:m})},d=f=>{u(f,l===window||l===document||r.useGlobalTarget||CR(l,f.target))},h=f=>{u(f,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",h,s)};return n.forEach(a=>{(r.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),ik(a)&&(a.addEventListener("focus",c=>wZ(c,s)),!xZ(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function _R(t){return RD(t)&&"ownerSVGElement"in t}function BZ(t){return _R(t)&&t.tagName==="svg"}const Si=t=>!!(t&&t.getVelocity),CZ=[...yR,ps,rd],_Z=t=>CZ.find(mR(t)),ck=J.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class kZ extends J.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=ik(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function EZ({children:t,isPresent:e,anchorX:r,root:n}){const s=J.useId(),i=J.useRef(null),o=J.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=J.useContext(ck);return J.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:d,right:h}=o.current;if(e||!i.current||!l||!c)return;const f=r==="left"?`left: ${d}`:`right: ${h}`;i.current.dataset.motionPopId=s;const m=document.createElement("style");a&&(m.nonce=a);const v=n??document.head;return v.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{v.removeChild(m),v.contains(m)&&v.removeChild(m)}},[e]),A.jsx(kZ,{isPresent:e,childRef:i,sizeRef:o,children:J.cloneElement(t,{ref:i})})}const IZ=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const c=Q_(SZ),u=J.useId();let d=!0,h=J.useMemo(()=>(d=!1,{id:u,initial:e,isPresent:r,custom:s,onExitComplete:f=>{c.set(f,!0);for(const m of c.values())if(!m)return;n&&n()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[r,c,n]);return i&&d&&(h={...h}),J.useMemo(()=>{c.forEach((f,m)=>c.set(m,!1))},[r]),J.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),o==="popLayout"&&(t=A.jsx(EZ,{isPresent:r,anchorX:a,root:l,children:t})),A.jsx(zw.Provider,{value:h,children:t})};function SZ(){return new Map}function kR(t=!0){const e=J.useContext(zw);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,i=J.useId();J.useEffect(()=>{if(t)return s(i)},[t]);const o=J.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,o]:[!0]}const Iv=t=>t.key||"";function rT(t){const e=[];return J.Children.forEach(t,r=>{J.isValidElement(r)&&e.push(r)}),e}const NZ=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,u]=kR(o),d=J.useMemo(()=>rT(t),[t]),h=o&&!c?[]:d.map(Iv),f=J.useRef(!0),m=J.useRef(d),v=Q_(()=>new Map),[_,x]=J.useState(d),[b,E]=J.useState(d);UD(()=>{f.current=!1,m.current=d;for(let O=0;O<b.length;O++){const P=Iv(b[O]);h.includes(P)?v.delete(P):v.get(P)!==!0&&v.set(P,!1)}},[b,h.length,h.join("-")]);const N=[];if(d!==_){let O=[...d];for(let P=0;P<b.length;P++){const T=b[P],U=Iv(T);h.includes(U)||(O.splice(P,0,T),N.push(T))}return i==="wait"&&N.length&&(O=N),E(rT(O)),x(d),null}const{forceRender:j}=J.useContext(M_);return A.jsx(A.Fragment,{children:b.map(O=>{const P=Iv(O),T=o&&!c?!1:d===b||h.includes(P),U=()=>{if(v.has(P))v.set(P,!0);else return;let R=!0;v.forEach(I=>{I||(R=!1)}),R&&(j==null||j(),E(m.current),o&&(u==null||u()),n&&n())};return A.jsx(IZ,{isPresent:T,initial:!f.current||r?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:T?void 0:U,anchorX:a,children:O},P)})})},ER=J.createContext({strict:!1}),nT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Og={};for(const t in nT)Og[t]={isEnabled:e=>nT[t].some(r=>!!e[r])};function TZ(t){for(const e in t)Og[e]={...Og[e],...t[e]}}const jZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ux(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||jZ.has(t)}let IR=t=>!Ux(t);function FZ(t){typeof t=="function"&&(IR=e=>e.startsWith("on")?!Ux(e):t(e))}try{FZ(require("@emotion/is-prop-valid").default)}catch{}function PZ(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(IR(s)||r===!0&&Ux(s)||!e&&!Ux(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}function LZ(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Gw=J.createContext({});function Ww(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function _m(t){return typeof t=="string"||Array.isArray(t)}const uk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dk=["initial",...uk];function $w(t){return Ww(t.animate)||dk.some(e=>_m(t[e]))}function SR(t){return!!($w(t)||t.variants)}function UZ(t,e){if($w(t)){const{initial:r,animate:n}=t;return{initial:r===!1||_m(r)?r:void 0,animate:_m(n)?n:void 0}}return t.inherit!==!1?e:{}}function DZ(t){const{initial:e,animate:r}=UZ(t,J.useContext(Gw));return J.useMemo(()=>({initial:e,animate:r}),[sT(e),sT(r)])}function sT(t){return Array.isArray(t)?t.join(" "):t}const RZ=Symbol.for("motionComponentSymbol");function sg(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function MZ(t,e,r){return J.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):sg(r)&&(r.current=n))},[e])}const hk=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QZ="framerAppearId",NR="data-"+hk(QZ),TR=J.createContext({});function OZ(t,e,r,n,s){var v,_;const{visualElement:i}=J.useContext(Gw),o=J.useContext(ER),a=J.useContext(zw),l=J.useContext(ck).reducedMotion,c=J.useRef(null);n=n||o.renderer,!c.current&&n&&(c.current=n(t,{visualState:e,parent:i,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=J.useContext(TR);u&&!u.projection&&s&&(u.type==="html"||u.type==="svg")&&VZ(c.current,r,s,d);const h=J.useRef(!1);J.useInsertionEffect(()=>{u&&h.current&&u.update(r,a)});const f=r[NR],m=J.useRef(!!f&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,f))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,f)));return UD(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),lk.render(u.render),m.current&&u.animationState&&u.animationState.animateChanges())}),J.useEffect(()=>{u&&(!m.current&&u.animationState&&u.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,f)}),m.current=!1))}),u}function VZ(t,e,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:jR(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&sg(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function jR(t){if(t)return t.options.allowProjection!==!1?t.projection:jR(t.parent)}function HZ({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:s}){t&&TZ(t);function i(a,l){let c;const u={...J.useContext(ck),...a,layoutId:KZ(a)},{isStatic:d}=u,h=DZ(a),f=n(a,d);if(!d&&O_){zZ();const m=GZ(u);c=m.MeasureLayout,h.visualElement=OZ(s,f,u,e,m.ProjectionNode)}return A.jsxs(Gw.Provider,{value:h,children:[c&&h.visualElement?A.jsx(c,{visualElement:h.visualElement,...u}):null,r(s,a,MZ(f,h.visualElement,l),f,d,h.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=J.forwardRef(i);return o[RZ]=s,o}function KZ({layoutId:t}){const e=J.useContext(M_).id;return e&&t!==void 0?e+"-"+t:t}function zZ(t,e){J.useContext(ER).strict}function GZ(t){const{drag:e,layout:r}=Og;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const km={};function WZ(t){for(const e in t)km[e]=t[e],q_(e)&&(km[e].isCSSVariable=!0)}function FR(t,{layout:e,layoutId:r}){return np.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!km[t]||t==="opacity")}const $Z={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qZ=rp.length;function YZ(t,e,r){let n="",s=!0;for(let i=0;i<qZ;i++){const o=rp[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||r){const c=wR(a,ak[o]);if(!l){s=!1;const u=$Z[o]||o;n+=`${u}(${c}) `}r&&(e[o]=c)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function fk(t,e,r){const{style:n,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(np.has(l)){o=!0;continue}else if(q_(l)){s[l]=c;continue}else{const u=wR(c,ak[l]);l.startsWith("origin")?(a=!0,i[l]=u):n[l]=u}}if(e.transform||(o||r?n.transform=YZ(e,t.transform,r):n.transform&&(n.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}const gk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function PR(t,e,r){for(const n in e)!Si(e[n])&&!FR(n,r)&&(t[n]=e[n])}function XZ({transformTemplate:t},e){return J.useMemo(()=>{const r=gk();return fk(r,e,t),Object.assign({},r.vars,r.style)},[e])}function JZ(t,e){const r=t.style||{},n={};return PR(n,r,t),Object.assign(n,XZ(t,e)),n}function ZZ(t,e){const r={},n=JZ(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const eee={offset:"stroke-dashoffset",array:"stroke-dasharray"},tee={offset:"strokeDashoffset",array:"strokeDasharray"};function ree(t,e,r=1,n=0,s=!0){t.pathLength=1;const i=s?eee:tee;t[i.offset]=ir.transform(-n);const o=ir.transform(e),a=ir.transform(r);t[i.array]=`${o} ${a}`}function LR(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,u){if(fk(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:h}=t;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),r!==void 0&&(d.y=r),n!==void 0&&(d.scale=n),s!==void 0&&ree(d,s,i,o,!1)}const UR=()=>({...gk(),attrs:{}}),DR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function nee(t,e,r,n){const s=J.useMemo(()=>{const i=UR();return LR(i,e,DR(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};PR(i,t.style,t),s.style={...i,...s.style}}return s}const see=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pk(t){return typeof t!="string"||t.includes("-")?!1:!!(see.indexOf(t)>-1||/[A-Z]/u.test(t))}function iee(t=!1){return(r,n,s,{latestValues:i},o)=>{const l=(pk(r)?nee:ZZ)(n,i,o,r),c=PZ(n,typeof r=="string",t),u=r!==J.Fragment?{...c,...l,ref:s}:{},{children:d}=n,h=J.useMemo(()=>Si(d)?d.get():d,[d]);return J.createElement(r,{...u,children:h})}}function iT(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function mk(t,e,r,n){if(typeof e=="function"){const[s,i]=iT(n);e=e(r!==void 0?r:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=iT(n);e=e(r!==void 0?r:t.custom,s,i)}return e}function _1(t){return Si(t)?t.get():t}function oee({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:aee(r,n,s,t),renderState:e()}}const RR=t=>(e,r)=>{const n=J.useContext(Gw),s=J.useContext(zw),i=()=>oee(t,e,n,s);return r?i():Q_(i)};function aee(t,e,r,n){const s={},i=n(t,{});for(const h in i)s[h]=_1(i[h]);let{initial:o,animate:a}=t;const l=$w(t),c=SR(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!Ww(d)){const h=Array.isArray(d)?d:[d];for(let f=0;f<h.length;f++){const m=mk(t,h[f]);if(m){const{transitionEnd:v,transition:_,...x}=m;for(const b in x){let E=x[b];if(Array.isArray(E)){const N=u?E.length-1:0;E=E[N]}E!==null&&(s[b]=E)}for(const b in v)s[b]=v[b]}}}return s}function yk(t,e,r){var i;const{style:n}=t,s={};for(const o in n)(Si(n[o])||e.style&&Si(e.style[o])||FR(o,t)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=n[o]);return s}const lee={useVisualState:RR({scrapeMotionValuesFromProps:yk,createRenderState:gk})};function MR(t,e,r){const n=yk(t,e,r);for(const s in t)if(Si(t[s])||Si(e[s])){const i=rp.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=t[s]}return n}const Aee={useVisualState:RR({scrapeMotionValuesFromProps:MR,createRenderState:UR})};function cee(t,e){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...pk(n)?Aee:lee,preloadedFeatures:t,useRender:iee(s),createVisualElement:e,Component:n};return HZ(o)}}function Em(t,e,r){const n=t.getProps();return mk(n,e,r!==void 0?r:n.custom,t)}const sC=t=>Array.isArray(t);function uee(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Qg(r))}function dee(t){return sC(t)?t[t.length-1]||0:t}function hee(t,e){const r=Em(t,e);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const a=dee(i[o]);uee(t,o,a)}}function fee(t){return!!(Si(t)&&t.add)}function iC(t,e){const r=t.getValue("willChange");if(fee(r))return r.add(e);if(!r&&hc.WillChange){const n=new hc.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function QR(t){return t.props[NR]}const gee=t=>t!==null;function pee(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(gee),i=e&&r!=="loop"&&e%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const mee={type:"spring",stiffness:500,damping:25,restSpeed:10},yee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),vee={type:"keyframes",duration:.8},xee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wee=(t,{keyframes:e})=>e.length>2?vee:np.has(t)?t.startsWith("scale")?yee(e[1]):mee:xee;function bee({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const vk=(t,e,r,n={},s,i)=>o=>{const a=ok(n,t)||{},l=a.delay||n.delay||0;let{elapsed:c=0}=n;c=c-aA(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};bee(a)||Object.assign(u,wee(t,u)),u.duration&&(u.duration=aA(u.duration)),u.repeatDelay&&(u.repeatDelay=aA(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),(hc.instantAnimations||hc.skipAnimations)&&(d=!0,u.duration=0,u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!i&&e.get()!==void 0){const h=pee(u.keyframes,a);if(h!==void 0){Bn.update(()=>{u.onUpdate(h),u.onComplete()});return}}return a.isSync?new nk(u):new tZ(u)};function Bee({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function OR(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;n&&(i=n);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const u in a){const d=t.getValue(u,t.latestValues[u]??null),h=a[u];if(h===void 0||c&&Bee(c,u))continue;const f={delay:r,...ok(i||{},u)},m=d.get();if(m!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===m&&!f.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const x=QR(t);if(x){const b=window.MotionHandoffAnimation(x,u,Bn);b!==null&&(f.startTime=b,v=!0)}}iC(t,u),d.start(vk(u,d,h,t.shouldReduceMotion&&pR.has(u)?{type:!1}:f,t,v));const _=d.animation;_&&l.push(_)}return o&&Promise.all(l).then(()=>{Bn.update(()=>{o&&hee(t,o)})}),l}function oC(t,e,r={}){var l;const n=Em(t,e,r.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(OR(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return Cee(t,e,c,u,d,h,r)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,u]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function Cee(t,e,r=0,n=0,s=0,i=1,o){const a=[],l=t.variantChildren.size,c=(l-1)*s,u=typeof n=="function",d=u?h=>n(h,l):i===1?(h=0)=>h*s:(h=0)=>c-h*s;return Array.from(t.variantChildren).sort(_ee).forEach((h,f)=>{h.notify("AnimationStart",e),a.push(oC(h,e,{...o,delay:r+(u?0:n)+d(f)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(a)}function _ee(t,e){return t.sortNodePosition(e)}function kee(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(i=>oC(t,i,r));n=Promise.all(s)}else if(typeof e=="string")n=oC(t,e,r);else{const s=typeof e=="function"?Em(t,e,r.custom):e;n=Promise.all(OR(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function VR(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Eee=dk.length;function HR(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?HR(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Eee;r++){const n=dk[r],s=t.props[n];(_m(s)||s===!1)&&(e[n]=s)}return e}const Iee=[...uk].reverse(),See=uk.length;function Nee(t){return e=>Promise.all(e.map(({animation:r,options:n})=>kee(t,r,n)))}function Tee(t){let e=Nee(t),r=oT(),n=!0;const s=l=>(c,u)=>{var h;const d=Em(t,u,l==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:f,transitionEnd:m,...v}=d;c={...c,...v,...m}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=HR(t.parent)||{},d=[],h=new Set;let f={},m=1/0;for(let _=0;_<See;_++){const x=Iee[_],b=r[x],E=c[x]!==void 0?c[x]:u[x],N=_m(E),j=x===l?b.isActive:null;j===!1&&(m=_);let O=E===u[x]&&E!==c[x]&&N;if(O&&n&&t.manuallyAnimateOnMount&&(O=!1),b.protectedKeys={...f},!b.isActive&&j===null||!E&&!b.prevProp||Ww(E)||typeof E=="boolean")continue;const P=jee(b.prevProp,E);let T=P||x===l&&b.isActive&&!O&&N||_>m&&N,U=!1;const R=Array.isArray(E)?E:[E];let I=R.reduce(s(x),{});j===!1&&(I={});const{prevResolvedValues:L={}}=b,M={...L,...I},W=ce=>{T=!0,h.has(ce)&&(U=!0,h.delete(ce)),b.needsAnimating[ce]=!0;const G=t.getValue(ce);G&&(G.liveStyle=!1)};for(const ce in M){const G=I[ce],Y=L[ce];if(f.hasOwnProperty(ce))continue;let ue=!1;sC(G)&&sC(Y)?ue=!VR(G,Y):ue=G!==Y,ue?G!=null?W(ce):h.add(ce):G!==void 0&&h.has(ce)?W(ce):b.protectedKeys[ce]=!0}b.prevProp=E,b.prevResolvedValues=I,b.isActive&&(f={...f,...I}),n&&t.blockInitialAnimation&&(T=!1),T&&(!(O&&P)||U)&&d.push(...R.map(ce=>({animation:ce,options:{type:x}})))}if(h.size){const _={};if(typeof c.initial!="boolean"){const x=Em(t,Array.isArray(c.initial)?c.initial[0]:c.initial);x&&x.transition&&(_.transition=x.transition)}h.forEach(x=>{const b=t.getBaseTarget(x),E=t.getValue(x);E&&(E.liveStyle=!0),_[x]=b??null}),d.push({animation:_})}let v=!!d.length;return n&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),n=!1,v?e(d):Promise.resolve()}function a(l,c){var d;if(r[l].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(h=>{var f;return(f=h.animationState)==null?void 0:f.setActive(l,c)}),r[l].isActive=c;const u=o(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>r,reset:()=>{r=oT(),n=!0}}}function jee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!VR(e,t):!1}function Fd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oT(){return{animate:Fd(!0),whileInView:Fd(),whileHover:Fd(),whileTap:Fd(),whileDrag:Fd(),whileFocus:Fd(),exit:Fd()}}class pd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Fee extends pd{constructor(e){super(e),e.animationState||(e.animationState=Tee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ww(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Pee=0;class Lee extends pd{constructor(){super(...arguments),this.id=Pee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Uee={animation:{Feature:Fee},exit:{Feature:Lee}};function Im(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function cy(t){return{point:{x:t.pageX,y:t.pageY}}}const Dee=t=>e=>Ak(e)&&t(e,cy(e));function j0(t,e,r,n){return Im(t,e,Dee(r),n)}function KR({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function Ree({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Mee(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const zR=1e-4,Qee=1-zR,Oee=1+zR,GR=.01,Vee=0-GR,Hee=0+GR;function Zi(t){return t.max-t.min}function Kee(t,e,r){return Math.abs(t-e)<=r}function aT(t,e,r,n=.5){t.origin=n,t.originPoint=Un(e.min,e.max,t.origin),t.scale=Zi(r)/Zi(e),t.translate=Un(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Qee&&t.scale<=Oee||isNaN(t.scale))&&(t.scale=1),(t.translate>=Vee&&t.translate<=Hee||isNaN(t.translate))&&(t.translate=0)}function F0(t,e,r,n){aT(t.x,e.x,r.x,n?n.originX:void 0),aT(t.y,e.y,r.y,n?n.originY:void 0)}function lT(t,e,r){t.min=r.min+e.min,t.max=t.min+Zi(e)}function zee(t,e,r){lT(t.x,e.x,r.x),lT(t.y,e.y,r.y)}function AT(t,e,r){t.min=e.min-r.min,t.max=t.min+Zi(e)}function P0(t,e,r){AT(t.x,e.x,r.x),AT(t.y,e.y,r.y)}const cT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ig=()=>({x:cT(),y:cT()}),uT=()=>({min:0,max:0}),rs=()=>({x:uT(),y:uT()});function Ea(t){return[t("x"),t("y")]}function Mb(t){return t===void 0||t===1}function aC({scale:t,scaleX:e,scaleY:r}){return!Mb(t)||!Mb(e)||!Mb(r)}function Kd(t){return aC(t)||WR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function WR(t){return dT(t.x)||dT(t.y)}function dT(t){return t&&t!=="0%"}function Dx(t,e,r){const n=t-r,s=e*n;return r+s}function hT(t,e,r,n,s){return s!==void 0&&(t=Dx(t,s,n)),Dx(t,r,n)+e}function lC(t,e=0,r=1,n,s){t.min=hT(t.min,e,r,n,s),t.max=hT(t.max,e,r,n,s)}function $R(t,{x:e,y:r}){lC(t.x,e.translate,e.scale,e.originPoint),lC(t.y,r.translate,r.scale,r.originPoint)}const fT=.999999999999,gT=1.0000000000001;function Gee(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=r[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ag(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,$R(t,o)),n&&Kd(i.latestValues)&&ag(t,i.latestValues))}e.x<gT&&e.x>fT&&(e.x=1),e.y<gT&&e.y>fT&&(e.y=1)}function og(t,e){t.min=t.min+e,t.max=t.max+e}function pT(t,e,r,n,s=.5){const i=Un(t.min,t.max,s);lC(t,e,r,i,n)}function ag(t,e){pT(t.x,e.x,e.scaleX,e.scale,e.originX),pT(t.y,e.y,e.scaleY,e.scale,e.originY)}function qR(t,e){return KR(Mee(t.getBoundingClientRect(),e))}function Wee(t,e,r){const n=qR(t,r),{scroll:s}=e;return s&&(og(n.x,s.offset.x),og(n.y,s.offset.y)),n}const YR=({current:t})=>t?t.ownerDocument.defaultView:null,mT=(t,e)=>Math.abs(t-e);function $ee(t,e){const r=mT(t.x,e.x),n=mT(t.y,e.y);return Math.sqrt(r**2+n**2)}class XR{constructor(e,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ob(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=$ee(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!m)return;const{point:v}=h,{timestamp:_}=ti;this.history.push({...v,timestamp:_});const{onStart:x,onMove:b}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Qb(f,this.transformPagePoint),Bn.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Ob(h.type==="pointercancel"?this.lastMoveEventInfo:Qb(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,x),v&&v(h,x)},!Ak(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=s||window;const a=cy(e),l=Qb(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=ti;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(e,Ob(l,this.history)),this.removeListeners=ay(j0(this.contextWindow,"pointermove",this.handlePointerMove),j0(this.contextWindow,"pointerup",this.handlePointerUp),j0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),td(this.updatePoint)}}function Qb(t,e){return e?{point:e(t.point)}:t}function yT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ob({point:t},e){return{point:t,delta:yT(t,JR(e)),offset:yT(t,qee(e)),velocity:Yee(e,.1)}}function qee(t){return t[0]}function JR(t){return t[t.length-1]}function Yee(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=JR(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>aA(e)));)r--;if(!n)return{x:0,y:0};const i=lA(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Xee(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Un(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Un(r,t,n.max):Math.min(t,r)),t}function vT(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Jee(t,{top:e,left:r,bottom:n,right:s}){return{x:vT(t.x,r,s),y:vT(t.y,e,n)}}function xT(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function Zee(t,e){return{x:xT(t.x,e.x),y:xT(t.y,e.y)}}function ete(t,e){let r=.5;const n=Zi(t),s=Zi(e);return s>n?r=bm(e.min,e.max-n,t.min):n>s&&(r=bm(t.min,t.max-s,e.min)),dc(0,1,r)}function tte(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const AC=.35;function rte(t=AC){return t===!1?t=0:t===!0&&(t=AC),{x:wT(t,"left","right"),y:wT(t,"top","bottom")}}function wT(t,e,r){return{min:bT(t,e),max:bT(t,r)}}function bT(t,e){return typeof t=="number"?t:t[e]||0}const nte=new WeakMap;class ste{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rs(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(cy(d).point)},o=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:v}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mZ(f),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ea(x=>{let b=this.getAxisMotionValue(x).get()||0;if(AA.test(b)){const{projection:E}=this.visualElement;if(E&&E.layout){const N=E.layout.layoutBox[x];N&&(b=Zi(N)*(parseFloat(b)/100))}}this.originPoint[x]=b}),v&&Bn.postRender(()=>v(d,h)),iC(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},a=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h;const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:v,onDrag:_}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=ite(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),_&&_(d,h)},l=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h,this.stop(d,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Ea(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new XR(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:YR(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Bn.postRender(()=>a(n,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!Sv(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=Xee(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&sg(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=Jee(n.layoutBox,e):this.constraints=!1,this.elastic=rte(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ea(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=tte(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!sg(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Wee(n,s.root,this.visualElement.getTransformPagePoint());let o=Zee(s.layout.layoutBox,i);if(r){const a=r(Ree(o));this.hasMutatedConstraints=!!a,a&&(o=KR(a))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Ea(u=>{if(!Sv(u,r,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=s?200:1e6,f=s?40:1e7,m={type:"inertia",velocity:n?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return iC(this.visualElement,e),n.start(vk(e,n,0,r,this.visualElement,!1))}stopAnimation(){Ea(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ea(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ea(r=>{const{drag:n}=this.getProps();if(!Sv(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[r];i.set(e[r]-Un(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!sg(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ea(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=ete({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ea(o=>{if(!Sv(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Un(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;nte.set(this.visualElement,this);const e=this.visualElement.current,r=j0(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();sg(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Bn.read(n);const o=Im(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ea(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=AC,dragMomentum:a=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Sv(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function ite(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class ote extends pd{constructor(e){super(e),this.removeGroupControls=Ua,this.removeListeners=Ua,this.controls=new ste(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ua}unmount(){this.removeGroupControls(),this.removeListeners()}}const BT=t=>(e,r)=>{t&&Bn.postRender(()=>t(e,r))};class ate extends pd{constructor(){super(...arguments),this.removePointerDownListener=Ua}onPointerDown(e){this.session=new XR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:BT(e),onStart:BT(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&Bn.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=j0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const k1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function CT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Up={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ir.test(t))t=parseFloat(t);else return t;const r=CT(t,e.target.x),n=CT(t,e.target.y);return`${r}% ${n}%`}},lte={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=rd.parse(t);if(s.length>5)return n;const i=rd.createTransformer(t),o=typeof s[0]!="number"?1:0,a=r.x.scale*e.x,l=r.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Un(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};let _T=!1;class Ate extends J.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=e;WZ(cte),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),_T&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),k1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,_T=!0,s||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Bn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),lk.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ZR(t){const[e,r]=kR(),n=J.useContext(M_);return A.jsx(Ate,{...t,layoutGroup:n,switchLayoutGroup:J.useContext(TR),isPresent:e,safeToRemove:r})}const cte={borderRadius:{...Up,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Up,borderTopRightRadius:Up,borderBottomLeftRadius:Up,borderBottomRightRadius:Up,boxShadow:lte};function ute(t,e,r){const n=Si(t)?t:Qg(t);return n.start(vk("",n,e,r)),n.animation}const dte=(t,e)=>t.depth-e.depth;class hte{constructor(){this.children=[],this.isDirty=!1}add(e){V_(this.children,e),this.isDirty=!0}remove(e){H_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dte),this.isDirty=!1,this.children.forEach(e)}}function fte(t,e){const r=Lo.now(),n=({timestamp:s})=>{const i=s-r;i>=e&&(td(n),t(i-e))};return Bn.setup(n,!0),()=>td(n)}const eM=["TopLeft","TopRight","BottomLeft","BottomRight"],gte=eM.length,kT=t=>typeof t=="string"?parseFloat(t):t,ET=t=>typeof t=="number"||ir.test(t);function pte(t,e,r,n,s,i){s?(t.opacity=Un(0,r.opacity??1,mte(n)),t.opacityExit=Un(e.opacity??1,0,yte(n))):i&&(t.opacity=Un(e.opacity??1,r.opacity??1,n));for(let o=0;o<gte;o++){const a=`border${eM[o]}Radius`;let l=IT(e,a),c=IT(r,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||ET(l)===ET(c)?(t[a]=Math.max(Un(kT(l),kT(c),n),0),(AA.test(c)||AA.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||r.rotate)&&(t.rotate=Un(e.rotate||0,r.rotate||0,n))}function IT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const mte=tM(0,.5,WD),yte=tM(.5,.95,Ua);function tM(t,e,r){return n=>n<t?0:n>e?1:r(bm(t,e,n))}function ST(t,e){t.min=e.min,t.max=e.max}function Ca(t,e){ST(t.x,e.x),ST(t.y,e.y)}function NT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function TT(t,e,r,n,s){return t-=e,t=Dx(t,1/r,n),s!==void 0&&(t=Dx(t,1/s,n)),t}function vte(t,e=0,r=1,n=.5,s,i=t,o=t){if(AA.test(e)&&(e=parseFloat(e),e=Un(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Un(i.min,i.max,n);t===i&&(a-=e),t.min=TT(t.min,e,r,a,s),t.max=TT(t.max,e,r,a,s)}function jT(t,e,[r,n,s],i,o){vte(t,e[r],e[n],e[s],e.scale,i,o)}const xte=["x","scaleX","originX"],wte=["y","scaleY","originY"];function FT(t,e,r,n){jT(t.x,e,xte,r?r.x:void 0,n?n.x:void 0),jT(t.y,e,wte,r?r.y:void 0,n?n.y:void 0)}function PT(t){return t.translate===0&&t.scale===1}function rM(t){return PT(t.x)&&PT(t.y)}function LT(t,e){return t.min===e.min&&t.max===e.max}function bte(t,e){return LT(t.x,e.x)&&LT(t.y,e.y)}function UT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function nM(t,e){return UT(t.x,e.x)&&UT(t.y,e.y)}function DT(t){return Zi(t.x)/Zi(t.y)}function RT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Bte{constructor(){this.members=[]}add(e){V_(this.members,e),e.scheduleRender()}remove(e){if(H_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Cte(t,e,r){let n="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:f,skewY:m}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),d&&(n+=`rotateX(${d}deg) `),h&&(n+=`rotateY(${h}deg) `),f&&(n+=`skewX(${f}deg) `),m&&(n+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const Vb=["","X","Y","Z"],_te=1e3;let kte=0;function Hb(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function sM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=QR(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Bn,!(s||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&sM(n)}function iM({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=kte++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ste),this.nodes.forEach(Fte),this.nodes.forEach(Pte),this.nodes.forEach(Nte)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new hte)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new G_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=_R(o)&&!BZ(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u,d=0;const h=()=>this.root.updateBlockedByResize=!1;Bn.read(()=>{d=window.innerWidth}),t(o,()=>{const f=window.innerWidth;f!==d&&(d=f,this.root.updateBlockedByResize=!0,u&&u(),u=fte(h,250),k1.hasAnimatedSinceResize&&(k1.hasAnimatedSinceResize=!1,this.nodes.forEach(OT)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||Mte,{onLayoutAnimationStart:v,onLayoutAnimationComplete:_}=c.getProps(),x=!this.targetLayout||!nM(this.targetLayout,f),b=!d&&h;if(this.options.layoutRoot||this.resumeFrom||b||d&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...ok(m,"layout"),onPlay:v,onComplete:_};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(u,b)}else d||OT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),td(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Lte),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(MT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(QT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(jte),this.nodes.forEach(Ete),this.nodes.forEach(Ite)):this.nodes.forEach(QT),this.clearAllSnapshots();const a=Lo.now();ti.delta=dc(0,1e3/60,a-ti.timestamp),ti.timestamp=a,ti.isProcessing=!0,Fb.update.process(ti),Fb.preRender.process(ti),Fb.render.process(ti),ti.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Tte),this.sharedNodes.forEach(Ute)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zi(this.snapshot.measuredBox.x)&&!Zi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!rM(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Kd(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Qte(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return rs();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Ote))){const{scroll:u}=this.root;u&&(og(a.x,u.offset.x),og(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=rs();if(Ca(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Ca(a,o),og(a.x,d.offset.x),og(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=rs();Ca(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ag(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Kd(u.latestValues)&&ag(l,u.latestValues)}return Kd(this.latestValues)&&ag(l,this.latestValues),l}removeTransform(o){const a=rs();Ca(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Kd(c.latestValues))continue;aC(c.latestValues)&&c.updateSnapshot();const u=rs(),d=c.measurePageBox();Ca(u,d),FT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Kd(this.latestValues)&&FT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ti.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=ti.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rs(),this.relativeTargetOrigin=rs(),P0(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Ca(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rs(),this.targetWithTransforms=rs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ca(this.target,this.layout.layoutBox),$R(this.target,this.targetDelta)):Ca(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rs(),this.relativeTargetOrigin=rs(),P0(this.relativeTargetOrigin,this.target,f.target),Ca(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||aC(this.parent.latestValues)||WR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var m;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ti.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Ca(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;Gee(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=rs());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(NT(this.prevProjectionDelta.x,this.projectionDelta.x),NT(this.prevProjectionDelta.y,this.projectionDelta.y)),F0(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!RT(this.projectionDelta.x,this.prevProjectionDelta.x)||!RT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ig(),this.projectionDelta=ig(),this.projectionDeltaWithTransform=ig()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=ig();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=rs(),f=l?l.source:void 0,m=this.layout?this.layout.source:void 0,v=f!==m,_=this.getStack(),x=!_||_.members.length<=1,b=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(Rte));this.animationProgress=0;let E;this.mixTargetDelta=N=>{const j=N/1e3;VT(d.x,o.x,j),VT(d.y,o.y,j),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(P0(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Dte(this.relativeTarget,this.relativeTargetOrigin,h,j),E&&bte(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=rs()),Ca(E,this.relativeTarget)),v&&(this.animationValues=u,pte(u,c,this.latestValues,j,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(td(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bn.update(()=>{k1.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qg(0)),this.currentAnimation=ute(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_te),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&oM(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||rs();const d=Zi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=Zi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Ca(a,l),ag(a,u),F0(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Bte),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Hb("z",o,c,this.animationValues);for(let u=0;u<Vb.length;u++)Hb(`rotate${Vb[u]}`,o,c,this.animationValues),Hb(`skew${Vb[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=_1(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=_1(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Kd(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=Cte(this.projectionDeltaWithTransform,this.treeScale,u);l&&(d=l(u,d)),o.transform=d;const{x:h,y:f}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in km){if(u[m]===void 0)continue;const{correct:v,applyTo:_,isCSSVariable:x}=km[m],b=d==="none"?u[m]:v(u[m],c);if(_){const E=_.length;for(let N=0;N<E;N++)o[_[N]]=b}else x?this.options.visualElement.renderState.vars[m]=b:o[m]=b}this.options.layoutId&&(o.pointerEvents=c===this?_1(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(MT),this.root.sharedNodes.clear()}}}function Ete(t){t.updateLayout()}function Ite(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Ea(d=>{const h=o?e.measuredBox[d]:e.layoutBox[d],f=Zi(h);h.min=n[d].min,h.max=h.min+f}):oM(i,e.layoutBox,n)&&Ea(d=>{const h=o?e.measuredBox[d]:e.layoutBox[d],f=Zi(n[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=ig();F0(a,n,e.layoutBox);const l=ig();o?F0(l,t.applyTransform(s,!0),e.measuredBox):F0(l,n,e.layoutBox);const c=!rM(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const m=rs();P0(m,e.layoutBox,h.layoutBox);const v=rs();P0(v,n,f.layoutBox),nM(m,v)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=m,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Ste(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Nte(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Tte(t){t.clearSnapshot()}function MT(t){t.clearMeasurements()}function QT(t){t.isLayoutDirty=!1}function jte(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function OT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Fte(t){t.resolveTargetDelta()}function Pte(t){t.calcProjection()}function Lte(t){t.resetSkewAndRotation()}function Ute(t){t.removeLeadSnapshot()}function VT(t,e,r){t.translate=Un(e.translate,0,r),t.scale=Un(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function HT(t,e,r,n){t.min=Un(e.min,r.min,n),t.max=Un(e.max,r.max,n)}function Dte(t,e,r,n){HT(t.x,e.x,r.x,n),HT(t.y,e.y,r.y,n)}function Rte(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Mte={duration:.45,ease:[.4,0,.1,1]},KT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),zT=KT("applewebkit/")&&!KT("chrome/")?Math.round:Ua;function GT(t){t.min=zT(t.min),t.max=zT(t.max)}function Qte(t){GT(t.x),GT(t.y)}function oM(t,e,r){return t==="position"||t==="preserve-aspect"&&!Kee(DT(e),DT(r),.2)}function Ote(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Vte=iM({attachResizeListener:(t,e)=>Im(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kb={current:void 0},aM=iM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Kb.current){const t=new Vte({});t.mount(window),t.setOptions({layoutScroll:!0}),Kb.current=t}return Kb.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Hte={pan:{Feature:ate},drag:{Feature:ote,ProjectionNode:aM,MeasureLayout:ZR}};function WT(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&Bn.postRender(()=>i(e,cy(e)))}class Kte extends pd{mount(){const{current:e}=this.node;e&&(this.unmount=yZ(e,(r,n)=>(WT(this.node,n,"Start"),s=>WT(this.node,s,"End"))))}unmount(){}}class zte extends pd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ay(Im(this.node.current,"focus",()=>this.onFocus()),Im(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $T(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&Bn.postRender(()=>i(e,cy(e)))}class Gte extends pd{mount(){const{current:e}=this.node;e&&(this.unmount=bZ(e,(r,n)=>($T(this.node,n,"Start"),(s,{success:i})=>$T(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cC=new WeakMap,zb=new WeakMap,Wte=t=>{const e=cC.get(t.target);e&&e(t)},$te=t=>{t.forEach(Wte)};function qte({root:t,...e}){const r=t||document;zb.has(r)||zb.set(r,{});const n=zb.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver($te,{root:t,...e})),n[s]}function Yte(t,e,r){const n=qte(e);return cC.set(t,r),n.observe(t),()=>{cC.delete(t),n.unobserve(t)}}const Xte={some:0,all:1};class Jte extends pd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:Xte[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return Yte(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Zte(e,r))&&this.startObserver()}unmount(){}}function Zte({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const ere={inView:{Feature:Jte},tap:{Feature:Gte},focus:{Feature:zte},hover:{Feature:Kte}},tre={layout:{ProjectionNode:aM,MeasureLayout:ZR}},uC={current:null},lM={current:!1};function rre(){if(lM.current=!0,!!O_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>uC.current=t.matches;t.addEventListener("change",e),e()}else uC.current=!1}const nre=new WeakMap;function sre(t,e,r){for(const n in e){const s=e[n],i=r[n];if(Si(s))t.addValue(n,s);else if(Si(i))t.addValue(n,Qg(s,{owner:t}));else if(i!==s)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(n);t.addValue(n,Qg(o!==void 0?o:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const qT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ire{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Lo.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Bn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=$w(r),this.isVariantNode=SR(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in d){const f=d[h];l[h]!==void 0&&Si(f)&&f.set(l[h],!1)}}mount(e){this.current=e,nre.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),lM.current||rre(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uC.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),td(this.notifyUpdate),td(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=np.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Bn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Og){const r=Og[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rs()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<qT.length;n++){const s=qT[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=sre(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Qg(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(DD(n)||MD(n))?n=parseFloat(n):!_Z(n)&&rd.test(r)&&(n=xR(e,r)),this.setBaseTarget(e,Si(n)?n.get():n)),Si(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=mk(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Si(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new G_),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class AM extends ire{constructor(){super(...arguments),this.KeyframeResolver=hZ}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Si(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function cM(t,{style:e,vars:r},n,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function ore(t){return window.getComputedStyle(t)}class are extends AM{constructor(){super(...arguments),this.type="html",this.renderInstance=cM}readValueFromInstance(e,r){var n;if(np.has(r))return(n=this.projection)!=null&&n.isProjecting?J5(r):jJ(e,r);{const s=ore(e),i=(q_(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return qR(e,r)}build(e,r,n){fk(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return yk(e,r,n)}}const uM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lre(t,e,r,n){cM(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(uM.has(s)?s:hk(s),e.attrs[s])}class Are extends AM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rs}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(np.has(r)){const n=vR(r);return n&&n.default||0}return r=uM.has(r)?r:hk(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return MR(e,r,n)}build(e,r,n){LR(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,s){lre(e,r,n,s)}mount(e){this.isSVGTag=DR(e.tagName),super.mount(e)}}const cre=(t,e)=>pk(t)?new Are(e):new are(e,{allowProjection:t!==J.Fragment}),ure=cee({...Uee,...ere,...Hte,...tre},cre),dM=LZ(ure),dre=[{to:"/",label:"Dashboard",icon:A.jsx(hX,{size:18})},{to:"/invoices",label:"Invoices",icon:A.jsx(uX,{size:18})},{to:"/customers",label:"Customers",icon:A.jsx(EX,{size:18})},{to:"/vehicles",label:"Vehicles",icon:A.jsx(CX,{size:18})},{to:"/vehicle-service-records",label:"Service Records",icon:A.jsx(SX,{size:18})},{to:"/records",label:"Records",icon:A.jsx(tX,{size:18})},{to:"/parts",label:"Parts",icon:A.jsx(vX,{size:18})},{to:"/jobs",label:"Job Timer",icon:A.jsx(AX,{size:18})},{to:"/analytics",label:"Analytics",icon:A.jsx(iX,{size:18})},{to:"/user-profile",label:"Profile",icon:A.jsx(LD,{size:18})},{to:"/settings",label:"Settings",icon:A.jsx(PD,{size:18})}];function hre({open:t,onClose:e}){const r=A.jsxs("div",{className:`h-full w-64 bg-gray-50/90 dark:bg-gray-800/75
                    backdrop-blur-xs shadow-card border-r
                    border-gray-200/60 dark:border-gray-700/60
                    flex flex-col`,children:[A.jsx("div",{className:"px-6 py-4 font-extrabold text-xl tracking-tight text-brand-600",children:"WrenchTrack"}),A.jsx("nav",{className:"flex-1 overflow-y-auto",children:dre.map(({to:n,label:s,icon:i})=>A.jsxs(zV,{to:n,onClick:e,className:({isActive:o})=>`flex items-center gap-3 px-6 py-3 text-sm font-medium
               transition-colors ${o?"bg-brand-500/10 text-brand-700 dark:text-brand-200":"hover:bg-gray-200/50 dark:hover:bg-gray-700"}`,children:[i," ",s]},n))})]});return A.jsxs(A.Fragment,{children:[A.jsx(dM.aside,{className:"fixed inset-y-0 left-0 z-50 lg:hidden",initial:{x:-260},animate:{x:t?0:-260},transition:{type:"tween",duration:.25},children:r}),A.jsx("aside",{className:"hidden lg:block",children:r})]})}const hM=J.createContext();function fre({children:t}){const[e,r]=J.useState(()=>{const a=localStorage.getItem("theme");return a||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),n=()=>{r(a=>a==="light"?"dark":"light")},s=()=>r("light"),i=()=>r("dark");J.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",e)},[e]),J.useEffect(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),l=c=>{localStorage.getItem("theme")||r(c.matches?"dark":"light")};return a.addEventListener("change",l),()=>a.removeEventListener("change",l)},[]);const o={theme:e,toggleTheme:n,setLightTheme:s,setDarkTheme:i,isDark:e==="dark"};return A.jsx(hM.Provider,{value:o,children:t})}function fM(){const t=J.useContext(hM);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const dh=t=>{if(!t)return new Date;if(typeof(t==null?void 0:t.toDate)=="function")return t.toDate();if(t instanceof Date)return t;if(typeof t=="string"||typeof t=="number"){const e=new Date(t);return isNaN(e.getTime())?new Date:e}return new Date},YT=(t,e={})=>{const r=dh(t),n={year:"numeric",month:"long",day:"numeric",...e};return new Intl.DateTimeFormat("en-US",n).format(r)},gM=J.createContext(),gre=({children:t})=>{const[e,r]=J.useState([]),[n,s]=J.useState(!0),[i,o]=J.useState(null),{user:a}=io();J.useEffect(()=>{if(!a){r([]),s(!1);return}s(!0),o(null);const f=Rg(sa(tr,"users",a.uid,"invoices"),xD("status","!=","deleted"));return Sx(f,v=>{const _=v.docs.map(x=>{var E;const b=x.data();return{id:x.id,...b,createdAt:dh(b.createdAt),updatedAt:dh(b.updatedAt),dueDate:b.dueDate?dh(b.dueDate):null,totalAmount:b.totalAmount||b.total||0,customerName:((E=b.customer)==null?void 0:E.name)||b.customerName||"Unknown"}});_.sort((x,b)=>b.createdAt-x.createdAt),r(_),s(!1)},v=>{console.error("Error fetching invoices:",v),o(v.message),s(!1),Ke.error("Failed to load invoices")})},[a]);const l=J.useCallback(async f=>{if(a)try{const m={...f,userId:a.uid,createdAt:ss(),updatedAt:ss(),status:f.status||"draft"},v=await Mg(sa(tr,"users",a.uid,"invoices"),m);return Ke.success("Invoice created successfully"),v.id}catch(m){throw console.error("Error creating invoice:",m),o(m.message),Ke.error("Failed to create invoice"),m}},[a]),c=J.useCallback(async(f,m)=>{if(a)try{const v={...m,updatedAt:ss()};await pl(Dr(tr,"users",a.uid,"invoices",f),v),Ke.success("Invoice updated successfully")}catch(v){throw console.error("Error updating invoice:",v),o(v.message),Ke.error("Failed to update invoice"),v}},[a]),u=J.useCallback(async f=>{if(a)try{await pl(Dr(tr,"users",a.uid,"invoices",f),{status:"deleted",deletedAt:ss(),updatedAt:ss()}),Ke.success("Invoice deleted successfully")}catch(m){throw console.error("Error deleting invoice:",m),o(m.message),Ke.error("Failed to delete invoice"),m}},[a]),d=J.useCallback(()=>{},[a]),h={invoices:e,loading:n,error:i,addInvoice:l,updateInvoice:c,deleteInvoice:u,fetchInvoices:d,setError:o};return A.jsx(gM.Provider,{value:h,children:t})},xl=()=>{const t=J.useContext(gM);if(!t)throw new Error("useInvoice must be used within an InvoiceProvider");return t},pM=J.createContext(),pre=({children:t})=>{const[e,r]=J.useState([]),[n,s]=J.useState([]),[i,o]=J.useState(!0),[a,l]=J.useState(null),{user:c}=io();J.useEffect(()=>{if(!c){r([]),s([]),o(!1);return}o(!0),l(null);let N=!1,j=!1;const O=()=>{N&&j&&o(!1)},P=Rg(sa(tr,"users",c.uid,"vehicles"),Ex("createdAt","desc")),T=Sx(P,I=>{const L=I.docs.map(M=>{const W=M.data(),X=Z=>Z?typeof(Z==null?void 0:Z.toDate)=="function"?Z.toDate():Z instanceof Date?Z:typeof Z=="string"||typeof Z=="number"?new Date(Z):new Date:new Date;return{id:M.id,...W,createdAt:X(W.createdAt),updatedAt:X(W.updatedAt)}});r(L),N=!0,O()},I=>{console.error("Error fetching vehicles:",I),l(I.message),N=!0,O(),Ke.error("Failed to load vehicles")}),U=Rg(sa(tr,"users",c.uid,"serviceRecords"),Ex("serviceDate","desc")),R=Sx(U,I=>{const L=I.docs.map(M=>{const W=M.data(),X=Z=>Z?typeof(Z==null?void 0:Z.toDate)=="function"?Z.toDate():Z instanceof Date?Z:typeof Z=="string"||typeof Z=="number"?new Date(Z):new Date:new Date;return{id:M.id,...W,serviceDate:X(W.serviceDate),createdAt:X(W.createdAt),updatedAt:X(W.updatedAt)}});s(L),j=!0,O()},I=>{console.error("Error fetching service records:",I),l(I.message),j=!0,O(),Ke.error("Failed to load service records")});return()=>{T(),R()}},[c]);const u=J.useCallback(async N=>{if(c)try{const j={...N,userId:c.uid,createdAt:ss(),updatedAt:ss(),status:N.status||"active"},O=await Mg(sa(tr,"users",c.uid,"vehicles"),j);return Ke.success("Vehicle added successfully"),O.id}catch(j){throw console.error("Error adding vehicle:",j),l(j.message),Ke.error("Failed to add vehicle"),j}},[c]),d=J.useCallback(async(N,j)=>{if(c)try{const O={...j,updatedAt:ss()};await pl(Dr(tr,"users",c.uid,"vehicles",N),O),Ke.success("Vehicle updated successfully")}catch(O){throw console.error("Error updating vehicle:",O),l(O.message),Ke.error("Failed to update vehicle"),O}},[c]),h=J.useCallback(async N=>{if(c)try{await Ix(Dr(tr,"users",c.uid,"vehicles",N)),Ke.success("Vehicle deleted successfully")}catch(j){throw console.error("Error deleting vehicle:",j),l(j.message),Ke.error("Failed to delete vehicle"),j}},[c]),f=J.useCallback(async N=>{if(c)try{const j={...N,userId:c.uid,serviceDate:N.serviceDate?new Date(N.serviceDate):new Date,createdAt:ss(),updatedAt:ss()},O=await Mg(sa(tr,"users",c.uid,"serviceRecords"),j);return Ke.success("Service record added successfully"),O.id}catch(j){throw console.error("Error adding service record:",j),l(j.message),Ke.error("Failed to add service record"),j}},[c]),m=J.useCallback(async(N,j)=>{if(c)try{const O={...j,updatedAt:ss()};j.serviceDate&&(O.serviceDate=new Date(j.serviceDate)),await pl(Dr(tr,"users",c.uid,"serviceRecords",N),O),Ke.success("Service record updated successfully")}catch(O){throw console.error("Error updating service record:",O),l(O.message),Ke.error("Failed to update service record"),O}},[c]),v=J.useCallback(async N=>{if(c)try{await Ix(Dr(tr,"users",c.uid,"serviceRecords",N)),Ke.success("Service record deleted successfully")}catch(j){throw console.error("Error deleting service record:",j),l(j.message),Ke.error("Failed to delete service record"),j}},[c]),_=J.useCallback(N=>e.filter(j=>j.customerId===N),[e]),x=J.useCallback(N=>n.filter(j=>j.vehicleId===N),[n]),b=J.useCallback(()=>{const N=e.length,j=e.filter(U=>U.status==="active").length,O=n.length,P=n.filter(U=>{const R=U.serviceDate,I=new Date;return I.setMonth(I.getMonth()-1),R>=I}).length,T=n.reduce((U,R)=>U+(parseFloat(R.cost)||0),0);return{totalVehicles:N,activeVehicles:j,totalServiceRecords:O,recentServices:P,totalServiceCost:T,inactiveVehicles:N-j}},[e,n]),E={vehicles:e,serviceRecords:n,loading:i,error:a,setError:l,addVehicle:u,updateVehicle:d,deleteVehicle:h,addServiceRecord:f,updateServiceRecord:m,deleteServiceRecord:v,getVehiclesByCustomer:_,getServiceRecordsByVehicle:x,getVehicleStats:b};return A.jsx(pM.Provider,{value:E,children:t})},sp=()=>{const t=J.useContext(pM);if(!t)throw new Error("useVehicles must be used within a VehicleProvider");return t},mM=J.createContext(),mre=({children:t})=>{const[e,r]=J.useState([]),[n,s]=J.useState(!0),[i,o]=J.useState(null),{user:a}=io();J.useEffect(()=>{if(!a){r([]),s(!1);return}s(!0),o(null);const f=Rg(sa(tr,"users",a.uid,"customers"),Ex("createdAt","desc"));return Sx(f,v=>{const _=v.docs.map(x=>{const b=x.data(),E=N=>N?typeof(N==null?void 0:N.toDate)=="function"?N.toDate():N instanceof Date?N:typeof N=="string"||typeof N=="number"?new Date(N):new Date:new Date;return{id:x.id,...b,createdAt:E(b.createdAt),updatedAt:E(b.updatedAt)}});r(_),s(!1)},v=>{console.error("Error fetching customers:",v),o(v.message),s(!1),Ke.error("Failed to load customers")})},[a]);const l=J.useCallback(async f=>{if(a)try{const m={...f,userId:a.uid,createdAt:ss(),updatedAt:ss(),status:f.status||"active"},v=await Mg(sa(tr,"users",a.uid,"customers"),m);return Ke.success("Customer added successfully"),v.id}catch(m){throw console.error("Error adding customer:",m),o(m.message),Ke.error("Failed to add customer"),m}},[a]),c=J.useCallback(async(f,m)=>{if(a)try{const v={...m,updatedAt:ss()};await pl(Dr(tr,"users",a.uid,"customers",f),v),Ke.success("Customer updated successfully")}catch(v){throw console.error("Error updating customer:",v),o(v.message),Ke.error("Failed to update customer"),v}},[a]),u=J.useCallback(async f=>{if(a)try{await Ix(Dr(tr,"users",a.uid,"customers",f)),Ke.success("Customer deleted successfully")}catch(m){throw console.error("Error deleting customer:",m),o(m.message),Ke.error("Failed to delete customer"),m}},[a]),d=J.useCallback(()=>{const f=e.length,m=e.filter(_=>_.status==="active").length,v=e.filter(_=>{const x=_.createdAt,b=new Date;return b.setMonth(b.getMonth()-1),x>=b}).length;return{totalCustomers:f,activeCustomers:m,recentCustomers:v,inactiveCustomers:f-m}},[e]),h={customers:e,loading:n,error:i,setError:o,addCustomer:l,updateCustomer:c,deleteCustomer:u,getCustomerStats:d};return A.jsx(mM.Provider,{value:h,children:t})},bc=()=>{const t=J.useContext(mM);if(!t)throw new Error("useCustomers must be used within a CustomerProvider");return t};function Qr(t){"@babel/helpers - typeof";return Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(t)}function fc(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function On(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function cs(t){On(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Qr(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function dC(t,e){On(2,arguments);var r=cs(t),n=fc(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var s=r.getDate(),i=new Date(r.getTime());i.setMonth(r.getMonth()+n+1,0);var o=i.getDate();return s>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}function yre(t,e){On(2,arguments);var r=cs(t).getTime(),n=fc(e);return new Date(r+n)}var vre={};function qw(){return vre}function hC(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function XT(t){On(1,arguments);var e=cs(t);return e.setHours(0,0,0,0),e}var xre=864e5;function wre(t,e){On(2,arguments);var r=XT(t),n=XT(e),s=r.getTime()-hC(r),i=n.getTime()-hC(n);return Math.round((s-i)/xre)}function bre(t){return On(1,arguments),t instanceof Date||Qr(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Bre(t){if(On(1,arguments),!bre(t)&&typeof t!="number")return!1;var e=cs(t);return!isNaN(Number(e))}function JT(t,e){var r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function ZT(t,e){On(2,arguments);var r=cs(t),n=cs(e),s=JT(r,n),i=Math.abs(wre(r,n));r.setDate(r.getDate()-s*i);var o=+(JT(r,n)===-s),a=s*(i-o);return a===0?0:a}function Cre(t,e){On(2,arguments);var r=fc(e);return yre(t,-r)}var _re=864e5;function kre(t){On(1,arguments);var e=cs(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),s=r-n;return Math.floor(s/_re)+1}function Rx(t){On(1,arguments);var e=1,r=cs(t),n=r.getUTCDay(),s=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-s),r.setUTCHours(0,0,0,0),r}function yM(t){On(1,arguments);var e=cs(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var s=Rx(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var o=Rx(i);return e.getTime()>=s.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Ere(t){On(1,arguments);var e=yM(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=Rx(r);return n}var Ire=6048e5;function Sre(t){On(1,arguments);var e=cs(t),r=Rx(e).getTime()-Ere(e).getTime();return Math.round(r/Ire)+1}function Mx(t,e){var r,n,s,i,o,a,l,c;On(1,arguments);var u=qw(),d=fc((r=(n=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=cs(t),f=h.getUTCDay(),m=(f<d?7:0)+f-d;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function vM(t,e){var r,n,s,i,o,a,l,c;On(1,arguments);var u=cs(t),d=u.getUTCFullYear(),h=qw(),f=fc((r=(n=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(d+1,0,f),m.setUTCHours(0,0,0,0);var v=Mx(m,e),_=new Date(0);_.setUTCFullYear(d,0,f),_.setUTCHours(0,0,0,0);var x=Mx(_,e);return u.getTime()>=v.getTime()?d+1:u.getTime()>=x.getTime()?d:d-1}function Nre(t,e){var r,n,s,i,o,a,l,c;On(1,arguments);var u=qw(),d=fc((r=(n=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=vM(t,e),f=new Date(0);f.setUTCFullYear(h,0,d),f.setUTCHours(0,0,0,0);var m=Mx(f,e);return m}var Tre=6048e5;function jre(t,e){On(1,arguments);var r=cs(t),n=Mx(r,e).getTime()-Nre(r,e).getTime();return Math.round(n/Tre)+1}function Wr(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var Fre={y:function(e,r){var n=e.getUTCFullYear(),s=n>0?n:1-n;return Wr(r==="yy"?s%100:s,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):Wr(n+1,2)},d:function(e,r){return Wr(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return Wr(e.getUTCHours()%12||12,r.length)},H:function(e,r){return Wr(e.getUTCHours(),r.length)},m:function(e,r){return Wr(e.getUTCMinutes(),r.length)},s:function(e,r){return Wr(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,n-3));return Wr(i,r.length)}};const au=Fre;var jf={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Pre={G:function(e,r,n){var s=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return au.y(e,r)},Y:function(e,r,n,s){var i=vM(e,s),o=i>0?i:1-i;if(r==="YY"){var a=o%100;return Wr(a,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):Wr(o,r.length)},R:function(e,r){var n=yM(e);return Wr(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return Wr(n,r.length)},Q:function(e,r,n){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return Wr(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,r,n){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return Wr(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,r,n){var s=e.getUTCMonth();switch(r){case"M":case"MM":return au.M(e,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,r,n){var s=e.getUTCMonth();switch(r){case"L":return String(s+1);case"LL":return Wr(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,r,n,s){var i=jre(e,s);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):Wr(i,r.length)},I:function(e,r,n){var s=Sre(e);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):Wr(s,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):au.d(e,r)},D:function(e,r,n){var s=kre(e);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Wr(s,r.length)},E:function(e,r,n){var s=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,r,n,s){var i=e.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Wr(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,r,n,s){var i=e.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Wr(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,r,n){var s=e.getUTCDay(),i=s===0?7:s;switch(r){case"i":return String(i);case"ii":return Wr(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,r,n){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,r,n){var s=e.getUTCHours(),i;switch(s===12?i=jf.noon:s===0?i=jf.midnight:i=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,r,n){var s=e.getUTCHours(),i;switch(s>=17?i=jf.evening:s>=12?i=jf.afternoon:s>=4?i=jf.morning:i=jf.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return au.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):au.H(e,r)},K:function(e,r,n){var s=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Wr(s,r.length)},k:function(e,r,n){var s=e.getUTCHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):Wr(s,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):au.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):au.s(e,r)},S:function(e,r){return au.S(e,r)},X:function(e,r,n,s){var i=s._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return t3(o);case"XXXX":case"XX":return zd(o);case"XXXXX":case"XXX":default:return zd(o,":")}},x:function(e,r,n,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(r){case"x":return t3(o);case"xxxx":case"xx":return zd(o);case"xxxxx":case"xxx":default:return zd(o,":")}},O:function(e,r,n,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+e3(o,":");case"OOOO":default:return"GMT"+zd(o,":")}},z:function(e,r,n,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+e3(o,":");case"zzzz":default:return"GMT"+zd(o,":")}},t:function(e,r,n,s){var i=s._originalDate||e,o=Math.floor(i.getTime()/1e3);return Wr(o,r.length)},T:function(e,r,n,s){var i=s._originalDate||e,o=i.getTime();return Wr(o,r.length)}};function e3(t,e){var r=t>0?"-":"+",n=Math.abs(t),s=Math.floor(n/60),i=n%60;if(i===0)return r+String(s);var o=e||"";return r+String(s)+o+Wr(i,2)}function t3(t,e){if(t%60===0){var r=t>0?"-":"+";return r+Wr(Math.abs(t)/60,2)}return zd(t,e)}function zd(t,e){var r=e||"",n=t>0?"-":"+",s=Math.abs(t),i=Wr(Math.floor(s/60),2),o=Wr(s%60,2);return n+i+r+o}const Lre=Pre;var r3=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},xM=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Ure=function(e,r){var n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return r3(e,r);var o;switch(s){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",r3(s,r)).replace("{{time}}",xM(i,r))},Dre={p:xM,P:Ure};const Rre=Dre;var Mre=["D","DD"],Qre=["YY","YYYY"];function Ore(t){return Mre.indexOf(t)!==-1}function Vre(t){return Qre.indexOf(t)!==-1}function n3(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Hre={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Kre=function(e,r,n){var s,i=Hre[e];return typeof i=="string"?s=i:r===1?s=i.one:s=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};const zre=Kre;function Gb(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var Gre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Wre={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$re={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qre={date:Gb({formats:Gre,defaultWidth:"full"}),time:Gb({formats:Wre,defaultWidth:"full"}),dateTime:Gb({formats:$re,defaultWidth:"full"})};const Yre=qre;var Xre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Jre=function(e,r,n,s){return Xre[e]};const Zre=Jre;function Dp(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",s;if(n==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):i;s=t.formattingValues[o]||t.formattingValues[i]}else{var a=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return s[c]}}var ene={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ine={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},one=function(e,r){var n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ane={ordinalNumber:one,era:Dp({values:ene,defaultWidth:"wide"}),quarter:Dp({values:tne,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Dp({values:rne,defaultWidth:"wide"}),day:Dp({values:nne,defaultWidth:"wide"}),dayPeriod:Dp({values:sne,defaultWidth:"wide",formattingValues:ine,defaultFormattingWidth:"wide"})};const lne=ane;function Rp(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;var o=i[0],a=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?cne(a,function(d){return d.test(o)}):Ane(a,function(d){return d.test(o)}),c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=e.slice(o.length);return{value:c,rest:u}}}function Ane(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function cne(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function une(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var s=n[0],i=e.match(t.parsePattern);if(!i)return null;var o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;var a=e.slice(s.length);return{value:o,rest:a}}}var dne=/^(\d+)(th|st|nd|rd)?/i,hne=/\d+/i,fne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gne={any:[/^b/i,/^(a|c)/i]},pne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mne={any:[/1/i,/2/i,/3/i,/4/i]},yne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Bne={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Cne={ordinalNumber:une({matchPattern:dne,parsePattern:hne,valueCallback:function(e){return parseInt(e,10)}}),era:Rp({matchPatterns:fne,defaultMatchWidth:"wide",parsePatterns:gne,defaultParseWidth:"any"}),quarter:Rp({matchPatterns:pne,defaultMatchWidth:"wide",parsePatterns:mne,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Rp({matchPatterns:yne,defaultMatchWidth:"wide",parsePatterns:vne,defaultParseWidth:"any"}),day:Rp({matchPatterns:xne,defaultMatchWidth:"wide",parsePatterns:wne,defaultParseWidth:"any"}),dayPeriod:Rp({matchPatterns:bne,defaultMatchWidth:"any",parsePatterns:Bne,defaultParseWidth:"any"})};const _ne=Cne;var kne={code:"en-US",formatDistance:zre,formatLong:Yre,formatRelative:Zre,localize:lne,match:_ne,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Ene=kne;var Ine=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Nne=/^'([^]*?)'?$/,Tne=/''/g,jne=/[a-zA-Z]/;function qr(t,e,r){var n,s,i,o,a,l,c,u,d,h,f,m,v,_,x,b,E,N;On(2,arguments);var j=String(e),O=qw(),P=(n=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:O.locale)!==null&&n!==void 0?n:Ene,T=fc((i=(o=(a=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(c=r.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:O.firstWeekContainsDate)!==null&&o!==void 0?o:(d=O.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var U=fc((f=(m=(v=(_=r==null?void 0:r.weekStartsOn)!==null&&_!==void 0?_:r==null||(x=r.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&v!==void 0?v:O.weekStartsOn)!==null&&m!==void 0?m:(E=O.locale)===null||E===void 0||(N=E.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&f!==void 0?f:0);if(!(U>=0&&U<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!P.localize)throw new RangeError("locale must contain localize property");if(!P.formatLong)throw new RangeError("locale must contain formatLong property");var R=cs(t);if(!Bre(R))throw new RangeError("Invalid time value");var I=hC(R),L=Cre(R,I),M={firstWeekContainsDate:T,weekStartsOn:U,locale:P,_originalDate:R},W=j.match(Sne).map(function(X){var Z=X[0];if(Z==="p"||Z==="P"){var ce=Rre[Z];return ce(X,P.formatLong)}return X}).join("").match(Ine).map(function(X){if(X==="''")return"'";var Z=X[0];if(Z==="'")return Fne(X);var ce=Lre[Z];if(ce)return!(r!=null&&r.useAdditionalWeekYearTokens)&&Vre(X)&&n3(X,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Ore(X)&&n3(X,e,String(t)),ce(L,X,P.localize,M);if(Z.match(jne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Z+"`");return X}).join("");return W}function Fne(t){var e=t.match(Nne);return e?e[1].replace(Tne,"'"):t}function Pne(t,e){On(2,arguments);var r=cs(t),n=cs(e);return r.getTime()>n.getTime()}function Lne(t,e){On(2,arguments);var r=cs(t),n=cs(e);return r.getTime()<n.getTime()}function Une(t,e){On(2,arguments);var r=cs(t).getTime(),n=cs(e.start).getTime(),s=cs(e.end).getTime();if(!(n<=s))throw new RangeError("Invalid interval");return r>=n&&r<=s}function Mp(t,e){On(2,arguments);var r=fc(e);return dC(t,-r)}var wM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s3=fr.createContext&&fr.createContext(wM),Gu=globalThis&&globalThis.__assign||function(){return Gu=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Gu.apply(this,arguments)},Dne=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};function bM(t){return t&&t.map(function(e,r){return fr.createElement(e.tag,Gu({key:r},e.attr),bM(e.child))})}function wt(t){return function(e){return fr.createElement(Rne,Gu({attr:Gu({},t.attr)},e),bM(t.child))}}function Rne(t){var e=function(r){var n=t.attr,s=t.size,i=t.title,o=Dne(t,["attr","size","title"]),a=s||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),fr.createElement("svg",Gu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:Gu(Gu({color:t.color||r.color},r.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&fr.createElement("title",null,i),t.children)};return s3!==void 0?fr.createElement(s3.Consumer,null,function(r){return e(r)}):e(wM)}function Mne(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"}}]})(t)}function xk(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(t)}function nd(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"}},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"}}]})(t)}function i3(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"7",y1:"7",x2:"17",y2:"17"}},{tag:"polyline",attr:{points:"17 7 17 17 7 17"}}]})(t)}function Qne(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"polyline",attr:{points:"19 12 12 19 5 12"}}]})(t)}function Qx(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"}},{tag:"polyline",attr:{points:"12 19 5 12 12 5"}}]})(t)}function o3(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"7",y1:"17",x2:"17",y2:"7"}},{tag:"polyline",attr:{points:"7 7 17 7 17 17"}}]})(t)}function One(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"}},{tag:"polyline",attr:{points:"5 12 12 5 19 12"}}]})(t)}function Vne(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"}},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"}},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"}}]})(t)}function Hne(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"}},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"}},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"}}]})(t)}function Kne(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"}}]})(t)}function zne(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"}}]})(t)}function Xh(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"}}]})(t)}function Gne(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"}}]})(t)}function Sm(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"}}]})(t)}function BM(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(t)}function vl(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(t)}function Wne(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"}}]})(t)}function $ne(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(t)}function Vs(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"}},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}}]})(t)}function sd(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"7 10 12 15 17 10"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"}}]})(t)}function qne(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"}}]})(t)}function gc(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(t)}function Yne(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(t)}function fC(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"}}]})(t)}function id(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(t)}function ji(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}},{tag:"polyline",attr:{points:"14 2 14 8 20 8"}},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"}},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"}},{tag:"polyline",attr:{points:"10 9 9 9 8 9"}}]})(t)}function wk(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}}]})(t)}function Xne(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"}},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}}]})(t)}function CM(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"}},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"}}]})(t)}function gC(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"}}]})(t)}function _M(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"}}]})(t)}function pC(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"}}]})(t)}function Jne(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}},{tag:"polyline",attr:{points:"10 17 15 12 10 7"}},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"}}]})(t)}function pc(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}},{tag:"polyline",attr:{points:"22,6 12,13 2,6"}}]})(t)}function bk(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"}}]})(t)}function Zne(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"}},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"}},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"}}]})(t)}function ese(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"}},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"}}]})(t)}function Rh(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}}]})(t)}function tse(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"}}]})(t)}function dl(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(t)}function rse(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"}},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"}}]})(t)}function nse(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"}},{tag:"path",attr:{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"}}]})(t)}function sse(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"}},{tag:"polyline",attr:{points:"7 3 7 8 15 8"}}]})(t)}function ip(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(t)}function ise(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(t)}function Wb(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"}},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"}},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"}}]})(t)}function ose(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}}]})(t)}function mC(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"}}]})(t)}function Da(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"}}]})(t)}function Mh(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(t)}function kM(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"}},{tag:"polyline",attr:{points:"17 18 23 18 23 12"}}]})(t)}function Nm(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(t)}function ta(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"}},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"}},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"}},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"}}]})(t)}function EM(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"}},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"}}]})(t)}function Ts(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(t)}function ase(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(t)}function Tm(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(t)}function lse(t){return wt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"}}]})(t)}function Ase(){const{invoices:t}=xl(),{vehicles:e}=sp(),{customers:r}=bc(),[n,s]=J.useState([]),[i,o]=J.useState(!1),a=J.useCallback(()=>{const h=[],f=new Date;t.forEach(v=>{if(v.status!=="paid"&&v.dueDate){const _=new Date(v.dueDate),x=ZT(f,_);x>0&&h.push({id:`overdue-${v.id}`,type:"overdue",title:"Overdue Invoice",message:`Invoice ${v.invoiceNumber} is ${x} days overdue`,data:v,priority:"high",icon:Vs,color:"text-red-600 dark:text-red-400",bgColor:"bg-red-50 dark:bg-red-900/20"})}}),t.forEach(v=>{if(v.status!=="paid"&&v.dueDate){const _=new Date(v.dueDate),x=ZT(_,f);x>=0&&x<=3&&h.push({id:`due-soon-${v.id}`,type:"due-soon",title:"Invoice Due Soon",message:`Invoice ${v.invoiceNumber} is due in ${x} days`,data:v,priority:"medium",icon:Xh,color:"text-yellow-600 dark:text-yellow-400",bgColor:"bg-yellow-50 dark:bg-yellow-900/20"})}}),e.forEach(v=>{if(v.status==="needs_service"){const _=r.find(x=>x.id===v.customerId);h.push({id:`service-${v.id}`,type:"service",title:"Vehicle Needs Service",message:`${v.year} ${v.make} ${v.model} needs service${_?` for ${_.name}`:""}`,data:v,priority:"medium",icon:Da,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-50 dark:bg-blue-900/20"})}}),e.forEach(v=>{if(v.mileage&&parseInt(v.mileage)>1e5){const _=r.find(x=>x.id===v.customerId);h.push({id:`high-mileage-${v.id}`,type:"high-mileage",title:"High Mileage Vehicle",message:`${v.year} ${v.make} ${v.model} has ${v.mileage} miles${_?` (${_.name})`:""}`,data:v,priority:"low",icon:ta,color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-50 dark:bg-orange-900/20"})}});const m={high:3,medium:2,low:1};h.sort((v,_)=>m[_.priority]-m[v.priority]),s(h)},[t,e,r]);J.useEffect(()=>{a()},[a]);const l=h=>{s(f=>f.filter(m=>m.id!==h))},c=()=>n.filter(h=>h.priority==="high").length,u=h=>{switch(h.type){case"overdue":case"due-soon":window.location.href=`/invoices/${h.data.id}`;break;case"service":case"high-mileage":window.location.href=`/vehicles/${h.data.id}/service-records`;break}o(!1)},d=c();return A.jsxs("div",{className:"relative",children:[A.jsxs("button",{onClick:()=>o(!i),className:"relative p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[A.jsx(Kne,{className:"w-5 h-5"}),d>0&&A.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:d>9?"9+":d})]}),i&&A.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:[A.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Notifications"}),A.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:A.jsx(Tm,{className:"w-5 h-5"})})]}),n.length>0&&A.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[n.length," notification",n.length!==1?"s":""]})]}),A.jsx("div",{className:"max-h-96 overflow-y-auto",children:n.length===0?A.jsxs("div",{className:"p-6 text-center",children:[A.jsx(Sm,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"All caught up!"})]}):A.jsx("div",{className:"space-y-1",children:n.map(h=>{const f=h.icon;return A.jsx("div",{className:`p-3 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer border-l-4 ${h.priority==="high"?"border-red-500":h.priority==="medium"?"border-yellow-500":"border-blue-500"}`,onClick:()=>u(h),children:A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx("div",{className:`p-2 rounded-full ${h.bgColor} flex-shrink-0`,children:A.jsx(f,{className:`w-4 h-4 ${h.color}`})}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:h.title}),A.jsx("button",{onClick:m=>{m.stopPropagation(),l(h.id)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:A.jsx(Tm,{className:"w-4 h-4"})})]}),A.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:h.message})]})]})},h.id)})})}),n.length>0&&A.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700",children:A.jsx("button",{onClick:()=>s([]),className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium",children:"Clear all notifications"})})]}),i&&A.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)})]})}function cse({toggleSidebar:t}){const{user:e,logout:r}=io(),{theme:n,toggleTheme:s}=fM(),[i,o]=J.useState(!1),[a,l]=J.useState(null);J.useEffect(()=>{(async()=>{if(e)try{const v=await hA(Dr(tr,"users",e.uid,"settings","userSettings"));v.exists()&&l(v.data())}catch(v){console.error("Error loading business info:",v)}})()},[e]);const c=async()=>{await r(),o(!1)},u=()=>{window.location.href="/user-profile",o(!1)},d=()=>{window.location.href="/settings",o(!1)},h=()=>{var m;return a!=null&&a.businessName?a.businessName:(e==null?void 0:e.displayName)||((m=e==null?void 0:e.email)==null?void 0:m.split("@")[0])||"User"},f=()=>e!=null&&e.photoURL?A.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-8 h-8 rounded-full object-cover"}):A.jsx(aX,{size:20});return A.jsxs("header",{className:"flex items-center gap-4 px-6 py-4 bg-white dark:bg-gray-800 shadow-md relative",children:[A.jsx("button",{className:"lg:hidden text-gray-700 dark:text-gray-200 hover:text-gray-900 dark:hover:text-gray-100 transition-colors",onClick:t,children:A.jsx(mX,{size:24})}),A.jsxs("div",{className:"relative flex-1 max-w-lg",children:[A.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center text-gray-400",children:A.jsx(wX,{size:18})}),A.jsx("input",{type:"search",placeholder:"Quick search...",className:`w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300
                     dark:border-gray-700 bg-gray-50 dark:bg-gray-700
                     text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 
                     dark:text-white transition-colors`})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("button",{onClick:s,className:"p-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:`Switch to ${n==="light"?"dark":"light"} mode`,children:n==="light"?A.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):A.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})}),A.jsx(Ase,{}),A.jsxs("div",{className:"relative",children:[A.jsxs("button",{onClick:()=>o(!i),className:"flex items-center gap-2 p-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[f(),A.jsx("span",{className:"text-sm font-medium hidden md:block",children:h()})]}),i&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)}),A.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50",children:[A.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[A.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(e==null?void 0:e.displayName)||"User"}),A.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e==null?void 0:e.email}),(a==null?void 0:a.businessName)&&A.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400 flex items-center gap-1 mt-1",children:[A.jsx(nX,{size:12}),a.businessName]})]}),A.jsxs("button",{onClick:u,className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[A.jsx(LD,{size:16}),"Profile"]}),A.jsxs("button",{onClick:d,className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[A.jsx(PD,{size:16}),"Settings"]}),A.jsx("hr",{className:"my-1 border-gray-200 dark:border-gray-700"}),A.jsxs("button",{onClick:c,className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[A.jsx(gX,{size:16}),"Sign out"]})]})]})]})]})]})}function use({children:t}){const[e,r]=J.useState(!1);return A.jsxs("div",{className:"flex h-full overflow-hidden",children:[A.jsx(NZ,{children:e&&A.jsx(dM.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},className:"fixed inset-0 bg-black z-40 lg:hidden",onClick:()=>r(!1)})}),A.jsx(hre,{open:e,onClose:()=>r(!1),className:"z-50"}),A.jsxs("div",{className:"flex-1 flex flex-col",children:[A.jsx(cse,{toggleSidebar:()=>r(!0)}),A.jsx("main",{className:"flex-1 overflow-y-auto p-6 lg:p-8 bg-gray-50 dark:bg-gray-900",children:t})]})]})}function dse(){return A.jsx(use,{children:A.jsx(jV,{})})}function a3(t){return wt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(t)}function hse(t){return wt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"}}]})(t)}function fse(t){return wt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(t)}function gse(t){return wt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 0H48C22.4 0 0 22.4 0 48v416c0 25.6 22.4 48 48 48h352c25.6 0 48-22.4 48-48V48c0-25.6-22.4-48-48-48zM128 435.2c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8V268.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v166.4zm0-256c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8V76.8C64 70.4 70.4 64 76.8 64h294.4c6.4 0 12.8 6.4 12.8 12.8v102.4z"}}]})(t)}function pse(t){return wt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(t)}function l3(t){return wt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(t)}function A3(t){return wt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(t)}function mse(t){return wt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(t)}function yse(t){return wt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(t)}function vse(t){return wt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(t)}function $b(t){return wt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 80v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8zm144 263.88V440c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-24.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V232c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v24.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07z"}}]})(t)}function xse(t){return wt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64z"}}]})(t)}function wse(t){return wt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"}}]})(t)}function bse(t){return wt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}}]})(t)}function Bse(t){return wt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]})(t)}function Cse(t){return wt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(t)}function IM(t){return wt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(t)}function _se(t){return wt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"}}]})(t)}function kse(t){return wt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(t)}function Ese(t){return wt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(t)}function SM(t){return wt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(t)}const is=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t||0),Pd=({title:t,value:e,icon:r,bgColor:n,textColor:s,subtitle:i,subtitleValue:o})=>A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:`rounded-lg p-3 ${n}`,children:A.jsx("div",{className:s,children:r})}),A.jsxs("div",{className:"ml-4 flex-1",children:[A.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:t}),A.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e}),i&&A.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[i,": ",A.jsx("span",{className:"font-medium",children:o})]})]})]})}),Ise=({stats:t})=>t?A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[A.jsx(Pd,{title:"Total Revenue",value:is(t.totalRevenue||t.totalBilled||0),icon:A.jsx($b,{size:24}),bgColor:"bg-blue-100 dark:bg-blue-900",textColor:"text-blue-600 dark:text-blue-400",subtitle:"Total Invoices",subtitleValue:t.totalInvoices||0}),A.jsx(Pd,{title:"Pending Amount",value:is(t.pendingAmount||0),icon:A.jsx(xse,{size:24}),bgColor:"bg-yellow-100 dark:bg-yellow-900",textColor:"text-yellow-600 dark:text-yellow-400",subtitle:"Pending",subtitleValue:`${t.pendingCount||0} invoices`}),A.jsx(Pd,{title:"Paid Amount",value:is(t.paidAmount||0),icon:A.jsx(wse,{size:24}),bgColor:"bg-green-100 dark:bg-green-900",textColor:"text-green-600 dark:text-green-400",subtitle:"Paid",subtitleValue:`${t.paidCount||0} invoices`}),A.jsx(Pd,{title:"Overdue Amount",value:is(t.overdueAmount||0),icon:A.jsx(mse,{size:24}),bgColor:"bg-red-100 dark:bg-red-900",textColor:"text-red-600 dark:text-red-400",subtitle:"Overdue",subtitleValue:`${t.overdueCount||0} invoices`})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[A.jsx(Pd,{title:"Draft Invoices",value:t.draftCount||0,icon:A.jsx($b,{size:24}),bgColor:"bg-gray-100 dark:bg-gray-700",textColor:"text-gray-600 dark:text-gray-400",subtitle:"Status",subtitleValue:"Draft"}),A.jsx(Pd,{title:"Average Invoice",value:is(t.totalInvoices>0?(t.totalRevenue||t.totalBilled||0)/t.totalInvoices:0),icon:A.jsx($b,{size:24}),bgColor:"bg-purple-100 dark:bg-purple-900",textColor:"text-purple-600 dark:text-purple-400",subtitle:"Per Invoice",subtitleValue:"Average"}),A.jsx(Pd,{title:"Collection Rate",value:`${t.totalRevenue>0?Math.round((t.paidAmount||0)/(t.totalRevenue||t.totalBilled||1)*100):0}%`,icon:A.jsx(pse,{size:24}),bgColor:"bg-indigo-100 dark:bg-indigo-900",textColor:"text-indigo-600 dark:text-indigo-400",subtitle:"Payment Rate",subtitleValue:"Success"})]})]}):A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:A.jsxs("div",{className:"animate-pulse",children:[A.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4 mb-4"}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>A.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded"},e))})]})}),Sse=({type:t,status:e})=>{const r=()=>{if(t==="invoice")switch(e){case"paid":return{icon:A.jsx(Vs,{size:16}),color:"text-green-500 bg-green-100 dark:bg-green-900"};case"pending":return{icon:A.jsx(vl,{size:16}),color:"text-yellow-500 bg-yellow-100 dark:bg-yellow-900"};case"overdue":return{icon:A.jsx(ji,{size:16}),color:"text-red-500 bg-red-100 dark:bg-red-900"};default:return{icon:A.jsx(ji,{size:16}),color:"text-blue-500 bg-blue-100 dark:bg-blue-900"}}return{icon:A.jsx(Ts,{size:16}),color:"text-gray-500 bg-gray-100 dark:bg-gray-700"}},{icon:n,color:s}=r();return A.jsx("div",{className:`p-2 rounded-full ${s}`,children:n})};function Nse({activities:t=[]}){const e=xs(),r=n=>{const s=new Date,i=new Date(n),o=s-i,a=Math.floor(o/6e4),l=Math.floor(o/36e5),c=Math.floor(o/864e5);return a<1?"Just now":a<60?`${a}m ago`:l<24?`${l}h ago`:c<30?`${c}d ago`:i.toLocaleDateString()};return!t||t.length===0?A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),A.jsxs("div",{className:"text-center py-8",children:[A.jsx(vl,{size:32,className:"text-gray-400 mx-auto mb-3"}),A.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No recent activity"}),A.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:"Your recent invoices and activities will appear here"})]})]}):A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),A.jsx("div",{className:"space-y-4",children:t.map((n,s)=>{var i;return A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx(Sse,{type:n.type,status:n.status}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:n.type==="invoice"&&n.customerId?A.jsxs("span",{children:["Invoice ",(i=n.id)==null?void 0:i.slice(0,8)," for"," ",A.jsx("button",{onClick:()=>e(`/customers/${n.customerId}`),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",children:n.customerName||"Unknown Customer"})]}):n.description||n.title||"Unknown activity"}),A.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.amount&&A.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:is(n.amount)}),A.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${n.status==="paid"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":n.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":n.status==="overdue"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:n.status})]})]}),A.jsx("div",{className:"text-right",children:A.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:r(n.timestamp||n.time)})})]},n.id||s)})}),t.length>=5&&A.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:A.jsx("button",{className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300 font-medium",children:"View all activity "})})]})}const Tse=[{id:"new-invoice",label:"Create Invoice",icon:A.jsx(ji,{}),path:"/invoices/create",description:"Create a new invoice for a customer",color:"bg-blue-500 hover:bg-blue-600"},{id:"add-customer",label:"Add Customer",icon:A.jsx(Ts,{}),path:"/customers",description:"Add a new customer to your database",color:"bg-green-500 hover:bg-green-600"},{id:"manage-parts",label:"Manage Parts",icon:A.jsx(Da,{}),path:"/parts",description:"View and manage your parts inventory",color:"bg-purple-500 hover:bg-purple-600"},{id:"view-analytics",label:"View Analytics",icon:A.jsx(Vne,{}),path:"/analytics",description:"View business performance and metrics",color:"bg-orange-500 hover:bg-orange-600"},{id:"settings",label:"Settings",icon:A.jsx(ise,{}),path:"/settings",description:"Configure your business settings",color:"bg-gray-500 hover:bg-gray-600"}];function jse(){const t=xs(),e=r=>{t(r.path)};return A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),A.jsx("div",{className:"space-y-3",children:Tse.map(r=>A.jsxs("button",{onClick:()=>e(r),className:`w-full flex items-center gap-3 p-3 rounded-lg text-white transition-colors duration-200 ${r.color}`,children:[A.jsx("div",{className:"flex-shrink-0",children:r.icon}),A.jsxs("div",{className:"flex-1 text-left",children:[A.jsx("div",{className:"font-medium",children:r.label}),A.jsx("div",{className:"text-sm opacity-90",children:r.description})]})]},r.id))}),A.jsx("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:A.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" Tip: Use keyboard shortcuts to navigate faster throughout the app."})})]})}function ca({message:t,onRetry:e,onDismiss:r}){return A.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-4",children:A.jsxs("div",{className:"flex items-start",children:[A.jsx("div",{className:"flex-shrink-0",children:A.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:A.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),A.jsxs("div",{className:"ml-3 flex-1",children:[A.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Something went wrong"}),A.jsx("p",{className:"mt-1 text-sm text-red-700 dark:text-red-300",children:t}),(e||r)&&A.jsxs("div",{className:"mt-3 flex gap-2",children:[e&&A.jsx("button",{onClick:e,className:"bg-red-100 dark:bg-red-800 text-red-700 dark:text-red-200 px-3 py-1 rounded text-sm hover:bg-red-200 dark:hover:bg-red-700 transition-colors",children:"Try Again"}),r&&A.jsx("button",{onClick:r,className:"bg-transparent text-red-700 dark:text-red-200 px-3 py-1 rounded text-sm hover:bg-red-100 dark:hover:bg-red-800 transition-colors",children:"Dismiss"})]})]})]})})}function Fse(){var a;const{invoices:t,loading:e,error:r,setError:n}=xl(),{user:s}=io(),i=J.useMemo(()=>{if(!t||t.length===0)return{totalBilled:0,totalRevenue:0,pendingAmount:0,pendingCount:0,paidAmount:0,paidCount:0,overdueAmount:0,overdueCount:0,draftCount:0,totalInvoices:0};const l=t.reduce((f,m)=>f+(m.totalAmount||0),0),c=t.filter(f=>f.status==="pending"),u=t.filter(f=>f.status==="paid"),d=t.filter(f=>f.status==="overdue"),h=t.filter(f=>f.status==="draft");return{totalBilled:l,totalRevenue:l,pendingAmount:c.reduce((f,m)=>f+(m.totalAmount||0),0),pendingCount:c.length,paidAmount:u.reduce((f,m)=>f+(m.totalAmount||0),0),paidCount:u.length,overdueAmount:d.reduce((f,m)=>f+(m.totalAmount||0),0),overdueCount:d.length,draftCount:h.length,totalInvoices:t.length}},[t]),o=J.useMemo(()=>!t||t.length===0?[]:t.sort((l,c)=>new Date(c.updatedAt)-new Date(l.updatedAt)).slice(0,5).map(l=>({id:l.id,type:"invoice",description:`Invoice ${l.invoiceNumber||`#${l.id.slice(0,8)}`} for ${l.customerName||"Unknown Customer"}`,amount:l.totalAmount,status:l.status,timestamp:l.updatedAt,customerId:l.customerId,customerName:l.customerName})),[t]);return e?A.jsx("div",{className:"flex items-center justify-center min-h-96",children:A.jsx(Mo,{size:"lg"})}):r?A.jsx(ca,{message:r,onRetry:()=>window.location.reload(),onDismiss:()=>n(null)}):A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[A.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:["Welcome back, ",(s==null?void 0:s.displayName)||((a=s==null?void 0:s.email)==null?void 0:a.split("@")[0])||"User","!"]}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Here's what's happening with your business today."})]}),A.jsx(Ise,{stats:i}),A.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[A.jsx(Nse,{activities:o}),A.jsx(jse,{})]}),!1]})}const c3=t=>{switch(t){case"paid":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"overdue":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"draft":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}},u3=t=>{switch(t){case"paid":return A.jsx(Vs,{className:"w-3 h-3"});case"pending":return A.jsx(vl,{className:"w-3 h-3"});case"overdue":return A.jsx(Xh,{className:"w-3 h-3"});case"draft":return A.jsx(mC,{className:"w-3 h-3"});default:return A.jsx(mC,{className:"w-3 h-3"})}};function Pse({invoices:t,onView:e}){const r=xs(),{customers:n}=bc(),{updateInvoice:s}=xl(),[i,o]=J.useState("createdAt"),[a,l]=J.useState("desc"),[c,u]=J.useState([]),[d,h]=J.useState("table"),[f,m]=J.useState("all"),[v,_]=J.useState({}),x=I=>{r(`/invoices/${I}/edit`)},b=I=>{var M;const L=((M=I.customer)==null?void 0:M.id)||I.customerId;L?n.find(X=>X.id===L)?r(`/customers/${L}`):Ke.error("Customer not found"):Ke.error("Customer information not available")},E=async(I,L)=>{try{const M={status:L};L==="paid"?(M.paid=!0,M.paidAt=new Date().toISOString()):(M.paid=!1,M.paidAt=null),await s(I,M),Ke.success(`Invoice marked as ${L}`)}catch(M){console.error("Error updating invoice:",M),Ke.error("Failed to update invoice status")}},N=async I=>{try{const L=c.map(M=>{switch(I){case"markPaid":return s(M,{status:"paid",paid:!0,paidAt:new Date().toISOString()});case"markPending":return s(M,{status:"pending",paid:!1,paidAt:null});default:return Promise.resolve()}});await Promise.all(L),Ke.success(`${c.length} invoices updated`),u([])}catch(L){console.error("Error with bulk action:",L),Ke.error("Failed to update invoices")}},j=I=>{i===I?l(a==="asc"?"desc":"asc"):(o(I),l("asc"))},O=J.useMemo(()=>{let I=[...t];return f!=="all"&&(I=I.filter(L=>L.status===f)),I.sort((L,M)=>{var Z,ce;let W=L[i],X=M[i];return i==="customerName"?(W=((Z=L.customer)==null?void 0:Z.name)||L.customerName||"",X=((ce=M.customer)==null?void 0:ce.name)||M.customerName||""):i==="totalAmount"?(W=parseFloat(W)||0,X=parseFloat(X)||0):(i==="createdAt"||i==="dueDate")&&(W=new Date(W),X=new Date(X)),a==="asc"?W<X?-1:W>X?1:0:W>X?-1:W<X?1:0}),I},[t,i,a,f]),P=()=>{c.length===O.length?u([]):u(O.map(I=>I.id))},T=I=>{u(L=>L.includes(I)?L.filter(M=>M!==I):[...L,I])},U=I=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(I||0),R=({column:I})=>i!==I?null:a==="asc"?A.jsx(One,{className:"w-3 h-3"}):A.jsx(Qne,{className:"w-3 h-3"});return!t||t.length===0?A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-8 text-center",children:[A.jsx(ip,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),A.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg mb-2",children:"No invoices found"}),A.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Try adjusting your search or filter criteria"})]}):A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:[A.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 p-4",children:A.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(wk,{className:"w-4 h-4 text-gray-500"}),A.jsxs("select",{value:f,onChange:I=>m(I.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[A.jsx("option",{value:"all",children:"All Status"}),A.jsx("option",{value:"draft",children:"Draft"}),A.jsx("option",{value:"pending",children:"Pending"}),A.jsx("option",{value:"paid",children:"Paid"}),A.jsx("option",{value:"overdue",children:"Overdue"})]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"View:"}),A.jsx("button",{onClick:()=>h("table"),className:`p-2 rounded-lg transition-colors ${d==="table"?"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-400":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,children:A.jsx(mC,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>h("grid"),className:`p-2 rounded-lg transition-colors ${d==="grid"?"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-400":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,children:A.jsx(Nm,{className:"w-4 h-4"})})]})]}),c.length>0&&A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[c.length," selected"]}),A.jsx("button",{onClick:()=>N("markPaid"),className:"px-3 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 rounded-full hover:bg-green-200 dark:hover:bg-green-800 transition-colors",children:"Mark Paid"}),A.jsx("button",{onClick:()=>N("markPending"),className:"px-3 py-1 text-xs bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 rounded-full hover:bg-yellow-200 dark:hover:bg-yellow-800 transition-colors",children:"Mark Pending"})]})]})}),d==="table"&&A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[A.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left",children:A.jsx("input",{type:"checkbox",checked:c.length===O.length,onChange:P,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:text-gray-700 dark:hover:text-gray-300",onClick:()=>j("invoiceNumber"),children:A.jsxs("div",{className:"flex items-center gap-1",children:["Invoice ",A.jsx(R,{column:"invoiceNumber"})]})}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:text-gray-700 dark:hover:text-gray-300",onClick:()=>j("customerName"),children:A.jsxs("div",{className:"flex items-center gap-1",children:["Customer ",A.jsx(R,{column:"customerName"})]})}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:text-gray-700 dark:hover:text-gray-300",onClick:()=>j("totalAmount"),children:A.jsxs("div",{className:"flex items-center gap-1",children:["Amount ",A.jsx(R,{column:"totalAmount"})]})}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:text-gray-700 dark:hover:text-gray-300",onClick:()=>j("status"),children:A.jsxs("div",{className:"flex items-center gap-1",children:["Status ",A.jsx(R,{column:"status"})]})}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:text-gray-700 dark:hover:text-gray-300",onClick:()=>j("dueDate"),children:A.jsxs("div",{className:"flex items-center gap-1",children:["Due Date ",A.jsx(R,{column:"dueDate"})]})}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:text-gray-700 dark:hover:text-gray-300",onClick:()=>j("createdAt"),children:A.jsxs("div",{className:"flex items-center gap-1",children:["Created ",A.jsx(R,{column:"createdAt"})]})}),A.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),A.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:O.map(I=>{var L;return A.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${c.includes(I.id)?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsx("input",{type:"checkbox",checked:c.includes(I.id),onChange:()=>T(I.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.invoiceNumber||`#${I.id.slice(0,8)}`}),I.poNumber&&A.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["PO: ",I.poNumber]})]})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Ts,{className:"w-4 h-4 text-gray-400"}),A.jsx("button",{onClick:()=>b(I),className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors font-medium",children:((L=I.customer)==null?void 0:L.name)||I.customerName||"Unknown Customer"})]})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:U(I.totalAmount)})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full ${c3(I.status)}`,children:[u3(I.status),I.status||"draft"]})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:I.dueDate?qr(new Date(I.dueDate),"MMM d, yyyy"):"N/A"}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:I.createdAt?qr(I.createdAt,"MMM d, yyyy"):"N/A"}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:A.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[A.jsx("button",{onClick:()=>e(I.id),className:"p-1 text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",title:"View Invoice",children:A.jsx(id,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>x(I.id),className:"p-1 text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 transition-colors",title:"Edit Invoice",children:A.jsx(gc,{className:"w-4 h-4"})}),A.jsxs("div",{className:"relative",children:[A.jsx("button",{onClick:()=>_(M=>({...M,[I.id]:!M[I.id]})),className:"p-1 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 transition-colors",title:"More Actions",children:A.jsx(Zne,{className:"w-4 h-4"})}),v[I.id]&&A.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg z-50 border border-gray-200 dark:border-gray-700",children:[A.jsxs("button",{onClick:()=>E(I.id,"paid"),className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[A.jsx(Vs,{className:"w-4 h-4"}),"Mark as Paid"]}),A.jsxs("button",{onClick:()=>E(I.id,"pending"),className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[A.jsx(vl,{className:"w-4 h-4"}),"Mark as Pending"]})]})]})]})})]},I.id)})})]})}),d==="grid"&&A.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map(I=>{var L;return A.jsxs("div",{className:`bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow ${c.includes(I.id)?"ring-2 ring-blue-500":""}`,children:[A.jsxs("div",{className:"flex items-center justify-between mb-3",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"checkbox",checked:c.includes(I.id),onChange:()=>T(I.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),A.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.invoiceNumber||`#${I.id.slice(0,8)}`})]}),A.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full ${c3(I.status)}`,children:[u3(I.status),I.status||"draft"]})]}),A.jsx("div",{className:"mb-3",children:A.jsx("button",{onClick:()=>b(I),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-medium text-sm",children:((L=I.customer)==null?void 0:L.name)||I.customerName||"Unknown Customer"})}),A.jsxs("div",{className:"mb-3",children:[A.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:U(I.totalAmount)}),A.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Due: ",I.dueDate?qr(new Date(I.dueDate),"MMM d, yyyy"):"N/A"]})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Created: ",I.createdAt?qr(I.createdAt,"MMM d"):"N/A"]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:()=>e(I.id),className:"p-1 text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",title:"View Invoice",children:A.jsx(id,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>x(I.id),className:"p-1 text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 transition-colors",title:"Edit Invoice",children:A.jsx(gc,{className:"w-4 h-4"})})]})]})]},I.id)})})]})}function Lse({data:t}){const e={totalInvoices:(t==null?void 0:t.totalInvoices)||0,totalRevenue:(t==null?void 0:t.totalRevenue)||0,pendingAmount:(t==null?void 0:t.pendingAmount)||0,overdueInvoices:(t==null?void 0:t.overdueInvoices)||0};return A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[A.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[A.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Invoices"}),A.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.totalInvoices})]}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[A.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Revenue"}),A.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",e.totalRevenue.toFixed(2)]})]}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[A.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Pending Amount"}),A.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",e.pendingAmount.toFixed(2)]})]}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[A.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Overdue Invoices"}),A.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.overdueInvoices})]})]})}const Use={draft:"bg-gray-500",sent:"bg-blue-500",pending:"bg-yellow-500",paid:"bg-green-500",overdue:"bg-red-500",deleted:"bg-purple-500"};function Dse({data:t}){const e=t.reduce((r,n)=>r+n.count,0);return A.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[A.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"Invoice Status Distribution"}),A.jsx("div",{className:"space-y-2",children:t.map(r=>A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"w-24 text-sm text-gray-700 dark:text-gray-300",children:r.status}),A.jsx("div",{className:"flex-1 h-4 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:A.jsx("div",{className:`${Use[r.status]||"bg-blue-500"} h-full`,style:{width:`${r.count/e*100}%`}})}),A.jsx("div",{className:"w-12 text-right text-sm text-gray-700 dark:text-gray-300",children:r.count})]},r.status))})]})}function Rse({invoices:t}){const e=fr.useMemo(()=>{const i=t.length,o=t.filter(O=>O.status==="paid").length,a=t.filter(O=>O.status==="pending").length,l=t.filter(O=>O.status!=="paid"&&O.dueDate&&new Date(O.dueDate)<new Date).length,c=t.reduce((O,P)=>O+(P.totalAmount||0),0),u=t.filter(O=>O.status==="paid").reduce((O,P)=>O+(P.totalAmount||0),0),d=t.filter(O=>O.status==="pending").reduce((O,P)=>O+(P.totalAmount||0),0),h=t.filter(O=>O.status!=="paid"&&O.dueDate&&new Date(O.dueDate)<new Date).reduce((O,P)=>O+(P.totalAmount||0),0),f=new Date,m=new Date(f.getTime()-30*24*60*60*1e3),v=new Date(f.getTime()-60*24*60*60*1e3),_=t.filter(O=>O.createdAt&&new Date(O.createdAt)>=m),x=t.filter(O=>O.createdAt&&new Date(O.createdAt)>=v&&new Date(O.createdAt)<m),b=_.reduce((O,P)=>O+(P.totalAmount||0),0),E=x.reduce((O,P)=>O+(P.totalAmount||0),0),N=E>0?(b-E)/E*100:0,j=x.length>0?(_.length-x.length)/x.length*100:0;return{totalInvoices:i,paidInvoices:o,pendingInvoices:a,overdueInvoices:l,totalAmount:c,paidAmount:u,pendingAmount:d,overdueAmount:h,revenueGrowth:N,invoiceGrowth:j,averageInvoiceValue:i>0?c/i:0,paymentRate:i>0?o/i*100:0}},[t]),r=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(i),n=i=>`${i>=0?"+":""}${i.toFixed(1)}%`,s=({title:i,value:o,subtitle:a,icon:l,color:c,trend:u,trendValue:d})=>A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsx("div",{className:`p-3 rounded-lg ${c}`,children:A.jsx(l,{className:"w-6 h-6 text-white"})}),u&&A.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${d>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[d>=0?A.jsx(Nm,{className:"w-4 h-4"}):A.jsx(kM,{className:"w-4 h-4"}),n(d)]})]}),A.jsxs("div",{className:"mb-2",children:[A.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o}),A.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:i})]}),a&&A.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:a})]});return A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[A.jsx(s,{title:"Total Revenue",value:r(e.totalAmount),subtitle:`${e.totalInvoices} invoices`,icon:Vs,color:"bg-green-500",trend:!0,trendValue:e.revenueGrowth}),A.jsx(s,{title:"Paid Invoices",value:r(e.paidAmount),subtitle:`${e.paidInvoices} invoices (${e.paymentRate.toFixed(1)}%)`,icon:Sm,color:"bg-blue-500",trend:!1}),A.jsx(s,{title:"Pending Payments",value:r(e.pendingAmount),subtitle:`${e.pendingInvoices} invoices`,icon:vl,color:"bg-yellow-500",trend:!1}),A.jsx(s,{title:"Overdue Invoices",value:r(e.overdueAmount),subtitle:`${e.overdueInvoices} invoices`,icon:nd,color:"bg-red-500",trend:!1}),A.jsx(s,{title:"Avg Invoice Value",value:r(e.averageInvoiceValue),subtitle:"Per invoice",icon:ji,color:"bg-purple-500",trend:!1}),A.jsx(s,{title:"Invoice Growth",value:n(e.invoiceGrowth),subtitle:"Last 30 days",icon:Nm,color:"bg-indigo-500",trend:!0,trendValue:e.invoiceGrowth}),A.jsx(s,{title:"Payment Rate",value:`${e.paymentRate.toFixed(1)}%`,subtitle:"Invoices paid",icon:Sm,color:"bg-teal-500",trend:!1}),A.jsx(s,{title:"This Month",value:r(e.totalAmount),subtitle:"Total revenue",icon:Xh,color:"bg-orange-500",trend:!1})]})}function Mse(){const t=xs(),{invoices:e,loading:r,error:n}=xl(),[s,i]=J.useState(""),[o,a]=J.useState("all"),[l,c]=J.useState("all"),[u,d]=J.useState("createdAt"),[h,f]=J.useState("desc"),[m,v]=J.useState(!1),_=J.useMemo(()=>{let P=[...e];if(s&&(P=P.filter(T=>{var U,R,I,L,M;return((U=T.invoiceNumber)==null?void 0:U.toLowerCase().includes(s.toLowerCase()))||((I=(R=T.customer)==null?void 0:R.name)==null?void 0:I.toLowerCase().includes(s.toLowerCase()))||((L=T.customerName)==null?void 0:L.toLowerCase().includes(s.toLowerCase()))||T.id.toLowerCase().includes(s.toLowerCase())||((M=T.poNumber)==null?void 0:M.toLowerCase().includes(s.toLowerCase()))})),o!=="all"&&(P=P.filter(T=>o==="overdue"?T.status!=="paid"&&T.dueDate&&new Date(T.dueDate)<new Date:T.status===o)),l!=="all"){const T=new Date;let U=new Date;switch(l){case"today":U.setHours(0,0,0,0);break;case"week":U.setDate(T.getDate()-7);break;case"month":U.setMonth(T.getMonth()-1);break;case"quarter":U.setMonth(T.getMonth()-3);break;case"year":U.setFullYear(T.getFullYear()-1);break}P=P.filter(R=>R.createdAt&&new Date(R.createdAt)>=U)}return P.sort((T,U)=>{var L,M;let R=T[u],I=U[u];return u==="customerName"?(R=((L=T.customer)==null?void 0:L.name)||T.customerName||"",I=((M=U.customer)==null?void 0:M.name)||U.customerName||""):u==="totalAmount"?(R=parseFloat(R)||0,I=parseFloat(I)||0):(u==="createdAt"||u==="dueDate")&&(R=new Date(R),I=new Date(I)),h==="asc"?R<I?-1:R>I?1:0:R>I?-1:R<I?1:0}),P},[e,s,o,l,u,h]),x=J.useMemo(()=>{const P=_.length,T=_.reduce((M,W)=>M+(W.totalAmount||0),0),U=_.filter(M=>M.status==="paid").reduce((M,W)=>M+(W.totalAmount||0),0),R=_.filter(M=>M.status==="pending").reduce((M,W)=>M+(W.totalAmount||0),0),I=_.filter(M=>M.status!=="paid"&&M.dueDate&&new Date(M.dueDate)<new Date).length,L=_.filter(M=>M.status!=="paid"&&M.dueDate&&new Date(M.dueDate)<new Date).reduce((M,W)=>M+(W.totalAmount||0),0);return{totalInvoices:P,totalRevenue:T,paidAmount:U,pendingAmount:R,overdueInvoices:I,overdueAmount:L,averageAmount:P>0?T/P:0}},[_]),b=J.useMemo(()=>{const P={paid:0,pending:0,overdue:0,draft:0};return _.forEach(T=>{T.status==="paid"?P.paid++:T.status==="pending"?P.pending++:T.dueDate&&new Date(T.dueDate)<new Date?P.overdue++:P.draft++}),Object.entries(P).map(([T,U])=>({status:T,count:U,percentage:_.length>0?U/_.length*100:0}))},[_]),E=J.useCallback(P=>{P?t(`/invoices/${P}`):Ke.error("Invalid invoice ID")},[t]),N=J.useCallback(()=>{t("/invoices/create")},[t]),j=J.useCallback(P=>{i(P.target.value)},[]),O=J.useCallback(()=>{const P=JSON.stringify(_,null,2),T="data:application/json;charset=utf-8,"+encodeURIComponent(P),U=`invoices_${new Date().toISOString().split("T")[0]}.json`,R=document.createElement("a");R.setAttribute("href",T),R.setAttribute("download",U),R.click(),Ke.success("Invoice data exported")},[_]);return r?A.jsx(Mo,{size:"lg",className:"mt-20"}):n?A.jsx(ca,{message:n}):A.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[A.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Invoice Management"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage and track all your invoices in one place"})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[A.jsx(sd,{className:"w-4 h-4"}),"Export"]}),A.jsxs("button",{onClick:N,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors font-medium",children:[A.jsx(dl,{className:"w-4 h-4"}),"Create Invoice"]})]})]}),A.jsx(Rse,{invoices:e}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 border border-gray-200 dark:border-gray-700",children:[A.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[A.jsxs("div",{className:"flex-1 relative",children:[A.jsx(ip,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),A.jsx("input",{type:"search",placeholder:"Search invoices by number, customer, or PO number...",onChange:j,className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),A.jsx("div",{className:"flex items-center gap-3",children:A.jsxs("button",{onClick:()=>v(!m),className:`flex items-center gap-2 px-4 py-3 rounded-lg border transition-colors ${m?"bg-blue-50 border-blue-200 text-blue-700 dark:bg-blue-900/20 dark:border-blue-700 dark:text-blue-400":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[A.jsx(wk,{className:"w-4 h-4"}),"Filters"]})})]}),m&&A.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),A.jsxs("select",{value:o,onChange:P=>a(P.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[A.jsx("option",{value:"all",children:"All Status"}),A.jsx("option",{value:"draft",children:"Draft"}),A.jsx("option",{value:"pending",children:"Pending"}),A.jsx("option",{value:"paid",children:"Paid"}),A.jsx("option",{value:"overdue",children:"Overdue"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date Range"}),A.jsxs("select",{value:l,onChange:P=>c(P.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[A.jsx("option",{value:"all",children:"All Time"}),A.jsx("option",{value:"today",children:"Today"}),A.jsx("option",{value:"week",children:"Last Week"}),A.jsx("option",{value:"month",children:"Last Month"}),A.jsx("option",{value:"quarter",children:"Last Quarter"}),A.jsx("option",{value:"year",children:"Last Year"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sort By"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("select",{value:u,onChange:P=>d(P.target.value),className:"flex-1 border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[A.jsx("option",{value:"createdAt",children:"Created Date"}),A.jsx("option",{value:"dueDate",children:"Due Date"}),A.jsx("option",{value:"totalAmount",children:"Amount"}),A.jsx("option",{value:"customerName",children:"Customer"}),A.jsx("option",{value:"status",children:"Status"})]}),A.jsx("button",{onClick:()=>f(h==="asc"?"desc":"asc"),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:h==="asc"?"":""})]})]})]})})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[A.jsx(Lse,{data:x}),b.length>0&&A.jsx(Dse,{data:b})]}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[A.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Invoices (",_.length,")"]}),A.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[s||o!=="all"||l!=="all"?"Filtered":"All"," results"]})]})}),_.length===0?A.jsxs("div",{className:"text-center py-12",children:[A.jsx(Vs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),A.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:s||o!=="all"||l!=="all"?"No invoices found":"No invoices yet"}),A.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:s||o!=="all"||l!=="all"?"Try adjusting your search or filter criteria":"Get started by creating your first invoice"}),!s&&o==="all"&&l==="all"&&A.jsx("button",{onClick:N,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors font-medium",children:"Create Your First Invoice"})]}):A.jsx(Pse,{invoices:_,onView:E})]})]})}var NM={exports:{}};const Qse="modulepreload",Ose=function(t){return"/"+t},d3={},yC=function(e,r,n){if(!r||r.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=Ose(i),i in d3)return;d3[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let u=s.length-1;u>=0;u--){const d=s[u];if(d.href===i&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":Qse,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var Ei=Uint8Array,ia=Uint16Array,Bk=Int32Array,Yw=new Ei([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Xw=new Ei([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vC=new Ei([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),TM=function(t,e){for(var r=new ia(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new Bk(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},jM=TM(Yw,2),FM=jM.b,xC=jM.r;FM[28]=258,xC[258]=28;var PM=TM(Xw,0),Vse=PM.b,h3=PM.r,wC=new ia(32768);for(var dn=0;dn<32768;++dn){var lu=(dn&43690)>>1|(dn&21845)<<1;lu=(lu&52428)>>2|(lu&13107)<<2,lu=(lu&61680)>>4|(lu&3855)<<4,wC[dn]=((lu&65280)>>8|(lu&255)<<8)>>1}var cA=function(t,e,r){for(var n=t.length,s=0,i=new ia(e);s<n;++s)t[s]&&++i[t[s]-1];var o=new ia(e);for(s=1;s<e;++s)o[s]=o[s-1]+i[s-1]<<1;var a;if(r){a=new ia(1<<e);var l=15-e;for(s=0;s<n;++s)if(t[s])for(var c=s<<4|t[s],u=e-t[s],d=o[t[s]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)a[wC[d]>>l]=c}else for(a=new ia(n),s=0;s<n;++s)t[s]&&(a[s]=wC[o[t[s]-1]++]>>15-t[s]);return a},od=new Ei(288);for(var dn=0;dn<144;++dn)od[dn]=8;for(var dn=144;dn<256;++dn)od[dn]=9;for(var dn=256;dn<280;++dn)od[dn]=7;for(var dn=280;dn<288;++dn)od[dn]=8;var jm=new Ei(32);for(var dn=0;dn<32;++dn)jm[dn]=5;var Hse=cA(od,9,0),Kse=cA(od,9,1),zse=cA(jm,5,0),Gse=cA(jm,5,1),qb=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},sl=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},Yb=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},Ck=function(t){return(t+7)/8|0},LM=function(t,e,r){return(e==null||e<0)&&(e=0),(r==null||r>t.length)&&(r=t.length),new Ei(t.subarray(e,r))},Wse=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ll=function(t,e,r){var n=new Error(e||Wse[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,ll),!r)throw n;return n},$se=function(t,e,r,n){var s=t.length,i=n?n.length:0;if(!s||e.f&&!e.l)return r||new Ei(0);var o=!r,a=o||e.i!=2,l=e.i;o&&(r=new Ei(s*3));var c=function(De){var Oe=r.length;if(De>Oe){var We=new Ei(Math.max(Oe*2,De));We.set(r),r=We}},u=e.f||0,d=e.p||0,h=e.b||0,f=e.l,m=e.d,v=e.m,_=e.n,x=s*8;do{if(!f){u=sl(t,d,1);var b=sl(t,d+1,3);if(d+=3,b)if(b==1)f=Kse,m=Gse,v=9,_=5;else if(b==2){var O=sl(t,d,31)+257,P=sl(t,d+10,15)+4,T=O+sl(t,d+5,31)+1;d+=14;for(var U=new Ei(T),R=new Ei(19),I=0;I<P;++I)R[vC[I]]=sl(t,d+I*3,7);d+=P*3;for(var L=qb(R),M=(1<<L)-1,W=cA(R,L,1),I=0;I<T;){var X=W[sl(t,d,M)];d+=X&15;var E=X>>4;if(E<16)U[I++]=E;else{var Z=0,ce=0;for(E==16?(ce=3+sl(t,d,3),d+=2,Z=U[I-1]):E==17?(ce=3+sl(t,d,7),d+=3):E==18&&(ce=11+sl(t,d,127),d+=7);ce--;)U[I++]=Z}}var G=U.subarray(0,O),Y=U.subarray(O);v=qb(G),_=qb(Y),f=cA(G,v,1),m=cA(Y,_,1)}else ll(1);else{var E=Ck(d)+4,N=t[E-4]|t[E-3]<<8,j=E+N;if(j>s){l&&ll(0);break}a&&c(h+N),r.set(t.subarray(E,j),h),e.b=h+=N,e.p=d=j*8,e.f=u;continue}if(d>x){l&&ll(0);break}}a&&c(h+131072);for(var ue=(1<<v)-1,ke=(1<<_)-1,K=d;;K=d){var Z=f[Yb(t,d)&ue],se=Z>>4;if(d+=Z&15,d>x){l&&ll(0);break}if(Z||ll(2),se<256)r[h++]=se;else if(se==256){K=d,f=null;break}else{var ae=se-254;if(se>264){var I=se-257,he=Yw[I];ae=sl(t,d,(1<<he)-1)+FM[I],d+=he}var ye=m[Yb(t,d)&ke],Ce=ye>>4;ye||ll(3),d+=ye&15;var Y=Vse[Ce];if(Ce>3){var he=Xw[Ce];Y+=Yb(t,d)&(1<<he)-1,d+=he}if(d>x){l&&ll(0);break}a&&c(h+131072);var Te=h+ae;if(h<Y){var pe=i-Y,Qe=Math.min(Y,Te);for(pe+h<0&&ll(3);h<Qe;++h)r[h]=n[pe+h]}for(;h<Te;++h)r[h]=r[h-Y]}}e.l=f,e.p=K,e.b=h,e.f=u,f&&(u=1,e.m=v,e.d=m,e.n=_)}while(!u);return h!=r.length&&o?LM(r,0,h):r.subarray(0,h)},HA=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Qp=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Xb=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return{t:DM,l:0};if(s==1){var o=new Ei(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(j,O){return j.f-O.f}),r.push({s:-1,f:25001});var a=r[0],l=r[1],c=0,u=1,d=2;for(r[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=s-1;)a=r[r[c].f<r[d].f?c++:d++],l=r[c!=u&&r[c].f<r[d].f?c++:d++],r[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var h=i[0].s,n=1;n<s;++n)i[n].s>h&&(h=i[n].s);var f=new ia(h+1),m=bC(r[u-1],f,0);if(m>e){var n=0,v=0,_=m-e,x=1<<_;for(i.sort(function(O,P){return f[P.s]-f[O.s]||O.f-P.f});n<s;++n){var b=i[n].s;if(f[b]>e)v+=x-(1<<m-f[b]),f[b]=e;else break}for(v>>=_;v>0;){var E=i[n].s;f[E]<e?v-=1<<e-f[E]++-1:++n}for(;n>=0&&v;--n){var N=i[n].s;f[N]==e&&(--f[N],++v)}m=e}return{t:new Ei(f),l:m}},bC=function(t,e,r){return t.s==-1?Math.max(bC(t.l,e,r+1),bC(t.r,e,r+1)):e[t.s]=r},f3=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ia(++e),n=0,s=t[0],i=1,o=function(l){r[n++]=l},a=1;a<=e;++a)if(t[a]==s&&a!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=t[a]}return{c:r.subarray(0,n),n:e}},Op=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},UM=function(t,e,r){var n=r.length,s=Ck(e+2);t[s]=n&255,t[s+1]=n>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<n;++i)t[s+i+4]=r[i];return(s+4+n)*8},g3=function(t,e,r,n,s,i,o,a,l,c,u){HA(e,u++,r),++s[256];for(var d=Xb(s,15),h=d.t,f=d.l,m=Xb(i,15),v=m.t,_=m.l,x=f3(h),b=x.c,E=x.n,N=f3(v),j=N.c,O=N.n,P=new ia(19),T=0;T<b.length;++T)++P[b[T]&31];for(var T=0;T<j.length;++T)++P[j[T]&31];for(var U=Xb(P,7),R=U.t,I=U.l,L=19;L>4&&!R[vC[L-1]];--L);var M=c+5<<3,W=Op(s,od)+Op(i,jm)+o,X=Op(s,h)+Op(i,v)+o+14+3*L+Op(P,R)+2*P[16]+3*P[17]+7*P[18];if(l>=0&&M<=W&&M<=X)return UM(e,u,t.subarray(l,l+c));var Z,ce,G,Y;if(HA(e,u,1+(X<W)),u+=2,X<W){Z=cA(h,f,0),ce=h,G=cA(v,_,0),Y=v;var ue=cA(R,I,0);HA(e,u,E-257),HA(e,u+5,O-1),HA(e,u+10,L-4),u+=14;for(var T=0;T<L;++T)HA(e,u+3*T,R[vC[T]]);u+=3*L;for(var ke=[b,j],K=0;K<2;++K)for(var se=ke[K],T=0;T<se.length;++T){var ae=se[T]&31;HA(e,u,ue[ae]),u+=R[ae],ae>15&&(HA(e,u,se[T]>>5&127),u+=se[T]>>12)}}else Z=Hse,ce=od,G=zse,Y=jm;for(var T=0;T<a;++T){var he=n[T];if(he>255){var ae=he>>18&31;Qp(e,u,Z[ae+257]),u+=ce[ae+257],ae>7&&(HA(e,u,he>>23&31),u+=Yw[ae]);var ye=he&31;Qp(e,u,G[ye]),u+=Y[ye],ye>3&&(Qp(e,u,he>>5&8191),u+=Xw[ye])}else Qp(e,u,Z[he]),u+=ce[he]}return Qp(e,u,Z[256]),u+ce[256]},qse=new Bk([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),DM=new Ei(0),Yse=function(t,e,r,n,s,i){var o=i.z||t.length,a=new Ei(n+o+5*(1+Math.ceil(o/7e3))+s),l=a.subarray(n,a.length-s),c=i.l,u=(i.r||0)&7;if(e){u&&(l[0]=i.r>>3);for(var d=qse[e-1],h=d>>13,f=d&8191,m=(1<<r)-1,v=i.p||new ia(32768),_=i.h||new ia(m+1),x=Math.ceil(r/3),b=2*x,E=function(mt){return(t[mt]^t[mt+1]<<x^t[mt+2]<<b)&m},N=new Bk(25e3),j=new ia(288),O=new ia(32),P=0,T=0,U=i.i||0,R=0,I=i.w||0,L=0;U+2<o;++U){var M=E(U),W=U&32767,X=_[M];if(v[W]=X,_[M]=W,I<=U){var Z=o-U;if((P>7e3||R>24576)&&(Z>423||!c)){u=g3(t,l,0,N,j,O,T,R,L,U-L,u),R=P=T=0,L=U;for(var ce=0;ce<286;++ce)j[ce]=0;for(var ce=0;ce<30;++ce)O[ce]=0}var G=2,Y=0,ue=f,ke=W-X&32767;if(Z>2&&M==E(U-ke))for(var K=Math.min(h,Z)-1,se=Math.min(32767,U),ae=Math.min(258,Z);ke<=se&&--ue&&W!=X;){if(t[U+G]==t[U+G-ke]){for(var he=0;he<ae&&t[U+he]==t[U+he-ke];++he);if(he>G){if(G=he,Y=ke,he>K)break;for(var ye=Math.min(ke,he-2),Ce=0,ce=0;ce<ye;++ce){var Te=U-ke+ce&32767,pe=v[Te],Qe=Te-pe&32767;Qe>Ce&&(Ce=Qe,X=Te)}}}W=X,X=v[W],ke+=W-X&32767}if(Y){N[R++]=268435456|xC[G]<<18|h3[Y];var De=xC[G]&31,Oe=h3[Y]&31;T+=Yw[De]+Xw[Oe],++j[257+De],++O[Oe],I=U+G,++P}else N[R++]=t[U],++j[t[U]]}}for(U=Math.max(U,I);U<o;++U)N[R++]=t[U],++j[t[U]];u=g3(t,l,c,N,j,O,T,R,L,U-L,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=_,i.p=v,i.i=U,i.w=I)}else{for(var U=i.w||0;U<o+c;U+=65535){var We=U+65535;We>=o&&(l[u/8|0]=c,We=o),u=UM(l,u+1,t.subarray(U,We))}i.i=o}return LM(a,0,n+Ck(u)+s)},RM=function(){var t=1,e=0;return{p:function(r){for(var n=t,s=e,i=r.length|0,o=0;o!=i;){for(var a=Math.min(o+2655,i);o<a;++o)s+=n+=r[o];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}t=n,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Xse=function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new Ei(i.length+t.length);o.set(i),o.set(t,i.length),t=o,s.w=i.length}return Yse(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,s)},MM=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Jse=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=RM();s.p(e.dictionary),MM(t,2,s.d())}},Zse=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&ll(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&ll(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function BC(t,e){e||(e={});var r=RM();r.p(t);var n=Xse(t,e,e.dictionary?6:2,4);return Jse(n,e),MM(n,n.length-4,r.d()),n}function eie(t,e){return $se(t.subarray(Zse(t,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var tie=typeof TextDecoder<"u"&&new TextDecoder,rie=0;try{tie.decode(DM,{stream:!0}),rie=1}catch{}var rr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Jb(){rr.console&&typeof rr.console.log=="function"&&rr.console.log.apply(rr.console,arguments)}var nn={log:Jb,warn:function(t){rr.console&&(typeof rr.console.warn=="function"?rr.console.warn.apply(rr.console,arguments):Jb.call(null,arguments))},error:function(t){rr.console&&(typeof rr.console.error=="function"?rr.console.error.apply(rr.console,arguments):Jb(t))}};function Zb(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Gd(n.response,e,r)},n.onerror=function(){nn.error("could not download file")},n.send()}function p3(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Nv(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var L0,CC,Gd=rr.saveAs||((typeof window>"u"?"undefined":Qr(window))!=="object"||window!==rr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=rr.URL||rr.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?p3(s.href)?Zb(t,e,r):Nv(s,s.target="_blank"):Nv(s)):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Nv(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(p3(t))Zb(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Nv(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Qr(i)!=="object"&&(nn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob([String.fromCharCode(65279),s],{type:s.type}):s}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Zb(t,e,r);var s=t.type==="application/octet-stream",i=/constructor/i.test(rr.HTMLElement)||rr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":Qr(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},a.readAsDataURL(t)}else{var l=rr.URL||rr.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function QM(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,o=s.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function eB(t,e){var r=t[0],n=t[1],s=t[2],i=t[3];r=xi(r,n,s,i,e[0],7,-680876936),i=xi(i,r,n,s,e[1],12,-389564586),s=xi(s,i,r,n,e[2],17,606105819),n=xi(n,s,i,r,e[3],22,-1044525330),r=xi(r,n,s,i,e[4],7,-176418897),i=xi(i,r,n,s,e[5],12,1200080426),s=xi(s,i,r,n,e[6],17,-1473231341),n=xi(n,s,i,r,e[7],22,-45705983),r=xi(r,n,s,i,e[8],7,1770035416),i=xi(i,r,n,s,e[9],12,-1958414417),s=xi(s,i,r,n,e[10],17,-42063),n=xi(n,s,i,r,e[11],22,-1990404162),r=xi(r,n,s,i,e[12],7,1804603682),i=xi(i,r,n,s,e[13],12,-40341101),s=xi(s,i,r,n,e[14],17,-1502002290),r=wi(r,n=xi(n,s,i,r,e[15],22,1236535329),s,i,e[1],5,-165796510),i=wi(i,r,n,s,e[6],9,-1069501632),s=wi(s,i,r,n,e[11],14,643717713),n=wi(n,s,i,r,e[0],20,-373897302),r=wi(r,n,s,i,e[5],5,-701558691),i=wi(i,r,n,s,e[10],9,38016083),s=wi(s,i,r,n,e[15],14,-660478335),n=wi(n,s,i,r,e[4],20,-405537848),r=wi(r,n,s,i,e[9],5,568446438),i=wi(i,r,n,s,e[14],9,-1019803690),s=wi(s,i,r,n,e[3],14,-187363961),n=wi(n,s,i,r,e[8],20,1163531501),r=wi(r,n,s,i,e[13],5,-1444681467),i=wi(i,r,n,s,e[2],9,-51403784),s=wi(s,i,r,n,e[7],14,1735328473),r=bi(r,n=wi(n,s,i,r,e[12],20,-1926607734),s,i,e[5],4,-378558),i=bi(i,r,n,s,e[8],11,-2022574463),s=bi(s,i,r,n,e[11],16,1839030562),n=bi(n,s,i,r,e[14],23,-35309556),r=bi(r,n,s,i,e[1],4,-1530992060),i=bi(i,r,n,s,e[4],11,1272893353),s=bi(s,i,r,n,e[7],16,-155497632),n=bi(n,s,i,r,e[10],23,-1094730640),r=bi(r,n,s,i,e[13],4,681279174),i=bi(i,r,n,s,e[0],11,-358537222),s=bi(s,i,r,n,e[3],16,-722521979),n=bi(n,s,i,r,e[6],23,76029189),r=bi(r,n,s,i,e[9],4,-640364487),i=bi(i,r,n,s,e[12],11,-421815835),s=bi(s,i,r,n,e[15],16,530742520),r=Bi(r,n=bi(n,s,i,r,e[2],23,-995338651),s,i,e[0],6,-198630844),i=Bi(i,r,n,s,e[7],10,1126891415),s=Bi(s,i,r,n,e[14],15,-1416354905),n=Bi(n,s,i,r,e[5],21,-57434055),r=Bi(r,n,s,i,e[12],6,1700485571),i=Bi(i,r,n,s,e[3],10,-1894986606),s=Bi(s,i,r,n,e[10],15,-1051523),n=Bi(n,s,i,r,e[1],21,-2054922799),r=Bi(r,n,s,i,e[8],6,1873313359),i=Bi(i,r,n,s,e[15],10,-30611744),s=Bi(s,i,r,n,e[6],15,-1560198380),n=Bi(n,s,i,r,e[13],21,1309151649),r=Bi(r,n,s,i,e[4],6,-145523070),i=Bi(i,r,n,s,e[11],10,-1120210379),s=Bi(s,i,r,n,e[2],15,718787259),n=Bi(n,s,i,r,e[9],21,-343485551),t[0]=Iu(r,t[0]),t[1]=Iu(n,t[1]),t[2]=Iu(s,t[2]),t[3]=Iu(i,t[3])}function Jw(t,e,r,n,s,i){return e=Iu(Iu(e,t),Iu(n,i)),Iu(e<<s|e>>>32-s,r)}function xi(t,e,r,n,s,i,o){return Jw(e&r|~e&n,t,e,s,i,o)}function wi(t,e,r,n,s,i,o){return Jw(e&n|r&~n,t,e,s,i,o)}function bi(t,e,r,n,s,i,o){return Jw(e^r^n,t,e,s,i,o)}function Bi(t,e,r,n,s,i,o){return Jw(r^(e|~n),t,e,s,i,o)}function OM(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)eB(n,nie(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(eB(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*r,eB(n,s),n}function nie(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}L0=rr.atob.bind(rr),CC=rr.btoa.bind(rr);var m3="0123456789abcdef".split("");function sie(t){for(var e="",r=0;r<4;r++)e+=m3[t>>8*r+4&15]+m3[t>>8*r&15];return e}function iie(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function _C(t){return OM(t).map(iie).join("")}var oie=function(t){for(var e=0;e<t.length;e++)t[e]=sie(t[e]);return t.join("")}(OM("hello"))!="5d41402abc4b2a76b9719d911017c592";function Iu(t,e){if(oie){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function kC(t,e){var r,n,s,i;if(t!==r){for(var o=(s=t,i=1+(256/t.length>>0),new Array(i+1).join(s)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}r=t,n=a}else a=n;var d=e.length,h=0,f=0,m="";for(l=0;l<d;l++)f=(f+(u=a[h=(h+1)%256]))%256,a[h]=a[f],a[f]=u,o=a[(a[h]+a[f])%256],m+=String.fromCharCode(e.charCodeAt(l)^o);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var y3={print:4,modify:8,copy:16,"annot-forms":32};function Vf(t,e,r,n){this.v=1,this.r=2;var s=192;t.forEach(function(a){if(y3.perm!==void 0)throw new Error("Invalid permission: "+a);s+=y3[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=_C(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=kC(this.encryptionKey,this.padding)}function Hf(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var s=t.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=t[n]}return e}function v3(t){if(Qr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[r]){var o=e[r][i];try{o[0].apply(t,n)}catch(a){rr.console&&nn.error("jsPDF PubSub Error",a.message,a)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Fm(t){if(!(this instanceof Fm))return new Fm(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function VM(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function wu(t,e,r,n,s){if(!(this instanceof wu))return new wu(t,e,r,n,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,VM.call(this,n,s)}function sh(t,e,r,n,s){if(!(this instanceof sh))return new sh(t,e,r,n,s);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,VM.call(this,n,s)}function Zt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],o=[],a=1,l=16,c="S",u=null;Qr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,s=t.format||s,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=v3;var m="1.3",v=f.__private__.getPdfVersion=function(){return m};f.__private__.setPdfVersion=function(S){m=S};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return _};var x=f.__private__.getPageFormat=function(S){return _[S]};s=s||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},E=b.COMPAT;function N(){this.saveGraphicsState(),fe(new Qt(je,0,0,-je,0,zo()*je).toString()+" cm"),this.setFontSize(this.getFontSize()/je),c="n",E=b.ADVANCED}function j(){this.restoreGraphicsState(),c="S",E=b.COMPAT}var O=f.__private__.combineFontStyleAndFontWeight=function(S,q){if(S=="bold"&&q=="normal"||S=="bold"&&q==400||S=="normal"&&q=="italic"||S=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(S=q==400||q==="normal"?S==="italic"?"italic":"normal":q!=700&&q!=="bold"||S!=="normal"?(q==700?"bold":q)+""+S:"bold"),S};f.advancedAPI=function(S){var q=E===b.COMPAT;return q&&N.call(this),typeof S!="function"||(S(this),q&&j.call(this)),this},f.compatAPI=function(S){var q=E===b.ADVANCED;return q&&j.call(this),typeof S!="function"||(S(this),q&&N.call(this)),this},f.isAdvancedAPI=function(){return E===b.ADVANCED};var P,T=function(S){if(E!==b.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=f.roundToPrecision=f.__private__.roundToPrecision=function(S,q){var ge=e||q;if(isNaN(S)||isNaN(ge))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(ge).replace(/0+$/,"")};P=f.hpf=f.__private__.hpf=typeof l=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return U(S,l)}:l==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return U(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return U(S,16)};var R=f.f2=f.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return U(S,2)},I=f.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return U(S,3)},L=f.scale=f.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return E===b.COMPAT?S*je:E===b.ADVANCED?S:void 0},M=function(S){return E===b.COMPAT?zo()-S:E===b.ADVANCED?S:void 0},W=function(S){return L(M(S))};f.__private__.setPrecision=f.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var X,Z="00000000000000000000000000000000",ce=f.__private__.getFileId=function(){return Z},G=f.__private__.setFileId=function(S){return Z=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(gn=new Vf(u.userPermissions,u.userPassword,u.ownerPassword,Z)),Z};f.setFileId=function(S){return G(S),this},f.getFileId=function(){return ce()};var Y=f.__private__.convertDateToPDFDate=function(S){var q=S.getTimezoneOffset(),ge=q<0?"+":"-",ve=Math.floor(Math.abs(q/60)),Fe=Math.abs(q%60),Ve=[ge,ae(ve),"'",ae(Fe),"'"].join("");return["D:",S.getFullYear(),ae(S.getMonth()+1),ae(S.getDate()),ae(S.getHours()),ae(S.getMinutes()),ae(S.getSeconds()),Ve].join("")},ue=f.__private__.convertPDFDateToDate=function(S){var q=parseInt(S.substr(2,4),10),ge=parseInt(S.substr(6,2),10)-1,ve=parseInt(S.substr(8,2),10),Fe=parseInt(S.substr(10,2),10),Ve=parseInt(S.substr(12,2),10),nt=parseInt(S.substr(14,2),10);return new Date(q,ge,ve,Fe,Ve,nt,0)},ke=f.__private__.setCreationDate=function(S){var q;if(S===void 0&&(S=new Date),S instanceof Date)q=Y(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=S}return X=q},K=f.__private__.getCreationDate=function(S){var q=X;return S==="jsDate"&&(q=ue(X)),q};f.setCreationDate=function(S){return ke(S),this},f.getCreationDate=function(S){return K(S)};var se,ae=f.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},he=f.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ye=0,Ce=[],Te=[],pe=0,Qe=[],De=[],Oe=!1,We=Te,mt=function(){ye=0,pe=0,Te=[],Ce=[],Qe=[],Di=en(),oi=en()};f.__private__.setCustomOutputDestination=function(S){Oe=!0,We=S};var Me=function(S){Oe||(We=S)};f.__private__.resetCustomOutputDestination=function(){Oe=!1,We=Te};var fe=f.__private__.out=function(S){return S=S.toString(),pe+=S.length+1,We.push(S),We},Ht=f.__private__.write=function(S){return fe(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},ft=f.__private__.getArrayBuffer=function(S){for(var q=S.length,ge=new ArrayBuffer(q),ve=new Uint8Array(ge);q--;)ve[q]=S.charCodeAt(q);return ge},Ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ye};var lt=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(S){return lt=E===b.ADVANCED?S/je:S,this};var gt,ct=f.__private__.getFontSize=f.getFontSize=function(){return E===b.COMPAT?lt:lt*je},me=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(S){return me=S,this},f.__private__.getR2L=f.getR2L=function(){return me};var ze,ot=f.__private__.setZoomMode=function(S){var q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))gt=S;else if(isNaN(S)){if(q.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');gt=S}else gt=parseInt(S,10)};f.__private__.getZoomMode=function(){return gt};var st,et=f.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');ze=S};f.__private__.getPageMode=function(){return ze};var ht=f.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');st=S};f.__private__.getLayoutMode=function(){return st},f.__private__.setDisplayMode=f.setDisplayMode=function(S,q,ge){return ot(S),ht(q),et(ge),this};var vt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(S){if(Object.keys(vt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return vt[S]},f.__private__.getDocumentProperties=function(){return vt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(S){for(var q in vt)vt.hasOwnProperty(q)&&S[q]&&(vt[q]=S[q]);return this},f.__private__.setDocumentProperty=function(S,q){if(Object.keys(vt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return vt[S]=q};var Ie,je,qe,tt,Pt,Bt={},zt={},An=[],sr={},us={},pr={},Xn={},Xt=null,yt=0,At=[],Ct=new v3(f),Ar=t.hotfixes||[],ur={},Vn={},Hn=[],Qt=function S(q,ge,ve,Fe,Ve,nt){if(!(this instanceof S))return new S(q,ge,ve,Fe,Ve,nt);isNaN(q)&&(q=1),isNaN(ge)&&(ge=0),isNaN(ve)&&(ve=0),isNaN(Fe)&&(Fe=1),isNaN(Ve)&&(Ve=0),isNaN(nt)&&(nt=0),this._matrix=[q,ge,ve,Fe,Ve,nt]};Object.defineProperty(Qt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Qt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Qt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Qt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Qt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Qt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Qt.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Qt.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Qt.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Qt.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Qt.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Qt.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Qt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qt.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(S)},Qt.prototype.multiply=function(S){var q=S.sx*this.sx+S.shy*this.shx,ge=S.sx*this.shy+S.shy*this.sy,ve=S.shx*this.sx+S.sy*this.shx,Fe=S.shx*this.shy+S.sy*this.sy,Ve=S.tx*this.sx+S.ty*this.shx+this.tx,nt=S.tx*this.shy+S.ty*this.sy+this.ty;return new Qt(q,ge,ve,Fe,Ve,nt)},Qt.prototype.decompose=function(){var S=this.sx,q=this.shy,ge=this.shx,ve=this.sy,Fe=this.tx,Ve=this.ty,nt=Math.sqrt(S*S+q*q),kt=(S/=nt)*ge+(q/=nt)*ve;ge-=S*kt,ve-=q*kt;var Dt=Math.sqrt(ge*ge+ve*ve);return kt/=Dt,S*(ve/=Dt)<q*(ge/=Dt)&&(S=-S,q=-q,kt=-kt,nt=-nt),{scale:new Qt(nt,0,0,Dt,0,0),translate:new Qt(1,0,0,1,Fe,Ve),rotate:new Qt(S,q,-q,S,0,0),skew:new Qt(1,0,kt,1,0,0)}},Qt.prototype.toString=function(S){return this.join(" ")},Qt.prototype.inversed=function(){var S=this.sx,q=this.shy,ge=this.shx,ve=this.sy,Fe=this.tx,Ve=this.ty,nt=1/(S*ve-q*ge),kt=ve*nt,Dt=-q*nt,y=-ge*nt,D=S*nt;return new Qt(kt,Dt,y,D,-kt*Fe-y*Ve,-Dt*Fe-D*Ve)},Qt.prototype.applyToPoint=function(S){var q=S.x*this.sx+S.y*this.shx+this.tx,ge=S.x*this.shy+S.y*this.sy+this.ty;return new mo(q,ge)},Qt.prototype.applyToRectangle=function(S){var q=this.applyToPoint(S),ge=this.applyToPoint(new mo(S.x+S.w,S.y+S.h));return new Sl(q.x,q.y,ge.x-q.x,ge.y-q.y)},Qt.prototype.clone=function(){var S=this.sx,q=this.shy,ge=this.shx,ve=this.sy,Fe=this.tx,Ve=this.ty;return new Qt(S,q,ge,ve,Fe,Ve)},f.Matrix=Qt;var Hr=f.matrixMult=function(S,q){return q.multiply(S)},Ui=new Qt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Ui;var En=function(S,q){if(!us[S]){var ge=(q instanceof wu?"Sh":"P")+(Object.keys(sr).length+1).toString(10);q.id=ge,us[S]=ge,sr[ge]=q,Ct.publish("addPattern",q)}};f.ShadingPattern=wu,f.TilingPattern=sh,f.addShadingPattern=function(S,q){return T("addShadingPattern()"),En(S,q),this},f.beginTilingPattern=function(S){T("beginTilingPattern()"),Tl(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},f.endTilingPattern=function(S,q){T("endTilingPattern()"),q.stream=De[se].join(`
`),En(S,q),Ct.publish("endTilingPattern",q),Hn.pop().restore()};var Mt=f.__private__.newObject=function(){var S=en();return ws(S,!0),S},en=f.__private__.newObjectDeferred=function(){return ye++,Ce[ye]=function(){return pe},ye},ws=function(S,q){return q=typeof q=="boolean"&&q,Ce[S]=pe,q&&fe(S+" 0 obj"),S},In=f.__private__.newAdditionalObject=function(){var S={objId:en(),content:""};return Qe.push(S),S},Di=en(),oi=en(),bs=f.__private__.decodeColorString=function(S){var q=S.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length===5&&(q[4]==="k"||q[4]==="K")&&(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var ge=parseFloat(q[0]);q=[ge,ge,ge,"r"]}for(var ve="#",Fe=0;Fe<3;Fe++)ve+=("0"+Math.floor(255*parseFloat(q[Fe])).toString(16)).slice(-2);return ve},ai=f.__private__.encodeColorString=function(S){var q;typeof S=="string"&&(S={ch1:S});var ge=S.ch1,ve=S.ch2,Fe=S.ch3,Ve=S.ch4,nt=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ge=="string"&&ge.charAt(0)!=="#"){var kt=new QM(ge);if(kt.ok)ge=kt.toHex();else if(!/^\d*\.?\d*$/.test(ge))throw new Error('Invalid color "'+ge+'" passed to jsPDF.encodeColorString.')}if(typeof ge=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ge)&&(ge="#"+ge[1]+ge[1]+ge[2]+ge[2]+ge[3]+ge[3]),typeof ge=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ge)){var Dt=parseInt(ge.substr(1),16);ge=Dt>>16&255,ve=Dt>>8&255,Fe=255&Dt}if(ve===void 0||Ve===void 0&&ge===ve&&ve===Fe)if(typeof ge=="string")q=ge+" "+nt[0];else switch(S.precision){case 2:q=R(ge/255)+" "+nt[0];break;case 3:default:q=I(ge/255)+" "+nt[0]}else if(Ve===void 0||Qr(Ve)==="object"){if(Ve&&!isNaN(Ve.a)&&Ve.a===0)return q=["1.","1.","1.",nt[1]].join(" ");if(typeof ge=="string")q=[ge,ve,Fe,nt[1]].join(" ");else switch(S.precision){case 2:q=[R(ge/255),R(ve/255),R(Fe/255),nt[1]].join(" ");break;default:case 3:q=[I(ge/255),I(ve/255),I(Fe/255),nt[1]].join(" ")}}else if(typeof ge=="string")q=[ge,ve,Fe,Ve,nt[2]].join(" ");else switch(S.precision){case 2:q=[R(ge),R(ve),R(Fe),R(Ve),nt[2]].join(" ");break;case 3:default:q=[I(ge),I(ve),I(Fe),I(Ve),nt[2]].join(" ")}return q},Gs=f.__private__.getFilters=function(){return o},Bs=f.__private__.putStream=function(S){var q=(S=S||{}).data||"",ge=S.filters||Gs(),ve=S.alreadyAppliedFilters||[],Fe=S.addLength1||!1,Ve=q.length,nt=S.objectId,kt=function(at){return at};if(u!==null&&nt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(kt=gn.encryptor(nt,0));var Dt={};ge===!0&&(ge=["FlateEncode"]);var y=S.additionalKeyValues||[],D=(Dt=Zt.API.processDataByFilters!==void 0?Zt.API.processDataByFilters(q,ge):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(Dt.data.length!==0&&(y.push({key:"Length",value:Dt.data.length}),Fe===!0&&y.push({key:"Length1",value:Ve})),D.length!=0)if(D.split("/").length-1==1)y.push({key:"Filter",value:D});else{y.push({key:"Filter",value:"["+D+"]"});for(var H=0;H<y.length;H+=1)if(y[H].key==="DecodeParms"){for(var ne=[],_e=0;_e<Dt.reverseChain.split("/").length-1;_e+=1)ne.push("null");ne.push(y[H].value),y[H].value="["+ne.join(" ")+"]"}}fe("<<");for(var Se=0;Se<y.length;Se++)fe("/"+y[Se].key+" "+y[Se].value);fe(">>"),Dt.data.length!==0&&(fe("stream"),fe(kt(Dt.data)),fe("endstream"))},Jn=f.__private__.putPage=function(S){var q=S.number,ge=S.data,ve=S.objId,Fe=S.contentsObjId;ws(ve,!0),fe("<</Type /Page"),fe("/Parent "+S.rootDictionaryObjId+" 0 R"),fe("/Resources "+S.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(P(S.mediaBox.bottomLeftX))+" "+parseFloat(P(S.mediaBox.bottomLeftY))+" "+P(S.mediaBox.topRightX)+" "+P(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&fe("/CropBox ["+P(S.cropBox.bottomLeftX)+" "+P(S.cropBox.bottomLeftY)+" "+P(S.cropBox.topRightX)+" "+P(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&fe("/BleedBox ["+P(S.bleedBox.bottomLeftX)+" "+P(S.bleedBox.bottomLeftY)+" "+P(S.bleedBox.topRightX)+" "+P(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&fe("/TrimBox ["+P(S.trimBox.bottomLeftX)+" "+P(S.trimBox.bottomLeftY)+" "+P(S.trimBox.topRightX)+" "+P(S.trimBox.topRightY)+"]"),S.artBox!==null&&fe("/ArtBox ["+P(S.artBox.bottomLeftX)+" "+P(S.artBox.bottomLeftY)+" "+P(S.artBox.topRightX)+" "+P(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&fe("/UserUnit "+S.userUnit),Ct.publish("putPage",{objId:ve,pageContext:At[q],pageNumber:q,page:ge}),fe("/Contents "+Fe+" 0 R"),fe(">>"),fe("endobj");var Ve=ge.join(`
`);return E===b.ADVANCED&&(Ve+=`
Q`),ws(Fe,!0),Bs({data:Ve,filters:Gs(),objectId:Fe}),fe("endobj"),ve},oo=f.__private__.putPages=function(){var S,q,ge=[];for(S=1;S<=yt;S++)At[S].objId=en(),At[S].contentsObjId=en();for(S=1;S<=yt;S++)ge.push(Jn({number:S,data:De[S],objId:At[S].objId,contentsObjId:At[S].contentsObjId,mediaBox:At[S].mediaBox,cropBox:At[S].cropBox,bleedBox:At[S].bleedBox,trimBox:At[S].trimBox,artBox:At[S].artBox,userUnit:At[S].userUnit,rootDictionaryObjId:Di,resourceDictionaryObjId:oi}));ws(Di,!0),fe("<</Type /Pages");var ve="/Kids [";for(q=0;q<yt;q++)ve+=ge[q]+" 0 R ";fe(ve+"]"),fe("/Count "+yt),fe(">>"),fe("endobj"),Ct.publish("postPutPages")},ha=function(S){Ct.publish("putFont",{font:S,out:fe,newObject:Mt,putStream:Bs}),S.isAlreadyPutted!==!0&&(S.objectNumber=Mt(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+Hf(S.postScriptName)),fe("/Subtype /Type1"),typeof S.encoding=="string"&&fe("/Encoding /"+S.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},fa=function(){for(var S in Bt)Bt.hasOwnProperty(S)&&(d===!1||d===!0&&h.hasOwnProperty(S))&&ha(Bt[S])},ga=function(S){S.objectNumber=Mt();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[P(S.x),P(S.y),P(S.x+S.width),P(S.y+S.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var ge=S.pages[1].join(`
`);Bs({data:ge,additionalKeyValues:q,objectId:S.objectNumber}),fe("endobj")},Qa=function(){for(var S in ur)ur.hasOwnProperty(S)&&ga(ur[S])},vA=function(S,q){var ge,ve=[],Fe=1/(q-1);for(ge=0;ge<1;ge+=Fe)ve.push(ge);if(ve.push(1),S[0].offset!=0){var Ve={offset:0,color:S[0].color};S.unshift(Ve)}if(S[S.length-1].offset!=1){var nt={offset:1,color:S[S.length-1].color};S.push(nt)}for(var kt="",Dt=0,y=0;y<ve.length;y++){for(ge=ve[y];ge>S[Dt+1].offset;)Dt++;var D=S[Dt].offset,H=(ge-D)/(S[Dt+1].offset-D),ne=S[Dt].color,_e=S[Dt+1].color;kt+=he(Math.round((1-H)*ne[0]+H*_e[0]).toString(16))+he(Math.round((1-H)*ne[1]+H*_e[1]).toString(16))+he(Math.round((1-H)*ne[2]+H*_e[2]).toString(16))}return kt.trim()},yd=function(S,q){q||(q=21);var ge=Mt(),ve=vA(S.colors,q),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+q+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Bs({data:ve,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ge}),fe("endobj"),S.objectNumber=Mt(),fe("<< /ShadingType "+S.type),fe("/ColorSpace /DeviceRGB");var Ve="/Coords ["+P(parseFloat(S.coords[0]))+" "+P(parseFloat(S.coords[1]))+" ";S.type===2?Ve+=P(parseFloat(S.coords[2]))+" "+P(parseFloat(S.coords[3])):Ve+=P(parseFloat(S.coords[2]))+" "+P(parseFloat(S.coords[3]))+" "+P(parseFloat(S.coords[4]))+" "+P(parseFloat(S.coords[5])),fe(Ve+="]"),S.matrix&&fe("/Matrix ["+S.matrix.toString()+"]"),fe("/Function "+ge+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},Bl=function(S,q){var ge=en(),ve=Mt();q.push({resourcesOid:ge,objectOid:ve}),S.objectNumber=ve;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+S.boundingBox.map(P).join(" ")+"]"}),Fe.push({key:"XStep",value:P(S.xStep)}),Fe.push({key:"YStep",value:P(S.yStep)}),Fe.push({key:"Resources",value:ge+" 0 R"}),S.matrix&&Fe.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Bs({data:S.stream,additionalKeyValues:Fe,objectId:S.objectNumber}),fe("endobj")},Ri=function(S){var q;for(q in sr)sr.hasOwnProperty(q)&&(sr[q]instanceof wu?yd(sr[q]):sr[q]instanceof sh&&Bl(sr[q],S))},Oa=function(S){for(var q in S.objectNumber=Mt(),fe("<<"),S)switch(q){case"opacity":fe("/ca "+R(S[q]));break;case"stroke-opacity":fe("/CA "+R(S[q]))}fe(">>"),fe("endobj")},ao=function(){var S;for(S in pr)pr.hasOwnProperty(S)&&Oa(pr[S])},li=function(){for(var S in fe("/XObject <<"),ur)ur.hasOwnProperty(S)&&ur[S].objectNumber>=0&&fe("/"+S+" "+ur[S].objectNumber+" 0 R");Ct.publish("putXobjectDict"),fe(">>")},Oo=function(){gn.oid=Mt(),fe("<<"),fe("/Filter /Standard"),fe("/V "+gn.v),fe("/R "+gn.r),fe("/U <"+gn.toHexString(gn.U)+">"),fe("/O <"+gn.toHexString(gn.O)+">"),fe("/P "+gn.P),fe(">>"),fe("endobj")},Cc=function(){for(var S in fe("/Font <<"),Bt)Bt.hasOwnProperty(S)&&(d===!1||d===!0&&h.hasOwnProperty(S))&&fe("/"+S+" "+Bt[S].objectNumber+" 0 R");fe(">>")},_c=function(){if(Object.keys(sr).length>0){for(var S in fe("/Shading <<"),sr)sr.hasOwnProperty(S)&&sr[S]instanceof wu&&sr[S].objectNumber>=0&&fe("/"+S+" "+sr[S].objectNumber+" 0 R");Ct.publish("putShadingPatternDict"),fe(">>")}},lo=function(S){if(Object.keys(sr).length>0){for(var q in fe("/Pattern <<"),sr)sr.hasOwnProperty(q)&&sr[q]instanceof f.TilingPattern&&sr[q].objectNumber>=0&&sr[q].objectNumber<S&&fe("/"+q+" "+sr[q].objectNumber+" 0 R");Ct.publish("putTilingPatternDict"),fe(">>")}},pa=function(){if(Object.keys(pr).length>0){var S;for(S in fe("/ExtGState <<"),pr)pr.hasOwnProperty(S)&&pr[S].objectNumber>=0&&fe("/"+S+" "+pr[S].objectNumber+" 0 R");Ct.publish("putGStateDict"),fe(">>")}},tn=function(S){ws(S.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Cc(),_c(),lo(S.objectOid),pa(),li(),fe(">>"),fe("endobj")},Cl=function(){var S=[];fa(),ao(),Qa(),Ri(S),Ct.publish("putResources"),S.forEach(tn),tn({resourcesOid:oi,objectOid:Number.MAX_SAFE_INTEGER}),Ct.publish("postPutResources")},xA=function(){Ct.publish("putAdditionalObjects");for(var S=0;S<Qe.length;S++){var q=Qe[S];ws(q.objId,!0),fe(q.content),fe("endobj")}Ct.publish("postPutAdditionalObjects")},ma=function(S){zt[S.fontName]=zt[S.fontName]||{},zt[S.fontName][S.fontStyle]=S.id},ya=function(S,q,ge,ve,Fe){var Ve={id:"F"+(Object.keys(Bt).length+1).toString(10),postScriptName:S,fontName:q,fontStyle:ge,encoding:ve,isStandardFont:Fe||!1,metadata:{}};return Ct.publish("addFont",{font:Ve,instance:this}),Bt[Ve.id]=Ve,ma(Ve),Ve.id},Va=function(S){for(var q=0,ge=Ye.length;q<ge;q++){var ve=ya.call(this,S[q][0],S[q][1],S[q][2],Ye[q][3],!0);d===!1&&(h[ve]=!0);var Fe=S[q][0].split("-");ma({id:ve,fontName:Fe[0],fontStyle:Fe[1]||""})}Ct.publish("addFonts",{fonts:Bt,dictionary:zt})},Ai=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(ve){var q=ve.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var ge="Error in function "+q.split(`
`)[0].split("<")[0]+": "+ve.message;if(!rr.console)throw new Error(ge);rr.console.error(ge,ve),rr.alert&&alert(ge)}},S.foo.bar=S,S.foo},fn=function(S,q){var ge,ve,Fe,Ve,nt,kt,Dt,y,D;if(Fe=(q=q||{}).sourceEncoding||"Unicode",nt=q.outputEncoding,(q.autoencode||nt)&&Bt[Ie].metadata&&Bt[Ie].metadata[Fe]&&Bt[Ie].metadata[Fe].encoding&&(Ve=Bt[Ie].metadata[Fe].encoding,!nt&&Bt[Ie].encoding&&(nt=Bt[Ie].encoding),!nt&&Ve.codePages&&(nt=Ve.codePages[0]),typeof nt=="string"&&(nt=Ve[nt]),nt)){for(Dt=!1,kt=[],ge=0,ve=S.length;ge<ve;ge++)(y=nt[S.charCodeAt(ge)])?kt.push(String.fromCharCode(y)):kt.push(S[ge]),kt[ge].charCodeAt(0)>>8&&(Dt=!0);S=kt.join("")}for(ge=S.length;Dt===void 0&&ge!==0;)S.charCodeAt(ge-1)>>8&&(Dt=!0),ge--;if(!Dt)return S;for(kt=q.noBOM?[]:[254,255],ge=0,ve=S.length;ge<ve;ge++){if((D=(y=S.charCodeAt(ge))>>8)>>8)throw new Error("Character at position "+ge+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kt.push(D),kt.push(y-(D<<8))}return String.fromCharCode.apply(void 0,kt)},Us=f.__private__.pdfEscape=f.pdfEscape=function(S,q){return fn(S,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mi=f.__private__.beginPage=function(S){De[++yt]=[],At[yt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},Ha(yt),Me(De[se])},ci=function(S,q){var ge,ve,Fe;switch(r=q||r,typeof S=="string"&&(ge=x(S.toLowerCase()),Array.isArray(ge)&&(ve=ge[0],Fe=ge[1])),Array.isArray(S)&&(ve=S[0]*je,Fe=S[1]*je),isNaN(ve)&&(ve=s[0],Fe=s[1]),(ve>14400||Fe>14400)&&(nn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Fe=Math.min(14400,Fe)),s=[ve,Fe],r.substr(0,1)){case"l":Fe>ve&&(s=[Fe,ve]);break;case"p":ve>Fe&&(s=[Fe,ve])}Mi(s),Fc(Rr),fe(Rs),po!==0&&fe(po+" J"),_A!==0&&fe(_A+" j"),Ct.publish("addPage",{pageNumber:yt})},_l=function(S){S>0&&S<=yt&&(De.splice(S,1),At.splice(S,1),yt--,se>yt&&(se=yt),this.setPage(se))},Ha=function(S){S>0&&S<=yt&&(se=S)},kc=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return De.length-1},jr=function(S,q,ge){var ve,Fe=void 0;return ge=ge||{},S=S!==void 0?S:Bt[Ie].fontName,q=q!==void 0?q:Bt[Ie].fontStyle,ve=S.toLowerCase(),zt[ve]!==void 0&&zt[ve][q]!==void 0?Fe=zt[ve][q]:zt[S]!==void 0&&zt[S][q]!==void 0?Fe=zt[S][q]:ge.disableWarning===!1&&nn.warn("Unable to look up font label for font '"+S+"', '"+q+"'. Refer to getFontList() for available fonts."),Fe||ge.noFallback||(Fe=zt.times[q])==null&&(Fe=zt.times.normal),Fe},kl=f.__private__.putInfo=function(){var S=Mt(),q=function(ve){return ve};for(var ge in u!==null&&(q=gn.encryptor(S,0)),fe("<<"),fe("/Producer ("+Us(q("jsPDF "+Zt.version))+")"),vt)vt.hasOwnProperty(ge)&&vt[ge]&&fe("/"+ge.substr(0,1).toUpperCase()+ge.substr(1)+" ("+Us(q(vt[ge]))+")");fe("/CreationDate ("+Us(q(X))+")"),fe(">>"),fe("endobj")},ui=f.__private__.putCatalog=function(S){var q=(S=S||{}).rootDictionaryObjId||Di;switch(Mt(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+q+" 0 R"),gt||(gt="fullwidth"),gt){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ge=""+gt;ge.substr(ge.length-1)==="%"&&(gt=parseInt(gt)/100),typeof gt=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+R(gt)+"]")}switch(st||(st="continuous"),st){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}ze&&fe("/PageMode /"+ze),Ct.publish("putCatalog"),fe(">>"),fe("endobj")},Ka=f.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(ye+1)),fe("/Root "+ye+" 0 R"),fe("/Info "+(ye-1)+" 0 R"),u!==null&&fe("/Encrypt "+gn.oid+" 0 R"),fe("/ID [ <"+Z+"> <"+Z+"> ]"),fe(">>")},Ec=f.__private__.putHeader=function(){fe("%PDF-"+m),fe("%")},Ic=f.__private__.putXRef=function(){var S="0000000000";fe("xref"),fe("0 "+(ye+1)),fe("0000000000 65535 f ");for(var q=1;q<=ye;q++)typeof Ce[q]=="function"?fe((S+Ce[q]()).slice(-10)+" 00000 n "):Ce[q]!==void 0?fe((S+Ce[q]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},Vo=f.__private__.buildDocument=function(){mt(),Me(Te),Ct.publish("buildDocument"),Ec(),oo(),xA(),Cl(),u!==null&&Oo(),kl(),ui();var S=pe;return Ic(),Ka(),fe("startxref"),fe(""+S),fe("%%EOF"),Me(De[se]),Te.join(`
`)},za=f.__private__.getBlob=function(S){return new Blob([ft(S)],{type:"application/pdf"})},va=f.output=f.__private__.output=Ai(function(S,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",S){case void 0:return Vo();case"save":f.save(q.filename);break;case"arraybuffer":return ft(Vo());case"blob":return za(Vo());case"bloburi":case"bloburl":if(rr.URL!==void 0&&typeof rr.URL.createObjectURL=="function")return rr.URL&&rr.URL.createObjectURL(za(Vo()))||void 0;nn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ge="",ve=Vo();try{ge=CC(ve)}catch{ge=CC(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+q.filename+";base64,"+ge;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rr)==="[object Window]"){var Fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ve=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(Fe=q.pdfObjectUrl,Ve="");var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fe+'"'+Ve+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",kt=rr.open();return kt!==null&&kt.document.write(nt),kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rr)==="[object Window]"){var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',y=rr.open();if(y!==null){y.document.write(Dt);var D=this;y.document.documentElement.querySelector("#pdfViewer").onload=function(){y.document.title=q.filename,y.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(D.output("bloburl"))}}return y}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var H='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',ne=rr.open();if(ne!==null&&(ne.document.write(H),ne.document.title=q.filename),ne||typeof safari>"u")return ne;break;case"datauri":case"dataurl":return rr.document.location.href=this.output("datauristring",q);default:return null}}),Ao=function(S){return Array.isArray(Ar)===!0&&Ar.indexOf(S)>-1};switch(n){case"pt":je=1;break;case"mm":je=72/25.4;break;case"cm":je=72/2.54;break;case"in":je=72;break;case"px":je=Ao("px_scaling")==1?.75:96/72;break;case"pc":case"em":je=12;break;case"ex":je=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);je=n}var gn=null;ke(),G();var co=function(S){return u!==null?gn.encryptor(S,0):function(q){return q}},wA=f.__private__.getPageInfo=f.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[S].objId,pageNumber:S,pageContext:At[S]}},Gt=f.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in At)if(At[q].objId===S)break;return wA(q)},Sc=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:At[se].objId,pageNumber:se,pageContext:At[se]}};f.addPage=function(){return ci.apply(this,arguments),this},f.setPage=function(){return Ha.apply(this,arguments),Me.call(this,De[se]),this},f.insertPage=function(S){return this.addPage(),this.movePage(se,S),this},f.movePage=function(S,q){var ge,ve;if(S>q){ge=De[S],ve=At[S];for(var Fe=S;Fe>q;Fe--)De[Fe]=De[Fe-1],At[Fe]=At[Fe-1];De[q]=ge,At[q]=ve,this.setPage(q)}else if(S<q){ge=De[S],ve=At[S];for(var Ve=S;Ve<q;Ve++)De[Ve]=De[Ve+1],At[Ve]=At[Ve+1];De[q]=ge,At[q]=ve,this.setPage(q)}return this},f.deletePage=function(){return _l.apply(this,arguments),this},f.__private__.text=f.text=function(S,q,ge,ve,Fe){var Ve,nt,kt,Dt,y,D,H,ne,_e,Se=(ve=ve||{}).scope||this;if(typeof S=="number"&&typeof q=="number"&&(typeof ge=="string"||Array.isArray(ge))){var at=ge;ge=q,q=S,S=at}if(arguments[3]instanceof Qt?(T("The transform parameter of text() with a Matrix value"),_e=Fe):(kt=arguments[4],Dt=arguments[5],Qr(H=arguments[3])==="object"&&H!==null||(typeof kt=="string"&&(Dt=kt,kt=null),typeof H=="string"&&(Dt=H,H=null),typeof H=="number"&&(kt=H,H=null),ve={flags:H,angle:kt,align:Dt})),isNaN(q)||isNaN(ge)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Se;var er="",Fr=!1,$t=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:ho,mr=Se.internal.scaleFactor;function Sn(Kr){return Kr=Kr.split("	").join(Array(ve.TabLen||9).join(" ")),Us(Kr,H)}function Zn(Kr){for(var zr,Fn=Kr.concat(),mn=[],el=Fn.length;el--;)typeof(zr=Fn.shift())=="string"?mn.push(zr):Array.isArray(Kr)&&(zr.length===1||zr[1]===void 0&&zr[2]===void 0)?mn.push(zr[0]):mn.push([zr[0],zr[1],zr[2]]);return mn}function yr(Kr,zr){var Fn;if(typeof Kr=="string")Fn=zr(Kr)[0];else if(Array.isArray(Kr)){for(var mn,el,xd=Kr.concat(),Ul=[],ef=xd.length;ef--;)typeof(mn=xd.shift())=="string"?Ul.push(zr(mn)[0]):Array.isArray(mn)&&typeof mn[0]=="string"&&(el=zr(mn[0],mn[1],mn[2]),Ul.push([el[0],el[1],el[2]]));Fn=Ul}return Fn}var vo=!1,rn=!0;if(typeof S=="string")vo=!0;else if(Array.isArray(S)){var IA=S.concat();nt=[];for(var Hi,Nn=IA.length;Nn--;)(typeof(Hi=IA.shift())!="string"||Array.isArray(Hi)&&typeof Hi[0]!="string")&&(rn=!1);vo=rn}if(vo===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Er=lt/Se.internal.scaleFactor,SA=Er*($t-1);switch(ve.baseline){case"bottom":ge-=SA;break;case"top":ge+=Er-SA;break;case"hanging":ge+=Er-2*SA;break;case"middle":ge+=Er/2-SA}if((D=ve.maxWidth||0)>0&&(typeof S=="string"?S=Se.splitTextToSize(S,D):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Kr,zr){return Kr.concat(Se.splitTextToSize(zr,D))},[]))),Ve={text:S,x:q,y:ge,options:ve,mutex:{pdfEscape:Us,activeFontKey:Ie,fonts:Bt,activeFontSize:lt}},Ct.publish("preProcessText",Ve),S=Ve.text,kt=(ve=Ve.options).angle,!(_e instanceof Qt)&&kt&&typeof kt=="number"){kt*=Math.PI/180,ve.rotationDirection===0&&(kt=-kt),E===b.ADVANCED&&(kt=-kt);var NA=Math.cos(kt),Pc=Math.sin(kt);_e=new Qt(NA,Pc,-Pc,NA,0,0)}else kt&&kt instanceof Qt&&(_e=kt);E!==b.ADVANCED||_e||(_e=Ui),(y=ve.charSpace||ds)!==void 0&&(er+=P(L(y))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ne=ve.horizontalScale)!==void 0&&(er+=P(100*ne)+` Tz
`),ve.lang;var qs=-1,Lc=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,Uc=Se.internal.getCurrentPageInfo().pageContext;switch(Lc){case 0:case!1:case"fill":qs=0;break;case 1:case!0:case"stroke":qs=1;break;case 2:case"fillThenStroke":qs=2;break;case 3:case"invisible":qs=3;break;case 4:case"fillAndAddForClipping":qs=4;break;case 5:case"strokeAndAddPathForClipping":qs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":qs=6;break;case 7:case"addToPathForClipping":qs=7}var vd=Uc.usedRenderingMode!==void 0?Uc.usedRenderingMode:-1;qs!==-1?er+=qs+` Tr
`:vd!==-1&&(er+=`0 Tr
`),qs!==-1&&(Uc.usedRenderingMode=qs),Dt=ve.align||"left";var cn,Ki=lt*$t,Go=Se.internal.pageSize.getWidth(),Tn=Bt[Ie];y=ve.charSpace||ds,D=ve.maxWidth||0,H=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var Ys=[],Fl=function(Kr){return Se.getStringUnitWidth(Kr,{font:Tn,charSpace:y,fontSize:lt,doKerning:!1})*lt/mr};if(Object.prototype.toString.call(S)==="[object Array]"){var Xs;nt=Zn(S),Dt!=="left"&&(cn=nt.map(Fl));var Cs,Ya=0;if(Dt==="right"){q-=cn[0],S=[],Nn=nt.length;for(var Xa=0;Xa<Nn;Xa++)Xa===0?(Cs=$s(q),Xs=go(ge)):(Cs=L(Ya-cn[Xa]),Xs=-Ki),S.push([nt[Xa],Cs,Xs]),Ya=cn[Xa]}else if(Dt==="center"){q-=cn[0]/2,S=[],Nn=nt.length;for(var zi=0;zi<Nn;zi++)zi===0?(Cs=$s(q),Xs=go(ge)):(Cs=L((Ya-cn[zi])/2),Xs=-Ki),S.push([nt[zi],Cs,Xs]),Ya=cn[zi]}else if(Dt==="left"){S=[],Nn=nt.length;for(var fi=0;fi<Nn;fi++)S.push(nt[fi])}else if(Dt==="justify"&&Tn.encoding==="Identity-H"){S=[],Nn=nt.length,D=D!==0?D:Go;for(var Ja=0,jn=0;jn<Nn;jn++)if(Xs=jn===0?go(ge):-Ki,Cs=jn===0?$s(q):Ja,jn<Nn-1){var Pl=L((D-cn[jn])/(nt[jn].split(" ").length-1)),Ms=nt[jn].split(" ");S.push([Ms[0]+" ",Cs,Xs]),Ja=0;for(var xo=1;xo<Ms.length;xo++){var Dc=(Fl(Ms[xo-1]+" "+Ms[xo])-Fl(Ms[xo]))*mr+Pl;xo==Ms.length-1?S.push([Ms[xo],Dc,0]):S.push([Ms[xo]+" ",Dc,0]),Ja-=Dc}}else S.push([nt[jn],Cs,Xs]);S.push(["",Ja,0])}else{if(Dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Nn=nt.length,D=D!==0?D:Go,jn=0;jn<Nn;jn++)Xs=jn===0?go(ge):-Ki,Cs=jn===0?$s(q):0,jn<Nn-1?Ys.push(P(L((D-cn[jn])/(nt[jn].split(" ").length-1)))):Ys.push(0),S.push([nt[jn],Cs,Xs])}}var gi=typeof ve.R2L=="boolean"?ve.R2L:me;gi===!0&&(S=yr(S,function(Kr,zr,Fn){return[Kr.split("").reverse().join(""),zr,Fn]})),Ve={text:S,x:q,y:ge,options:ve,mutex:{pdfEscape:Us,activeFontKey:Ie,fonts:Bt,activeFontSize:lt}},Ct.publish("postProcessText",Ve),S=Ve.text,Fr=Ve.mutex.isHex||!1;var Rc=Bt[Ie].encoding;Rc!=="WinAnsiEncoding"&&Rc!=="StandardEncoding"||(S=yr(S,function(Kr,zr,Fn){return[Sn(Kr),zr,Fn]})),nt=Zn(S),S=[];for(var TA,jA,Wo,FA=0,PA=1,Ll=Array.isArray(nt[0])?PA:FA,Za="",Mc=function(Kr,zr,Fn){var mn="";return Fn instanceof Qt?(Fn=typeof ve.angle=="number"?Hr(Fn,new Qt(1,0,0,1,Kr,zr)):Hr(new Qt(1,0,0,1,Kr,zr),Fn),E===b.ADVANCED&&(Fn=Hr(new Qt(1,0,0,-1,0,0),Fn)),mn=Fn.join(" ")+` Tm
`):mn=P(Kr)+" "+P(zr)+` Td
`,mn},Gi=0;Gi<nt.length;Gi++){switch(Za="",Ll){case PA:Wo=(Fr?"<":"(")+nt[Gi][0]+(Fr?">":")"),TA=parseFloat(nt[Gi][1]),jA=parseFloat(nt[Gi][2]);break;case FA:Wo=(Fr?"<":"(")+nt[Gi]+(Fr?">":")"),TA=$s(q),jA=go(ge)}Ys!==void 0&&Ys[Gi]!==void 0&&(Za=Ys[Gi]+` Tw
`),Gi===0?S.push(Za+Mc(TA,jA,_e)+Wo):Ll===FA?S.push(Za+Wo):Ll===PA&&S.push(Za+Mc(TA,jA,_e)+Wo)}S=Ll===FA?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Wi=`BT
/`;return Wi+=Ie+" "+lt+` Tf
`,Wi+=P(lt*$t)+` TL
`,Wi+=Ko+`
`,Wi+=er,Wi+=S,fe(Wi+="ET"),h[Ie]=!0,Se};var xa=f.__private__.clip=f.clip=function(S){return fe(S==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return xa("evenodd")},f.__private__.discardPath=f.discardPath=function(){return fe("n"),this};var uo=f.__private__.isValidStyle=function(S){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(q=!0),q};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(S){return uo(S)&&(c=S),this};var Nc=f.__private__.getStyle=f.getStyle=function(S){var q=c;switch(S){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=S}return q},Tc=f.close=function(){return fe("h"),this};f.stroke=function(){return fe("S"),this},f.fill=function(S){return Ws("f",S),this},f.fillEvenOdd=function(S){return Ws("f*",S),this},f.fillStroke=function(S){return Ws("B",S),this},f.fillStrokeEvenOdd=function(S){return Ws("B*",S),this};var Ws=function(S,q){Qr(q)==="object"?Ga(q,S):fe(S)},Ds=function(S){S===null||E===b.ADVANCED&&S===void 0||(S=Nc(S),fe(S))};function jc(S,q,ge,ve,Fe){var Ve=new sh(q||this.boundingBox,ge||this.xStep,ve||this.yStep,this.gState,Fe||this.matrix);Ve.stream=this.stream;var nt=S+"$$"+this.cloneIndex+++"$$";return En(nt,Ve),Ve}var Ga=function(S,q){var ge=us[S.key],ve=sr[ge];if(ve instanceof wu)fe("q"),fe(Wa(q)),ve.gState&&f.setGState(ve.gState),fe(S.matrix.toString()+" cm"),fe("/"+ge+" sh"),fe("Q");else if(ve instanceof sh){var Fe=new Qt(1,0,0,-1,0,zo());S.matrix&&(Fe=Fe.multiply(S.matrix||Ui),ge=jc.call(ve,S.key,S.boundingBox,S.xStep,S.yStep,Fe).id),fe("q"),fe("/Pattern cs"),fe("/"+ge+" scn"),ve.gState&&f.setGState(ve.gState),fe(q),fe("Q")}},Wa=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},El=f.moveTo=function(S,q){return fe(P(L(S))+" "+P(W(q))+" m"),this},Qi=f.lineTo=function(S,q){return fe(P(L(S))+" "+P(W(q))+" l"),this},di=f.curveTo=function(S,q,ge,ve,Fe,Ve){return fe([P(L(S)),P(W(q)),P(L(ge)),P(W(ve)),P(L(Fe)),P(W(Ve)),"c"].join(" ")),this};f.__private__.line=f.line=function(S,q,ge,ve,Fe){if(isNaN(S)||isNaN(q)||isNaN(ge)||isNaN(ve)||!uo(Fe))throw new Error("Invalid arguments passed to jsPDF.line");return E===b.COMPAT?this.lines([[ge-S,ve-q]],S,q,[1,1],Fe||"S"):this.lines([[ge-S,ve-q]],S,q,[1,1]).stroke()},f.__private__.lines=f.lines=function(S,q,ge,ve,Fe,Ve){var nt,kt,Dt,y,D,H,ne,_e,Se,at,er,Fr;if(typeof S=="number"&&(Fr=ge,ge=q,q=S,S=Fr),ve=ve||[1,1],Ve=Ve||!1,isNaN(q)||isNaN(ge)||!Array.isArray(S)||!Array.isArray(ve)||!uo(Fe)||typeof Ve!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(El(q,ge),nt=ve[0],kt=ve[1],y=S.length,at=q,er=ge,Dt=0;Dt<y;Dt++)(D=S[Dt]).length===2?(at=D[0]*nt+at,er=D[1]*kt+er,Qi(at,er)):(H=D[0]*nt+at,ne=D[1]*kt+er,_e=D[2]*nt+at,Se=D[3]*kt+er,at=D[4]*nt+at,er=D[5]*kt+er,di(H,ne,_e,Se,at,er));return Ve&&Tc(),Ds(Fe),this},f.path=function(S){for(var q=0;q<S.length;q++){var ge=S[q],ve=ge.c;switch(ge.op){case"m":El(ve[0],ve[1]);break;case"l":Qi(ve[0],ve[1]);break;case"c":di.apply(this,ve);break;case"h":Tc()}}return this},f.__private__.rect=f.rect=function(S,q,ge,ve,Fe){if(isNaN(S)||isNaN(q)||isNaN(ge)||isNaN(ve)||!uo(Fe))throw new Error("Invalid arguments passed to jsPDF.rect");return E===b.COMPAT&&(ve=-ve),fe([P(L(S)),P(W(q)),P(L(ge)),P(L(ve)),"re"].join(" ")),Ds(Fe),this},f.__private__.triangle=f.triangle=function(S,q,ge,ve,Fe,Ve,nt){if(isNaN(S)||isNaN(q)||isNaN(ge)||isNaN(ve)||isNaN(Fe)||isNaN(Ve)||!uo(nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ge-S,ve-q],[Fe-ge,Ve-ve],[S-Fe,q-Ve]],S,q,[1,1],nt,!0),this},f.__private__.roundedRect=f.roundedRect=function(S,q,ge,ve,Fe,Ve,nt){if(isNaN(S)||isNaN(q)||isNaN(ge)||isNaN(ve)||isNaN(Fe)||isNaN(Ve)||!uo(nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var kt=4/3*(Math.SQRT2-1);return Fe=Math.min(Fe,.5*ge),Ve=Math.min(Ve,.5*ve),this.lines([[ge-2*Fe,0],[Fe*kt,0,Fe,Ve-Ve*kt,Fe,Ve],[0,ve-2*Ve],[0,Ve*kt,-Fe*kt,Ve,-Fe,Ve],[2*Fe-ge,0],[-Fe*kt,0,-Fe,-Ve*kt,-Fe,-Ve],[0,2*Ve-ve],[0,-Ve*kt,Fe*kt,-Ve,Fe,-Ve]],S+Fe,q,[1,1],nt,!0),this},f.__private__.ellipse=f.ellipse=function(S,q,ge,ve,Fe){if(isNaN(S)||isNaN(q)||isNaN(ge)||isNaN(ve)||!uo(Fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ve=4/3*(Math.SQRT2-1)*ge,nt=4/3*(Math.SQRT2-1)*ve;return El(S+ge,q),di(S+ge,q-nt,S+Ve,q-ve,S,q-ve),di(S-Ve,q-ve,S-ge,q-nt,S-ge,q),di(S-ge,q+nt,S-Ve,q+ve,S,q+ve),di(S+Ve,q+ve,S+ge,q+nt,S+ge,q),Ds(Fe),this},f.__private__.circle=f.circle=function(S,q,ge,ve){if(isNaN(S)||isNaN(q)||isNaN(ge)||!uo(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,q,ge,ge,ve)},f.setFont=function(S,q,ge){return ge&&(q=O(q,ge)),Ie=jr(S,q,{disableWarning:!1}),this};var bA=f.__private__.getFont=f.getFont=function(){return Bt[jr.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var S,q,ge={};for(S in zt)if(zt.hasOwnProperty(S))for(q in ge[S]=[],zt[S])zt[S].hasOwnProperty(q)&&ge[S].push(q);return ge},f.addFont=function(S,q,ge,ve,Fe){var Ve=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ve.indexOf(arguments[3])!==-1?Fe=arguments[3]:arguments[3]&&Ve.indexOf(arguments[3])==-1&&(ge=O(ge,ve)),Fe=Fe||"Identity-H",ya.call(this,S,q,ge,Fe)};var ho,Rr=t.lineWidth||.200025,Il=f.__private__.getLineWidth=f.getLineWidth=function(){return Rr},Fc=f.__private__.setLineWidth=f.setLineWidth=function(S){return Rr=S,fe(P(L(S))+" w"),this};f.__private__.setLineDash=Zt.API.setLineDash=Zt.API.setLineDashPattern=function(S,q){if(S=S||[],q=q||0,isNaN(q)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(ge){return P(L(ge))}).join(" "),q=P(L(q)),fe("["+S+"] "+q+" d"),this};var pn=f.__private__.getLineHeight=f.getLineHeight=function(){return lt*ho};f.__private__.getLineHeight=f.getLineHeight=function(){return lt*ho};var BA=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(ho=S),this},fo=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return ho};BA(t.lineHeight);var $s=f.__private__.getHorizontalCoordinate=function(S){return L(S)},go=f.__private__.getVerticalCoordinate=function(S){return E===b.ADVANCED?S:At[se].mediaBox.topRightY-At[se].mediaBox.bottomLeftY-L(S)},Oi=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(S){return P($s(S))},Ho=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(S){return P(go(S))},Rs=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return bs(Rs)},f.__private__.setStrokeColor=f.setDrawColor=function(S,q,ge,ve){return Rs=ai({ch1:S,ch2:q,ch3:ge,ch4:ve,pdfColorType:"draw",precision:2}),fe(Rs),this};var hi=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return bs(hi)},f.__private__.setFillColor=f.setFillColor=function(S,q,ge,ve){return hi=ai({ch1:S,ch2:q,ch3:ge,ch4:ve,pdfColorType:"fill",precision:2}),fe(hi),this};var Ko=t.textColor||"0 g",CA=f.__private__.getTextColor=f.getTextColor=function(){return bs(Ko)};f.__private__.setTextColor=f.setTextColor=function(S,q,ge,ve){return Ko=ai({ch1:S,ch2:q,ch3:ge,ch4:ve,pdfColorType:"text",precision:3}),this};var ds=t.charSpace,$a=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(ds||0)};f.__private__.setCharSpace=f.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ds=S,this};var po=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(S){var q=f.CapJoinStyles[S];if(q===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return po=q,fe(q+" J"),this};var _A=0;f.__private__.setLineJoin=f.setLineJoin=function(S){var q=f.CapJoinStyles[S];if(q===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _A=q,fe(q+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(P(L(S))+" M"),this},f.GState=Fm,f.setGState=function(S){(S=typeof S=="string"?pr[Xn[S]]:kA(null,S)).equals(Xt)||(fe("/"+S.id+" gs"),Xt=S)};var kA=function(S,q){if(!S||!Xn[S]){var ge=!1;for(var ve in pr)if(pr.hasOwnProperty(ve)&&pr[ve].equals(q)){ge=!0;break}if(ge)q=pr[ve];else{var Fe="GS"+(Object.keys(pr).length+1).toString(10);pr[Fe]=q,q.id=Fe}return S&&(Xn[S]=q.id),Ct.publish("addGState",q),q}};f.addGState=function(S,q){return kA(S,q),this},f.saveGraphicsState=function(){return fe("q"),An.push({key:Ie,size:lt,color:Ko}),this},f.restoreGraphicsState=function(){fe("Q");var S=An.pop();return Ie=S.key,lt=S.size,Ko=S.color,Xt=null,this},f.setCurrentTransformationMatrix=function(S){return fe(S.toString()+" cm"),this},f.comment=function(S){return fe("#"+S),this};var mo=function(S,q){var ge=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ge},set:function(Ve){isNaN(Ve)||(ge=parseFloat(Ve))}});var ve=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Ve){isNaN(Ve)||(ve=parseFloat(Ve))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(Ve){Fe=Ve.toString()}}),this},Sl=function(S,q,ge,ve){mo.call(this,S,q),this.type="rect";var Fe=ge||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(nt){isNaN(nt)||(Fe=parseFloat(nt))}});var Ve=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ve},set:function(nt){isNaN(nt)||(Ve=parseFloat(nt))}}),this},Nl=function(){this.page=yt,this.currentPage=se,this.pages=De.slice(0),this.pagesContext=At.slice(0),this.x=qe,this.y=tt,this.matrix=Pt,this.width=yo(se),this.height=zo(se),this.outputDestination=We,this.id="",this.objectNumber=-1};Nl.prototype.restore=function(){yt=this.page,se=this.currentPage,At=this.pagesContext,De=this.pages,qe=this.x,tt=this.y,Pt=this.matrix,jl(se,this.width),Vi(se,this.height),We=this.outputDestination};var Tl=function(S,q,ge,ve,Fe){Hn.push(new Nl),yt=se=0,De=[],qe=S,tt=q,Pt=Fe,Mi([ge,ve])},EA=function(S){if(Vn[S])Hn.pop().restore();else{var q=new Nl,ge="Xo"+(Object.keys(ur).length+1).toString(10);q.id=ge,Vn[S]=ge,ur[ge]=q,Ct.publish("addFormObject",q),Hn.pop().restore()}};for(var qa in f.beginFormObject=function(S,q,ge,ve,Fe){return Tl(S,q,ge,ve,Fe),this},f.endFormObject=function(S){return EA(S),this},f.doFormObject=function(S,q){var ge=ur[Vn[S]];return fe("q"),fe(q.toString()+" cm"),fe("/"+ge.id+" Do"),fe("Q"),this},f.getFormObject=function(S){var q=ur[Vn[S]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},f.save=function(S,q){return S=S||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(Gd(za(Vo()),S),typeof Gd.unload=="function"&&rr.setTimeout&&setTimeout(Gd.unload,911),this):new Promise(function(ge,ve){try{var Fe=Gd(za(Vo()),S);typeof Gd.unload=="function"&&rr.setTimeout&&setTimeout(Gd.unload,911),ge(Fe)}catch(Ve){ve(Ve.message)}})},Zt.API)Zt.API.hasOwnProperty(qa)&&(qa==="events"&&Zt.API.events.length?function(S,q){var ge,ve,Fe;for(Fe=q.length-1;Fe!==-1;Fe--)ge=q[Fe][0],ve=q[Fe][1],S.subscribe.apply(S,[ge].concat(typeof ve=="function"?[ve]:ve))}(Ct,Zt.API.events):f[qa]=Zt.API[qa]);var yo=f.getPageWidth=function(S){return(At[S=S||se].mediaBox.topRightX-At[S].mediaBox.bottomLeftX)/je},jl=f.setPageWidth=function(S,q){At[S].mediaBox.topRightX=q*je+At[S].mediaBox.bottomLeftX},zo=f.getPageHeight=function(S){return(At[S=S||se].mediaBox.topRightY-At[S].mediaBox.bottomLeftY)/je},Vi=f.setPageHeight=function(S,q){At[S].mediaBox.topRightY=q*je+At[S].mediaBox.bottomLeftY};return f.internal={pdfEscape:Us,getStyle:Nc,getFont:bA,getFontSize:ct,getCharSpace:$a,getTextColor:CA,getLineHeight:pn,getLineHeightFactor:fo,getLineWidth:Il,write:Ht,getHorizontalCoordinate:$s,getVerticalCoordinate:go,getCoordinateString:Oi,getVerticalCoordinateString:Ho,collections:{},newObject:Mt,newAdditionalObject:In,newObjectDeferred:en,newObjectDeferredBegin:ws,getFilters:Gs,putStream:Bs,events:Ct,scaleFactor:je,pageSize:{getWidth:function(){return yo(se)},setWidth:function(S){jl(se,S)},getHeight:function(){return zo(se)},setHeight:function(S){Vi(se,S)}},encryptionOptions:u,encryption:gn,getEncryptor:co,output:va,getNumberOfPages:kc,pages:De,out:fe,f2:R,f3:I,getPageInfo:wA,getPageInfoByObjId:Gt,getCurrentPageInfo:Sc,getPDFVersion:v,Point:mo,Rectangle:Sl,Matrix:Qt,hasHotfix:Ao},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return yo(se)},set:function(S){jl(se,S)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return zo(se)},set:function(S){Vi(se,S)},enumerable:!0,configurable:!0}),Va.call(f,Ye),Ie="F1",ci(s,r),Ct.publish("initialized"),f}Vf.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Vf.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Vf.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Vf.prototype.processOwnerPassword=function(t,e){return kC(_C(e).substr(0,5),t)},Vf.prototype.encryptor=function(t,e){var r=_C(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return kC(r,n)}},Fm.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Qr(t)!==Qr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Zt.API={events:[]},Zt.version="3.0.1";var Gn=Zt.API,_k=1,Jh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ff=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},lr=function(t){return t.toFixed(2)},Au=function(t){return t.toFixed(5)};Gn.__acroform__={};var Qo=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},x3=function(t){return t*_k},zl=function(t){var e=new KM,r=Ut.internal.getHeight(t)||0,n=Ut.internal.getWidth(t)||0;return e.BBox=[0,0,Number(lr(n)),Number(lr(r))],e},aie=Gn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},lie=Gn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Aie=Gn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},os=Gn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Aie(t,e-1)},as=Gn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return aie(t,e-1)},ls=Gn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return lie(t,e-1)},cie=Gn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=t[0],i=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=r(s)||0,l.lowerLeft_Y=n(i+a)||0,l.upperRight_X=r(s+o)||0,l.upperRight_Y=n(i)||0,[Number(lr(l.lowerLeft_X)),Number(lr(l.lowerLeft_Y)),Number(lr(l.upperRight_X)),Number(lr(l.upperRight_Y))]},uie=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=EC(t,r),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+lr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=zl(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},EC=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(I){return I.split(`
`)}):s.map(function(I){return[I]});var i=r,o=Ut.internal.getHeight(t)||0;o=o<0?-o:o;var a=Ut.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(I,L,M){if(I+1<s.length){var W=L+" "+s[I+1][0];return Tv(W,t,M).width<=a-4}return!1};i++;e:for(;i>0;){e="",i--;var c,u,d=Tv("3",t,i).height,h=t.multiline?o-i:(o-d)/2,f=h+=2,m=0,v=0,_=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Tv(e,t,i=12).width+", FieldWidth:"+a+`
`;break}for(var x="",b=0,E=0;E<s.length;E++)if(s.hasOwnProperty(E)){var N=!1;if(s[E].length!==1&&_!==s[E].length-1){if((d+2)*(b+2)+2>o)continue e;x+=s[E][_],N=!0,v=E,E--}else{x=(x+=s[E][_]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var j=parseInt(E),O=l(j,x,i),P=E>=s.length-1;if(O&&!P){x+=" ",_=0;continue}if(O||P){if(P)v=j;else if(t.multiline&&(d+2)*(b+2)+2>o)continue e}else{if(!t.multiline||(d+2)*(b+2)+2>o)continue e;v=j}}for(var T="",U=m;U<=v;U++){var R=s[U];if(t.multiline){if(U===v){T+=R[_]+" ",_=(_+1)%R.length;continue}if(U===m){T+=R[R.length-1]+" ";continue}}T+=R[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,u=Tv(T,t,i).width,t.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;case"left":default:c=2}e+=lr(c)+" "+lr(f)+` Td
`,e+="("+Jh(T)+`) Tj
`,e+=-lr(c)+` 0 Td
`,f=-(i+2),u=0,m=N?v:v+1,b++,x=""}break}return n.text=e,n.fontSize=i,n},Tv=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},die={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hie=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},fie=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,s=t[r];e.internal.newObjectDeferredBegin(s.objId,!0),Qr(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[n]}},gie=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(wl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(die)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_k=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new zM,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&hie(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var a=n[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=cie(a.Rect,s)),s.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ut.createDefaultAppearanceStream(a),Qr(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=uie(a);l.push({key:"AP",value:"<</N "+u+">>"}),s.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var h in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(h)){var f=a.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var m=f[o];typeof m=="function"&&(m=m.call(s,a)),d+="/"+o+" "+m+" ",s.internal.acroformPlugin.xForms.indexOf(m)>=0||s.internal.acroformPlugin.xForms.push(m)}}else typeof(m=f)=="function"&&(m=m.call(s,a)),d+="/"+o+" "+m,s.internal.acroformPlugin.xForms.indexOf(m)>=0||s.internal.acroformPlugin.xForms.push(m);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:a.objId}),s.internal.out("endobj")}i&&fie(s.internal.acroformPlugin.xForms,s)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},HM=Gn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),Qr(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),s+="("+Jh(n(t[i].toString()))+")"):s+=t[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},tB=function(t,e,r){var n=function(s){return s};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Jh(n(t))+")"},Zl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Zl.prototype.toString=function(){return this.objId+" 0 R"},Zl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Zl.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],s=this[n];s&&(Array.isArray(s)?t.push({key:n,value:HM(s,this.objId,this.scope)}):s instanceof Zl?(s.scope=this.scope,t.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:n,value:s}))}return t};var KM=function(){Zl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Qo(KM,Zl);var zM=function(){Zl.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Jh(r(t))+")"}},set:function(r){t=r}})};Qo(zM,Zl);var wl=function t(){Zl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!os(e,3)},set:function(x){x?this.F=as(e,3):this.F=ls(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Ox)return;i="FieldObject"+t.FieldNum++}var x=function(b){return b};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Jh(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/_k:c},set:function(x){c=x}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Ox||this instanceof Wu))return tB(d,this.objId,this.scope)},set:function(x){x=x.toString(),d=x}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ns?h:tB(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=this instanceof Ns?x:x.substr(0,1)==="("?Ff(x.substr(1,x.length-2)):Ff(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ns?Ff(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof Ns?"/"+x:x}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ns?f:tB(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=this instanceof Ns?x:x.substr(0,1)==="("?Ff(x.substr(1,x.length-2)):Ff(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ns?Ff(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof Ns?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(x){x=!!x,v=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(x){m=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!os(this.Ff,1)},set:function(x){x?this.Ff=as(this.Ff,1):this.Ff=ls(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!os(this.Ff,2)},set:function(x){x?this.Ff=as(this.Ff,2):this.Ff=ls(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!os(this.Ff,3)},set:function(x){x?this.Ff=as(this.Ff,3):this.Ff=ls(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');_=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(_){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:_=2;break;case"center":case 1:_=1;break;case"left":case 0:default:_=0}}})};Qo(wl,Zl);var hh=function(){wl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return HM(e,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,o,a){a||(a=1);for(var l,c=[];l=o.exec(i);)c.push(l[a]);return c}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!os(this.Ff,18)},set:function(r){r?this.Ff=as(this.Ff,18):this.Ff=ls(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!os(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=as(this.Ff,19):this.Ff=ls(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!os(this.Ff,20)},set:function(r){r?(this.Ff=as(this.Ff,20),e.sort()):this.Ff=ls(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!os(this.Ff,22)},set:function(r){r?this.Ff=as(this.Ff,22):this.Ff=ls(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!os(this.Ff,23)},set:function(r){r?this.Ff=as(this.Ff,23):this.Ff=ls(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!os(this.Ff,27)},set:function(r){r?this.Ff=as(this.Ff,27):this.Ff=ls(this.Ff,27)}}),this.hasAppearanceStream=!1};Qo(hh,wl);var fh=function(){hh.call(this),this.fontName="helvetica",this.combo=!1};Qo(fh,hh);var gh=function(){fh.call(this),this.combo=!0};Qo(gh,fh);var U0=function(){gh.call(this),this.edit=!0};Qo(U0,gh);var Ns=function(){wl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!os(this.Ff,15)},set:function(r){r?this.Ff=as(this.Ff,15):this.Ff=ls(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!os(this.Ff,16)},set:function(r){r?this.Ff=as(this.Ff,16):this.Ff=ls(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!os(this.Ff,17)},set:function(r){r?this.Ff=as(this.Ff,17):this.Ff=ls(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!os(this.Ff,26)},set:function(r){r?this.Ff=as(this.Ff,26):this.Ff=ls(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+Jh(r(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Qr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Qo(Ns,wl);var D0=function(){Ns.call(this),this.pushButton=!0};Qo(D0,Ns);var ph=function(){Ns.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Qo(ph,Ns);var Ox=function(){var t,e;wl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(a){return a};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Jh(s(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){Qr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ut.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qo(Ox,wl),ph.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},ph.prototype.createOption=function(t){var e=new Ox;return e.Parent=this,e.optionName=t,this.Kids.push(e),pie.call(this.scope,e),e};var R0=function(){Ns.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ut.CheckBox.createAppearanceStream()};Qo(R0,Ns);var Wu=function(){wl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!os(this.Ff,13)},set:function(e){e?this.Ff=as(this.Ff,13):this.Ff=ls(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!os(this.Ff,21)},set:function(e){e?this.Ff=as(this.Ff,21):this.Ff=ls(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!os(this.Ff,23)},set:function(e){e?this.Ff=as(this.Ff,23):this.Ff=ls(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!os(this.Ff,24)},set:function(e){e?this.Ff=as(this.Ff,24):this.Ff=ls(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!os(this.Ff,25)},set:function(e){e?this.Ff=as(this.Ff,25):this.Ff=ls(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!os(this.Ff,26)},set:function(e){e?this.Ff=as(this.Ff,26):this.Ff=ls(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qo(Wu,wl);var M0=function(){Wu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!os(this.Ff,14)},set:function(t){t?this.Ff=as(this.Ff,14):this.Ff=ls(this.Ff,14)}}),this.password=!0};Qo(M0,Wu);var Ut={CheckBox:{createAppearanceStream:function(){return{N:{On:Ut.CheckBox.YesNormal},D:{On:Ut.CheckBox.YesPushDown,Off:Ut.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=zl(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=EC(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+lr(Ut.internal.getWidth(t))+" "+lr(Ut.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+lr(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=zl(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),s=[],i=Ut.internal.getHeight(t),o=Ut.internal.getWidth(t),a=EC(t,t.caption);return s.push("1 g"),s.push("0 0 "+lr(o)+" "+lr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+lr(o-1)+" "+lr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+lr(a.fontSize)+" Tf "+n),s.push(a.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=zl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+lr(Ut.internal.getWidth(t))+" "+lr(Ut.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ut.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ut.RadioButton.Circle.YesNormal,e.D[t]=Ut.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=zl(t);e.scope=t.scope;var r=[],n=Ut.internal.getWidth(t)<=Ut.internal.getHeight(t)?Ut.internal.getWidth(t)/4:Ut.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Ut.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Au(Ut.internal.getWidth(t)/2)+" "+Au(Ut.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=zl(t);e.scope=t.scope;var r=[],n=Ut.internal.getWidth(t)<=Ut.internal.getHeight(t)?Ut.internal.getWidth(t)/4:Ut.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Ut.internal.Bezier_C).toFixed(5)),o=Number((n*Ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Au(Ut.internal.getWidth(t)/2)+" "+Au(Ut.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Au(Ut.internal.getWidth(t)/2)+" "+Au(Ut.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=zl(t);e.scope=t.scope;var r=[],n=Ut.internal.getWidth(t)<=Ut.internal.getHeight(t)?Ut.internal.getWidth(t)/4:Ut.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Au(Ut.internal.getWidth(t)/2)+" "+Au(Ut.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ut.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ut.RadioButton.Cross.YesNormal,e.D[t]=Ut.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=zl(t);e.scope=t.scope;var r=[],n=Ut.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+lr(Ut.internal.getWidth(t)-2)+" "+lr(Ut.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(lr(n.x1.x)+" "+lr(n.x1.y)+" m"),r.push(lr(n.x2.x)+" "+lr(n.x2.y)+" l"),r.push(lr(n.x4.x)+" "+lr(n.x4.y)+" m"),r.push(lr(n.x3.x)+" "+lr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=zl(t);e.scope=t.scope;var r=Ut.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+lr(Ut.internal.getWidth(t))+" "+lr(Ut.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+lr(Ut.internal.getWidth(t)-2)+" "+lr(Ut.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(lr(r.x1.x)+" "+lr(r.x1.y)+" m"),n.push(lr(r.x2.x)+" "+lr(r.x2.y)+" l"),n.push(lr(r.x4.x)+" "+lr(r.x4.y)+" m"),n.push(lr(r.x3.x)+" "+lr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=zl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+lr(Ut.internal.getWidth(t))+" "+lr(Ut.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Ut.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ut.internal.getWidth(t),r=Ut.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Ut.internal.getWidth=function(t){var e=0;return Qr(t)==="object"&&(e=x3(t.Rect[2])),e},Ut.internal.getHeight=function(t){var e=0;return Qr(t)==="object"&&(e=x3(t.Rect[3])),e};var pie=Gn.addField=function(t){if(gie(this,t),!(t instanceof wl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Gn.AcroFormChoiceField=hh,Gn.AcroFormListBox=fh,Gn.AcroFormComboBox=gh,Gn.AcroFormEditBox=U0,Gn.AcroFormButton=Ns,Gn.AcroFormPushButton=D0,Gn.AcroFormRadioButton=ph,Gn.AcroFormCheckBox=R0,Gn.AcroFormTextField=Wu,Gn.AcroFormPasswordField=M0,Gn.AcroFormAppearance=Ut,Gn.AcroForm={ChoiceField:hh,ListBox:fh,ComboBox:gh,EditBox:U0,Button:Ns,PushButton:D0,RadioButton:ph,CheckBox:R0,TextField:Wu,PasswordField:M0,Appearance:Ut},Zt.AcroForm={ChoiceField:hh,ListBox:fh,ComboBox:gh,EditBox:U0,Button:Ns,PushButton:D0,RadioButton:ph,CheckBox:R0,TextField:Wu,PasswordField:M0,Appearance:Ut};var mie=Zt.AcroForm;function GM(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(I,L){var M,W,X,Z,ce,G=e;if((L=L||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(O(I))for(ce in r)for(X=r[ce],M=0;M<X.length;M+=1){for(Z=!0,W=0;W<X[M].length;W+=1)if(X[M][W]!==void 0&&X[M][W]!==I[W]){Z=!1;break}if(Z===!0){G=ce;break}}else for(ce in r)for(X=r[ce],M=0;M<X.length;M+=1){for(Z=!0,W=0;W<X[M].length;W+=1)if(X[M][W]!==void 0&&X[M][W]!==I.charCodeAt(W)){Z=!1;break}if(Z===!0){G=ce;break}}return G===e&&L!==e&&(G=L),G},s=function I(L){for(var M=this.internal.write,W=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:L.width}),Z.push({key:"Height",value:L.height}),L.colorSpace===_.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===_.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var ce="",G=0,Y=L.transparency.length;G<Y;G++)ce+=L.transparency[G]+" "+L.transparency[G]+" ";Z.push({key:"Mask",value:"["+ce+"]"})}L.sMask!==void 0&&Z.push({key:"SMask",value:L.objectId+1+" 0 R"});var ue=L.filter!==void 0?["/"+L.filter]:void 0;if(W({data:L.data,additionalKeyValues:Z,alreadyAppliedFilters:ue,objectId:L.objectId}),M("endobj"),"sMask"in L&&L.sMask!==void 0){var ke="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,K={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:ke,data:L.sMask};"filter"in L&&(K.filter=L.filter),I.call(this,K)}if(L.colorSpace===_.INDEXED){var se=this.internal.newObject();W({data:T(new Uint8Array(L.palette)),objectId:se}),M("endobj")}},i=function(){var I=this.internal.collections.addImage_images;for(var L in I)s.call(this,I[L])},o=function(){var I,L=this.internal.collections.addImage_images,M=this.internal.write;for(var W in L)M("/I"+(I=L[W]).index,I.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var I=this.internal.collections.addImage_images;return a.call(this),I},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(I){return typeof t["process"+I.toUpperCase()]=="function"},d=function(I){return Qr(I)==="object"&&I.nodeType===1},h=function(I,L){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var M=""+I.getAttribute("src");if(M.indexOf("data:image/")===0)return L0(unescape(M).split("base64,").pop());var W=t.loadFile(M,!0);if(W!==void 0)return W}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var X;switch(L){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;case"JPEG":case"JPG":default:X="image/jpeg"}return L0(I.toDataURL(X,1).split("base64,").pop())}},f=function(I){var L=this.internal.collections.addImage_images;if(L){for(var M in L)if(I===L[M].alias)return L[M]}},m=function(I,L,M){return I||L||(I=-96,L=-96),I<0&&(I=-1*M.width*72/I/this.internal.scaleFactor),L<0&&(L=-1*M.height*72/L/this.internal.scaleFactor),I===0&&(I=L*M.width/M.height),L===0&&(L=I*M.height/M.width),[I,L]},v=function(I,L,M,W,X,Z){var ce=m.call(this,M,W,X),G=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,ue=l.call(this);if(M=ce[0],W=ce[1],ue[X.index]=X,Z){Z*=Math.PI/180;var ke=Math.cos(Z),K=Math.sin(Z),se=function(he){return he.toFixed(4)},ae=[se(ke),se(K),se(-1*K),se(ke),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,G(I),Y(L+W),"cm"].join(" ")),this.internal.write(ae.join(" ")),this.internal.write([G(M),"0","0",G(W),"0","0","cm"].join(" "))):this.internal.write([G(M),"0","0",G(W),G(I),Y(L+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},_=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(I){var L,M,W=0;if(typeof I=="string")for(M=I.length,L=0;L<M;L++)W=(W<<5)-W+I.charCodeAt(L),W|=0;else if(O(I))for(M=I.byteLength/2,L=0;L<M;L++)W=(W<<5)-W+I[L],W|=0;return W},E=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var L=!0;return I.length===0&&(L=!1),I.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(L=!1),L},N=t.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var L=I.indexOf(",");return L<0?null:I.substring(0,L).trim().endsWith("base64")?I.substring(L+1):null},j=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(I){return j()&&I instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(I){return j()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},P=t.__addimage__.binaryStringToUint8Array=function(I){for(var L=I.length,M=new Uint8Array(L),W=0;W<L;W++)M[W]=I.charCodeAt(W);return M},T=t.__addimage__.arrayBufferToBinaryString=function(I){for(var L="",M=O(I)?I:new Uint8Array(I),W=0;W<M.length;W+=8192)L+=String.fromCharCode.apply(null,M.subarray(W,W+8192));return L};t.addImage=function(){var I,L,M,W,X,Z,ce,G,Y;if(typeof arguments[1]=="number"?(L=e,M=arguments[1],W=arguments[2],X=arguments[3],Z=arguments[4],ce=arguments[5],G=arguments[6],Y=arguments[7]):(L=arguments[1],M=arguments[2],W=arguments[3],X=arguments[4],Z=arguments[5],ce=arguments[6],G=arguments[7],Y=arguments[8]),Qr(I=arguments[0])==="object"&&!d(I)&&"imageData"in I){var ue=I;I=ue.imageData,L=ue.format||L||e,M=ue.x||M||0,W=ue.y||W||0,X=ue.w||ue.width||X,Z=ue.h||ue.height||Z,ce=ue.alias||ce,G=ue.compression||G,Y=ue.rotation||ue.angle||Y}var ke=this.internal.getFilters();if(G===void 0&&ke.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(M)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var K=U.call(this,I,L,ce,G);return v.call(this,M,W,X,Z,K,Y),this};var U=function(I,L,M,W){var X,Z,ce;if(typeof I=="string"&&n(I)===e){I=unescape(I);var G=R(I,!1);(G!==""||(G=t.loadFile(I,!0))!==void 0)&&(I=G)}if(d(I)&&(I=h(I,L)),L=n(I,L),!u(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((ce=M)==null||ce.length===0)&&(M=function(Y){return typeof Y=="string"||O(Y)?b(Y):O(Y.data)?b(Y.data):null}(I)),(X=f.call(this,M))||(j()&&(I instanceof Uint8Array||L==="RGBA"||(Z=I,I=P(I))),X=this["process"+L.toUpperCase()](I,c.call(this),M,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in t.image_compression?Y:x.NONE}(W),Z)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},R=t.__addimage__.convertBase64ToBinaryString=function(I,L){L=typeof L!="boolean"||L;var M,W="";if(typeof I=="string"){var X;M=(X=N(I))!==null&&X!==void 0?X:I;try{W=L0(M)}catch(Z){if(L)throw E(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};t.getImageProperties=function(I){var L,M,W="";if(d(I)&&(I=h(I)),typeof I=="string"&&n(I)===e&&((W=R(I,!1))===""&&(W=t.loadFile(I)||""),I=W),M=n(I),!u(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(!j()||I instanceof Uint8Array||(I=P(I)),!(L=this["process"+M.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=M,L}})(Zt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Zt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,s,i,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((n=c[d]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var f=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(v.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+f(x(n.contents))+")",i+=" /Popup "+_.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+f(x(b))+") >>",v.content=i;var E=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+E,n.open&&(i+=" /Open true"),i+=" >>",_.content=i,this.internal.write(v.objId,"0 R",_.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var N=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+f(m(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var j=this.annotations._nameMap[n.options.name];n.options.pageNumber=j.page,n.options.top=j.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+f(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var O=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,s,i,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+s),h:c(n+i)},options:o,type:"link"})},t.textWithLink=function(r,n,s,i){var o,a,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){a=i.maxWidth;var u=this.splitTextToSize(r,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(r,n,s,i),s+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,s-c,a,o,i),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Zt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},a=t.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&i(v)&&e[v.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&s.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&i(v)&&e[v.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&i(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&i(v)&&e[v.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&i(v)&&e[v.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(v){var _=0,x=r,b="",E=0;for(_=0;_<v.length;_+=1)x[v.charCodeAt(_)]!==void 0?(E++,typeof(x=x[v.charCodeAt(_)])=="number"&&(b+=String.fromCharCode(x),x=r,E=0),_===v.length-1&&(x=r,b+=v.charAt(_-(E-1)),_-=E-1,E=0)):(x=r,b+=v.charAt(_-E),_-=E,E=0);return b};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(v,_,x){return o(v)?i(v)===!1?-1:!c(v)||!o(_)&&!o(x)||!o(x)&&a(_)||a(v)&&!o(_)||a(v)&&l(_)||a(v)&&a(_)?0:u(v)&&o(_)&&!a(_)&&o(x)&&c(x)?3:a(v)||!o(x)?1:2:-1},f=function(v){var _=0,x=0,b=0,E="",N="",j="",O=(v=v||"").split("\\s+"),P=[];for(_=0;_<O.length;_+=1){for(P.push(""),x=0;x<O[_].length;x+=1)E=O[_][x],N=O[_][x-1],j=O[_][x+1],o(E)?(b=h(E,N,j),P[_]+=b!==-1?String.fromCharCode(e[E.charCodeAt(0)][b]):E):P[_]+=E;P[_]=d(P[_])}return P.join(" ")},m=t.__arabicParser__.processArabic=t.processArabic=function(){var v,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(_)){var b=0;for(x=[],b=0;b<_.length;b+=1)Array.isArray(_[b])?x.push([f(_[b][0]),_[b][1],_[b][2]]):x.push([f(_[b])]);v=x}else v=f(_);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",m])}(Zt.API),Zt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(a){s=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(a){i=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Zt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(v){m=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,f=0,m=0,v=0,_=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=c.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(E,N){return E.concat(_.splitTextToSize(N,x))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)f<(v=this.getStringUnitWidth(l[b],{font:d})*u)&&(f=v);return f!==0&&(m=l.length),{w:f/=h,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,d,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,m,v,_,x=[],b=[],E=[],N={},j={},O=[],P=[],T=(h=h||{}).autoSize||!1,U=h.printHeaders!==!1,R=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,I=h.margins||Object.assign({width:this.getPageWidth()},e),L=typeof h.padding=="number"?h.padding:3,M=h.headerBackgroundColor||"#c8c8c8",W=h.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=W,this.setFontSize(R),d==null)b=x=Object.keys(u[0]),E=x.map(function(){return"left"});else if(Array.isArray(d)&&Qr(d[0])==="object")for(x=d.map(function(ue){return ue.name}),b=d.map(function(ue){return ue.prompt||ue.name||""}),E=d.map(function(ue){return ue.align||"left"}),f=0;f<d.length;f+=1)j[d[f].name]=d[f].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(b=x=d,E=x.map(function(){return"left"}));if(T||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<x.length;f+=1){for(N[_=x[f]]=u.map(function(ue){return ue[_]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(b[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=N[_],this.setFont(void 0,"normal"),v=0;v<m.length;v+=1)O.push(this.getTextDimensions(m[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[_]=Math.max.apply(null,O)+L+L,O=[]}if(U){var X={};for(f=0;f<x.length;f+=1)X[x[f]]={},X[x[f]].text=b[f],X[x[f]].align=E[f];var Z=a.call(this,X,j);P=x.map(function(ue){return new i(l,c,j[ue],Z,X[ue].text,void 0,X[ue].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var ce=d.reduce(function(ue,ke){return ue[ke.name]=ke.align,ue},{});for(f=0;f<u.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:u[f]},this);var G=a.call(this,u[f],j);for(v=0;v<x.length;v+=1){var Y=u[f][x[v]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:v,data:Y},this),o.call(this,new i(l,c,j[x[v]],G,Y,f+2,ce[x[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(f){var m=l[f];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/h+u+u},this).reduce(function(f,m){return Math.max(f,m)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Zt.API);var WM={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$M=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],IC=GM($M),qM=[100,200,300,400,500,600,700,800,900],yie=GM(qM);function SC(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return WM[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(i){return typeof IC[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,r,n].join(" ")}}}function w3(t,e,r,n){var s;for(s=r;s>=0&&s<e.length;s+=n)if(t[e[s]])return t[e[s]];for(s=r;s>=0&&s<e.length;s-=n)if(t[e[s]])return t[e[s]]}var vie={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},b3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function B3(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function xie(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},vie,r.genericFontFamilies||{}),i=null,o=null,a=0;a<e.length;++a)if(s[(i=SC(e[a])).family]&&(i.family=s[i.family]),t.hasOwnProperty(i.family)){o=t[i.family];break}if(!(o=o||t[n]))throw new Error("Could not find a font-family for the rule '"+B3(i)+"' and default family '"+n+"'.");if(o=function(l,c){if(c[l])return c[l];var u=IC[l],d=u<=IC.normal?-1:1,h=w3(c,$M,u,d);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=WM[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(i.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=yie[l],d=w3(c,qM,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+B3(i)+"'.");return o}function C3(t){return t.trimLeft()}function wie(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function bie(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var jv,_3,k3,rB=["times"];(function(t){var e,r,n,s,i,o,a,l,c,u=function(K){return K=K||{},this.isStrokeTransparent=K.isStrokeTransparent||!1,this.strokeOpacity=K.strokeOpacity||1,this.strokeStyle=K.strokeStyle||"#000000",this.fillStyle=K.fillStyle||"#000000",this.isFillTransparent=K.isFillTransparent||!1,this.fillOpacity=K.fillOpacity||1,this.font=K.font||"10px sans-serif",this.textBaseline=K.textBaseline||"alphabetic",this.textAlign=K.textAlign||"left",this.lineWidth=K.lineWidth||1,this.lineJoin=K.lineJoin||"miter",this.lineCap=K.lineCap||"butt",this.path=K.path||[],this.transform=K.transform!==void 0?K.transform.clone():new l,this.globalCompositeOperation=K.globalCompositeOperation||"normal",this.globalAlpha=K.globalAlpha||1,this.clip_path=K.clip_path||[],this.currentPoint=K.currentPoint||new o,this.miterLimit=K.miterLimit||10,this.lastPoint=K.lastPoint||new o,this.lineDashOffset=K.lineDashOffset||0,this.lineDash=K.lineDash||[],this.margin=K.margin||[0,0,0,0],this.prevPageLastElemOffset=K.prevPageLastElemOffset||0,this.ignoreClearRect=typeof K.ignoreClearRect!="boolean"||K.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(K){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var se=K;Object.defineProperty(this,"pdf",{get:function(){return se}});var ae=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ae},set:function(Me){ae=!!Me}});var he=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return he},set:function(Me){he=!!Me}});var ye=0;Object.defineProperty(this,"posX",{get:function(){return ye},set:function(Me){isNaN(Me)||(ye=Me)}});var Ce=0;Object.defineProperty(this,"posY",{get:function(){return Ce},set:function(Me){isNaN(Me)||(Ce=Me)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Me){var fe;typeof Me=="number"?fe=[Me,Me,Me,Me]:((fe=new Array(4))[0]=Me[0],fe[1]=Me.length>=2?Me[1]:fe[0],fe[2]=Me.length>=3?Me[2]:fe[0],fe[3]=Me.length>=4?Me[3]:fe[1]),c.margin=fe}});var Te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Te},set:function(Me){Te=Me}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(Me){pe=Me}});var Qe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Qe},set:function(Me){Qe=Me}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Me){Me instanceof u&&(c=Me)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Me){c.path=Me}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(Me){De=Me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Me){var fe;fe=h(Me),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=fe.a===0,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Me){var fe=h(Me);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=fe.a===0,this.ctx.strokeOpacity=fe.a,fe.a===0?this.pdf.setDrawColor(255,255,255):(fe.a,this.pdf.setDrawColor(fe.r,fe.g,fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Me){["butt","round","square"].indexOf(Me)!==-1&&(this.ctx.lineCap=Me,this.pdf.setLineCap(Me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Me){isNaN(Me)||(this.ctx.lineWidth=Me,this.pdf.setLineWidth(Me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Me){["bevel","round","miter"].indexOf(Me)!==-1&&(this.ctx.lineJoin=Me,this.pdf.setLineJoin(Me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Me){isNaN(Me)||(this.ctx.miterLimit=Me,this.pdf.setMiterLimit(Me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Me){this.ctx.textBaseline=Me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Me){["right","end","center","left","start"].indexOf(Me)!==-1&&(this.ctx.textAlign=Me)}});var Oe=null;function We(Me,fe){if(Oe===null){var Ht=function(ft){var Ye=[];return Object.keys(ft).forEach(function(lt){ft[lt].forEach(function(gt){var ct=null;switch(gt){case"bold":ct={family:lt,weight:"bold"};break;case"italic":ct={family:lt,style:"italic"};break;case"bolditalic":ct={family:lt,weight:"bold",style:"italic"};break;case"":case"normal":ct={family:lt}}ct!==null&&(ct.ref={name:lt,style:gt},Ye.push(ct))})}),Ye}(Me.getFontList());Oe=function(ft){for(var Ye={},lt=0;lt<ft.length;++lt){var gt=SC(ft[lt]),ct=gt.family,me=gt.stretch,ze=gt.style,ot=gt.weight;Ye[ct]=Ye[ct]||{},Ye[ct][me]=Ye[ct][me]||{},Ye[ct][me][ze]=Ye[ct][me][ze]||{},Ye[ct][me][ze][ot]=gt}return Ye}(Ht.concat(fe))}return Oe}var mt=null;Object.defineProperty(this,"fontFaces",{get:function(){return mt},set:function(Me){Oe=null,mt=Me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Me){var fe;if(this.ctx.font=Me,(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Me))!==null){var Ht=fe[1];fe[2];var ft=fe[3],Ye=fe[4];fe[5];var lt=fe[6],gt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ye)[2];Ye=Math.floor(gt==="px"?parseFloat(Ye)*this.pdf.internal.scaleFactor:gt==="em"?parseFloat(Ye)*this.pdf.getFontSize():parseFloat(Ye)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ye);var ct=function(vt){var Ie,je,qe=[],tt=vt.trim();if(tt==="")return rB;if(tt in b3)return[b3[tt]];for(;tt!=="";){switch(je=null,Ie=(tt=C3(tt)).charAt(0)){case'"':case"'":je=wie(tt.substring(1),Ie);break;default:je=bie(tt)}if(je===null||(qe.push(je[0]),(tt=C3(je[1]))!==""&&tt.charAt(0)!==","))return rB;tt=tt.replace(/^,/,"")}return qe}(lt);if(this.fontFaces){var me=xie(We(this.pdf,this.fontFaces),ct.map(function(vt){return{family:vt,stretch:"normal",weight:ft,style:Ht}}));this.pdf.setFont(me.ref.name,me.ref.style)}else{var ze="";(ft==="bold"||parseInt(ft,10)>=700||Ht==="bold")&&(ze="bold"),Ht==="italic"&&(ze+="italic"),ze.length===0&&(ze="normal");for(var ot="",st={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},et=0;et<ct.length;et++){if(this.pdf.internal.getFont(ct[et],ze,{noFallback:!0,disableWarning:!0})!==void 0){ot=ct[et];break}if(ze==="bolditalic"&&this.pdf.internal.getFont(ct[et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ot=ct[et],ze="bold";else if(this.pdf.internal.getFont(ct[et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ot=ct[et],ze="normal";break}}if(ot===""){for(var ht=0;ht<ct.length;ht++)if(st[ct[ht]]){ot=st[ct[ht]];break}}ot=ot===""?"Times":ot,this.pdf.setFont(ot,ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Me){this.ctx.globalCompositeOperation=Me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Me){this.ctx.globalAlpha=Me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Me){this.ctx.lineDashOffset=Me,ke.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Me){this.ctx.lineDash=Me,ke.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Me){this.ctx.ignoreClearRect=!!Me}})};d.prototype.setLineDash=function(K){this.lineDash=K},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){N.call(this,"fill",!1)},d.prototype.stroke=function(){N.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(K,se){if(isNaN(K)||isNaN(se))throw nn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ae=this.ctx.transform.applyToPoint(new o(K,se));this.path.push({type:"mt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(K,se)},d.prototype.closePath=function(){var K=new o(0,0),se=0;for(se=this.path.length-1;se!==-1;se--)if(this.path[se].type==="begin"&&Qr(this.path[se+1])==="object"&&typeof this.path[se+1].x=="number"){K=new o(this.path[se+1].x,this.path[se+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(K.x,K.y)},d.prototype.lineTo=function(K,se){if(isNaN(K)||isNaN(se))throw nn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ae=this.ctx.transform.applyToPoint(new o(K,se));this.path.push({type:"lt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(ae.x,ae.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},d.prototype.quadraticCurveTo=function(K,se,ae,he){if(isNaN(ae)||isNaN(he)||isNaN(K)||isNaN(se))throw nn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ye=this.ctx.transform.applyToPoint(new o(ae,he)),Ce=this.ctx.transform.applyToPoint(new o(K,se));this.path.push({type:"qct",x1:Ce.x,y1:Ce.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new o(ye.x,ye.y)},d.prototype.bezierCurveTo=function(K,se,ae,he,ye,Ce){if(isNaN(ye)||isNaN(Ce)||isNaN(K)||isNaN(se)||isNaN(ae)||isNaN(he))throw nn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Te=this.ctx.transform.applyToPoint(new o(ye,Ce)),pe=this.ctx.transform.applyToPoint(new o(K,se)),Qe=this.ctx.transform.applyToPoint(new o(ae,he));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:Qe.x,y2:Qe.y,x:Te.x,y:Te.y}),this.ctx.lastPoint=new o(Te.x,Te.y)},d.prototype.arc=function(K,se,ae,he,ye,Ce){if(isNaN(K)||isNaN(se)||isNaN(ae)||isNaN(he)||isNaN(ye))throw nn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ce=!!Ce,!this.ctx.transform.isIdentity){var Te=this.ctx.transform.applyToPoint(new o(K,se));K=Te.x,se=Te.y;var pe=this.ctx.transform.applyToPoint(new o(0,ae)),Qe=this.ctx.transform.applyToPoint(new o(0,0));ae=Math.sqrt(Math.pow(pe.x-Qe.x,2)+Math.pow(pe.y-Qe.y,2))}Math.abs(ye-he)>=2*Math.PI&&(he=0,ye=2*Math.PI),this.path.push({type:"arc",x:K,y:se,radius:ae,startAngle:he,endAngle:ye,counterclockwise:Ce})},d.prototype.arcTo=function(K,se,ae,he,ye){throw new Error("arcTo not implemented.")},d.prototype.rect=function(K,se,ae,he){if(isNaN(K)||isNaN(se)||isNaN(ae)||isNaN(he))throw nn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(K,se),this.lineTo(K+ae,se),this.lineTo(K+ae,se+he),this.lineTo(K,se+he),this.lineTo(K,se),this.lineTo(K+ae,se),this.lineTo(K,se)},d.prototype.fillRect=function(K,se,ae,he){if(isNaN(K)||isNaN(se)||isNaN(ae)||isNaN(he))throw nn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ye={};this.lineCap!=="butt"&&(ye.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ye.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(K,se,ae,he),this.fill(),ye.hasOwnProperty("lineCap")&&(this.lineCap=ye.lineCap),ye.hasOwnProperty("lineJoin")&&(this.lineJoin=ye.lineJoin)}},d.prototype.strokeRect=function(K,se,ae,he){if(isNaN(K)||isNaN(se)||isNaN(ae)||isNaN(he))throw nn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(K,se,ae,he),this.stroke())},d.prototype.clearRect=function(K,se,ae,he){if(isNaN(K)||isNaN(se)||isNaN(ae)||isNaN(he))throw nn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(K,se,ae,he))},d.prototype.save=function(K){K=typeof K!="boolean"||K;for(var se=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("q");if(this.pdf.setPage(se),K){this.ctx.fontSize=this.pdf.internal.getFontSize();var he=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=he}},d.prototype.restore=function(K){K=typeof K!="boolean"||K;for(var se=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("Q");this.pdf.setPage(se),K&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(K){var se,ae,he,ye;if(K.isCanvasGradient===!0&&(K=K.getColor()),!K)return{r:0,g:0,b:0,a:0,style:K};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(K))se=0,ae=0,he=0,ye=0;else{var Ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(K);if(Ce!==null)se=parseInt(Ce[1]),ae=parseInt(Ce[2]),he=parseInt(Ce[3]),ye=1;else if((Ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(K))!==null)se=parseInt(Ce[1]),ae=parseInt(Ce[2]),he=parseInt(Ce[3]),ye=parseFloat(Ce[4]);else{if(ye=1,typeof K=="string"&&K.charAt(0)!=="#"){var Te=new QM(K);K=Te.ok?Te.toHex():"#000000"}K.length===4?(se=K.substring(1,2),se+=se,ae=K.substring(2,3),ae+=ae,he=K.substring(3,4),he+=he):(se=K.substring(1,3),ae=K.substring(3,5),he=K.substring(5,7)),se=parseInt(se,16),ae=parseInt(ae,16),he=parseInt(he,16)}}return{r:se,g:ae,b:he,a:ye,style:K}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(K,se,ae,he){if(isNaN(se)||isNaN(ae)||typeof K!="string")throw nn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(he=isNaN(he)?void 0:he,!f.call(this)){var ye=G(this.ctx.transform.rotation),Ce=this.ctx.transform.scaleX;L.call(this,{text:K,x:se,y:ae,scale:Ce,angle:ye,align:this.textAlign,maxWidth:he})}},d.prototype.strokeText=function(K,se,ae,he){if(isNaN(se)||isNaN(ae)||typeof K!="string")throw nn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){he=isNaN(he)?void 0:he;var ye=G(this.ctx.transform.rotation),Ce=this.ctx.transform.scaleX;L.call(this,{text:K,x:se,y:ae,scale:Ce,renderingMode:"stroke",angle:ye,align:this.textAlign,maxWidth:he})}},d.prototype.measureText=function(K){if(typeof K!="string")throw nn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var se=this.pdf,ae=this.pdf.internal.scaleFactor,he=se.internal.getFontSize(),ye=se.getStringUnitWidth(K)*he/se.internal.scaleFactor,Ce=function(Te){var pe=(Te=Te||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this};return new Ce({width:ye*=Math.round(96*ae/72*1e4)/1e4})},d.prototype.scale=function(K,se){if(isNaN(K)||isNaN(se))throw nn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ae=new l(K,0,0,se,0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},d.prototype.rotate=function(K){if(isNaN(K))throw nn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var se=new l(Math.cos(K),Math.sin(K),-Math.sin(K),Math.cos(K),0,0);this.ctx.transform=this.ctx.transform.multiply(se)},d.prototype.translate=function(K,se){if(isNaN(K)||isNaN(se))throw nn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ae=new l(1,0,0,1,K,se);this.ctx.transform=this.ctx.transform.multiply(ae)},d.prototype.transform=function(K,se,ae,he,ye,Ce){if(isNaN(K)||isNaN(se)||isNaN(ae)||isNaN(he)||isNaN(ye)||isNaN(Ce))throw nn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Te=new l(K,se,ae,he,ye,Ce);this.ctx.transform=this.ctx.transform.multiply(Te)},d.prototype.setTransform=function(K,se,ae,he,ye,Ce){K=isNaN(K)?1:K,se=isNaN(se)?0:se,ae=isNaN(ae)?0:ae,he=isNaN(he)?1:he,ye=isNaN(ye)?0:ye,Ce=isNaN(Ce)?0:Ce,this.ctx.transform=new l(K,se,ae,he,ye,Ce)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(K,se,ae,he,ye,Ce,Te,pe,Qe){var De=this.pdf.getImageProperties(K),Oe=1,We=1,mt=1,Me=1;he!==void 0&&pe!==void 0&&(mt=pe/he,Me=Qe/ye,Oe=De.width/he*pe/he,We=De.height/ye*Qe/ye),Ce===void 0&&(Ce=se,Te=ae,se=0,ae=0),he!==void 0&&pe===void 0&&(pe=he,Qe=ye),he===void 0&&pe===void 0&&(pe=De.width,Qe=De.height);for(var fe,Ht=this.ctx.transform.decompose(),ft=G(Ht.rotate.shx),Ye=new l,lt=(Ye=(Ye=(Ye=Ye.multiply(Ht.translate)).multiply(Ht.skew)).multiply(Ht.scale)).applyToRectangle(new a(Ce-se*mt,Te-ae*Me,he*Oe,ye*We)),gt=_.call(this,lt),ct=[],me=0;me<gt.length;me+=1)ct.indexOf(gt[me])===-1&&ct.push(gt[me]);if(E(ct),this.autoPaging)for(var ze=ct[0],ot=ct[ct.length-1],st=ze;st<ot+1;st++){this.pdf.setPage(st);var et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ht=st===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ie=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],je=st===1?0:vt+(st-2)*Ie;if(this.ctx.clip_path.length!==0){var qe=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(fe,this.posX+this.margin[3],-je+ht+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=qe}var tt=JSON.parse(JSON.stringify(lt));tt=b([tt],this.posX+this.margin[3],-je+ht+this.ctx.prevPageLastElemOffset)[0];var Pt=(st>ze||st<ot)&&v.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,Ie,null).clip().discardPath()),this.pdf.addImage(K,"JPEG",tt.x,tt.y,tt.w,tt.h,null,null,ft),Pt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(K,"JPEG",lt.x,lt.y,lt.w,lt.h,null,null,ft)};var _=function(K,se,ae){var he=[];se=se||this.pdf.internal.pageSize.width,ae=ae||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ye=this.posY+this.ctx.prevPageLastElemOffset;switch(K.type){default:case"mt":case"lt":he.push(Math.floor((K.y+ye)/ae)+1);break;case"arc":he.push(Math.floor((K.y+ye-K.radius)/ae)+1),he.push(Math.floor((K.y+ye+K.radius)/ae)+1);break;case"qct":var Ce=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,K.x1,K.y1,K.x,K.y);he.push(Math.floor((Ce.y+ye)/ae)+1),he.push(Math.floor((Ce.y+Ce.h+ye)/ae)+1);break;case"bct":var Te=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,K.x1,K.y1,K.x2,K.y2,K.x,K.y);he.push(Math.floor((Te.y+ye)/ae)+1),he.push(Math.floor((Te.y+Te.h+ye)/ae)+1);break;case"rect":he.push(Math.floor((K.y+ye)/ae)+1),he.push(Math.floor((K.y+K.h+ye)/ae)+1)}for(var pe=0;pe<he.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<he[pe];)x.call(this);return he},x=function(){var K=this.fillStyle,se=this.strokeStyle,ae=this.font,he=this.lineCap,ye=this.lineWidth,Ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=K,this.strokeStyle=se,this.font=ae,this.lineCap=he,this.lineWidth=ye,this.lineJoin=Ce},b=function(K,se,ae){for(var he=0;he<K.length;he++)switch(K[he].type){case"bct":K[he].x2+=se,K[he].y2+=ae;case"qct":K[he].x1+=se,K[he].y1+=ae;case"mt":case"lt":case"arc":default:K[he].x+=se,K[he].y+=ae}return K},E=function(K){return K.sort(function(se,ae){return se-ae})},N=function(K,se){for(var ae,he,ye=this.fillStyle,Ce=this.strokeStyle,Te=this.lineCap,pe=this.lineWidth,Qe=Math.abs(pe*this.ctx.transform.scaleX),De=this.lineJoin,Oe=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),mt=[],Me=0;Me<We.length;Me++)if(We[Me].x!==void 0)for(var fe=_.call(this,We[Me]),Ht=0;Ht<fe.length;Ht+=1)mt.indexOf(fe[Ht])===-1&&mt.push(fe[Ht]);for(var ft=0;ft<mt.length;ft++)for(;this.pdf.internal.getNumberOfPages()<mt[ft];)x.call(this);if(E(mt),this.autoPaging)for(var Ye=mt[0],lt=mt[mt.length-1],gt=Ye;gt<lt+1;gt++){this.pdf.setPage(gt),this.fillStyle=ye,this.strokeStyle=Ce,this.lineCap=Te,this.lineWidth=Qe,this.lineJoin=De;var ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],me=gt===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=gt===1?0:ze+(gt-2)*ot;if(this.ctx.clip_path.length!==0){var et=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ae,this.posX+this.margin[3],-st+me+this.ctx.prevPageLastElemOffset),j.call(this,K,!0),this.path=et}if(he=JSON.parse(JSON.stringify(Oe)),this.path=b(he,this.posX+this.margin[3],-st+me+this.ctx.prevPageLastElemOffset),se===!1||gt===0){var ht=(gt>Ye||gt<lt)&&v.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,ot,null).clip().discardPath()),j.call(this,K,se),ht&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=Qe,j.call(this,K,se),this.lineWidth=pe;this.path=Oe},j=function(K,se){if((K!=="stroke"||se||!m.call(this))&&(K==="stroke"||se||!f.call(this))){for(var ae,he,ye=[],Ce=this.path,Te=0;Te<Ce.length;Te++){var pe=Ce[Te];switch(pe.type){case"begin":ye.push({begin:!0});break;case"close":ye.push({close:!0});break;case"mt":ye.push({start:pe,deltas:[],abs:[]});break;case"lt":var Qe=ye.length;if(Ce[Te-1]&&!isNaN(Ce[Te-1].x)&&(ae=[pe.x-Ce[Te-1].x,pe.y-Ce[Te-1].y],Qe>0)){for(;Qe>=0;Qe--)if(ye[Qe-1].close!==!0&&ye[Qe-1].begin!==!0){ye[Qe-1].deltas.push(ae),ye[Qe-1].abs.push(pe);break}}break;case"bct":ae=[pe.x1-Ce[Te-1].x,pe.y1-Ce[Te-1].y,pe.x2-Ce[Te-1].x,pe.y2-Ce[Te-1].y,pe.x-Ce[Te-1].x,pe.y-Ce[Te-1].y],ye[ye.length-1].deltas.push(ae);break;case"qct":var De=Ce[Te-1].x+2/3*(pe.x1-Ce[Te-1].x),Oe=Ce[Te-1].y+2/3*(pe.y1-Ce[Te-1].y),We=pe.x+2/3*(pe.x1-pe.x),mt=pe.y+2/3*(pe.y1-pe.y),Me=pe.x,fe=pe.y;ae=[De-Ce[Te-1].x,Oe-Ce[Te-1].y,We-Ce[Te-1].x,mt-Ce[Te-1].y,Me-Ce[Te-1].x,fe-Ce[Te-1].y],ye[ye.length-1].deltas.push(ae);break;case"arc":ye.push({deltas:[],abs:[],arc:!0}),Array.isArray(ye[ye.length-1].abs)&&ye[ye.length-1].abs.push(pe)}}he=se?null:K==="stroke"?"stroke":"fill";for(var Ht=!1,ft=0;ft<ye.length;ft++)if(ye[ft].arc)for(var Ye=ye[ft].abs,lt=0;lt<Ye.length;lt++){var gt=Ye[lt];gt.type==="arc"?T.call(this,gt.x,gt.y,gt.radius,gt.startAngle,gt.endAngle,gt.counterclockwise,void 0,se,!Ht):M.call(this,gt.x,gt.y),Ht=!0}else if(ye[ft].close===!0)this.pdf.internal.out("h"),Ht=!1;else if(ye[ft].begin!==!0){var ct=ye[ft].start.x,me=ye[ft].start.y;W.call(this,ye[ft].deltas,ct,me),Ht=!0}he&&U.call(this,he),se&&R.call(this)}},O=function(K){var se=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ae=se*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return K-ae;case"top":return K+se-ae;case"hanging":return K+se-2*ae;case"middle":return K+se/2-ae;case"ideographic":return K;case"alphabetic":default:return K}},P=function(K){return K+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var K=function(){};return K.colorStops=[],K.addColorStop=function(se,ae){this.colorStops.push([se,ae])},K.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},K.isCanvasGradient=!0,K},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(K,se,ae,he,ye,Ce,Te,pe,Qe){for(var De=Z.call(this,ae,he,ye,Ce),Oe=0;Oe<De.length;Oe++){var We=De[Oe];Oe===0&&(Qe?I.call(this,We.x1+K,We.y1+se):M.call(this,We.x1+K,We.y1+se)),X.call(this,K,se,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}pe?R.call(this):U.call(this,Te)},U=function(K){switch(K){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(K,se){this.pdf.internal.out(r(K)+" "+n(se)+" m")},L=function(K){var se;switch(K.align){case"right":case"end":se="right";break;case"center":se="center";break;case"left":case"start":default:se="left"}var ae=this.pdf.getTextDimensions(K.text),he=O.call(this,K.y),ye=P.call(this,he)-ae.h,Ce=this.ctx.transform.applyToPoint(new o(K.x,he)),Te=this.ctx.transform.decompose(),pe=new l;pe=(pe=(pe=pe.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale);for(var Qe,De,Oe,We=this.ctx.transform.applyToRectangle(new a(K.x,he,ae.w,ae.h)),mt=pe.applyToRectangle(new a(K.x,ye,ae.w,ae.h)),Me=_.call(this,mt),fe=[],Ht=0;Ht<Me.length;Ht+=1)fe.indexOf(Me[Ht])===-1&&fe.push(Me[Ht]);if(E(fe),this.autoPaging)for(var ft=fe[0],Ye=fe[fe.length-1],lt=ft;lt<Ye+1;lt++){this.pdf.setPage(lt);var gt=lt===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],me=this.pdf.internal.pageSize.height-this.margin[2],ze=me-this.margin[0],ot=this.pdf.internal.pageSize.width-this.margin[1],st=ot-this.margin[3],et=lt===1?0:ct+(lt-2)*ze;if(this.ctx.clip_path.length!==0){var ht=this.path;Qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Qe,this.posX+this.margin[3],-1*et+gt),j.call(this,"fill",!0),this.path=ht}var vt=b([JSON.parse(JSON.stringify(mt))],this.posX+this.margin[3],-et+gt+this.ctx.prevPageLastElemOffset)[0];K.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*K.scale),Oe=this.lineWidth,this.lineWidth=Oe*K.scale);var Ie=this.autoPaging!=="text";if(Ie||vt.y+vt.h<=me){if(Ie||vt.y>=gt&&vt.x<=ot){var je=Ie?K.text:this.pdf.splitTextToSize(K.text,K.maxWidth||ot-vt.x)[0],qe=b([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-et+gt+this.ctx.prevPageLastElemOffset)[0],tt=Ie&&(lt>ft||lt<Ye)&&v.call(this);tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,ze,null).clip().discardPath()),this.pdf.text(je,qe.x,qe.y,{angle:K.angle,align:se,renderingMode:K.renderingMode}),tt&&this.pdf.restoreGraphicsState()}}else vt.y<me&&(this.ctx.prevPageLastElemOffset+=me-vt.y);K.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=Oe)}else K.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*K.scale),Oe=this.lineWidth,this.lineWidth=Oe*K.scale),this.pdf.text(K.text,Ce.x+this.posX,Ce.y+this.posY,{angle:K.angle,align:se,renderingMode:K.renderingMode,maxWidth:K.maxWidth}),K.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=Oe)},M=function(K,se,ae,he){ae=ae||0,he=he||0,this.pdf.internal.out(r(K+ae)+" "+n(se+he)+" l")},W=function(K,se,ae){return this.pdf.lines(K,se,ae,null,null)},X=function(K,se,ae,he,ye,Ce,Te,pe){this.pdf.internal.out([e(s(ae+K)),e(i(he+se)),e(s(ye+K)),e(i(Ce+se)),e(s(Te+K)),e(i(pe+se)),"c"].join(" "))},Z=function(K,se,ae,he){for(var ye=2*Math.PI,Ce=Math.PI/2;se>ae;)se-=ye;var Te=Math.abs(ae-se);Te<ye&&he&&(Te=ye-Te);for(var pe=[],Qe=he?-1:1,De=se;Te>1e-5;){var Oe=De+Qe*Math.min(Te,Ce);pe.push(ce.call(this,K,De,Oe)),Te-=Math.abs(Oe-De),De=Oe}return pe},ce=function(K,se,ae){var he=(ae-se)/2,ye=K*Math.cos(he),Ce=K*Math.sin(he),Te=ye,pe=-Ce,Qe=Te*Te+pe*pe,De=Qe+Te*ye+pe*Ce,Oe=4/3*(Math.sqrt(2*Qe*De)-De)/(Te*Ce-pe*ye),We=Te-Oe*pe,mt=pe+Oe*Te,Me=We,fe=-mt,Ht=he+se,ft=Math.cos(Ht),Ye=Math.sin(Ht);return{x1:K*Math.cos(se),y1:K*Math.sin(se),x2:We*ft-mt*Ye,y2:We*Ye+mt*ft,x3:Me*ft-fe*Ye,y3:Me*Ye+fe*ft,x4:K*Math.cos(ae),y4:K*Math.sin(ae)}},G=function(K){return 180*K/Math.PI},Y=function(K,se,ae,he,ye,Ce){var Te=K+.5*(ae-K),pe=se+.5*(he-se),Qe=ye+.5*(ae-ye),De=Ce+.5*(he-Ce),Oe=Math.min(K,ye,Te,Qe),We=Math.max(K,ye,Te,Qe),mt=Math.min(se,Ce,pe,De),Me=Math.max(se,Ce,pe,De);return new a(Oe,mt,We-Oe,Me-mt)},ue=function(K,se,ae,he,ye,Ce,Te,pe){var Qe,De,Oe,We,mt,Me,fe,Ht,ft,Ye,lt,gt,ct,me,ze=ae-K,ot=he-se,st=ye-ae,et=Ce-he,ht=Te-ye,vt=pe-Ce;for(De=0;De<41;De++)ft=(fe=(Oe=K+(Qe=De/40)*ze)+Qe*((mt=ae+Qe*st)-Oe))+Qe*(mt+Qe*(ye+Qe*ht-mt)-fe),Ye=(Ht=(We=se+Qe*ot)+Qe*((Me=he+Qe*et)-We))+Qe*(Me+Qe*(Ce+Qe*vt-Me)-Ht),De==0?(lt=ft,gt=Ye,ct=ft,me=Ye):(lt=Math.min(lt,ft),gt=Math.min(gt,Ye),ct=Math.max(ct,ft),me=Math.max(me,Ye));return new a(Math.round(lt),Math.round(gt),Math.round(ct-lt),Math.round(me-gt))},ke=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var K,se,ae=(K=this.ctx.lineDash,se=this.ctx.lineDashOffset,JSON.stringify({lineDash:K,lineDashOffset:se}));this.prevLineDash!==ae&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ae)}}})(Zt.API),function(t){var e=function(i){var o,a,l,c,u,d,h,f,m,v;for(a=[],l=0,c=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(v=u%85))/85)-(m=u%85))/85)-(f=u%85))/85)-(h=u%85))/85)%85,a.push(d+33,h+33,f+33,m+33,v+33)):a.push(122);return function(_,x){for(var b=x;b>0;b--)_.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},r=function(i){var o,a,l,c,u,d=String,h="length",f=255,m="charCodeAt",v="slice",_="replace";for(i[v](-2),i=i[v](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),l=[],c=0,u=(i+=o="uuuuu"[v](i[h]%5||5))[h];u>c;c+=5)a=52200625*(i[m](c)-33)+614125*(i[m](c+1)-33)+7225*(i[m](c+2)-33)+85*(i[m](c+3)-33)+(i[m](c+4)-33),l.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(x,b){for(var E=b;E>0;E--)x.pop()}(l,o[h]),d.fromCharCode.apply(d,l)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var a="",l=0;l<i.length;l+=2)a+=String.fromCharCode("0x"+(i[l]+i[l+1]));return a},s=function(i){for(var o=new Uint8Array(i.length),a=i.length;a--;)o[a]=i.charCodeAt(a);return i=(o=BC(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(i,o){var a=0,l=i||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Zt.API),function(t){t.loadFile=function(e,r,n){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var d=new XMLHttpRequest,h=0,f=function(m){var v=m.length,_=[],x=String.fromCharCode;for(h=0;h<v;h+=1)_.push(x(255&m.charCodeAt(h)));return _.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return f(d.responseText)}(s,i,o)}catch{}return a}(e,r,n)},t.loadImageFile=t.loadFile}(Zt.API),function(t){function e(){return(rr.html2canvas?Promise.resolve(rr.html2canvas):yC(()=>import("./html2canvas-0797b861.js").then(o=>o.h),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(rr.DOMPurify?Promise.resolve(rr.DOMPurify):yC(()=>import("./purify.es-5b635869.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var a=Qr(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},s=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},i=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,a){return o.__proto__=a||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(l){return this.set({src:s("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var f=c[h],m=f.src.find(function(v){return v.format==="truetype"});m&&l.addFont(m.url,f.ref.name,f.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),a(this.prop.container,d)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},i.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},i.prototype.get=function(o,a){return this.then(function(){var l=o in i.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||Zt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},i.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},i.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},i.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return i.convert(a,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Zt.getPageSize=function(o,a,l){if(Qr(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var f,m=0,v=0;if(h.hasOwnProperty(d))m=h[d][1]/u,v=h[d][0]/u;else try{m=l[1],v=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",v>m&&(f=v,v=m,m=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>v&&(f=v,v=m,m=f)}return{width:v,height:m,unit:a,k:u,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(SC):null;var l=new i(a);return a.worker?l:l.from(o).doCallback()}}(Zt.API),Zt.API.addJS=function(t){return k3=t,this.internal.events.subscribe("postPutResources",function(){jv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),_3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+k3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){jv!==void 0&&_3!==void 0&&this.internal.out("/Names <</JavaScript "+jv+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],a=n.exec(o);if(a!=null){var l=a[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var d=r.internal.newObject();u.push(d);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var o={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(Zt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,s,i,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(d){for(var h,f=256*d.charCodeAt(4)+d.charCodeAt(5),m=d.length,v={width:0,height:0,numcomponents:1},_=4;_<m;_+=2){if(_+=f,e.indexOf(d.charCodeAt(_+1))!==-1){h=256*d.charCodeAt(_+5)+d.charCodeAt(_+6),v={width:256*d.charCodeAt(_+7)+d.charCodeAt(_+8),height:h,numcomponents:d.charCodeAt(_+9)};break}f=256*d.charCodeAt(_+2)+d.charCodeAt(_+3)}return v}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:n,alias:s}}return u}}(Zt.API);var Pf,Fv,E3,I3,S3,Bie=function(){var t,e,r;function n(i){var o,a,l,c,u,d,h,f,m,v,_,x,b,E;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),m=(function(){var N,j;for(j=[],N=0;N<4;++N)j.push(String.fromCharCode(this.data[this.pos++]));return j}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,o-=4),i=(d!=null?d.data:void 0)||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((v=l-this.transparency.indexed.length)>0)for(b=0;0<=v?b<v:b>v;0<=v?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(_=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,_.slice(0,h)),this.text[f]=String.fromCharCode.apply(String,_.slice(h+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(E=this.colorType)===4||E===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,a;for(a=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)a.push(this.data[this.pos++]);return a},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(d,h,f,m){var v,_,x,b,E,N,j,O,P,T,U,R,I,L,M,W,X,Z,ce,G,Y,ue=Math.ceil((c.width-d)/f),ke=Math.ceil((c.height-h)/m),K=c.width==ue&&c.height==ke;for(L=o*ue,R=K?a:new Uint8Array(L*ke),N=i.length,I=0,_=0;I<ke&&l<N;){switch(i[l++]){case 0:for(b=X=0;X<L;b=X+=1)R[_++]=i[l++];break;case 1:for(b=Z=0;Z<L;b=Z+=1)v=i[l++],E=b<o?0:R[_-o],R[_++]=(v+E)%256;break;case 2:for(b=ce=0;ce<L;b=ce+=1)v=i[l++],x=(b-b%o)/o,M=I&&R[(I-1)*L+x*o+b%o],R[_++]=(M+v)%256;break;case 3:for(b=G=0;G<L;b=G+=1)v=i[l++],x=(b-b%o)/o,E=b<o?0:R[_-o],M=I&&R[(I-1)*L+x*o+b%o],R[_++]=(v+Math.floor((E+M)/2))%256;break;case 4:for(b=Y=0;Y<L;b=Y+=1)v=i[l++],x=(b-b%o)/o,E=b<o?0:R[_-o],I===0?M=W=0:(M=R[(I-1)*L+x*o+b%o],W=x&&R[(I-1)*L+(x-1)*o+b%o]),j=E+M-W,O=Math.abs(j-E),T=Math.abs(j-M),U=Math.abs(j-W),P=O<=T&&O<=U?E:T<=U?M:W,R[_++]=(v+P)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!K){var se=((h+I*m)*c.width+d)*o,ae=I*L;for(b=0;b<ue;b+=1){for(var he=0;he<o;he+=1)a[se++]=R[ae++];se+=(f-1)*o}}I++}}return i=eie(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},n.prototype.decodePalette=function(){var i,o,a,l,c,u,d,h,f;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,i=0,o=d=0,h=a.length;d<h;o=d+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(f=u[i++])!=null?f:255;return c},n.prototype.copyToImageData=function(i,o){var a,l,c,u,d,h,f,m,v,_,x;if(l=this.colors,v=null,a=this.hasAlphaChannel,this.palette.length&&(v=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),l=4,a=!0),m=(c=i.data||i).length,d=v||o,u=h=0,l===1)for(;u<m;)f=v?4*o[u/4]:h,_=d[f++],c[u++]=_,c[u++]=_,c[u++]=_,c[u++]=a?d[f++]:255,h=f;else for(;u<m;)f=v?4*o[u/4]:h,c[u++]=d[f++],c[u++]=d[f++],c[u++]=d[f++],c[u++]=a?d[f++]:255,h=f},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(rr)==="[object Window]"){try{e=rr.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(i){var o;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,a,l,c,u,d,h,f;if(this.animation){for(f=[],a=u=0,d=(h=this.animation.frames).length;u<d;a=++u)o=h[a],l=i.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,f.push(o.image=t(l));return f}},n.prototype.renderFrame=function(i,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&i.clearRect(a.xOffset,a.yOffset,a.width,a.height),i.drawImage(a.image,a.xOffset,a.yOffset)},n.prototype.animate=function(i){var o,a,l,c,u,d,h=this;return a=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(o=function(){var f,m;if(f=a++%c,m=l[f],h.renderFrame(i,f),c>1&&a/c<u)return h.animation._timeout=setTimeout(o,m.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,a;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Cie(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,o=1<<(7&s)+1;t[e++],t[e++];var a=null,l=null;i&&(a=e,l=o,e+=3*o);var c=!0,u=[],d=0,h=null,f=0,m=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];d=t[e++]|t[e++]<<8,h=t[e++],!(1&v)&&(h=null),f=v>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var _=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,N=t[e++],j=N>>6&1,O=1<<(7&N)+1,P=a,T=l,U=!1;N>>7&&(U=!0,P=e,T=O,e+=3*O);var R=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}u.push({x:_,y:x,width:b,height:E,has_local_palette:U,palette_offset:P,palette_size:T,data_offset:R,data_length:e-R,transparent_index:h,interlaced:!!j,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(L){if(L<0||L>=u.length)throw new Error("Frame index out of range.");return u[L]},this.decodeAndBlitFrameBGRA=function(L,M){var W=this.frameInfo(L),X=W.width*W.height,Z=new Uint8Array(X);N3(t,W.data_offset,Z,X);var ce=W.palette_offset,G=W.transparent_index;G===null&&(G=256);var Y=W.width,ue=r-Y,ke=Y,K=4*(W.y*r+W.x),se=4*((W.y+W.height)*r+W.x),ae=K,he=4*ue;W.interlaced===!0&&(he+=4*r*7);for(var ye=8,Ce=0,Te=Z.length;Ce<Te;++Ce){var pe=Z[Ce];if(ke===0&&(ke=Y,(ae+=he)>=se&&(he=4*ue+4*r*(ye-1),ae=K+(Y+ue)*(ye<<1),ye>>=1)),pe===G)ae+=4;else{var Qe=t[ce+3*pe],De=t[ce+3*pe+1],Oe=t[ce+3*pe+2];M[ae++]=Oe,M[ae++]=De,M[ae++]=Qe,M[ae++]=255}--ke}},this.decodeAndBlitFrameRGBA=function(L,M){var W=this.frameInfo(L),X=W.width*W.height,Z=new Uint8Array(X);N3(t,W.data_offset,Z,X);var ce=W.palette_offset,G=W.transparent_index;G===null&&(G=256);var Y=W.width,ue=r-Y,ke=Y,K=4*(W.y*r+W.x),se=4*((W.y+W.height)*r+W.x),ae=K,he=4*ue;W.interlaced===!0&&(he+=4*r*7);for(var ye=8,Ce=0,Te=Z.length;Ce<Te;++Ce){var pe=Z[Ce];if(ke===0&&(ke=Y,(ae+=he)>=se&&(he=4*ue+4*r*(ye-1),ae=K+(Y+ue)*(ye<<1),ye>>=1)),pe===G)ae+=4;else{var Qe=t[ce+3*pe],De=t[ce+3*pe+1],Oe=t[ce+3*pe+2];M[ae++]=Qe,M[ae++]=De,M[ae++]=Oe,M[ae++]=255}--ke}}}function N3(t,e,r,n){for(var s=t[e++],i=1<<s,o=i+1,a=o+1,l=s+1,c=(1<<l)-1,u=0,d=0,h=0,f=t[e++],m=new Int32Array(4096),v=null;;){for(;u<16&&f!==0;)d|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<l)break;var _=d&c;if(d>>=l,u-=l,_!==i){if(_===o)break;for(var x=_<a?_:v,b=0,E=x;E>i;)E=m[E]>>8,++b;var N=E;if(h+b+(x!==_?1:0)>n)return void nn.log("Warning, gif stream longer than expected.");r[h++]=N;var j=h+=b;for(x!==_&&(r[h++]=N),E=x;b--;)E=m[E],r[--j]=255&E,E>>=8;v!==null&&a<4096&&(m[a++]=v<<8|N,a>=c+1&&l<12&&(++l,c=c<<1|1)),v=_}else a=o+1,c=(1<<(l=s+1))-1,v=null}return h!==n&&nn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function nB(t){var e,r,n,s,i,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),m=new Array(64),v=[],_=0,x=7,b=new Array(64),E=new Array(64),N=new Array(64),j=new Array(256),O=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(K,se){for(var ae=0,he=0,ye=new Array,Ce=1;Ce<=16;Ce++){for(var Te=1;Te<=K[Ce];Te++)ye[se[he]]=[],ye[se[he]][0]=ae,ye[se[he]][1]=Ce,he++,ae++;ae*=2}return ye}function ce(K){for(var se=K[0],ae=K[1]-1;ae>=0;)se&1<<ae&&(_|=1<<x),ae--,--x<0&&(_==255?(G(255),G(0)):G(_),x=7,_=0)}function G(K){v.push(K)}function Y(K){G(K>>8&255),G(255&K)}function ue(K,se,ae,he,ye){for(var Ce,Te=ye[0],pe=ye[240],Qe=function(Ye,lt){var gt,ct,me,ze,ot,st,et,ht,vt,Ie,je=0;for(vt=0;vt<8;++vt){gt=Ye[je],ct=Ye[je+1],me=Ye[je+2],ze=Ye[je+3],ot=Ye[je+4],st=Ye[je+5],et=Ye[je+6];var qe=gt+(ht=Ye[je+7]),tt=gt-ht,Pt=ct+et,Bt=ct-et,zt=me+st,An=me-st,sr=ze+ot,us=ze-ot,pr=qe+sr,Xn=qe-sr,Xt=Pt+zt,yt=Pt-zt;Ye[je]=pr+Xt,Ye[je+4]=pr-Xt;var At=.707106781*(yt+Xn);Ye[je+2]=Xn+At,Ye[je+6]=Xn-At;var Ct=.382683433*((pr=us+An)-(yt=Bt+tt)),Ar=.5411961*pr+Ct,ur=1.306562965*yt+Ct,Vn=.707106781*(Xt=An+Bt),Hn=tt+Vn,Qt=tt-Vn;Ye[je+5]=Qt+Ar,Ye[je+3]=Qt-Ar,Ye[je+1]=Hn+ur,Ye[je+7]=Hn-ur,je+=8}for(je=0,vt=0;vt<8;++vt){gt=Ye[je],ct=Ye[je+8],me=Ye[je+16],ze=Ye[je+24],ot=Ye[je+32],st=Ye[je+40],et=Ye[je+48];var Hr=gt+(ht=Ye[je+56]),Ui=gt-ht,En=ct+et,Mt=ct-et,en=me+st,ws=me-st,In=ze+ot,Di=ze-ot,oi=Hr+In,bs=Hr-In,ai=En+en,Gs=En-en;Ye[je]=oi+ai,Ye[je+32]=oi-ai;var Bs=.707106781*(Gs+bs);Ye[je+16]=bs+Bs,Ye[je+48]=bs-Bs;var Jn=.382683433*((oi=Di+ws)-(Gs=Mt+Ui)),oo=.5411961*oi+Jn,ha=1.306562965*Gs+Jn,fa=.707106781*(ai=ws+Mt),ga=Ui+fa,Qa=Ui-fa;Ye[je+40]=Qa+oo,Ye[je+24]=Qa-oo,Ye[je+8]=ga+ha,Ye[je+56]=ga-ha,je++}for(vt=0;vt<64;++vt)Ie=Ye[vt]*lt[vt],f[vt]=Ie>0?Ie+.5|0:Ie-.5|0;return f}(K,se),De=0;De<64;++De)m[P[De]]=Qe[De];var Oe=m[0]-ae;ae=m[0],Oe==0?ce(he[0]):(ce(he[h[Ce=32767+Oe]]),ce(d[Ce]));for(var We=63;We>0&&m[We]==0;)We--;if(We==0)return ce(Te),ae;for(var mt,Me=1;Me<=We;){for(var fe=Me;m[Me]==0&&Me<=We;)++Me;var Ht=Me-fe;if(Ht>=16){mt=Ht>>4;for(var ft=1;ft<=mt;++ft)ce(pe);Ht&=15}Ce=32767+m[Me],ce(ye[(Ht<<4)+h[Ce]]),ce(d[Ce]),Me++}return We!=63&&ce(Te),ae}function ke(K){K=Math.min(Math.max(K,1),100),i!=K&&(function(se){for(var ae=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],he=0;he<64;he++){var ye=o((ae[he]*se+50)/100);ye=Math.min(Math.max(ye,1),255),a[P[he]]=ye}for(var Ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Te=0;Te<64;Te++){var pe=o((Ce[Te]*se+50)/100);pe=Math.min(Math.max(pe,1),255),l[P[Te]]=pe}for(var Qe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,Oe=0;Oe<8;Oe++)for(var We=0;We<8;We++)c[De]=1/(a[P[De]]*Qe[Oe]*Qe[We]*8),u[De]=1/(l[P[De]]*Qe[Oe]*Qe[We]*8),De++}(K<50?Math.floor(5e3/K):Math.floor(200-2*K)),i=K)}this.encode=function(K,se){se&&ke(se),v=new Array,_=0,x=7,Y(65496),Y(65504),Y(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),Y(1),Y(1),G(0),G(0),function(){Y(65499),Y(132),G(0);for(var ct=0;ct<64;ct++)G(a[ct]);G(1);for(var me=0;me<64;me++)G(l[me])}(),function(ct,me){Y(65472),Y(17),G(8),Y(me),Y(ct),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)}(K.width,K.height),function(){Y(65476),Y(418),G(0);for(var ct=0;ct<16;ct++)G(T[ct+1]);for(var me=0;me<=11;me++)G(U[me]);G(16);for(var ze=0;ze<16;ze++)G(R[ze+1]);for(var ot=0;ot<=161;ot++)G(I[ot]);G(1);for(var st=0;st<16;st++)G(L[st+1]);for(var et=0;et<=11;et++)G(M[et]);G(17);for(var ht=0;ht<16;ht++)G(W[ht+1]);for(var vt=0;vt<=161;vt++)G(X[vt])}(),Y(65498),Y(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var ae=0,he=0,ye=0;_=0,x=7,this.encode.displayName="_encode_";for(var Ce,Te,pe,Qe,De,Oe,We,mt,Me,fe=K.data,Ht=K.width,ft=K.height,Ye=4*Ht,lt=0;lt<ft;){for(Ce=0;Ce<Ye;){for(De=Ye*lt+Ce,We=-1,mt=0,Me=0;Me<64;Me++)Oe=De+(mt=Me>>3)*Ye+(We=4*(7&Me)),lt+mt>=ft&&(Oe-=Ye*(lt+1+mt-ft)),Ce+We>=Ye&&(Oe-=Ce+We-Ye+4),Te=fe[Oe++],pe=fe[Oe++],Qe=fe[Oe++],b[Me]=(O[Te]+O[pe+256>>0]+O[Qe+512>>0]>>16)-128,E[Me]=(O[Te+768>>0]+O[pe+1024>>0]+O[Qe+1280>>0]>>16)-128,N[Me]=(O[Te+1280>>0]+O[pe+1536>>0]+O[Qe+1792>>0]>>16)-128;ae=ue(b,c,ae,e,n),he=ue(E,u,he,r,s),ye=ue(N,u,ye,r,s),Ce+=32}lt+=8}if(x>=0){var gt=[];gt[1]=x+1,gt[0]=(1<<x+1)-1,ce(gt)}return Y(65497),new Uint8Array(v)},t=t||50,function(){for(var K=String.fromCharCode,se=0;se<256;se++)j[se]=K(se)}(),e=Z(T,U),r=Z(L,M),n=Z(R,I),s=Z(W,X),function(){for(var K=1,se=2,ae=1;ae<=15;ae++){for(var he=K;he<se;he++)h[32767+he]=ae,d[32767+he]=[],d[32767+he][1]=ae,d[32767+he][0]=he;for(var ye=-(se-1);ye<=-K;ye++)h[32767+ye]=ae,d[32767+ye]=[],d[32767+ye][1]=ae,d[32767+ye][0]=se-1+ye;K<<=1,se<<=1}}(),function(){for(var K=0;K<256;K++)O[K]=19595*K,O[K+256>>0]=38470*K,O[K+512>>0]=7471*K+32768,O[K+768>>0]=-11059*K,O[K+1024>>0]=-21709*K,O[K+1280>>0]=32768*K+8421375,O[K+1536>>0]=-27439*K,O[K+1792>>0]=-5329*K}(),ke(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function il(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function T3(t){function e(T){if(!T)throw Error("assert :P")}function r(T,U,R){for(var I=0;4>I;I++)if(T[U+I]!=R.charCodeAt(I))return!0;return!1}function n(T,U,R,I,L){for(var M=0;M<L;M++)T[U+M]=R[I+M]}function s(T,U,R,I){for(var L=0;L<I;L++)T[U+L]=R}function i(T){return new Int32Array(T)}function o(T,U){for(var R=[],I=0;I<T;I++)R.push(new U);return R}function a(T,U){var R=[];return function I(L,M,W){for(var X=W[M],Z=0;Z<X&&(L.push(W.length>M+1?[]:new U),!(W.length<M+1));Z++)I(L[Z],M+1,W)}(R,0,T),R}var l=function(){var T=this;function U(g,k){for(var F=1<<k-1>>>0;g&F;)F>>>=1;return F?(g&F-1)+F:g}function R(g,k,F,V,$){e(!(V%F));do g[k+(V-=F)]=$;while(0<V)}function I(g,k,F,V,$){if(e(2328>=$),512>=$)var ee=i(512);else if((ee=i($))==null)return 0;return function(re,ie,oe,de,xe,Le){var Ue,Be,Ze=ie,He=1<<oe,we=i(16),Ee=i(16);for(e(xe!=0),e(de!=null),e(re!=null),e(0<oe),Be=0;Be<xe;++Be){if(15<de[Be])return 0;++we[de[Be]]}if(we[0]==xe)return 0;for(Ee[1]=0,Ue=1;15>Ue;++Ue){if(we[Ue]>1<<Ue)return 0;Ee[Ue+1]=Ee[Ue]+we[Ue]}for(Be=0;Be<xe;++Be)Ue=de[Be],0<de[Be]&&(Le[Ee[Ue]++]=Be);if(Ee[15]==1)return(de=new L).g=0,de.value=Le[0],R(re,Ze,1,He,de),He;var Xe,rt=-1,Je=He-1,St=0,xt=1,Wt=1,_t=1<<oe;for(Be=0,Ue=1,xe=2;Ue<=oe;++Ue,xe<<=1){if(xt+=Wt<<=1,0>(Wt-=we[Ue]))return 0;for(;0<we[Ue];--we[Ue])(de=new L).g=Ue,de.value=Le[Be++],R(re,Ze+St,xe,_t,de),St=U(St,Ue)}for(Ue=oe+1,xe=2;15>=Ue;++Ue,xe<<=1){if(xt+=Wt<<=1,0>(Wt-=we[Ue]))return 0;for(;0<we[Ue];--we[Ue]){if(de=new L,(St&Je)!=rt){for(Ze+=_t,Xe=1<<(rt=Ue)-oe;15>rt&&!(0>=(Xe-=we[rt]));)++rt,Xe<<=1;He+=_t=1<<(Xe=rt-oe),re[ie+(rt=St&Je)].g=Xe+oe,re[ie+rt].value=Ze-ie-rt}de.g=Ue-oe,de.value=Le[Be++],R(re,Ze+(St>>oe),xe,_t,de),St=U(St,Ue)}}return xt!=2*Ee[15]-1?0:He}(g,k,F,V,$,ee)}function L(){this.value=this.g=0}function M(){this.value=this.g=0}function W(){this.G=o(5,L),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Nn,M)}function X(g,k,F,V){e(g!=null),e(k!=null),e(2147483648>V),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=k,g.pa=F,g.Jd=k,g.Yc=F+V,g.Zc=4<=V?F+V-4+1:F,Ce(g)}function Z(g,k){for(var F=0;0<k--;)F|=pe(g,128)<<k;return F}function ce(g,k){var F=Z(g,k);return Te(g)?-F:F}function G(g,k,F,V){var $,ee=0;for(e(g!=null),e(k!=null),e(4294967288>V),g.Sb=V,g.Ra=0,g.u=0,g.h=0,4<V&&(V=4),$=0;$<V;++$)ee+=k[F+$]<<8*$;g.Ra=ee,g.bb=V,g.oa=k,g.pa=F}function Y(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<NA-8>>>0,++g.bb,g.u-=8;ae(g)&&(g.h=1,g.u=0)}function ue(g,k){if(e(0<=k),!g.h&&k<=SA){var F=se(g)&Er[k];return g.u+=k,Y(g),F}return g.h=1,g.u=0}function ke(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function se(g){return g.Ra>>>(g.u&NA-1)>>>0}function ae(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>NA}function he(g,k){g.u=k,g.h=ae(g)}function ye(g){g.u>=Pc&&(e(g.u>=Pc),Y(g))}function Ce(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function Te(g){return Z(g,1)}function pe(g,k){var F=g.Ca;0>g.b&&Ce(g);var V=g.b,$=F*k>>>8,ee=(g.I>>>V>$)+0;for(ee?(F-=$,g.I-=$+1<<V>>>0):F=$+1,V=F,$=0;256<=V;)$+=8,V>>=8;return V=7^$+qs[V],g.b-=V,g.Ca=(F<<V)-1,ee}function Qe(g,k,F){g[k+0]=F>>24&255,g[k+1]=F>>16&255,g[k+2]=F>>8&255,g[k+3]=F>>0&255}function De(g,k){return g[k+0]<<0|g[k+1]<<8}function Oe(g,k){return De(g,k)|g[k+2]<<16}function We(g,k){return De(g,k)|De(g,k+2)<<16}function mt(g,k){var F=1<<k;return e(g!=null),e(0<k),g.X=i(F),g.X==null?0:(g.Mb=32-k,g.Xa=k,1)}function Me(g,k){e(g!=null),e(k!=null),e(g.Xa==k.Xa),n(k.X,0,g.X,0,1<<k.Xa)}function fe(){this.X=[],this.Xa=this.Mb=0}function Ht(g,k,F,V){e(F!=null),e(V!=null);var $=F[0],ee=V[0];return $==0&&($=(g*ee+k/2)/k),ee==0&&(ee=(k*$+g/2)/g),0>=$||0>=ee?0:(F[0]=$,V[0]=ee,1)}function ft(g,k){return g+(1<<k)-1>>>k}function Ye(g,k){return((4278255360&g)+(4278255360&k)>>>0&4278255360)+((16711935&g)+(16711935&k)>>>0&16711935)>>>0}function lt(g,k){T[k]=function(F,V,$,ee,re,ie,oe){var de;for(de=0;de<re;++de){var xe=T[g](ie[oe+de-1],$,ee+de);ie[oe+de]=Ye(F[V+de],xe)}}}function gt(){this.ud=this.hd=this.jd=0}function ct(g,k){return((4278124286&(g^k))>>>1)+(g&k)>>>0}function me(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function ze(g,k){return me(g+(g-k+.5>>1))}function ot(g,k,F){return Math.abs(k-F)-Math.abs(g-F)}function st(g,k,F,V,$,ee,re){for(V=ee[re-1],F=0;F<$;++F)ee[re+F]=V=Ye(g[k+F],V)}function et(g,k,F,V,$){var ee;for(ee=0;ee<F;++ee){var re=g[k+ee],ie=re>>8&255,oe=16711935&(oe=(oe=16711935&re)+((ie<<16)+ie));V[$+ee]=(4278255360&re)+oe>>>0}}function ht(g,k){k.jd=g>>0&255,k.hd=g>>8&255,k.ud=g>>16&255}function vt(g,k,F,V,$,ee){var re;for(re=0;re<V;++re){var ie=k[F+re],oe=ie>>>8,de=ie,xe=255&(xe=(xe=ie>>>16)+((g.jd<<24>>24)*(oe<<24>>24)>>>5));de=255&(de=(de=de+((g.hd<<24>>24)*(oe<<24>>24)>>>5))+((g.ud<<24>>24)*(xe<<24>>24)>>>5)),$[ee+re]=(4278255360&ie)+(xe<<16)+de}}function Ie(g,k,F,V,$){T[k]=function(ee,re,ie,oe,de,xe,Le,Ue,Be){for(oe=Le;oe<Ue;++oe)for(Le=0;Le<Be;++Le)de[xe++]=$(ie[V(ee[re++])])},T[g]=function(ee,re,ie,oe,de,xe,Le){var Ue=8>>ee.b,Be=ee.Ea,Ze=ee.K[0],He=ee.w;if(8>Ue)for(ee=(1<<ee.b)-1,He=(1<<Ue)-1;re<ie;++re){var we,Ee=0;for(we=0;we<Be;++we)we&ee||(Ee=V(oe[de++])),xe[Le++]=$(Ze[Ee&He]),Ee>>=Ue}else T["VP8LMapColor"+F](oe,de,Ze,He,xe,Le,re,ie,Be)}}function je(g,k,F,V,$){for(F=k+F;k<F;){var ee=g[k++];V[$++]=ee>>16&255,V[$++]=ee>>8&255,V[$++]=ee>>0&255}}function qe(g,k,F,V,$){for(F=k+F;k<F;){var ee=g[k++];V[$++]=ee>>16&255,V[$++]=ee>>8&255,V[$++]=ee>>0&255,V[$++]=ee>>24&255}}function tt(g,k,F,V,$){for(F=k+F;k<F;){var ee=(re=g[k++])>>16&240|re>>12&15,re=re>>0&240|re>>28&15;V[$++]=ee,V[$++]=re}}function Pt(g,k,F,V,$){for(F=k+F;k<F;){var ee=(re=g[k++])>>16&248|re>>13&7,re=re>>5&224|re>>3&31;V[$++]=ee,V[$++]=re}}function Bt(g,k,F,V,$){for(F=k+F;k<F;){var ee=g[k++];V[$++]=ee>>0&255,V[$++]=ee>>8&255,V[$++]=ee>>16&255}}function zt(g,k,F,V,$,ee){if(ee==0)for(F=k+F;k<F;)Qe(V,((ee=g[k++])[0]>>24|ee[1]>>8&65280|ee[2]<<8&16711680|ee[3]<<24)>>>0),$+=32;else n(V,$,g,k,F)}function An(g,k){T[k][0]=T[g+"0"],T[k][1]=T[g+"1"],T[k][2]=T[g+"2"],T[k][3]=T[g+"3"],T[k][4]=T[g+"4"],T[k][5]=T[g+"5"],T[k][6]=T[g+"6"],T[k][7]=T[g+"7"],T[k][8]=T[g+"8"],T[k][9]=T[g+"9"],T[k][10]=T[g+"10"],T[k][11]=T[g+"11"],T[k][12]=T[g+"12"],T[k][13]=T[g+"13"],T[k][14]=T[g+"0"],T[k][15]=T[g+"0"]}function sr(g){return g==op||g==ap||g==lf||g==Oc}function us(){this.eb=[],this.size=this.A=this.fb=0}function pr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Xn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new us,this.f.kb=new pr,this.sd=null}function Xt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function yt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function At(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Ct(g,k){var F=g.T,V=k.ba.f.RGBA,$=V.eb,ee=V.fb+g.ka*V.A,re=Bo[k.ba.S],ie=g.y,oe=g.O,de=g.f,xe=g.N,Le=g.ea,Ue=g.W,Be=k.cc,Ze=k.dc,He=k.Mc,we=k.Nc,Ee=g.ka,Xe=g.ka+g.T,rt=g.U,Je=rt+1>>1;for(Ee==0?re(ie,oe,null,null,de,xe,Le,Ue,de,xe,Le,Ue,$,ee,null,null,rt):(re(k.ec,k.fc,ie,oe,Be,Ze,He,we,de,xe,Le,Ue,$,ee-V.A,$,ee,rt),++F);Ee+2<Xe;Ee+=2)Be=de,Ze=xe,He=Le,we=Ue,xe+=g.Rc,Ue+=g.Rc,ee+=2*V.A,re(ie,(oe+=2*g.fa)-g.fa,ie,oe,Be,Ze,He,we,de,xe,Le,Ue,$,ee-V.A,$,ee,rt);return oe+=g.fa,g.j+Xe<g.o?(n(k.ec,k.fc,ie,oe,rt),n(k.cc,k.dc,de,xe,Je),n(k.Mc,k.Nc,Le,Ue,Je),F--):1&Xe||re(ie,oe,null,null,de,xe,Le,Ue,de,xe,Le,Ue,$,ee+V.A,null,null,rt),F}function Ar(g,k,F){var V=g.F,$=[g.J];if(V!=null){var ee=g.U,re=k.ba.S,ie=re==af||re==lf;k=k.ba.f.RGBA;var oe=[0],de=g.ka;oe[0]=g.T,g.Kb&&(de==0?--oe[0]:(--de,$[0]-=g.width),g.j+g.ka+g.T==g.o&&(oe[0]=g.o-g.j-de));var xe=k.eb;de=k.fb+de*k.A,g=zr(V,$[0],g.width,ee,oe,xe,de+(ie?0:3),k.A),e(F==oe),g&&sr(re)&&Wi(xe,de,ie,ee,oe,k.A)}return 0}function ur(g){var k=g.ma,F=k.ba.S,V=11>F,$=F==sf||F==of||F==af||F==Qc||F==12||sr(F);if(k.memory=null,k.Ib=null,k.Jb=null,k.Nd=null,!rn(k.Oa,g,$?11:12))return 0;if($&&sr(F)&&nt(),g.da)alert("todo:use_scaling");else{if(V){if(k.Ib=At,g.Kb){if(F=g.U+1>>1,k.memory=i(g.U+2*F),k.memory==null)return 0;k.ec=k.memory,k.fc=0,k.cc=k.ec,k.dc=k.fc+g.U,k.Mc=k.cc,k.Nc=k.dc+F,k.Ib=Ct,nt()}}else alert("todo:EmitYUV");$&&(k.Jb=Ar,V&&Fe())}if(V&&!wy){for(g=0;256>g;++g)x2[g]=89858*(g-128)+uf>>cf,B2[g]=-22014*(g-128)+uf,b2[g]=-45773*(g-128),w2[g]=113618*(g-128)+uf>>cf;for(g=Rl;g<cp;++g)k=76283*(g-16)+uf>>cf,C2[g-Rl]=$t(k,255),_2[g-Rl]=$t(k+8>>4,15);wy=1}return 1}function Vn(g){var k=g.ma,F=g.U,V=g.T;return e(!(1&g.ka)),0>=F||0>=V?0:(F=k.Ib(g,k),k.Jb!=null&&k.Jb(g,k,F),k.Dc+=F,1)}function Hn(g){g.ma.memory=null}function Qt(g,k,F,V){return ue(g,8)!=47?0:(k[0]=ue(g,14)+1,F[0]=ue(g,14)+1,V[0]=ue(g,1),ue(g,3)!=0?0:!g.h)}function Hr(g,k){if(4>g)return g+1;var F=g-2>>1;return(2+(1&g)<<F)+ue(k,F)+1}function Ui(g,k){return 120<k?k-120:1<=(F=((F=a2[k-1])>>4)*g+(8-(15&F)))?F:1;var F}function En(g,k,F){var V=se(F),$=g[k+=255&V].g-8;return 0<$&&(he(F,F.u+8),V=se(F),k+=g[k].value,k+=V&(1<<$)-1),he(F,F.u+g[k].g),g[k].value}function Mt(g,k,F){return F.g+=g.g,F.value+=g.value<<k>>>0,e(8>=F.g),g.g}function en(g,k,F){var V=g.xc;return e((k=V==0?0:g.vc[g.md*(F>>V)+(k>>V)])<g.Wb),g.Ya[k]}function ws(g,k,F,V){var $=g.ab,ee=g.c*k,re=g.C;k=re+k;var ie=F,oe=V;for(V=g.Ta,F=g.Ua;0<$--;){var de=g.gc[$],xe=re,Le=k,Ue=ie,Be=oe,Ze=(oe=V,ie=F,de.Ea);switch(e(xe<Le),e(Le<=de.nc),de.hc){case 2:vd(Ue,Be,(Le-xe)*Ze,oe,ie);break;case 0:var He=xe,we=Le,Ee=oe,Xe=ie,rt=(_t=de).Ea;He==0&&(Lc(Ue,Be,null,null,1,Ee,Xe),st(Ue,Be+1,0,0,rt-1,Ee,Xe+1),Be+=rt,Xe+=rt,++He);for(var Je=1<<_t.b,St=Je-1,xt=ft(rt,_t.b),Wt=_t.K,_t=_t.w+(He>>_t.b)*xt;He<we;){var Ir=Wt,Pr=_t,it=1;for(Uc(Ue,Be,Ee,Xe-rt,1,Ee,Xe);it<rt;){var vr=(it&~St)+Je;vr>rt&&(vr=rt),(0,Ys[Ir[Pr++]>>8&15])(Ue,Be+ +it,Ee,Xe+it-rt,vr-it,Ee,Xe+it),it=vr}Be+=rt,Xe+=rt,++He&St||(_t+=xt)}Le!=de.nc&&n(oe,ie-Ze,oe,ie+(Le-xe-1)*Ze,Ze);break;case 1:for(Ze=Ue,we=Be,rt=(Ue=de.Ea)-(Xe=Ue&~(Ee=(Be=1<<de.b)-1)),He=ft(Ue,de.b),Je=de.K,de=de.w+(xe>>de.b)*He;xe<Le;){for(St=Je,xt=de,Wt=new gt,_t=we+Xe,Ir=we+Ue;we<_t;)ht(St[xt++],Wt),Fl(Wt,Ze,we,Be,oe,ie),we+=Be,ie+=Be;we<Ir&&(ht(St[xt++],Wt),Fl(Wt,Ze,we,rt,oe,ie),we+=rt,ie+=rt),++xe&Ee||(de+=He)}break;case 3:if(Ue==oe&&Be==ie&&0<de.b){for(we=oe,Ue=Ze=ie+(Le-xe)*Ze-(Xe=(Le-xe)*ft(de.Ea,de.b)),Be=oe,Ee=ie,He=[],Xe=(rt=Xe)-1;0<=Xe;--Xe)He[Xe]=Be[Ee+Xe];for(Xe=rt-1;0<=Xe;--Xe)we[Ue+Xe]=He[Xe];cn(de,xe,Le,oe,Ze,oe,ie)}else cn(de,xe,Le,Ue,Be,oe,ie)}ie=V,oe=F}oe!=F&&n(V,F,ie,oe,ee)}function In(g,k){var F=g.V,V=g.Ba+g.c*g.C,$=k-g.C;if(e(k<=g.l.o),e(16>=$),0<$){var ee=g.l,re=g.Ta,ie=g.Ua,oe=ee.width;if(ws(g,$,F,V),$=ie=[ie],e((F=g.C)<(V=k)),e(ee.v<ee.va),V>ee.o&&(V=ee.o),F<ee.j){var de=ee.j-F;F=ee.j,$[0]+=de*oe}if(F>=V?F=0:($[0]+=4*ee.v,ee.ka=F-ee.j,ee.U=ee.va-ee.v,ee.T=V-F,F=1),F){if(ie=ie[0],11>(F=g.ca).S){var xe=F.f.RGBA,Le=(V=F.S,$=ee.U,ee=ee.T,de=xe.eb,xe.A),Ue=ee;for(xe=xe.fb+g.Ma*xe.A;0<Ue--;){var Be=re,Ze=ie,He=$,we=de,Ee=xe;switch(V){case nf:Xs(Be,Ze,He,we,Ee);break;case sf:Cs(Be,Ze,He,we,Ee);break;case op:Cs(Be,Ze,He,we,Ee),Wi(we,Ee,0,He,1,0);break;case LA:zi(Be,Ze,He,we,Ee);break;case of:zt(Be,Ze,He,we,Ee,1);break;case ap:zt(Be,Ze,He,we,Ee,1),Wi(we,Ee,0,He,1,0);break;case af:zt(Be,Ze,He,we,Ee,0);break;case lf:zt(Be,Ze,He,we,Ee,0),Wi(we,Ee,1,He,1,0);break;case Qc:Ya(Be,Ze,He,we,Ee);break;case Oc:Ya(Be,Ze,He,we,Ee),Kr(we,Ee,He,1,0);break;case hy:Xa(Be,Ze,He,we,Ee);break;default:e(0)}ie+=oe,xe+=Le}g.Ma+=ee}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=F.height)}}g.C=k,e(g.C<=g.i)}function Di(g){var k;if(0<g.ua)return 0;for(k=0;k<g.Wb;++k){var F=g.Ya[k].G,V=g.Ya[k].H;if(0<F[1][V[1]+0].g||0<F[2][V[2]+0].g||0<F[3][V[3]+0].g)return 0}return 1}function oi(g,k,F,V,$,ee){if(g.Z!=0){var re=g.qd,ie=g.rd;for(e(tl[g.Z]!=null);k<F;++k)tl[g.Z](re,ie,V,$,V,$,ee),re=V,ie=$,$+=ee;g.qd=re,g.rd=ie}}function bs(g,k){var F=g.l.ma,V=F.Z==0||F.Z==1?g.l.j:g.C;if(V=g.C<V?V:g.C,e(k<=g.l.o),k>V){var $=g.l.width,ee=F.ca,re=F.tb+$*V,ie=g.V,oe=g.Ba+g.c*V,de=g.gc;e(g.ab==1),e(de[0].hc==3),Go(de[0],V,k,ie,oe,ee,re),oi(F,V,k,ee,re,$)}g.C=g.Ma=k}function ai(g,k,F,V,$,ee,re){var ie=g.$/V,oe=g.$%V,de=g.m,xe=g.s,Le=F+g.$,Ue=Le;$=F+V*$;var Be=F+V*ee,Ze=280+xe.ua,He=g.Pb?ie:16777216,we=0<xe.ua?xe.Wa:null,Ee=xe.wc,Xe=Le<Be?en(xe,oe,ie):null;e(g.C<ee),e(Be<=$);var rt=!1;e:for(;;){for(;rt||Le<Be;){var Je=0;if(ie>=He){var St=Le-F;e((He=g).Pb),He.wd=He.m,He.xd=St,0<He.s.ua&&Me(He.s.Wa,He.s.vb),He=ie+A2}if(oe&Ee||(Xe=en(xe,oe,ie)),e(Xe!=null),Xe.Qb&&(k[Le]=Xe.qb,rt=!0),!rt)if(ye(de),Xe.jc){Je=de,St=k;var xt=Le,Wt=Xe.pd[se(Je)&Nn-1];e(Xe.jc),256>Wt.g?(he(Je,Je.u+Wt.g),St[xt]=Wt.value,Je=0):(he(Je,Je.u+Wt.g-256),e(256<=Wt.value),Je=Wt.value),Je==0&&(rt=!0)}else Je=En(Xe.G[0],Xe.H[0],de);if(de.h)break;if(rt||256>Je){if(!rt)if(Xe.nd)k[Le]=(Xe.qb|Je<<8)>>>0;else{if(ye(de),rt=En(Xe.G[1],Xe.H[1],de),ye(de),St=En(Xe.G[2],Xe.H[2],de),xt=En(Xe.G[3],Xe.H[3],de),de.h)break;k[Le]=(xt<<24|rt<<16|Je<<8|St)>>>0}if(rt=!1,++Le,++oe>=V&&(oe=0,++ie,re!=null&&ie<=ee&&!(ie%16)&&re(g,ie),we!=null))for(;Ue<Le;)Je=k[Ue++],we.X[(506832829*Je&4294967295)>>>we.Mb]=Je}else if(280>Je){if(Je=Hr(Je-256,de),St=En(Xe.G[4],Xe.H[4],de),ye(de),St=Ui(V,St=Hr(St,de)),de.h)break;if(Le-F<St||$-Le<Je)break e;for(xt=0;xt<Je;++xt)k[Le+xt]=k[Le+xt-St];for(Le+=Je,oe+=Je;oe>=V;)oe-=V,++ie,re!=null&&ie<=ee&&!(ie%16)&&re(g,ie);if(e(Le<=$),oe&Ee&&(Xe=en(xe,oe,ie)),we!=null)for(;Ue<Le;)Je=k[Ue++],we.X[(506832829*Je&4294967295)>>>we.Mb]=Je}else{if(!(Je<Ze))break e;for(rt=Je-280,e(we!=null);Ue<Le;)Je=k[Ue++],we.X[(506832829*Je&4294967295)>>>we.Mb]=Je;Je=Le,e(!(rt>>>(St=we).Xa)),k[Je]=St.X[rt],rt=!0}rt||e(de.h==ae(de))}if(g.Pb&&de.h&&Le<$)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Me(g.s.vb,g.s.Wa);else{if(de.h)break e;re!=null&&re(g,ie>ee?ee:ie),g.a=0,g.$=Le-F}return 1}return g.a=3,0}function Gs(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var k=g.Wa;k!=null&&(k.X=null),g.vb=null,e(g!=null)}function Bs(){var g=new EA;return g==null?null:(g.a=0,g.xb=py,An("Predictor","VP8LPredictors"),An("Predictor","VP8LPredictors_C"),An("PredictorAdd","VP8LPredictorsAdd"),An("PredictorAdd","VP8LPredictorsAdd_C"),vd=et,Fl=vt,Xs=je,Cs=qe,Ya=tt,Xa=Pt,zi=Bt,T.VP8LMapColor32b=Ki,T.VP8LMapColor8b=Tn,g)}function Jn(g,k,F,V,$){var ee=1,re=[g],ie=[k],oe=V.m,de=V.s,xe=null,Le=0;e:for(;;){if(F)for(;ee&&ue(oe,1);){var Ue=re,Be=ie,Ze=V,He=1,we=Ze.m,Ee=Ze.gc[Ze.ab],Xe=ue(we,2);if(Ze.Oc&1<<Xe)ee=0;else{switch(Ze.Oc|=1<<Xe,Ee.hc=Xe,Ee.Ea=Ue[0],Ee.nc=Be[0],Ee.K=[null],++Ze.ab,e(4>=Ze.ab),Xe){case 0:case 1:Ee.b=ue(we,3)+2,He=Jn(ft(Ee.Ea,Ee.b),ft(Ee.nc,Ee.b),0,Ze,Ee.K),Ee.K=Ee.K[0];break;case 3:var rt,Je=ue(we,8)+1,St=16<Je?0:4<Je?1:2<Je?2:3;if(Ue[0]=ft(Ee.Ea,St),Ee.b=St,rt=He=Jn(Je,1,0,Ze,Ee.K)){var xt,Wt=Je,_t=Ee,Ir=1<<(8>>_t.b),Pr=i(Ir);if(Pr==null)rt=0;else{var it=_t.K[0],vr=_t.w;for(Pr[0]=_t.K[0][0],xt=1;xt<1*Wt;++xt)Pr[xt]=Ye(it[vr+xt],Pr[xt-1]);for(;xt<4*Ir;++xt)Pr[xt]=0;_t.K[0]=null,_t.K[0]=Pr,rt=1}}He=rt;break;case 2:break;default:e(0)}ee=He}}if(re=re[0],ie=ie[0],ee&&ue(oe,1)&&!(ee=1<=(Le=ue(oe,4))&&11>=Le)){V.a=3;break e}var Gr;if(Gr=ee)t:{var Lr,qt,Kn,Js=V,sn=re,_s=ie,Mr=Le,qi=F,Yi=Js.m,on=Js.s,es=[null],ks=1,Co=0,qo=l2[Mr];r:for(;;){if(qi&&ue(Yi,1)){var hs=ue(Yi,3)+2,Yo=ft(sn,hs),UA=ft(_s,hs),Hc=Yo*UA;if(!Jn(Yo,UA,0,Js,es))break r;for(es=es[0],on.xc=hs,Lr=0;Lr<Hc;++Lr){var Ml=es[Lr]>>8&65535;es[Lr]=Ml,Ml>=ks&&(ks=Ml+1)}}if(Yi.h)break r;for(qt=0;5>qt;++qt){var yn=fy[qt];!qt&&0<Mr&&(yn+=1<<Mr),Co<yn&&(Co=yn)}var up=o(ks*qo,L),_y=ks,ky=o(_y,W);if(ky==null)var hf=null;else e(65536>=_y),hf=ky;var Kc=i(Co);if(hf==null||Kc==null||up==null){Js.a=1;break r}var ff=up;for(Lr=Kn=0;Lr<ks;++Lr){var Xo=hf[Lr],zc=Xo.G,DA=Xo.H,Ey=0,RA=1,Iy=0;for(qt=0;5>qt;++qt){yn=fy[qt],zc[qt]=ff,DA[qt]=Kn,!qt&&0<Mr&&(yn+=1<<Mr);s:{var Gc,Bd=yn,Cd=Js,Wc=Kc,E2=ff,Sy=Kn,_d=0,wa=Cd.m,Ny=ue(wa,1);if(s(Wc,0,0,Bd),Ny){var Ty=ue(wa,1)+1,jy=ue(wa,1),dp=ue(wa,jy==0?1:8);Wc[dp]=1,Ty==2&&(Wc[dp=ue(wa,8)]=1);var $c=1}else{var Fy=i(19),Py=ue(wa,4)+4;if(19<Py){Cd.a=3;var gf=0;break s}for(Gc=0;Gc<Py;++Gc)Fy[Af[Gc]]=ue(wa,3);var pi=void 0,MA=void 0,Ly=Cd,I2=Fy,pf=Bd,Uy=Wc,hp=0,Ql=Ly.m,Dy=8,Ry=o(128,L);n:for(;I(Ry,0,7,I2,19);){if(ue(Ql,1)){var S2=2+2*ue(Ql,3);if((pi=2+ue(Ql,S2))>pf)break n}else pi=pf;for(MA=0;MA<pf&&pi--;){ye(Ql);var fp=Ry[0+(127&se(Ql))];he(Ql,Ql.u+fp.g);var qc=fp.value;if(16>qc)Uy[MA++]=qc,qc!=0&&(Dy=qc);else{var gp=qc==16,pp=qc-16,Es=i2[pp],Yc=ue(Ql,s2[pp])+Es;if(MA+Yc>pf)break n;for(var N2=gp?Dy:0;0<Yc--;)Uy[MA++]=N2}}hp=1;break n}hp||(Ly.a=3),$c=hp}($c=$c&&!wa.h)&&(_d=I(E2,Sy,8,Wc,Bd)),$c&&_d!=0?gf=_d:(Cd.a=3,gf=0)}if(gf==0)break r;if(RA&&o2[qt]==1&&(RA=ff[Kn].g==0),Ey+=ff[Kn].g,Kn+=gf,3>=qt){var kd,mf=Kc[0];for(kd=1;kd<yn;++kd)Kc[kd]>mf&&(mf=Kc[kd]);Iy+=mf}}if(Xo.nd=RA,Xo.Qb=0,RA&&(Xo.qb=(zc[3][DA[3]+0].value<<24|zc[1][DA[1]+0].value<<16|zc[2][DA[2]+0].value)>>>0,Ey==0&&256>zc[0][DA[0]+0].value&&(Xo.Qb=1,Xo.qb+=zc[0][DA[0]+0].value<<8)),Xo.jc=!Xo.Qb&&6>Iy,Xo.jc){var Xc,rl=Xo;for(Xc=0;Xc<Nn;++Xc){var Ol=Xc,Vl=rl.pd[Ol],yf=rl.G[0][rl.H[0]+Ol];256<=yf.value?(Vl.g=yf.g+256,Vl.value=yf.value):(Vl.g=0,Vl.value=0,Ol>>=Mt(yf,8,Vl),Ol>>=Mt(rl.G[1][rl.H[1]+Ol],16,Vl),Ol>>=Mt(rl.G[2][rl.H[2]+Ol],0,Vl),Mt(rl.G[3][rl.H[3]+Ol],24,Vl))}}}on.vc=es,on.Wb=ks,on.Ya=hf,on.yc=up,Gr=1;break t}Gr=0}if(!(ee=Gr)){V.a=3;break e}if(0<Le){if(de.ua=1<<Le,!mt(de.Wa,Le)){V.a=1,ee=0;break e}}else de.ua=0;var mp=V,My=re,T2=ie,yp=mp.s,vf=yp.xc;if(mp.c=My,mp.i=T2,yp.md=ft(My,vf),yp.wc=vf==0?-1:(1<<vf)-1,F){V.xb=p2;break e}if((xe=i(re*ie))==null){V.a=1,ee=0;break e}ee=(ee=ai(V,xe,0,re,ie,ie,null))&&!oe.h;break e}return ee?($!=null?$[0]=xe:(e(xe==null),e(F)),V.$=0,F||Gs(de)):Gs(de),ee}function oo(g,k){var F=g.c*g.i,V=F+k+16*k;return e(g.c<=k),g.V=i(V),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+F+k,1)}function ha(g,k){var F=g.C,V=k-F,$=g.V,ee=g.Ba+g.c*F;for(e(k<=g.l.o);0<V;){var re=16<V?16:V,ie=g.l.ma,oe=g.l.width,de=oe*re,xe=ie.ca,Le=ie.tb+oe*F,Ue=g.Ta,Be=g.Ua;ws(g,re,$,ee),Fn(Ue,Be,xe,Le,de),oi(ie,F,F+re,xe,Le,oe),V-=re,$+=re*g.c,F+=re}e(F==k),g.C=g.Ma=k}function fa(){this.ub=this.yd=this.td=this.Rb=0}function ga(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Qa(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function vA(){this.Yb=function(){var g=[];return function k(F,V,$){for(var ee=$[V],re=0;re<ee&&(F.push($.length>V+1?[]:0),!($.length<V+1));re++)k(F[re],V+1,$)}(g,0,[3,11]),g}()}function yd(){this.jb=i(3),this.Wc=a([4,8],vA),this.Xc=a([4,17],vA)}function Bl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ri(){this.ld=this.La=this.dd=this.tc=0}function Oa(){this.Na=this.la=0}function ao(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function li(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Oo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ri),this.Y=0,this.ya=Array(new li),this.aa=0,this.l=new lo}function Cc(){this.y=i(16),this.f=i(8),this.ea=i(8)}function _c(){this.cb=this.a=0,this.sc="",this.m=new ke,this.Od=new fa,this.Kc=new ga,this.ed=new Bl,this.Qa=new Qa,this.Ic=this.$c=this.Aa=0,this.D=new Oo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ke),this.ia=0,this.pb=o(4,ao),this.Pa=new yd,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Cc),this.Hd=0,this.rb=Array(new Oa),this.sb=0,this.wa=Array(new Ri),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new li),this.L=this.aa=0,this.gd=a([4,2],Ri),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function lo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function pa(){var g=new _c;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,wd||(wd=ma)),g}function tn(g,k,F){return g.a==0&&(g.a=k,g.sc=F,g.cb=0),0}function Cl(g,k,F){return 3<=F&&g[k+0]==157&&g[k+1]==1&&g[k+2]==42}function xA(g,k){if(g==null)return 0;if(g.a=0,g.sc="OK",k==null)return tn(g,2,"null VP8Io passed to VP8GetHeaders()");var F=k.data,V=k.w,$=k.ha;if(4>$)return tn(g,7,"Truncated header.");var ee=F[V+0]|F[V+1]<<8|F[V+2]<<16,re=g.Od;if(re.Rb=!(1&ee),re.td=ee>>1&7,re.yd=ee>>4&1,re.ub=ee>>5,3<re.td)return tn(g,3,"Incorrect keyframe parameters.");if(!re.yd)return tn(g,4,"Frame not displayable.");V+=3,$-=3;var ie=g.Kc;if(re.Rb){if(7>$)return tn(g,7,"cannot parse picture header");if(!Cl(F,V,$))return tn(g,3,"Bad code word");ie.c=16383&(F[V+4]<<8|F[V+3]),ie.Td=F[V+4]>>6,ie.i=16383&(F[V+6]<<8|F[V+5]),ie.Ud=F[V+6]>>6,V+=7,$-=7,g.za=ie.c+15>>4,g.Ub=ie.i+15>>4,k.width=ie.c,k.height=ie.i,k.Da=0,k.j=0,k.v=0,k.va=k.width,k.o=k.height,k.da=0,k.ib=k.width,k.hb=k.height,k.U=k.width,k.T=k.height,s((ee=g.Pa).jb,0,255,ee.jb.length),e((ee=g.Qa)!=null),ee.Cb=0,ee.Bb=0,ee.Fb=1,s(ee.Zb,0,0,ee.Zb.length),s(ee.Lb,0,0,ee.Lb)}if(re.ub>$)return tn(g,7,"bad partition length");X(ee=g.m,F,V,re.ub),V+=re.ub,$-=re.ub,re.Rb&&(ie.Ld=Te(ee),ie.Kd=Te(ee)),ie=g.Qa;var oe,de=g.Pa;if(e(ee!=null),e(ie!=null),ie.Cb=Te(ee),ie.Cb){if(ie.Bb=Te(ee),Te(ee)){for(ie.Fb=Te(ee),oe=0;4>oe;++oe)ie.Zb[oe]=Te(ee)?ce(ee,7):0;for(oe=0;4>oe;++oe)ie.Lb[oe]=Te(ee)?ce(ee,6):0}if(ie.Bb)for(oe=0;3>oe;++oe)de.jb[oe]=Te(ee)?Z(ee,8):255}else ie.Bb=0;if(ee.Ka)return tn(g,3,"cannot parse segment header");if((ie=g.ed).zd=Te(ee),ie.Tb=Z(ee,6),ie.wb=Z(ee,3),ie.Pc=Te(ee),ie.Pc&&Te(ee)){for(de=0;4>de;++de)Te(ee)&&(ie.vd[de]=ce(ee,6));for(de=0;4>de;++de)Te(ee)&&(ie.od[de]=ce(ee,6))}if(g.L=ie.Tb==0?0:ie.zd?1:2,ee.Ka)return tn(g,3,"cannot parse filter header");var xe=$;if($=oe=V,V=oe+xe,ie=xe,g.Xb=(1<<Z(g.m,2))-1,xe<3*(de=g.Xb))F=7;else{for(oe+=3*de,ie-=3*de,xe=0;xe<de;++xe){var Le=F[$+0]|F[$+1]<<8|F[$+2]<<16;Le>ie&&(Le=ie),X(g.Jc[+xe],F,oe,Le),oe+=Le,ie-=Le,$+=3}X(g.Jc[+de],F,oe,ie),F=oe<V?0:5}if(F!=0)return tn(g,F,"cannot parse partitions");for(F=Z(oe=g.m,7),$=Te(oe)?ce(oe,4):0,V=Te(oe)?ce(oe,4):0,ie=Te(oe)?ce(oe,4):0,de=Te(oe)?ce(oe,4):0,oe=Te(oe)?ce(oe,4):0,xe=g.Qa,Le=0;4>Le;++Le){if(xe.Cb){var Ue=xe.Zb[Le];xe.Fb||(Ue+=F)}else{if(0<Le){g.pb[Le]=g.pb[0];continue}Ue=F}var Be=g.pb[Le];Be.Sc[0]=lp[$t(Ue+$,127)],Be.Sc[1]=Vc[$t(Ue+0,127)],Be.Eb[0]=2*lp[$t(Ue+V,127)],Be.Eb[1]=101581*Vc[$t(Ue+ie,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=lp[$t(Ue+de,117)],Be.Qc[1]=Vc[$t(Ue+oe,127)],Be.lc=Ue+oe}if(!re.Rb)return tn(g,4,"Not a key frame.");for(Te(ee),re=g.Pa,F=0;4>F;++F){for($=0;8>$;++$)for(V=0;3>V;++V)for(ie=0;11>ie;++ie)de=pe(ee,f2[F][$][V][ie])?Z(ee,8):d2[F][$][V][ie],re.Wc[F][$].Yb[V][ie]=de;for($=0;17>$;++$)re.Xc[F][$]=re.Wc[F][g2[$]]}return g.kc=Te(ee),g.kc&&(g.Bd=Z(ee,8)),g.cb=1}function ma(g,k,F,V,$,ee,re){var ie=k[$].Yb[F];for(F=0;16>$;++$){if(!pe(g,ie[F+0]))return $;for(;!pe(g,ie[F+1]);)if(ie=k[++$].Yb[0],F=0,$==16)return 16;var oe=k[$+1].Yb;if(pe(g,ie[F+2])){var de=g,xe=0;if(pe(de,(Ue=ie)[(Le=F)+3]))if(pe(de,Ue[Le+6])){for(ie=0,Le=2*(xe=pe(de,Ue[Le+8]))+(Ue=pe(de,Ue[Le+9+xe])),xe=0,Ue=c2[Le];Ue[ie];++ie)xe+=xe+pe(de,Ue[ie]);xe+=3+(8<<Le)}else pe(de,Ue[Le+7])?(xe=7+2*pe(de,165),xe+=pe(de,145)):xe=5+pe(de,159);else xe=pe(de,Ue[Le+4])?3+pe(de,Ue[Le+5]):2;ie=oe[2]}else xe=1,ie=oe[1];oe=re+u2[$],0>(de=g).b&&Ce(de);var Le,Ue=de.b,Be=(Le=de.Ca>>1)-(de.I>>Ue)>>31;--de.b,de.Ca+=Be,de.Ca|=1,de.I-=(Le+1&Be)<<Ue,ee[oe]=((xe^Be)-Be)*V[(0<$)+0]}return 16}function ya(g){var k=g.rb[g.sb-1];k.la=0,k.Na=0,s(g.zc,0,0,g.zc.length),g.ja=0}function Va(g,k){if(g==null)return 0;if(k==null)return tn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!xA(g,k))return 0;if(e(g.cb),k.ac==null||k.ac(k)){k.ob&&(g.L=0);var F=df[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=k.v-F>>4,g.zb=k.j-F>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=k.o+15+F>>4,g.Hb=k.va+15+F>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var V=g.ed;for(F=0;4>F;++F){var $;if(g.Qa.Cb){var ee=g.Qa.Lb[F];g.Qa.Fb||(ee+=V.Tb)}else ee=V.Tb;for($=0;1>=$;++$){var re=g.gd[F][$],ie=ee;if(V.Pc&&(ie+=V.vd[0],$&&(ie+=V.od[0])),0<(ie=0>ie?0:63<ie?63:ie)){var oe=ie;0<V.wb&&(oe=4<V.wb?oe>>2:oe>>1)>9-V.wb&&(oe=9-V.wb),1>oe&&(oe=1),re.dd=oe,re.tc=2*ie+oe,re.ld=40<=ie?2:15<=ie?1:0}else re.tc=0;re.La=$}}}F=0}else tn(g,6,"Frame setup failed"),F=g.a;if(F=F==0){if(F){g.$c=0,0<g.Aa||(g.Ic=k2);e:{F=g.Ic,V=4*(oe=g.za);var de=32*oe,xe=oe+1,Le=0<g.L?oe*(0<g.Aa?2:1):0,Ue=(g.Aa==2?2:1)*oe;if((re=V+832+($=3*(16*F+df[g.L])/2*de)+(ee=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=re)F=0;else{if(re>g.Vb){if(g.Vb=0,g.Ec=i(re),g.Fc=0,g.Ec==null){F=tn(g,1,"no memory during frame initialization.");break e}g.Vb=re}re=g.Ec,ie=g.Fc,g.Ac=re,g.Bc=ie,ie+=V,g.Gd=o(de,Cc),g.Hd=0,g.rb=o(xe+1,Oa),g.sb=1,g.wa=Le?o(Le,Ri):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=oe),e(!0),g.oc=re,g.pc=ie,ie+=832,g.ya=o(Ue,li),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=oe),g.R=16*oe,g.B=8*oe,oe=(de=df[g.L])*g.R,de=de/2*g.B,g.sa=re,g.ta=ie+oe,g.qa=g.sa,g.ra=g.ta+16*F*g.R+de,g.Ha=g.qa,g.Ia=g.ra+8*F*g.B+de,g.$c=0,ie+=$,g.mb=ee?re:null,g.nb=ee?ie:null,e(ie+ee<=g.Fc+g.Vb),ya(g),s(g.Ac,g.Bc,0,V),F=1}}if(F){if(k.ka=0,k.y=g.sa,k.O=g.ta,k.f=g.qa,k.N=g.ra,k.ea=g.Ha,k.Vd=g.Ia,k.fa=g.R,k.Rc=g.B,k.F=null,k.J=0,!ef){for(F=-255;255>=F;++F)mn[255+F]=0>F?-F:F;for(F=-1020;1020>=F;++F)el[1020+F]=-128>F?-128:127<F?127:F;for(F=-112;112>=F;++F)xd[112+F]=-16>F?-16:15<F?15:F;for(F=-255;510>=F;++F)Ul[255+F]=0>F?0:255<F?255:F;ef=1}fi=kl,Ja=_l,Pl=Ha,Ms=kc,xo=jr,jn=ci,Dc=hi,gi=Ko,Rc=$a,TA=po,jA=CA,Wo=ds,FA=_A,PA=kA,Ll=fo,Za=$s,Mc=go,Gi=Oi,$o[0]=uo,$o[1]=Ka,$o[2]=Sc,$o[3]=xa,$o[4]=Nc,$o[5]=Ws,$o[6]=Tc,$o[7]=Ds,$o[8]=Ga,$o[9]=jc,Dl[0]=Ao,Dl[1]=Ic,Dl[2]=Vo,Dl[3]=za,Dl[4]=gn,Dl[5]=co,Dl[6]=wA,bo[0]=di,bo[1]=Ec,bo[2]=Wa,bo[3]=El,bo[4]=ho,bo[5]=bA,bo[6]=Rr,F=1}else F=0}F&&(F=function(Be,Ze){for(Be.M=0;Be.M<Be.Va;++Be.M){var He,we=Be.Jc[Be.M&Be.Xb],Ee=Be.m,Xe=Be;for(He=0;He<Xe.za;++He){var rt=Ee,Je=Xe,St=Je.Ac,xt=Je.Bc+4*He,Wt=Je.zc,_t=Je.ya[Je.aa+He];if(Je.Qa.Bb?_t.$b=pe(rt,Je.Pa.jb[0])?2+pe(rt,Je.Pa.jb[2]):pe(rt,Je.Pa.jb[1]):_t.$b=0,Je.kc&&(_t.Ad=pe(rt,Je.Bd)),_t.Za=!pe(rt,145)+0,_t.Za){var Ir=_t.Ob,Pr=0;for(Je=0;4>Je;++Je){var it,vr=Wt[0+Je];for(it=0;4>it;++it){vr=h2[St[xt+it]][vr];for(var Gr=gy[pe(rt,vr[0])];0<Gr;)Gr=gy[2*Gr+pe(rt,vr[Gr])];vr=-Gr,St[xt+it]=vr}n(Ir,Pr,St,xt,4),Pr+=4,Wt[0+Je]=vr}}else vr=pe(rt,156)?pe(rt,128)?1:3:pe(rt,163)?2:0,_t.Ob[0]=vr,s(St,xt,vr,4),s(Wt,0,vr,4);_t.Dd=pe(rt,142)?pe(rt,114)?pe(rt,183)?1:3:2:0}if(Xe.m.Ka)return tn(Be,7,"Premature end-of-partition0 encountered.");for(;Be.ja<Be.za;++Be.ja){if(Xe=we,rt=(Ee=Be).rb[Ee.sb-1],St=Ee.rb[Ee.sb+Ee.ja],He=Ee.ya[Ee.aa+Ee.ja],xt=Ee.kc?He.Ad:0)rt.la=St.la=0,He.Za||(rt.Na=St.Na=0),He.Hc=0,He.Gc=0,He.ia=0;else{var Lr,qt;if(rt=St,St=Xe,xt=Ee.Pa.Xc,Wt=Ee.ya[Ee.aa+Ee.ja],_t=Ee.pb[Wt.$b],Je=Wt.ad,Ir=0,Pr=Ee.rb[Ee.sb-1],vr=it=0,s(Je,Ir,0,384),Wt.Za)var Kn=0,Js=xt[3];else{Gr=i(16);var sn=rt.Na+Pr.Na;if(sn=wd(St,xt[1],sn,_t.Eb,0,Gr,0),rt.Na=Pr.Na=(0<sn)+0,1<sn)fi(Gr,0,Je,Ir);else{var _s=Gr[0]+3>>3;for(Gr=0;256>Gr;Gr+=16)Je[Ir+Gr]=_s}Kn=1,Js=xt[0]}var Mr=15&rt.la,qi=15&Pr.la;for(Gr=0;4>Gr;++Gr){var Yi=1&qi;for(_s=qt=0;4>_s;++_s)Mr=Mr>>1|(Yi=(sn=wd(St,Js,sn=Yi+(1&Mr),_t.Sc,Kn,Je,Ir))>Kn)<<7,qt=qt<<2|(3<sn?3:1<sn?2:Je[Ir+0]!=0),Ir+=16;Mr>>=4,qi=qi>>1|Yi<<7,it=(it<<8|qt)>>>0}for(Js=Mr,Kn=qi>>4,Lr=0;4>Lr;Lr+=2){for(qt=0,Mr=rt.la>>4+Lr,qi=Pr.la>>4+Lr,Gr=0;2>Gr;++Gr){for(Yi=1&qi,_s=0;2>_s;++_s)sn=Yi+(1&Mr),Mr=Mr>>1|(Yi=0<(sn=wd(St,xt[2],sn,_t.Qc,0,Je,Ir)))<<3,qt=qt<<2|(3<sn?3:1<sn?2:Je[Ir+0]!=0),Ir+=16;Mr>>=2,qi=qi>>1|Yi<<5}vr|=qt<<4*Lr,Js|=Mr<<4<<Lr,Kn|=(240&qi)<<Lr}rt.la=Js,Pr.la=Kn,Wt.Hc=it,Wt.Gc=vr,Wt.ia=43690&vr?0:_t.ia,xt=!(it|vr)}if(0<Ee.L&&(Ee.wa[Ee.Y+Ee.ja]=Ee.gd[He.$b][He.Za],Ee.wa[Ee.Y+Ee.ja].La|=!xt),Xe.Ka)return tn(Be,7,"Premature end-of-file encountered.")}if(ya(Be),Ee=Ze,Xe=1,He=(we=Be).D,rt=0<we.L&&we.M>=we.zb&&we.M<=we.Va,we.Aa==0)e:{if(He.M=we.M,He.uc=rt,yr(we,He),Xe=1,He=(qt=we.D).Nb,rt=(vr=df[we.L])*we.R,St=vr/2*we.B,Gr=16*He*we.R,_s=8*He*we.B,xt=we.sa,Wt=we.ta-rt+Gr,_t=we.qa,Je=we.ra-St+_s,Ir=we.Ha,Pr=we.Ia-St+_s,qi=(Mr=qt.M)==0,it=Mr>=we.Va-1,we.Aa==2&&yr(we,qt),qt.uc)for(Yi=(sn=we).D.M,e(sn.D.uc),qt=sn.yb;qt<sn.Hb;++qt){Kn=qt,Js=Yi;var on=(es=(yn=sn).D).Nb;Lr=yn.R;var es=es.wa[es.Y+Kn],ks=yn.sa,Co=yn.ta+16*on*Lr+16*Kn,qo=es.dd,hs=es.tc;if(hs!=0)if(e(3<=hs),yn.L==1)0<Kn&&Za(ks,Co,Lr,hs+4),es.La&&Gi(ks,Co,Lr,hs),0<Js&&Ll(ks,Co,Lr,hs+4),es.La&&Mc(ks,Co,Lr,hs);else{var Yo=yn.B,UA=yn.qa,Hc=yn.ra+8*on*Yo+8*Kn,Ml=yn.Ha,yn=yn.Ia+8*on*Yo+8*Kn;on=es.ld,0<Kn&&(gi(ks,Co,Lr,hs+4,qo,on),TA(UA,Hc,Ml,yn,Yo,hs+4,qo,on)),es.La&&(Wo(ks,Co,Lr,hs,qo,on),PA(UA,Hc,Ml,yn,Yo,hs,qo,on)),0<Js&&(Dc(ks,Co,Lr,hs+4,qo,on),Rc(UA,Hc,Ml,yn,Yo,hs+4,qo,on)),es.La&&(jA(ks,Co,Lr,hs,qo,on),FA(UA,Hc,Ml,yn,Yo,hs,qo,on))}}if(we.ia&&alert("todo:DitherRow"),Ee.put!=null){if(qt=16*Mr,Mr=16*(Mr+1),qi?(Ee.y=we.sa,Ee.O=we.ta+Gr,Ee.f=we.qa,Ee.N=we.ra+_s,Ee.ea=we.Ha,Ee.W=we.Ia+_s):(qt-=vr,Ee.y=xt,Ee.O=Wt,Ee.f=_t,Ee.N=Je,Ee.ea=Ir,Ee.W=Pr),it||(Mr-=vr),Mr>Ee.o&&(Mr=Ee.o),Ee.F=null,Ee.J=null,we.Fa!=null&&0<we.Fa.length&&qt<Mr&&(Ee.J=Vi(we,Ee,qt,Mr-qt),Ee.F=we.mb,Ee.F==null&&Ee.F.length==0)){Xe=tn(we,3,"Could not decode alpha data.");break e}qt<Ee.j&&(vr=Ee.j-qt,qt=Ee.j,e(!(1&vr)),Ee.O+=we.R*vr,Ee.N+=we.B*(vr>>1),Ee.W+=we.B*(vr>>1),Ee.F!=null&&(Ee.J+=Ee.width*vr)),qt<Mr&&(Ee.O+=Ee.v,Ee.N+=Ee.v>>1,Ee.W+=Ee.v>>1,Ee.F!=null&&(Ee.J+=Ee.v),Ee.ka=qt-Ee.j,Ee.U=Ee.va-Ee.v,Ee.T=Mr-qt,Xe=Ee.put(Ee))}He+1!=we.Ic||it||(n(we.sa,we.ta-rt,xt,Wt+16*we.R,rt),n(we.qa,we.ra-St,_t,Je+8*we.B,St),n(we.Ha,we.Ia-St,Ir,Pr+8*we.B,St))}if(!Xe)return tn(Be,6,"Output aborted.")}return 1}(g,k)),k.bc!=null&&k.bc(k),F&=1}return F?(g.cb=0,F):0}function Ai(g,k,F,V,$){$=g[k+F+32*V]+($>>3),g[k+F+32*V]=-256&$?0>$?0:255:$}function fn(g,k,F,V,$,ee){Ai(g,k,0,F,V+$),Ai(g,k,1,F,V+ee),Ai(g,k,2,F,V-ee),Ai(g,k,3,F,V-$)}function Us(g){return(20091*g>>16)+g}function Mi(g,k,F,V){var $,ee=0,re=i(16);for($=0;4>$;++$){var ie=g[k+0]+g[k+8],oe=g[k+0]-g[k+8],de=(35468*g[k+4]>>16)-Us(g[k+12]),xe=Us(g[k+4])+(35468*g[k+12]>>16);re[ee+0]=ie+xe,re[ee+1]=oe+de,re[ee+2]=oe-de,re[ee+3]=ie-xe,ee+=4,k++}for($=ee=0;4>$;++$)ie=(g=re[ee+0]+4)+re[ee+8],oe=g-re[ee+8],de=(35468*re[ee+4]>>16)-Us(re[ee+12]),Ai(F,V,0,0,ie+(xe=Us(re[ee+4])+(35468*re[ee+12]>>16))),Ai(F,V,1,0,oe+de),Ai(F,V,2,0,oe-de),Ai(F,V,3,0,ie-xe),ee++,V+=32}function ci(g,k,F,V){var $=g[k+0]+4,ee=35468*g[k+4]>>16,re=Us(g[k+4]),ie=35468*g[k+1]>>16;fn(F,V,0,$+re,g=Us(g[k+1]),ie),fn(F,V,1,$+ee,g,ie),fn(F,V,2,$-ee,g,ie),fn(F,V,3,$-re,g,ie)}function _l(g,k,F,V,$){Mi(g,k,F,V),$&&Mi(g,k+16,F,V+4)}function Ha(g,k,F,V){Ja(g,k+0,F,V,1),Ja(g,k+32,F,V+128,1)}function kc(g,k,F,V){var $;for(g=g[k+0]+4,$=0;4>$;++$)for(k=0;4>k;++k)Ai(F,V,k,$,g)}function jr(g,k,F,V){g[k+0]&&Ms(g,k+0,F,V),g[k+16]&&Ms(g,k+16,F,V+4),g[k+32]&&Ms(g,k+32,F,V+128),g[k+48]&&Ms(g,k+48,F,V+128+4)}function kl(g,k,F,V){var $,ee=i(16);for($=0;4>$;++$){var re=g[k+0+$]+g[k+12+$],ie=g[k+4+$]+g[k+8+$],oe=g[k+4+$]-g[k+8+$],de=g[k+0+$]-g[k+12+$];ee[0+$]=re+ie,ee[8+$]=re-ie,ee[4+$]=de+oe,ee[12+$]=de-oe}for($=0;4>$;++$)re=(g=ee[0+4*$]+3)+ee[3+4*$],ie=ee[1+4*$]+ee[2+4*$],oe=ee[1+4*$]-ee[2+4*$],de=g-ee[3+4*$],F[V+0]=re+ie>>3,F[V+16]=de+oe>>3,F[V+32]=re-ie>>3,F[V+48]=de-oe>>3,V+=64}function ui(g,k,F){var V,$=k-32,ee=$i,re=255-g[$-1];for(V=0;V<F;++V){var ie,oe=ee,de=re+g[k-1];for(ie=0;ie<F;++ie)g[k+ie]=oe[de+g[$+ie]];k+=32}}function Ka(g,k){ui(g,k,4)}function Ec(g,k){ui(g,k,8)}function Ic(g,k){ui(g,k,16)}function Vo(g,k){var F;for(F=0;16>F;++F)n(g,k+32*F,g,k-32,16)}function za(g,k){var F;for(F=16;0<F;--F)s(g,k,g[k-1],16),k+=32}function va(g,k,F){var V;for(V=0;16>V;++V)s(k,F+32*V,g,16)}function Ao(g,k){var F,V=16;for(F=0;16>F;++F)V+=g[k-1+32*F]+g[k+F-32];va(V>>5,g,k)}function gn(g,k){var F,V=8;for(F=0;16>F;++F)V+=g[k-1+32*F];va(V>>4,g,k)}function co(g,k){var F,V=8;for(F=0;16>F;++F)V+=g[k+F-32];va(V>>4,g,k)}function wA(g,k){va(128,g,k)}function Gt(g,k,F){return g+2*k+F+2>>2}function Sc(g,k){var F,V=k-32;for(V=new Uint8Array([Gt(g[V-1],g[V+0],g[V+1]),Gt(g[V+0],g[V+1],g[V+2]),Gt(g[V+1],g[V+2],g[V+3]),Gt(g[V+2],g[V+3],g[V+4])]),F=0;4>F;++F)n(g,k+32*F,V,0,V.length)}function xa(g,k){var F=g[k-1],V=g[k-1+32],$=g[k-1+64],ee=g[k-1+96];Qe(g,k+0,16843009*Gt(g[k-1-32],F,V)),Qe(g,k+32,16843009*Gt(F,V,$)),Qe(g,k+64,16843009*Gt(V,$,ee)),Qe(g,k+96,16843009*Gt($,ee,ee))}function uo(g,k){var F,V=4;for(F=0;4>F;++F)V+=g[k+F-32]+g[k-1+32*F];for(V>>=3,F=0;4>F;++F)s(g,k+32*F,V,4)}function Nc(g,k){var F=g[k-1+0],V=g[k-1+32],$=g[k-1+64],ee=g[k-1-32],re=g[k+0-32],ie=g[k+1-32],oe=g[k+2-32],de=g[k+3-32];g[k+0+96]=Gt(V,$,g[k-1+96]),g[k+1+96]=g[k+0+64]=Gt(F,V,$),g[k+2+96]=g[k+1+64]=g[k+0+32]=Gt(ee,F,V),g[k+3+96]=g[k+2+64]=g[k+1+32]=g[k+0+0]=Gt(re,ee,F),g[k+3+64]=g[k+2+32]=g[k+1+0]=Gt(ie,re,ee),g[k+3+32]=g[k+2+0]=Gt(oe,ie,re),g[k+3+0]=Gt(de,oe,ie)}function Tc(g,k){var F=g[k+1-32],V=g[k+2-32],$=g[k+3-32],ee=g[k+4-32],re=g[k+5-32],ie=g[k+6-32],oe=g[k+7-32];g[k+0+0]=Gt(g[k+0-32],F,V),g[k+1+0]=g[k+0+32]=Gt(F,V,$),g[k+2+0]=g[k+1+32]=g[k+0+64]=Gt(V,$,ee),g[k+3+0]=g[k+2+32]=g[k+1+64]=g[k+0+96]=Gt($,ee,re),g[k+3+32]=g[k+2+64]=g[k+1+96]=Gt(ee,re,ie),g[k+3+64]=g[k+2+96]=Gt(re,ie,oe),g[k+3+96]=Gt(ie,oe,oe)}function Ws(g,k){var F=g[k-1+0],V=g[k-1+32],$=g[k-1+64],ee=g[k-1-32],re=g[k+0-32],ie=g[k+1-32],oe=g[k+2-32],de=g[k+3-32];g[k+0+0]=g[k+1+64]=ee+re+1>>1,g[k+1+0]=g[k+2+64]=re+ie+1>>1,g[k+2+0]=g[k+3+64]=ie+oe+1>>1,g[k+3+0]=oe+de+1>>1,g[k+0+96]=Gt($,V,F),g[k+0+64]=Gt(V,F,ee),g[k+0+32]=g[k+1+96]=Gt(F,ee,re),g[k+1+32]=g[k+2+96]=Gt(ee,re,ie),g[k+2+32]=g[k+3+96]=Gt(re,ie,oe),g[k+3+32]=Gt(ie,oe,de)}function Ds(g,k){var F=g[k+0-32],V=g[k+1-32],$=g[k+2-32],ee=g[k+3-32],re=g[k+4-32],ie=g[k+5-32],oe=g[k+6-32],de=g[k+7-32];g[k+0+0]=F+V+1>>1,g[k+1+0]=g[k+0+64]=V+$+1>>1,g[k+2+0]=g[k+1+64]=$+ee+1>>1,g[k+3+0]=g[k+2+64]=ee+re+1>>1,g[k+0+32]=Gt(F,V,$),g[k+1+32]=g[k+0+96]=Gt(V,$,ee),g[k+2+32]=g[k+1+96]=Gt($,ee,re),g[k+3+32]=g[k+2+96]=Gt(ee,re,ie),g[k+3+64]=Gt(re,ie,oe),g[k+3+96]=Gt(ie,oe,de)}function jc(g,k){var F=g[k-1+0],V=g[k-1+32],$=g[k-1+64],ee=g[k-1+96];g[k+0+0]=F+V+1>>1,g[k+2+0]=g[k+0+32]=V+$+1>>1,g[k+2+32]=g[k+0+64]=$+ee+1>>1,g[k+1+0]=Gt(F,V,$),g[k+3+0]=g[k+1+32]=Gt(V,$,ee),g[k+3+32]=g[k+1+64]=Gt($,ee,ee),g[k+3+64]=g[k+2+64]=g[k+0+96]=g[k+1+96]=g[k+2+96]=g[k+3+96]=ee}function Ga(g,k){var F=g[k-1+0],V=g[k-1+32],$=g[k-1+64],ee=g[k-1+96],re=g[k-1-32],ie=g[k+0-32],oe=g[k+1-32],de=g[k+2-32];g[k+0+0]=g[k+2+32]=F+re+1>>1,g[k+0+32]=g[k+2+64]=V+F+1>>1,g[k+0+64]=g[k+2+96]=$+V+1>>1,g[k+0+96]=ee+$+1>>1,g[k+3+0]=Gt(ie,oe,de),g[k+2+0]=Gt(re,ie,oe),g[k+1+0]=g[k+3+32]=Gt(F,re,ie),g[k+1+32]=g[k+3+64]=Gt(V,F,re),g[k+1+64]=g[k+3+96]=Gt($,V,F),g[k+1+96]=Gt(ee,$,V)}function Wa(g,k){var F;for(F=0;8>F;++F)n(g,k+32*F,g,k-32,8)}function El(g,k){var F;for(F=0;8>F;++F)s(g,k,g[k-1],8),k+=32}function Qi(g,k,F){var V;for(V=0;8>V;++V)s(k,F+32*V,g,8)}function di(g,k){var F,V=8;for(F=0;8>F;++F)V+=g[k+F-32]+g[k-1+32*F];Qi(V>>4,g,k)}function bA(g,k){var F,V=4;for(F=0;8>F;++F)V+=g[k+F-32];Qi(V>>3,g,k)}function ho(g,k){var F,V=4;for(F=0;8>F;++F)V+=g[k-1+32*F];Qi(V>>3,g,k)}function Rr(g,k){Qi(128,g,k)}function Il(g,k,F){var V=g[k-F],$=g[k+0],ee=3*($-V)+tf[1020+g[k-2*F]-g[k+F]],re=rf[112+(ee+4>>3)];g[k-F]=$i[255+V+rf[112+(ee+3>>3)]],g[k+0]=$i[255+$-re]}function Fc(g,k,F,V){var $=g[k+0],ee=g[k+F];return wo[255+g[k-2*F]-g[k-F]]>V||wo[255+ee-$]>V}function pn(g,k,F,V){return 4*wo[255+g[k-F]-g[k+0]]+wo[255+g[k-2*F]-g[k+F]]<=V}function BA(g,k,F,V,$){var ee=g[k-3*F],re=g[k-2*F],ie=g[k-F],oe=g[k+0],de=g[k+F],xe=g[k+2*F],Le=g[k+3*F];return 4*wo[255+ie-oe]+wo[255+re-de]>V?0:wo[255+g[k-4*F]-ee]<=$&&wo[255+ee-re]<=$&&wo[255+re-ie]<=$&&wo[255+Le-xe]<=$&&wo[255+xe-de]<=$&&wo[255+de-oe]<=$}function fo(g,k,F,V){var $=2*V+1;for(V=0;16>V;++V)pn(g,k+V,F,$)&&Il(g,k+V,F)}function $s(g,k,F,V){var $=2*V+1;for(V=0;16>V;++V)pn(g,k+V*F,1,$)&&Il(g,k+V*F,1)}function go(g,k,F,V){var $;for($=3;0<$;--$)fo(g,k+=4*F,F,V)}function Oi(g,k,F,V){var $;for($=3;0<$;--$)$s(g,k+=4,F,V)}function Ho(g,k,F,V,$,ee,re,ie){for(ee=2*ee+1;0<$--;){if(BA(g,k,F,ee,re))if(Fc(g,k,F,ie))Il(g,k,F);else{var oe=g,de=k,xe=F,Le=oe[de-2*xe],Ue=oe[de-xe],Be=oe[de+0],Ze=oe[de+xe],He=oe[de+2*xe],we=27*(Xe=tf[1020+3*(Be-Ue)+tf[1020+Le-Ze]])+63>>7,Ee=18*Xe+63>>7,Xe=9*Xe+63>>7;oe[de-3*xe]=$i[255+oe[de-3*xe]+Xe],oe[de-2*xe]=$i[255+Le+Ee],oe[de-xe]=$i[255+Ue+we],oe[de+0]=$i[255+Be-we],oe[de+xe]=$i[255+Ze-Ee],oe[de+2*xe]=$i[255+He-Xe]}k+=V}}function Rs(g,k,F,V,$,ee,re,ie){for(ee=2*ee+1;0<$--;){if(BA(g,k,F,ee,re))if(Fc(g,k,F,ie))Il(g,k,F);else{var oe=g,de=k,xe=F,Le=oe[de-xe],Ue=oe[de+0],Be=oe[de+xe],Ze=rf[112+((He=3*(Ue-Le))+4>>3)],He=rf[112+(He+3>>3)],we=Ze+1>>1;oe[de-2*xe]=$i[255+oe[de-2*xe]+we],oe[de-xe]=$i[255+Le+He],oe[de+0]=$i[255+Ue-Ze],oe[de+xe]=$i[255+Be-we]}k+=V}}function hi(g,k,F,V,$,ee){Ho(g,k,F,1,16,V,$,ee)}function Ko(g,k,F,V,$,ee){Ho(g,k,1,F,16,V,$,ee)}function CA(g,k,F,V,$,ee){var re;for(re=3;0<re;--re)Rs(g,k+=4*F,F,1,16,V,$,ee)}function ds(g,k,F,V,$,ee){var re;for(re=3;0<re;--re)Rs(g,k+=4,1,F,16,V,$,ee)}function $a(g,k,F,V,$,ee,re,ie){Ho(g,k,$,1,8,ee,re,ie),Ho(F,V,$,1,8,ee,re,ie)}function po(g,k,F,V,$,ee,re,ie){Ho(g,k,1,$,8,ee,re,ie),Ho(F,V,1,$,8,ee,re,ie)}function _A(g,k,F,V,$,ee,re,ie){Rs(g,k+4*$,$,1,8,ee,re,ie),Rs(F,V+4*$,$,1,8,ee,re,ie)}function kA(g,k,F,V,$,ee,re,ie){Rs(g,k+4,1,$,8,ee,re,ie),Rs(F,V+4,1,$,8,ee,re,ie)}function mo(){this.ba=new Xn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new yt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Sl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Nl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Tl(){this.ua=0,this.Wa=new fe,this.vb=new fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new L}function EA(){this.xb=this.a=0,this.l=new lo,this.ca=new Xn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Tl,this.ab=0,this.gc=o(4,Nl),this.Oc=0}function qa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new lo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function yo(g,k,F,V,$,ee,re){for(g=g==null?0:g[k+0],k=0;k<re;++k)$[ee+k]=g+F[V+k]&255,g=$[ee+k]}function jl(g,k,F,V,$,ee,re){var ie;if(g==null)yo(null,null,F,V,$,ee,re);else for(ie=0;ie<re;++ie)$[ee+ie]=g[k+ie]+F[V+ie]&255}function zo(g,k,F,V,$,ee,re){if(g==null)yo(null,null,F,V,$,ee,re);else{var ie,oe=g[k+0],de=oe,xe=oe;for(ie=0;ie<re;++ie)de=xe+(oe=g[k+ie])-de,xe=F[V+ie]+(-256&de?0>de?0:255:de)&255,de=oe,$[ee+ie]=xe}}function Vi(g,k,F,V){var $=k.width,ee=k.o;if(e(g!=null&&k!=null),0>F||0>=V||F+V>ee)return null;if(!g.Cc){if(g.ga==null){var re;if(g.ga=new qa,(re=g.ga==null)||(re=k.width*k.o,e(g.Gb.length==0),g.Gb=i(re),g.Uc=0,g.Gb==null?re=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,re=1),re=!re),!re){re=g.ga;var ie=g.Fa,oe=g.P,de=g.qc,xe=g.mb,Le=g.nb,Ue=oe+1,Be=de-1,Ze=re.l;if(e(ie!=null&&xe!=null&&k!=null),tl[0]=null,tl[1]=yo,tl[2]=jl,tl[3]=zo,re.ca=xe,re.tb=Le,re.c=k.width,re.i=k.height,e(0<re.c&&0<re.i),1>=de)k=0;else if(re.$a=ie[oe+0]>>0&3,re.Z=ie[oe+0]>>2&3,re.Lc=ie[oe+0]>>4&3,oe=ie[oe+0]>>6&3,0>re.$a||1<re.$a||4<=re.Z||1<re.Lc||oe)k=0;else if(Ze.put=Vn,Ze.ac=ur,Ze.bc=Hn,Ze.ma=re,Ze.width=k.width,Ze.height=k.height,Ze.Da=k.Da,Ze.v=k.v,Ze.va=k.va,Ze.j=k.j,Ze.o=k.o,re.$a)e:{e(re.$a==1),k=Bs();t:for(;;){if(k==null){k=0;break e}if(e(re!=null),re.mc=k,k.c=re.c,k.i=re.i,k.l=re.l,k.l.ma=re,k.l.width=re.c,k.l.height=re.i,k.a=0,G(k.m,ie,Ue,Be),!Jn(re.c,re.i,1,k,null)||(k.ab==1&&k.gc[0].hc==3&&Di(k.s)?(re.ic=1,ie=k.c*k.i,k.Ta=null,k.Ua=0,k.V=i(ie),k.Ba=0,k.V==null?(k.a=1,k=0):k=1):(re.ic=0,k=oo(k,re.c)),!k))break t;k=1;break e}re.mc=null,k=0}else k=Be>=re.c*re.i;re=!k}if(re)return null;g.ga.Lc!=1?g.Ga=0:V=ee-F}e(g.ga!=null),e(F+V<=ee);e:{if(k=(ie=g.ga).c,ee=ie.l.o,ie.$a==0){if(Ue=g.rc,Be=g.Vc,Ze=g.Fa,oe=g.P+1+F*k,de=g.mb,xe=g.nb+F*k,e(oe<=g.P+g.qc),ie.Z!=0)for(e(tl[ie.Z]!=null),re=0;re<V;++re)tl[ie.Z](Ue,Be,Ze,oe,de,xe,k),Ue=de,Be=xe,xe+=k,oe+=k;else for(re=0;re<V;++re)n(de,xe,Ze,oe,k),Ue=de,Be=xe,xe+=k,oe+=k;g.rc=Ue,g.Vc=Be}else{if(e(ie.mc!=null),k=F+V,e((re=ie.mc)!=null),e(k<=re.i),re.C>=k)k=1;else if(ie.ic||Fe(),ie.ic){ie=re.V,Ue=re.Ba,Be=re.c;var He=re.i,we=(Ze=1,oe=re.$/Be,de=re.$%Be,xe=re.m,Le=re.s,re.$),Ee=Be*He,Xe=Be*k,rt=Le.wc,Je=we<Xe?en(Le,de,oe):null;e(we<=Ee),e(k<=He),e(Di(Le));t:for(;;){for(;!xe.h&&we<Xe;){if(de&rt||(Je=en(Le,de,oe)),e(Je!=null),ye(xe),256>(He=En(Je.G[0],Je.H[0],xe)))ie[Ue+we]=He,++we,++de>=Be&&(de=0,++oe<=k&&!(oe%16)&&bs(re,oe));else{if(!(280>He)){Ze=0;break t}He=Hr(He-256,xe);var St,xt=En(Je.G[4],Je.H[4],xe);if(ye(xe),!(we>=(xt=Ui(Be,xt=Hr(xt,xe)))&&Ee-we>=He)){Ze=0;break t}for(St=0;St<He;++St)ie[Ue+we+St]=ie[Ue+we+St-xt];for(we+=He,de+=He;de>=Be;)de-=Be,++oe<=k&&!(oe%16)&&bs(re,oe);we<Xe&&de&rt&&(Je=en(Le,de,oe))}e(xe.h==ae(xe))}bs(re,oe>k?k:oe);break t}!Ze||xe.h&&we<Ee?(Ze=0,re.a=xe.h?5:3):re.$=we,k=Ze}else k=ai(re,re.V,re.Ba,re.c,re.i,k,ha);if(!k){V=0;break e}}F+V>=ee&&(g.Cc=1),V=1}if(!V)return null;if(g.Cc&&((V=g.ga)!=null&&(V.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+F*$}function S(g,k,F,V,$,ee){for(;0<$--;){var re,ie=g,oe=k+(F?1:0),de=g,xe=k+(F?0:3);for(re=0;re<V;++re){var Le=de[xe+4*re];Le!=255&&(Le*=32897,ie[oe+4*re+0]=ie[oe+4*re+0]*Le>>23,ie[oe+4*re+1]=ie[oe+4*re+1]*Le>>23,ie[oe+4*re+2]=ie[oe+4*re+2]*Le>>23)}k+=ee}}function q(g,k,F,V,$){for(;0<V--;){var ee;for(ee=0;ee<F;++ee){var re=g[k+2*ee+0],ie=15&(de=g[k+2*ee+1]),oe=4369*ie,de=(240&de|de>>4)*oe>>16;g[k+2*ee+0]=(240&re|re>>4)*oe>>16&240|(15&re|re<<4)*oe>>16>>4&15,g[k+2*ee+1]=240&de|ie}k+=$}}function ge(g,k,F,V,$,ee,re,ie){var oe,de,xe=255;for(de=0;de<$;++de){for(oe=0;oe<V;++oe){var Le=g[k+oe];ee[re+4*oe]=Le,xe&=Le}k+=F,re+=ie}return xe!=255}function ve(g,k,F,V,$){var ee;for(ee=0;ee<$;++ee)F[V+ee]=g[k+ee]>>8}function Fe(){Wi=S,Kr=q,zr=ge,Fn=ve}function Ve(g,k,F){T[g]=function(V,$,ee,re,ie,oe,de,xe,Le,Ue,Be,Ze,He,we,Ee,Xe,rt){var Je,St=rt-1>>1,xt=ie[oe+0]|de[xe+0]<<16,Wt=Le[Ue+0]|Be[Ze+0]<<16;e(V!=null);var _t=3*xt+Wt+131074>>2;for(k(V[$+0],255&_t,_t>>16,He,we),ee!=null&&(_t=3*Wt+xt+131074>>2,k(ee[re+0],255&_t,_t>>16,Ee,Xe)),Je=1;Je<=St;++Je){var Ir=ie[oe+Je]|de[xe+Je]<<16,Pr=Le[Ue+Je]|Be[Ze+Je]<<16,it=xt+Ir+Wt+Pr+524296,vr=it+2*(Ir+Wt)>>3;_t=vr+xt>>1,xt=(it=it+2*(xt+Pr)>>3)+Ir>>1,k(V[$+2*Je-1],255&_t,_t>>16,He,we+(2*Je-1)*F),k(V[$+2*Je-0],255&xt,xt>>16,He,we+(2*Je-0)*F),ee!=null&&(_t=it+Wt>>1,xt=vr+Pr>>1,k(ee[re+2*Je-1],255&_t,_t>>16,Ee,Xe+(2*Je-1)*F),k(ee[re+2*Je+0],255&xt,xt>>16,Ee,Xe+(2*Je+0)*F)),xt=Ir,Wt=Pr}1&rt||(_t=3*xt+Wt+131074>>2,k(V[$+rt-1],255&_t,_t>>16,He,we+(rt-1)*F),ee!=null&&(_t=3*Wt+xt+131074>>2,k(ee[re+rt-1],255&_t,_t>>16,Ee,Xe+(rt-1)*F)))}}function nt(){Bo[nf]=m2,Bo[sf]=bd,Bo[LA]=Ap,Bo[of]=my,Bo[af]=yy,Bo[Qc]=vy,Bo[hy]=y2,Bo[op]=bd,Bo[ap]=my,Bo[lf]=yy,Bo[Oc]=vy}function kt(g){return g&~v2?0>g?0:255:g>>xy}function Dt(g,k){return kt((19077*g>>8)+(26149*k>>8)-14234)}function y(g,k,F){return kt((19077*g>>8)-(6419*k>>8)-(13320*F>>8)+8708)}function D(g,k){return kt((19077*g>>8)+(33050*k>>8)-17685)}function H(g,k,F,V,$){V[$+0]=Dt(g,F),V[$+1]=y(g,k,F),V[$+2]=D(g,k)}function ne(g,k,F,V,$){V[$+0]=D(g,k),V[$+1]=y(g,k,F),V[$+2]=Dt(g,F)}function _e(g,k,F,V,$){var ee=y(g,k,F);k=ee<<3&224|D(g,k)>>3,V[$+0]=248&Dt(g,F)|ee>>5,V[$+1]=k}function Se(g,k,F,V,$){var ee=240&D(g,k)|15;V[$+0]=240&Dt(g,F)|y(g,k,F)>>4,V[$+1]=ee}function at(g,k,F,V,$){V[$+0]=255,H(g,k,F,V,$+1)}function er(g,k,F,V,$){ne(g,k,F,V,$),V[$+3]=255}function Fr(g,k,F,V,$){H(g,k,F,V,$),V[$+3]=255}function $t(g,k){return 0>g?0:g>k?k:g}function mr(g,k,F){T[g]=function(V,$,ee,re,ie,oe,de,xe,Le){for(var Ue=xe+(-2&Le)*F;xe!=Ue;)k(V[$+0],ee[re+0],ie[oe+0],de,xe),k(V[$+1],ee[re+0],ie[oe+0],de,xe+F),$+=2,++re,++oe,xe+=2*F;1&Le&&k(V[$+0],ee[re+0],ie[oe+0],de,xe)}}function Sn(g,k,F){return F==0?g==0?k==0?6:5:k==0?4:0:F}function Zn(g,k,F,V,$){switch(g>>>30){case 3:Ja(k,F,V,$,0);break;case 2:jn(k,F,V,$);break;case 1:Ms(k,F,V,$)}}function yr(g,k){var F,V,$=k.M,ee=k.Nb,re=g.oc,ie=g.pc+40,oe=g.oc,de=g.pc+584,xe=g.oc,Le=g.pc+600;for(F=0;16>F;++F)re[ie+32*F-1]=129;for(F=0;8>F;++F)oe[de+32*F-1]=129,xe[Le+32*F-1]=129;for(0<$?re[ie-1-32]=oe[de-1-32]=xe[Le-1-32]=129:(s(re,ie-32-1,127,21),s(oe,de-32-1,127,9),s(xe,Le-32-1,127,9)),V=0;V<g.za;++V){var Ue=k.ya[k.aa+V];if(0<V){for(F=-1;16>F;++F)n(re,ie+32*F-4,re,ie+32*F+12,4);for(F=-1;8>F;++F)n(oe,de+32*F-4,oe,de+32*F+4,4),n(xe,Le+32*F-4,xe,Le+32*F+4,4)}var Be=g.Gd,Ze=g.Hd+V,He=Ue.ad,we=Ue.Hc;if(0<$&&(n(re,ie-32,Be[Ze].y,0,16),n(oe,de-32,Be[Ze].f,0,8),n(xe,Le-32,Be[Ze].ea,0,8)),Ue.Za){var Ee=re,Xe=ie-32+16;for(0<$&&(V>=g.za-1?s(Ee,Xe,Be[Ze].y[15],4):n(Ee,Xe,Be[Ze+1].y,0,4)),F=0;4>F;F++)Ee[Xe+128+F]=Ee[Xe+256+F]=Ee[Xe+384+F]=Ee[Xe+0+F];for(F=0;16>F;++F,we<<=2)Ee=re,Xe=ie+by[F],$o[Ue.Ob[F]](Ee,Xe),Zn(we,He,16*+F,Ee,Xe)}else if(Ee=Sn(V,$,Ue.Ob[0]),Dl[Ee](re,ie),we!=0)for(F=0;16>F;++F,we<<=2)Zn(we,He,16*+F,re,ie+by[F]);for(F=Ue.Gc,Ee=Sn(V,$,Ue.Dd),bo[Ee](oe,de),bo[Ee](xe,Le),we=He,Ee=oe,Xe=de,255&(Ue=F>>0)&&(170&Ue?Pl(we,256,Ee,Xe):xo(we,256,Ee,Xe)),Ue=xe,we=Le,255&(F>>=8)&&(170&F?Pl(He,320,Ue,we):xo(He,320,Ue,we)),$<g.Ub-1&&(n(Be[Ze].y,0,re,ie+480,16),n(Be[Ze].f,0,oe,de+224,8),n(Be[Ze].ea,0,xe,Le+224,8)),F=8*ee*g.B,Be=g.sa,Ze=g.ta+16*V+16*ee*g.R,He=g.qa,Ue=g.ra+8*V+F,we=g.Ha,Ee=g.Ia+8*V+F,F=0;16>F;++F)n(Be,Ze+F*g.R,re,ie+32*F,16);for(F=0;8>F;++F)n(He,Ue+F*g.B,oe,de+32*F,8),n(we,Ee+F*g.B,xe,Le+32*F,8)}}function vo(g,k,F,V,$,ee,re,ie,oe){var de=[0],xe=[0],Le=0,Ue=oe!=null?oe.kd:0,Be=oe??new Sl;if(g==null||12>F)return 7;Be.data=g,Be.w=k,Be.ha=F,k=[k],F=[F],Be.gb=[Be.gb];e:{var Ze=k,He=F,we=Be.gb;if(e(g!=null),e(He!=null),e(we!=null),we[0]=0,12<=He[0]&&!r(g,Ze[0],"RIFF")){if(r(g,Ze[0]+8,"WEBP")){we=3;break e}var Ee=We(g,Ze[0]+4);if(12>Ee||4294967286<Ee){we=3;break e}if(Ue&&Ee>He[0]-8){we=7;break e}we[0]=Ee,Ze[0]+=12,He[0]-=12}we=0}if(we!=0)return we;for(Ee=0<Be.gb[0],F=F[0];;){e:{var Xe=g;He=k,we=F;var rt=de,Je=xe,St=Ze=[0];if((_t=Le=[Le])[0]=0,8>we[0])we=7;else{if(!r(Xe,He[0],"VP8X")){if(We(Xe,He[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var xt=We(Xe,He[0]+8),Wt=1+Oe(Xe,He[0]+12);if(2147483648<=Wt*(Xe=1+Oe(Xe,He[0]+15))){we=3;break e}St!=null&&(St[0]=xt),rt!=null&&(rt[0]=Wt),Je!=null&&(Je[0]=Xe),He[0]+=18,we[0]-=18,_t[0]=1}we=0}}if(Le=Le[0],Ze=Ze[0],we!=0)return we;if(He=!!(2&Ze),!Ee&&Le)return 3;if(ee!=null&&(ee[0]=!!(16&Ze)),re!=null&&(re[0]=He),ie!=null&&(ie[0]=0),re=de[0],Ze=xe[0],Le&&He&&oe==null){we=0;break}if(4>F){we=7;break}if(Ee&&Le||!Ee&&!Le&&!r(g,k[0],"ALPH")){F=[F],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{xt=g,we=k,Ee=F;var _t=Be.gb;rt=Be.na,Je=Be.P,St=Be.Sa,Wt=22,e(xt!=null),e(Ee!=null),Xe=we[0];var Ir=Ee[0];for(e(rt!=null),e(St!=null),rt[0]=null,Je[0]=null,St[0]=0;;){if(we[0]=Xe,Ee[0]=Ir,8>Ir){we=7;break e}var Pr=We(xt,Xe+4);if(4294967286<Pr){we=3;break e}var it=8+Pr+1&-2;if(Wt+=it,0<_t&&Wt>_t){we=3;break e}if(!r(xt,Xe,"VP8 ")||!r(xt,Xe,"VP8L")){we=0;break e}if(Ir[0]<it){we=7;break e}r(xt,Xe,"ALPH")||(rt[0]=xt,Je[0]=Xe+8,St[0]=Pr),Xe+=it,Ir-=it}}if(F=F[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],we!=0)break}F=[F],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(_t=g,we=k,Ee=F,rt=Be.gb[0],Je=Be.Ja,St=Be.xa,xt=we[0],Xe=!r(_t,xt,"VP8 "),Wt=!r(_t,xt,"VP8L"),e(_t!=null),e(Ee!=null),e(Je!=null),e(St!=null),8>Ee[0])we=7;else{if(Xe||Wt){if(_t=We(_t,xt+4),12<=rt&&_t>rt-12){we=3;break e}if(Ue&&_t>Ee[0]-8){we=7;break e}Je[0]=_t,we[0]+=8,Ee[0]-=8,St[0]=Wt}else St[0]=5<=Ee[0]&&_t[xt+0]==47&&!(_t[xt+4]>>5),Je[0]=Ee[0];we=0}if(F=F[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],k=k[0],we!=0)break;if(4294967286<Be.Ja)return 3;if(ie==null||He||(ie[0]=Be.xa?2:1),re=[re],Ze=[Ze],Be.xa){if(5>F){we=7;break}ie=re,Ue=Ze,He=ee,g==null||5>F?g=0:5<=F&&g[k+0]==47&&!(g[k+4]>>5)?(Ee=[0],_t=[0],rt=[0],G(Je=new K,g,k,F),Qt(Je,Ee,_t,rt)?(ie!=null&&(ie[0]=Ee[0]),Ue!=null&&(Ue[0]=_t[0]),He!=null&&(He[0]=rt[0]),g=1):g=0):g=0}else{if(10>F){we=7;break}ie=Ze,g==null||10>F||!Cl(g,k+3,F-3)?g=0:(Ue=g[k+0]|g[k+1]<<8|g[k+2]<<16,He=16383&(g[k+7]<<8|g[k+6]),g=16383&(g[k+9]<<8|g[k+8]),1&Ue||3<(Ue>>1&7)||!(Ue>>4&1)||Ue>>5>=Be.Ja||!He||!g?g=0:(re&&(re[0]=He),ie&&(ie[0]=g),g=1))}if(!g||(re=re[0],Ze=Ze[0],Le&&(de[0]!=re||xe[0]!=Ze)))return 3;oe!=null&&(oe[0]=Be,oe.offset=k-oe.w,e(4294967286>k-oe.w),e(oe.offset==oe.ha-F));break}return we==0||we==7&&Le&&oe==null?(ee!=null&&(ee[0]|=Be.na!=null&&0<Be.na.length),V!=null&&(V[0]=re),$!=null&&($[0]=Ze),0):we}function rn(g,k,F){var V=k.width,$=k.height,ee=0,re=0,ie=V,oe=$;if(k.Da=g!=null&&0<g.Da,k.Da&&(ie=g.cd,oe=g.bd,ee=g.v,re=g.j,11>F||(ee&=-2,re&=-2),0>ee||0>re||0>=ie||0>=oe||ee+ie>V||re+oe>$))return 0;if(k.v=ee,k.j=re,k.va=ee+ie,k.o=re+oe,k.U=ie,k.T=oe,k.da=g!=null&&0<g.da,k.da){if(!Ht(ie,oe,F=[g.ib],ee=[g.hb]))return 0;k.ib=F[0],k.hb=ee[0]}return k.ob=g!=null&&g.ob,k.Kb=g==null||!g.Sd,k.da&&(k.ob=k.ib<3*V/4&&k.hb<3*$/4,k.Kb=0),1}function IA(g){if(g==null)return 2;if(11>g.S){var k=g.f.RGBA;k.fb+=(g.height-1)*k.A,k.A=-k.A}else k=g.f.kb,g=g.height,k.O+=(g-1)*k.fa,k.fa=-k.fa,k.N+=(g-1>>1)*k.Ab,k.Ab=-k.Ab,k.W+=(g-1>>1)*k.Db,k.Db=-k.Db,k.F!=null&&(k.J+=(g-1)*k.lb,k.lb=-k.lb);return 0}function Hi(g,k,F,V){if(V==null||0>=g||0>=k)return 2;if(F!=null){if(F.Da){var $=F.cd,ee=F.bd,re=-2&F.v,ie=-2&F.j;if(0>re||0>ie||0>=$||0>=ee||re+$>g||ie+ee>k)return 2;g=$,k=ee}if(F.da){if(!Ht(g,k,$=[F.ib],ee=[F.hb]))return 2;g=$[0],k=ee[0]}}V.width=g,V.height=k;e:{var oe=V.width,de=V.height;if(g=V.S,0>=oe||0>=de||!(g>=nf&&13>g))g=2;else{if(0>=V.Rd&&V.sd==null){re=ee=$=k=0;var xe=(ie=oe*Cy[g])*de;if(11>g||(ee=(de+1)/2*(k=(oe+1)/2),g==12&&(re=($=oe)*de)),(de=i(xe+2*ee+re))==null){g=1;break e}V.sd=de,11>g?((oe=V.f.RGBA).eb=de,oe.fb=0,oe.A=ie,oe.size=xe):((oe=V.f.kb).y=de,oe.O=0,oe.fa=ie,oe.Fd=xe,oe.f=de,oe.N=0+xe,oe.Ab=k,oe.Cd=ee,oe.ea=de,oe.W=0+xe+ee,oe.Db=k,oe.Ed=ee,g==12&&(oe.F=de,oe.J=0+xe+2*ee),oe.Tc=re,oe.lb=$)}if(k=1,$=V.S,ee=V.width,re=V.height,$>=nf&&13>$)if(11>$)g=V.f.RGBA,k&=(ie=Math.abs(g.A))*(re-1)+ee<=g.size,k&=ie>=ee*Cy[$],k&=g.eb!=null;else{g=V.f.kb,ie=(ee+1)/2,xe=(re+1)/2,oe=Math.abs(g.fa),de=Math.abs(g.Ab);var Le=Math.abs(g.Db),Ue=Math.abs(g.lb),Be=Ue*(re-1)+ee;k&=oe*(re-1)+ee<=g.Fd,k&=de*(xe-1)+ie<=g.Cd,k=(k&=Le*(xe-1)+ie<=g.Ed)&oe>=ee&de>=ie&Le>=ie,k&=g.y!=null,k&=g.f!=null,k&=g.ea!=null,$==12&&(k&=Ue>=ee,k&=Be<=g.Tc,k&=g.F!=null)}else k=0;g=k?0:2}}return g!=0||F!=null&&F.fd&&(g=IA(V)),g}var Nn=64,Er=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],SA=24,NA=32,Pc=8,qs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];lt("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(g){return g},T.Predictor2=function(g,k,F){return k[F+0]},T.Predictor3=function(g,k,F){return k[F+1]},T.Predictor4=function(g,k,F){return k[F-1]},T.Predictor5=function(g,k,F){return ct(ct(g,k[F+1]),k[F+0])},T.Predictor6=function(g,k,F){return ct(g,k[F-1])},T.Predictor7=function(g,k,F){return ct(g,k[F+0])},T.Predictor8=function(g,k,F){return ct(k[F-1],k[F+0])},T.Predictor9=function(g,k,F){return ct(k[F+0],k[F+1])},T.Predictor10=function(g,k,F){return ct(ct(g,k[F-1]),ct(k[F+0],k[F+1]))},T.Predictor11=function(g,k,F){var V=k[F+0];return 0>=ot(V>>24&255,g>>24&255,(k=k[F-1])>>24&255)+ot(V>>16&255,g>>16&255,k>>16&255)+ot(V>>8&255,g>>8&255,k>>8&255)+ot(255&V,255&g,255&k)?V:g},T.Predictor12=function(g,k,F){var V=k[F+0];return(me((g>>24&255)+(V>>24&255)-((k=k[F-1])>>24&255))<<24|me((g>>16&255)+(V>>16&255)-(k>>16&255))<<16|me((g>>8&255)+(V>>8&255)-(k>>8&255))<<8|me((255&g)+(255&V)-(255&k)))>>>0},T.Predictor13=function(g,k,F){var V=k[F-1];return(ze((g=ct(g,k[F+0]))>>24&255,V>>24&255)<<24|ze(g>>16&255,V>>16&255)<<16|ze(g>>8&255,V>>8&255)<<8|ze(g>>0&255,V>>0&255))>>>0};var Lc=T.PredictorAdd0;T.PredictorAdd1=st,lt("Predictor2","PredictorAdd2"),lt("Predictor3","PredictorAdd3"),lt("Predictor4","PredictorAdd4"),lt("Predictor5","PredictorAdd5"),lt("Predictor6","PredictorAdd6"),lt("Predictor7","PredictorAdd7"),lt("Predictor8","PredictorAdd8"),lt("Predictor9","PredictorAdd9"),lt("Predictor10","PredictorAdd10"),lt("Predictor11","PredictorAdd11"),lt("Predictor12","PredictorAdd12"),lt("Predictor13","PredictorAdd13");var Uc=T.PredictorAdd2;Ie("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Ie("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var vd,cn=T.ColorIndexInverseTransform,Ki=T.MapARGB,Go=T.VP8LColorIndexInverseTransformAlpha,Tn=T.MapAlpha,Ys=T.VP8LPredictorsAdd=[];Ys.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Fl,Xs,Cs,Ya,Xa,zi,fi,Ja,jn,Pl,Ms,xo,Dc,gi,Rc,TA,jA,Wo,FA,PA,Ll,Za,Mc,Gi,Wi,Kr,zr,Fn,mn=i(511),el=i(2041),xd=i(225),Ul=i(767),ef=0,tf=el,rf=xd,$i=Ul,wo=mn,nf=0,sf=1,LA=2,of=3,af=4,Qc=5,hy=6,op=7,ap=8,lf=9,Oc=10,s2=[2,3,7],i2=[3,3,11],fy=[280,256,256,256,40],o2=[0,1,1,1,0],Af=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],a2=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],l2=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],A2=8,lp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Vc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],wd=null,c2=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],u2=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],gy=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],d2=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],h2=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],f2=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],g2=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Dl=[],$o=[],bo=[],p2=1,py=2,tl=[],Bo=[];Ve("UpsampleRgbLinePair",H,3),Ve("UpsampleBgrLinePair",ne,3),Ve("UpsampleRgbaLinePair",Fr,4),Ve("UpsampleBgraLinePair",er,4),Ve("UpsampleArgbLinePair",at,4),Ve("UpsampleRgba4444LinePair",Se,2),Ve("UpsampleRgb565LinePair",_e,2);var m2=T.UpsampleRgbLinePair,Ap=T.UpsampleBgrLinePair,bd=T.UpsampleRgbaLinePair,my=T.UpsampleBgraLinePair,yy=T.UpsampleArgbLinePair,vy=T.UpsampleRgba4444LinePair,y2=T.UpsampleRgb565LinePair,cf=16,uf=1<<cf-1,Rl=-227,cp=482,xy=6,v2=(256<<xy)-1,wy=0,x2=i(256),w2=i(256),b2=i(256),B2=i(256),C2=i(cp-Rl),_2=i(cp-Rl);mr("YuvToRgbRow",H,3),mr("YuvToBgrRow",ne,3),mr("YuvToRgbaRow",Fr,4),mr("YuvToBgraRow",er,4),mr("YuvToArgbRow",at,4),mr("YuvToRgba4444Row",Se,2),mr("YuvToRgb565Row",_e,2);var by=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],df=[0,2,8],By=[8,7,6,4,4,2,2,2,1,1,1,1],k2=1;this.WebPDecodeRGBA=function(g,k,F,V,$){var ee=sf,re=new mo,ie=new Xn;re.ba=ie,ie.S=ee,ie.width=[ie.width],ie.height=[ie.height];var oe=ie.width,de=ie.height,xe=new Xt;if(xe==null||g==null)var Le=2;else e(xe!=null),Le=vo(g,k,F,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(Le!=0?oe=0:(oe!=null&&(oe[0]=xe.width[0]),de!=null&&(de[0]=xe.height[0]),oe=1),oe){ie.width=ie.width[0],ie.height=ie.height[0],V!=null&&(V[0]=ie.width),$!=null&&($[0]=ie.height);e:{if(V=new lo,($=new Sl).data=g,$.w=k,$.ha=F,$.kd=1,k=[0],e($!=null),((g=vo($.data,$.w,$.ha,null,null,null,k,null,$))==0||g==7)&&k[0]&&(g=4),(k=g)==0){if(e(re!=null),V.data=$.data,V.w=$.w+$.offset,V.ha=$.ha-$.offset,V.put=Vn,V.ac=ur,V.bc=Hn,V.ma=re,$.xa){if((g=Bs())==null){re=1;break e}if(function(Ue,Be){var Ze=[0],He=[0],we=[0];t:for(;;){if(Ue==null)return 0;if(Be==null)return Ue.a=2,0;if(Ue.l=Be,Ue.a=0,G(Ue.m,Be.data,Be.w,Be.ha),!Qt(Ue.m,Ze,He,we)){Ue.a=3;break t}if(Ue.xb=py,Be.width=Ze[0],Be.height=He[0],!Jn(Ze[0],He[0],1,Ue,null))break t;return 1}return e(Ue.a!=0),0}(g,V)){if(V=(k=Hi(V.width,V.height,re.Oa,re.ba))==0){t:{V=g;r:for(;;){if(V==null){V=0;break t}if(e(V.s.yc!=null),e(V.s.Ya!=null),e(0<V.s.Wb),e((F=V.l)!=null),e(($=F.ma)!=null),V.xb!=0){if(V.ca=$.ba,V.tb=$.tb,e(V.ca!=null),!rn($.Oa,F,of)){V.a=2;break r}if(!oo(V,F.width)||F.da)break r;if((F.da||sr(V.ca.S))&&Fe(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&Fe()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!mt(V.s.vb,V.s.Wa.Xa)){V.a=1;break r}V.xb=0}if(!ai(V,V.V,V.Ba,V.c,V.i,F.o,In))break r;$.Dc=V.Ma,V=1;break t}e(V.a!=0),V=0}V=!V}V&&(k=g.a)}else k=g.a}else{if((g=new pa)==null){re=1;break e}if(g.Fa=$.na,g.P=$.P,g.qc=$.Sa,xA(g,V)){if((k=Hi(V.width,V.height,re.Oa,re.ba))==0){if(g.Aa=0,F=re.Oa,e(($=g)!=null),F!=null){if(0<(oe=0>(oe=F.Md)?0:100<oe?255:255*oe/100)){for(de=xe=0;4>de;++de)12>(Le=$.pb[de]).lc&&(Le.ia=oe*By[0>Le.lc?0:Le.lc]>>3),xe|=Le.ia;xe&&(alert("todo:VP8InitRandom"),$.ia=1)}$.Ga=F.Id,100<$.Ga?$.Ga=100:0>$.Ga&&($.Ga=0)}Va(g,V)||(k=g.a)}}else k=g.a}k==0&&re.Oa!=null&&re.Oa.fd&&(k=IA(re.ba))}re=k}ee=re!=0?null:11>ee?ie.f.RGBA.eb:ie.f.kb.y}else ee=null;return ee};var Cy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(T,U){for(var R="",I=0;I<4;I++)R+=String.fromCharCode(T[U++]);return R}function u(T,U){return(T[U+0]<<0|T[U+1]<<8|T[U+2]<<16)>>>0}function d(T,U){return(T[U+0]<<0|T[U+1]<<8|T[U+2]<<16|T[U+3]<<24)>>>0}new l;var h=[0],f=[0],m=[],v=new l,_=t,x=function(T,U){var R={},I=0,L=!1,M=0,W=0;if(R.frames=[],!function(se,ae,he,ye){for(var Ce=0;Ce<ye;Ce++)if(se[ae+Ce]!=he.charCodeAt(Ce))return!0;return!1}(T,U,"RIFF",4)){for(d(T,U+=4),U+=8;U<T.length;){var X=c(T,U),Z=d(T,U+=4);U+=4;var ce=Z+(1&Z);switch(X){case"VP8 ":case"VP8L":R.frames[I]===void 0&&(R.frames[I]={}),(ue=R.frames[I]).src_off=L?W:U-8,ue.src_size=M+Z+8,I++,L&&(L=!1,M=0,W=0);break;case"VP8X":(ue=R.header={}).feature_flags=T[U];var G=U+4;ue.canvas_width=1+u(T,G),G+=3,ue.canvas_height=1+u(T,G),G+=3;break;case"ALPH":L=!0,M=ce+8,W=U-8;break;case"ANIM":(ue=R.header).bgcolor=d(T,U),G=U+4,ue.loop_count=(ke=T)[(K=G)+0]<<0|ke[K+1]<<8,G+=2;break;case"ANMF":var Y,ue;(ue=R.frames[I]={}).offset_x=2*u(T,U),U+=3,ue.offset_y=2*u(T,U),U+=3,ue.width=1+u(T,U),U+=3,ue.height=1+u(T,U),U+=3,ue.duration=u(T,U),U+=3,Y=T[U++],ue.dispose=1&Y,ue.blend=Y>>1&1}X!="ANMF"&&(U+=ce)}var ke,K;return R}}(_,0);x.response=_,x.rgbaoutput=!0,x.dataurl=!1;var b=x.header?x.header:null,E=x.frames?x.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],f=[b.canvas_width];for(var N=0;N<E.length&&E[N].blend!=0;N++);}var j=E[0],O=v.WebPDecodeRGBA(_,j.src_off,j.src_size,f,h);j.rgba=O,j.imgwidth=f[0],j.imgheight=h[0];for(var P=0;P<f[0]*h[0]*4;P++)m[P]=O[P];return this.width=f,this.height=h,this.data=m,this}(function(t){var e=function(){return typeof BC=="function"},r=function(h,f,m,v){var _=4,x=o;switch(v){case t.image_compression.FAST:_=1,x=i;break;case t.image_compression.MEDIUM:_=6,x=a;break;case t.image_compression.SLOW:_=9,x=l}h=n(h,f,m,x);var b=BC(h,{level:_});return t.__addimage__.arrayBufferToBinaryString(b)},n=function(h,f,m,v){for(var _,x,b,E=h.length/f,N=new Uint8Array(h.length+E),j=u(),O=0;O<E;O+=1){if(b=O*f,_=h.subarray(b,b+f),v)N.set(v(_,m,x),b+O);else{for(var P,T=j.length,U=[];P<T;P+=1)U[P]=j[P](_,m,x);var R=d(U.concat());N.set(U[R],b+O)}x=_}return N},s=function(h){var f=Array.apply([],h);return f.unshift(0),f},i=function(h,f){var m,v=[],_=h.length;v[0]=1;for(var x=0;x<_;x+=1)m=h[x-f]||0,v[x+1]=h[x]-m+256&255;return v},o=function(h,f,m){var v,_=[],x=h.length;_[0]=2;for(var b=0;b<x;b+=1)v=m&&m[b]||0,_[b+1]=h[b]-v+256&255;return _},a=function(h,f,m){var v,_,x=[],b=h.length;x[0]=3;for(var E=0;E<b;E+=1)v=h[E-f]||0,_=m&&m[E]||0,x[E+1]=h[E]+256-(v+_>>>1)&255;return x},l=function(h,f,m){var v,_,x,b,E=[],N=h.length;E[0]=4;for(var j=0;j<N;j+=1)v=h[j-f]||0,_=m&&m[j]||0,x=m&&m[j-f]||0,b=c(v,_,x),E[j+1]=h[j]-b+256&255;return E},c=function(h,f,m){if(h===f&&f===m)return h;var v=Math.abs(f-m),_=Math.abs(h-m),x=Math.abs(h+f-m-m);return v<=_&&v<=x?h:_<=x?f:m},u=function(){return[s,i,o,a,l]},d=function(h){var f=h.map(function(m){return m.reduce(function(v,_){return v+Math.abs(_)},0)});return f.indexOf(Math.min.apply(null,f))};t.processPNG=function(h,f,m,v){var _,x,b,E,N,j,O,P,T,U,R,I,L,M,W,X=this.decode.FLATE_DECODE,Z="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(b=new Bie(h)).imgData,x=b.bits,_=b.colorSpace,N=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){T=(P=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,R=new Uint8Array(T*b.colors),U=new Uint8Array(T);var ce,G=b.pixelBitlength-b.bits;for(M=0,W=0;M<T;M++){for(L=P[M],ce=0;ce<G;)R[W++]=L>>>ce&255,ce+=b.bits;U[M]=L>>>ce&255}}if(b.bits===16){T=(P=new Uint32Array(b.decodePixels().buffer)).length,R=new Uint8Array(T*(32/b.pixelBitlength)*b.colors),U=new Uint8Array(T*(32/b.pixelBitlength)),I=b.colors>1,M=0,W=0;for(var Y=0;M<T;)L=P[M++],R[W++]=L>>>0&255,I&&(R[W++]=L>>>16&255,L=P[M++],R[W++]=L>>>0&255),U[Y++]=L>>>16&255;x=8}v!==t.image_compression.NONE&&e()?(h=r(R,b.width*b.colors,b.colors,v),O=r(U,b.width,1,v)):(h=R,O=U,X=void 0)}if(b.colorType===3&&(_=this.color_spaces.INDEXED,j=b.palette,b.transparency.indexed)){var ue=b.transparency.indexed,ke=0;for(M=0,T=ue.length;M<T;++M)ke+=ue[M];if((ke/=255)===T-1&&ue.indexOf(0)!==-1)E=[ue.indexOf(0)];else if(ke!==T){for(P=b.decodePixels(),U=new Uint8Array(P.length),M=0,T=P.length;M<T;M++)U[M]=ue[P[M]];O=r(U,b.width,1)}}var K=function(se){var ae;switch(se){case t.image_compression.FAST:ae=11;break;case t.image_compression.MEDIUM:ae=13;break;case t.image_compression.SLOW:ae=14;break;default:ae=12}return ae}(v);return X===this.decode.FLATE_DECODE&&(Z="/Predictor "+K+" "),Z+="/Colors "+N+" /BitsPerComponent "+x+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(O&&this.__addimage__.isArrayBuffer(O)||this.__addimage__.isArrayBufferView(O))&&(O=this.__addimage__.arrayBufferToBinaryString(O)),{alias:m,data:h,index:f,filter:X,decodeParameters:Z,transparency:E,palette:j,sMask:O,predictor:K,width:b.width,height:b.height,bitsPerComponent:x,colorSpace:_}}}})(Zt.API),function(t){t.processGIF89A=function(e,r,n,s){var i=new Cie(e),o=i.width,a=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new nB(100).encode(c,100);return t.processJPEG.call(this,u,r,n,s)},t.processGIF87A=t.processGIF89A}(Zt.API),il.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},il.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){nn.log("bit decode error:"+r)}},il.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,a=0;a<8&&8*s+a<this.width;a++){var l=this.palette[i>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}r!==0&&(this.pos+=4-r)}},il.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,a=i>>4,l=15&i,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},il.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},il.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,a=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,u=n*this.width*4+4*s;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=t}},il.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&r)/r*255|0,c=(o>>11)/e*255|0,u=s*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},il.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},il.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=o}},il.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,s){var i=new il(e,!1),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},c=new nB(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(Zt.API),T3.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,s){var i=new T3(e),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},c=new nB(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(Zt.API),Zt.API.processRGBA=function(t,e,r){for(var n=t.data,s=n.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),a=0,l=0,c=0;c<s;c+=4){var u=n[c],d=n[c+1],h=n[c+2],f=n[c+3];i[a++]=u,i[a++]=d,i[a++]=h,o[l++]=f}var m=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:m,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Zt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Pf=Zt.API,Fv=Pf.getCharWidthsArray=function(t,e){var r,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:s.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,h=0,f=t.length,m=0,v=a[0]||l,_=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof s.metadata.widthOfString=="function"?_.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(h=d&&Qr(c[n])==="object"&&!isNaN(parseInt(c[n][m],10))?c[n][m]/u:0,_.push((a[n]||v)/l+h)),m=n;return _},E3=Pf.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Pf.processArabic&&(t=Pf.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,s)/r:Fv.apply(this,arguments).reduce(function(i,o){return i+o},0)},I3=function(t,e,r,n){for(var s=[],i=0,o=t.length,a=0;i!==o&&a+e[i]<r;)a+=e[i],i++;s.push(t.slice(0,i));var l=i;for(a=0;i!==o;)a+e[i]>n&&(s.push(t.slice(l,i)),a=0,l=i),a+=e[i],i++;return l!==i&&s.push(t.slice(l,i)),s},S3=function(t,e,r){r||(r={});var n,s,i,o,a,l,c,u=[],d=[u],h=r.textIndent||0,f=0,m=0,v=t.split(" "),_=Fv.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var x=Array(l).join(" "),b=[];v.map(function(N){(N=N.split(/\s*\n/)).length>1?b=b.concat(N.map(function(j,O){return(O&&j.length?`
`:"")+j})):b.push(N[0])}),v=b,l=E3.apply(this,[x,r])}for(i=0,o=v.length;i<o;i++){var E=0;if(n=v[i],l&&n[0]==`
`&&(n=n.substr(1),E=1),h+f+(m=(s=Fv.apply(this,[n,r])).reduce(function(N,j){return N+j},0))>e||E){if(m>e){for(a=I3.apply(this,[n,s,e-(h+f),e]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);m=s.slice(n.length-(u[0]?u[0].length:0)).reduce(function(N,j){return N+j},0)}else u=[n];d.push(u),h=m+l,f=_}else u.push(n),h+=f+m,f=_}return c=l?function(N,j){return(j?x:"")+N.join(" ")}:function(N){return N.join(" ")},d.map(c)},Pf.splitTextToSize=function(t,e,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var a,l,c=[];for(a=0,l=n.length;a<l;a++)c=c.concat(S3.apply(this,[n[a],o,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},s=0;s<e.length;s++)r[e[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=e[s];var i=function(d){return"0x"+parseInt(d,10).toString(16)},o=t.__fontmetrics__.compress=function(d){var h,f,m,v,_=["{"];for(var x in d){if(h=d[x],isNaN(parseInt(x,10))?f="'"+x+"'":(x=parseInt(x,10),f=(f=i(x).slice(2)).slice(0,-1)+n[f.slice(-1)]),typeof h=="number")h<0?(m=i(h).slice(3),v="-"):(m=i(h).slice(2),v=""),m=v+m.slice(0,-1)+n[m.slice(-1)];else{if(Qr(h)!=="object")throw new Error("Don't know what to do with value type "+Qr(h)+".");m=o(h)}_.push(f+m)}return _.push("}"),_.join("")},a=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,f,m,v,_={},x=1,b=_,E=[],N="",j="",O=d.length-1,P=1;P<O;P+=1)(v=d[P])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(E.push([b,m]),b={},m=void 0):v=="}"?((f=E.pop())[0][f[1]]=b,m=void 0,b=f[0]):v=="-"?x=-1:m===void 0?r.hasOwnProperty(v)?(N+=r[v],m=parseInt(N,16)*x,x=1,N=""):N+=v:r.hasOwnProperty(v)?(j+=r[v],b[m]=parseInt(j,16)*x,x=1,m=void 0,j=""):j+=v;return _},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var h=d.font,f=u.Unicode[h.postScriptName];f&&(h.metadata.Unicode={},h.metadata.Unicode.widths=f.widths,h.metadata.Unicode.kerning=f.kerning);var m=c.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(Zt.API),function(t){var e=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};t.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(L0(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])}(Zt),function(t){function e(){return(rr.canvg?Promise.resolve(rr.canvg):yC(()=>import("./index.es-3df31b72.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Zt.API.addSvgAsImage=function(r,n,s,i,o,a,l,c){if(isNaN(n)||isNaN(s))throw nn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw nn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=o;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(m){return m.fromString(d,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),n,s,i,o,l,c)})}}(),Zt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,r);return this},Zt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,d=0;function h(m,v){var _,x=!1;for(_=0;_<m.length;_+=1)m[_]===v&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=a.length;for(d=0;d<f;d+=1)r[a[d]].value=r[a[d]].defaultValue,r[a[d]].explicitSet=!1}if(Qr(t)==="object"){for(s in t)if(i=t[s],h(a,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&h(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[s].value="["+l.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,v=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?v.push("/"+m+" /"+r[m].value):v.push("/"+m+" "+r[m].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+o.length+a.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(Zt.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,h=i.length;d<h;++d){if(a=o.metadata.characterToGlyph(i.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=i.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},n=function(i){var o,a,l,c,u,d,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,h=(a=Object.keys(i).sort(function(f,m){return f-m})).length;d<h;d++)o=a[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(c=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,h=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",m=0;m<h.length;m++)f+=String.fromCharCode(h[m]);var v=c();u({data:f,addLength1:!0,objectId:v}),l("endobj");var _=c();u({data:n(a.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var x=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Hf(a.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Hf(a.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+_+" 0 R"),l("/BaseFont /"+Hf(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,h="",f=0;f<d.length;f++)h+=String.fromCharCode(d[f]);var m=c();u({data:h,addLength1:!0,objectId:m}),l("endobj");var v=c();u({data:n(a.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var _=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Hf(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var x=0;x<a.metadata.hmtx.widths.length;x++)a.metadata.hmtx.widths[x]=parseInt(a.metadata.hmtx.widths[x]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Hf(a.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,a=i.text||"",l=i.x,c=i.y,u=i.options||{},d=i.mutex||{},h=d.pdfEscape,f=d.activeFontKey,m=d.fonts,v=f,_="",x=0,b="",E=m[v].encoding;if(m[v].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:d};for(b=a,v=f,Array.isArray(a)&&(b=a[0]),x=0;x<b.length;x+=1)m[v].metadata.hasOwnProperty("cmap")&&(o=m[v].metadata.cmap.unicode.codeMap[b[x].charCodeAt(0)]),o||b[x].charCodeAt(0)<256&&m[v].metadata.hasOwnProperty("Unicode")?_+=b[x]:_+="";var N="";return parseInt(v.slice(1))<14||E==="WinAnsiEncoding"?N=h(_,v).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(N=r(_,m[v])),d.isHex=!0,{text:N,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(i){var o=i.text||"",a=[],l={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([s(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(s(Object.assign({},l,{text:o[c]})).text);i.text=a}else i.text=s(Object.assign({},l,{text:o})).text}])}(Zt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Zt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var s,i,o,a,l,c,u,d=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,E=0;this.__bidiEngine__={};var N=function(I){var L=I.charCodeAt(),M=L>>8,W=v[M];return W!==void 0?d[256*W+(255&L)]:M===252||M===253?"AL":x.test(M)?"L":M===8?"R":"N"},j=function(I){for(var L,M=0;M<I.length;M++){if((L=N(I.charAt(M)))==="L")return!1;if(L==="R")return!0}return!1},O=function(I,L,M,W){var X,Z,ce,G,Y=L[W];switch(Y){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(Y="AN");break;case"AL":b=!0,Y="R";break;case"WS":Y="N";break;case"CS":W<1||W+1>=L.length||(X=M[W-1])!=="EN"&&X!=="AN"||(Z=L[W+1])!=="EN"&&Z!=="AN"?Y="N":b&&(Z="AN"),Y=Z===X?Z:"N";break;case"ES":Y=(X=W>0?M[W-1]:"B")==="EN"&&W+1<L.length&&L[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&M[W-1]==="EN"){Y="EN";break}if(b){Y="N";break}for(ce=W+1,G=L.length;ce<G&&L[ce]==="ET";)ce++;Y=ce<G&&L[ce]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(G=L.length,ce=W+1;ce<G&&L[ce]==="NSM";)ce++;if(ce<G){var ue=I[W],ke=ue>=1425&&ue<=2303||ue===64286;if(X=L[ce],ke&&(X==="R"||X==="AL")){Y="R";break}}}Y=W<1||(X=L[W-1])==="B"?"N":M[W-1];break;case"B":b=!1,s=!0,Y=E;break;case"S":i=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":Y="N"}return Y},P=function(I,L,M){var W=I.split("");return M&&T(W,M,{hiLevel:E}),W.reverse(),L&&L.reverse(),W.join("")},T=function(I,L,M){var W,X,Z,ce,G,Y=-1,ue=I.length,ke=0,K=[],se=E?f:h,ae=[];for(b=!1,s=!1,i=!1,X=0;X<ue;X++)ae[X]=N(I[X]);for(Z=0;Z<ue;Z++){if(G=ke,K[Z]=O(I,ae,K,Z),W=240&(ke=se[G][m[K[Z]]]),ke&=15,L[Z]=ce=se[ke][5],W>0)if(W===16){for(X=Y;X<Z;X++)L[X]=1;Y=-1}else Y=-1;if(se[ke][6])Y===-1&&(Y=Z);else if(Y>-1){for(X=Y;X<Z;X++)L[X]=ce;Y=-1}ae[Z]==="B"&&(L[Z]=0),M.hiLevel|=ce}i&&function(he,ye,Ce){for(var Te=0;Te<Ce;Te++)if(he[Te]==="S"){ye[Te]=E;for(var pe=Te-1;pe>=0&&he[pe]==="WS";pe--)ye[pe]=E}}(ae,L,ue)},U=function(I,L,M,W,X){if(!(X.hiLevel<I)){if(I===1&&E===1&&!s)return L.reverse(),void(M&&M.reverse());for(var Z,ce,G,Y,ue=L.length,ke=0;ke<ue;){if(W[ke]>=I){for(G=ke+1;G<ue&&W[G]>=I;)G++;for(Y=ke,ce=G-1;Y<ce;Y++,ce--)Z=L[Y],L[Y]=L[ce],L[ce]=Z,M&&(Z=M[Y],M[Y]=M[ce],M[ce]=Z);ke=G}ke++}}},R=function(I,L,M){var W=I.split(""),X={hiLevel:E};return M||(M=[]),T(W,M,X),function(Z,ce,G){if(G.hiLevel!==0&&u)for(var Y,ue=0;ue<Z.length;ue++)ce[ue]===1&&(Y=_.indexOf(Z[ue]))>=0&&(Z[ue]=_[Y+1])}(W,M,X),U(2,W,L,M,X),U(1,W,L,M,X),W.join("")};return this.__bidiEngine__.doBidiReorder=function(I,L,M){if(function(X,Z){if(Z)for(var ce=0;ce<X.length;ce++)Z[ce]=ce;a===void 0&&(a=j(X)),c===void 0&&(c=j(X))}(I,L),o||!l||c)if(o&&l&&a^c)E=a?1:0,I=P(I,L,M);else if(!o&&l&&c)E=a?1:0,I=R(I,L,M),I=P(I,L);else if(!o||a||l||c){if(o&&!l&&a^c)I=P(I,L),a?(E=0,I=R(I,L,M)):(E=1,I=R(I,L,M),I=P(I,L));else if(o&&a&&!l&&c)E=1,I=R(I,L,M),I=P(I,L);else if(!o&&!l&&a^c){var W=u;a?(E=1,I=R(I,L,M),E=0,u=!1,I=R(I,L,M),u=W):(E=0,I=R(I,L,M),I=P(I,L),E=1,u=!1,I=R(I,L,M),u=W,I=P(I,L))}}else E=0,I=R(I,L,M);else E=a?1:0,I=R(I,L,M);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,l=I.isOutputVisual,a=I.isInputRtl,c=I.isOutputRtl,u=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var a=0;for(o=[],a=0;a<s.length;a+=1)Object.prototype.toString.call(s[a])==="[object Array]"?o.push([r.doBidiReorder(s[a][0]),s[a][1],s[a][2]]):o.push([r.doBidiReorder(s[a])]);n.text=o}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(Zt),Zt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new ad(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Mie(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new _ie(this.contents),this.head=new Eie(this),this.name=new jie(this),this.cmap=new YM(this),this.toUnicode={},this.hhea=new Iie(this),this.maxp=new Fie(this),this.hmtx=new Pie(this),this.post=new Nie(this),this.os2=new Sie(this),this.loca=new Rie(this),this.glyf=new Lie(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var s,i,o,a;for(o=0,i=0,a=(e=""+e).length;0<=a?i<a:i>a;i=0<=a?++i:--i)s=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var bl,ad=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,s;for(s=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(e.charCodeAt(r)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,s,i,o,a,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),_ie=function(){var t;function e(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,s,i,o,a,l,c,u,d,h,f,m,v;for(v in f=Object.keys(r).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),o=Math.floor(d/l),u=16*f-d,(s=new ad).writeInt(this.scalarType),s.writeShort(f),s.writeShort(d),s.writeShort(o),s.writeShort(u),i=16*f,c=s.pos+i,a=null,m=[],r)for(h=r[v],s.writeString(v),s.writeInt(t(h)),s.writeInt(c),s.writeInt(h.length),m=m.concat(h),v==="head"&&(a=c),c+=h.length;c%4;)m.push(0),c++;return s.write(m),n=2981146554-t(s.data),s.pos=a+8,s.writeUInt32(n),s.data},t=function(r){var n,s,i,o;for(r=XM.call(r);r.length%4;)r.push(0);for(i=new ad(r),s=0,n=0,o=r.length;n<o;n=n+=4)s+=i.readUInt32();return 4294967295&s},e}(),kie={}.hasOwnProperty,yA=function(t,e){for(var r in e)kie.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};bl=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Eie=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yA(e,bl),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new ad).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),j3=function(){function t(e,r){var n,s,i,o,a,l,c,u,d,h,f,m,v,_,x,b,E;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),h=f/2,e.pos+=6,i=function(){var N,j;for(j=[],l=N=0;0<=h?N<h:N>h;l=0<=h?++N:--N)j.push(e.readUInt16());return j}(),e.pos+=2,v=function(){var N,j;for(j=[],l=N=0;0<=h?N<h:N>h;l=0<=h?++N:--N)j.push(e.readUInt16());return j}(),c=function(){var N,j;for(j=[],l=N=0;0<=h?N<h:N>h;l=0<=h?++N:--N)j.push(e.readUInt16());return j}(),u=function(){var N,j;for(j=[],l=N=0;0<=h?N<h:N>h;l=0<=h?++N:--N)j.push(e.readUInt16());return j}(),s=(this.length-e.pos+this.offset)/2,a=function(){var N,j;for(j=[],l=N=0;0<=s?N<s:N>s;l=0<=s?++N:--N)j.push(e.readUInt16());return j}(),l=x=0,E=i.length;x<E;l=++x)for(_=i[l],n=b=m=v[l];m<=_?b<=_:b>=_;n=m<=_?++b:--b)u[l]===0?o=n+c[l]:(o=a[u[l]/2+(n-m)-(h-l)]||0)!==0&&(o+=c[l]),this.codeMap[n]=65535&o}e.pos=d}return t.encode=function(e,r){var n,s,i,o,a,l,c,u,d,h,f,m,v,_,x,b,E,N,j,O,P,T,U,R,I,L,M,W,X,Z,ce,G,Y,ue,ke,K,se,ae,he,ye,Ce,Te,pe,Qe,De,Oe;switch(W=new ad,o=Object.keys(e).sort(function(We,mt){return We-mt}),r){case"macroman":for(v=0,_=function(){var We=[];for(m=0;m<256;++m)We.push(0);return We}(),b={0:0},i={},X=0,Y=o.length;X<Y;X++)b[pe=e[s=o[X]]]==null&&(b[pe]=++v),i[s]={old:e[s],new:b[e[s]]},_[s]=b[e[s]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(_),{charMap:i,subtable:W.data,maxGlyphID:v+1};case"unicode":for(L=[],d=[],E=0,b={},n={},x=c=null,Z=0,ue=o.length;Z<ue;Z++)b[j=e[s=o[Z]]]==null&&(b[j]=++E),n[s]={old:j,new:b[j]},a=b[j]-s,x!=null&&a===c||(x&&d.push(x),L.push(s),c=a),x=s;for(x&&d.push(x),d.push(65535),L.push(65535),R=2*(U=L.length),T=2*Math.pow(Math.log(U)/Math.LN2,2),h=Math.log(T/2)/Math.LN2,P=2*U-T,l=[],O=[],f=[],m=ce=0,ke=L.length;ce<ke;m=++ce){if(I=L[m],u=d[m],I===65535){l.push(0),O.push(0);break}if(I-(M=n[I].new)>=32768)for(l.push(0),O.push(2*(f.length+U-m)),s=G=I;I<=u?G<=u:G>=u;s=I<=u?++G:--G)f.push(n[s].new);else l.push(M-I),O.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*U+2*f.length),W.writeUInt16(0),W.writeUInt16(R),W.writeUInt16(T),W.writeUInt16(h),W.writeUInt16(P),Ce=0,K=d.length;Ce<K;Ce++)s=d[Ce],W.writeUInt16(s);for(W.writeUInt16(0),Te=0,se=L.length;Te<se;Te++)s=L[Te],W.writeUInt16(s);for(Qe=0,ae=l.length;Qe<ae;Qe++)a=l[Qe],W.writeUInt16(a);for(De=0,he=O.length;De<he;De++)N=O[De],W.writeUInt16(N);for(Oe=0,ye=f.length;Oe<ye;Oe++)v=f[Oe],W.writeUInt16(v);return{charMap:n,subtable:W.data,maxGlyphID:E+1}}},t}(),YM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yA(e,bl),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new j3(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var s,i;return n==null&&(n="macroman"),s=j3.encode(r,n),(i=new ad).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e}(),Iie=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yA(e,bl),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),Sie=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yA(e,bl),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),Nie=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yA(e,bl),e.prototype.tag="post",e.prototype.parse=function(r){var n,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(s=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(r.readUInt32());return c}).call(this)}},e}(),Tie=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},jie=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yA(e,bl),e.prototype.tag="name",e.prototype.parse=function(r){var n,s,i,o,a,l,c,u,d,h,f;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),s=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},o=d=0,h=s.length;d<h;o=++d)i=s[o],r.pos=i.offset,u=r.readString(i.length),a=new Tie(u,i),c[f=i.nameID]==null&&(c[f]=[]),c[i.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),Fie=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yA(e,bl),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),Pie=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yA(e,bl),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,s,i,o,a,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)d.push(r.readInt16());return d}(),this.widths=(function(){var u,d,h,f;for(f=[],u=0,d=(h=this.metrics).length;u<d;u++)o=h[u],f.push(o.advance);return f}).call(this),s=this.widths[this.widths.length-1],c=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)c.push(this.widths.push(s));return c},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),XM=[].slice,Lie=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yA(e,bl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,s,i,o,a,l,c,u,d,h;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,s=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,a=(l=new ad(n.read(i))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[r]=a===-1?new Die(l,u,h,c,d):new Uie(l,a,u,h,c,d),this.cache[r]))},e.prototype.encode=function(r,n,s){var i,o,a,l,c;for(a=[],o=[],l=0,c=n.length;l<c;l++)i=r[n[l]],o.push(a.length),i&&(a=a.concat(i.encode(s)));return o.push(a.length),{table:a,offsets:o}},e}(),Uie=function(){function t(e,r,n,s,i,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Die=function(){function t(e,r,n,s,i){var o,a;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new ad(XM.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),Rie=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yA(e,bl),e.prototype.tag="loca",e.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=4)o.push(r.readUInt32());return o}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),i=0,o=0,a=0;a<s.length;++a)if(s[a]=i,o<n.length&&n[o]==a){++o,s[a]=i;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(i+=c)}for(var u=new Array(4*s.length),d=0;d<s.length;++d)u[4*d+3]=255&s[d],u[4*d+2]=(65280&s[d])>>8,u[4*d+1]=(16711680&s[d])>>16,u[4*d]=(4278190080&s[d])>>24;return u},e}(),Mie=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=s[n];return e},t.prototype.glyphsFor=function(e){var r,n,s,i,o,a,l;for(s={},o=0,a=e.length;o<a;o++)s[i=e[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],s[i]=n;return s},t.prototype.encode=function(e,r){var n,s,i,o,a,l,c,u,d,h,f,m,v,_,x;for(s in n=YM.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},x=n.charMap)f[(l=x[s]).old]=l.new;for(m in h=n.maxGlyphID,o)m in f||(f[m]=h++);return u=function(b){var E,N;for(E in N={},b)N[b[E]]=E;return N}(f),d=Object.keys(u).sort(function(b,E){return b-E}),v=function(){var b,E,N;for(N=[],b=0,E=d.length;b<E;b++)a=d[b],N.push(u[a]);return N}(),i=this.font.glyf.encode(o,v,f),c=this.font.loca.encode(i.offsets,v),_={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},t}();Zt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,s,i,o;if(Array.isArray(r))return"["+function(){var a,l,c;for(c=[],a=0,l=r.length;a<l;a++)n=r[a],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+r},e}();const Qie=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:mie,AcroFormAppearance:Ut,AcroFormButton:Ns,AcroFormCheckBox:R0,AcroFormChoiceField:hh,AcroFormComboBox:gh,AcroFormEditBox:U0,AcroFormListBox:fh,AcroFormPasswordField:M0,AcroFormPushButton:D0,AcroFormRadioButton:ph,AcroFormTextField:Wu,GState:Fm,ShadingPattern:wu,TilingPattern:sh,default:Zt,jsPDF:Zt},Symbol.toStringTag,{value:"Module"})),Oie=g8(Qie);var sB={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var F3;function Vie(){return F3||(F3=1,function(t,e){(function(r,n){t.exports=n()})(Wp,function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var r=function(w,p){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,B){C.__proto__=B}||function(C,B){for(var Q in B)Object.prototype.hasOwnProperty.call(B,Q)&&(C[Q]=B[Q])},r(w,p)};function n(w,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");r(w,p);function C(){this.constructor=w}w.prototype=p===null?Object.create(p):(C.prototype=p.prototype,new C)}var s=function(){return s=Object.assign||function(p){for(var C,B=1,Q=arguments.length;B<Q;B++){C=arguments[B];for(var z in C)Object.prototype.hasOwnProperty.call(C,z)&&(p[z]=C[z])}return p},s.apply(this,arguments)};function i(w,p,C,B){function Q(z){return z instanceof C?z:new C(function(te){te(z)})}return new(C||(C=Promise))(function(z,te){function Ae(Ne){try{be(B.next(Ne))}catch(Pe){te(Pe)}}function le(Ne){try{be(B.throw(Ne))}catch(Pe){te(Pe)}}function be(Ne){Ne.done?z(Ne.value):Q(Ne.value).then(Ae,le)}be((B=B.apply(w,p||[])).next())})}function o(w,p){var C={label:0,sent:function(){if(z[0]&1)throw z[1];return z[1]},trys:[],ops:[]},B,Q,z,te;return te={next:Ae(0),throw:Ae(1),return:Ae(2)},typeof Symbol=="function"&&(te[Symbol.iterator]=function(){return this}),te;function Ae(be){return function(Ne){return le([be,Ne])}}function le(be){if(B)throw new TypeError("Generator is already executing.");for(;C;)try{if(B=1,Q&&(z=be[0]&2?Q.return:be[0]?Q.throw||((z=Q.return)&&z.call(Q),0):Q.next)&&!(z=z.call(Q,be[1])).done)return z;switch(Q=0,z&&(be=[be[0]&2,z.value]),be[0]){case 0:case 1:z=be;break;case 4:return C.label++,{value:be[1],done:!1};case 5:C.label++,Q=be[1],be=[0];continue;case 7:be=C.ops.pop(),C.trys.pop();continue;default:if(z=C.trys,!(z=z.length>0&&z[z.length-1])&&(be[0]===6||be[0]===2)){C=0;continue}if(be[0]===3&&(!z||be[1]>z[0]&&be[1]<z[3])){C.label=be[1];break}if(be[0]===6&&C.label<z[1]){C.label=z[1],z=be;break}if(z&&C.label<z[2]){C.label=z[2],C.ops.push(be);break}z[2]&&C.ops.pop(),C.trys.pop();continue}be=p.call(w,C)}catch(Ne){be=[6,Ne],Q=0}finally{B=z=0}if(be[0]&5)throw be[1];return{value:be[0]?be[1]:void 0,done:!0}}}function a(w,p,C){if(C||arguments.length===2)for(var B=0,Q=p.length,z;B<Q;B++)(z||!(B in p))&&(z||(z=Array.prototype.slice.call(p,0,B)),z[B]=p[B]);return w.concat(z||p)}for(var l=function(){function w(p,C,B,Q){this.left=p,this.top=C,this.width=B,this.height=Q}return w.prototype.add=function(p,C,B,Q){return new w(this.left+p,this.top+C,this.width+B,this.height+Q)},w.fromClientRect=function(p,C){return new w(C.left+p.windowBounds.left,C.top+p.windowBounds.top,C.width,C.height)},w.fromDOMRectList=function(p,C){var B=Array.from(C).find(function(Q){return Q.width!==0});return B?new w(B.left+p.windowBounds.left,B.top+p.windowBounds.top,B.width,B.height):w.EMPTY},w.EMPTY=new w(0,0,0,0),w}(),c=function(w,p){return l.fromClientRect(w,p.getBoundingClientRect())},u=function(w){var p=w.body,C=w.documentElement;if(!p||!C)throw new Error("Unable to get document size");var B=Math.max(Math.max(p.scrollWidth,C.scrollWidth),Math.max(p.offsetWidth,C.offsetWidth),Math.max(p.clientWidth,C.clientWidth)),Q=Math.max(Math.max(p.scrollHeight,C.scrollHeight),Math.max(p.offsetHeight,C.offsetHeight),Math.max(p.clientHeight,C.clientHeight));return new l(0,0,B,Q)},d=function(w){for(var p=[],C=0,B=w.length;C<B;){var Q=w.charCodeAt(C++);if(Q>=55296&&Q<=56319&&C<B){var z=w.charCodeAt(C++);(z&64512)===56320?p.push(((Q&1023)<<10)+(z&1023)+65536):(p.push(Q),C--)}else p.push(Q)}return p},h=function(){for(var w=[],p=0;p<arguments.length;p++)w[p]=arguments[p];if(String.fromCodePoint)return String.fromCodePoint.apply(String,w);var C=w.length;if(!C)return"";for(var B=[],Q=-1,z="";++Q<C;){var te=w[Q];te<=65535?B.push(te):(te-=65536,B.push((te>>10)+55296,te%1024+56320)),(Q+1===C||B.length>16384)&&(z+=String.fromCharCode.apply(String,B),B.length=0)}return z},f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=typeof Uint8Array>"u"?[]:new Uint8Array(256),v=0;v<f.length;v++)m[f.charCodeAt(v)]=v;for(var _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=typeof Uint8Array>"u"?[]:new Uint8Array(256),b=0;b<_.length;b++)x[_.charCodeAt(b)]=b;for(var E=function(w){var p=w.length*.75,C=w.length,B,Q=0,z,te,Ae,le;w[w.length-1]==="="&&(p--,w[w.length-2]==="="&&p--);var be=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(p):new Array(p),Ne=Array.isArray(be)?be:new Uint8Array(be);for(B=0;B<C;B+=4)z=x[w.charCodeAt(B)],te=x[w.charCodeAt(B+1)],Ae=x[w.charCodeAt(B+2)],le=x[w.charCodeAt(B+3)],Ne[Q++]=z<<2|te>>4,Ne[Q++]=(te&15)<<4|Ae>>2,Ne[Q++]=(Ae&3)<<6|le&63;return be},N=function(w){for(var p=w.length,C=[],B=0;B<p;B+=2)C.push(w[B+1]<<8|w[B]);return C},j=function(w){for(var p=w.length,C=[],B=0;B<p;B+=4)C.push(w[B+3]<<24|w[B+2]<<16|w[B+1]<<8|w[B]);return C},O=5,P=6+5,T=2,U=P-O,R=65536>>O,I=1<<O,L=I-1,M=1024>>O,W=R+M,X=W,Z=32,ce=X+Z,G=65536>>P,Y=1<<U,ue=Y-1,ke=function(w,p,C){return w.slice?w.slice(p,C):new Uint16Array(Array.prototype.slice.call(w,p,C))},K=function(w,p,C){return w.slice?w.slice(p,C):new Uint32Array(Array.prototype.slice.call(w,p,C))},se=function(w,p){var C=E(w),B=Array.isArray(C)?j(C):new Uint32Array(C),Q=Array.isArray(C)?N(C):new Uint16Array(C),z=24,te=ke(Q,z/2,B[4]/2),Ae=B[5]===2?ke(Q,(z+B[4])/2):K(B,Math.ceil((z+B[4])/4));return new ae(B[0],B[1],B[2],B[3],te,Ae)},ae=function(){function w(p,C,B,Q,z,te){this.initialValue=p,this.errorValue=C,this.highStart=B,this.highValueIndex=Q,this.index=z,this.data=te}return w.prototype.get=function(p){var C;if(p>=0){if(p<55296||p>56319&&p<=65535)return C=this.index[p>>O],C=(C<<T)+(p&L),this.data[C];if(p<=65535)return C=this.index[R+(p-55296>>O)],C=(C<<T)+(p&L),this.data[C];if(p<this.highStart)return C=ce-G+(p>>P),C=this.index[C],C+=p>>O&ue,C=this.index[C],C=(C<<T)+(p&L),this.data[C];if(p<=1114111)return this.data[this.highValueIndex]}return this.errorValue},w}(),he="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ye=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ce=0;Ce<he.length;Ce++)ye[he.charCodeAt(Ce)]=Ce;var Te="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",pe=50,Qe=1,De=2,Oe=3,We=4,mt=5,Me=7,fe=8,Ht=9,ft=10,Ye=11,lt=12,gt=13,ct=14,me=15,ze=16,ot=17,st=18,et=19,ht=20,vt=21,Ie=22,je=23,qe=24,tt=25,Pt=26,Bt=27,zt=28,An=29,sr=30,us=31,pr=32,Xn=33,Xt=34,yt=35,At=36,Ct=37,Ar=38,ur=39,Vn=40,Hn=41,Qt=42,Hr=43,Ui=[9001,65288],En="!",Mt="",en="",ws=se(Te),In=[sr,At],Di=[Qe,De,Oe,mt],oi=[ft,fe],bs=[Bt,Pt],ai=Di.concat(oi),Gs=[Ar,ur,Vn,Xt,yt],Bs=[me,gt],Jn=function(w,p){p===void 0&&(p="strict");var C=[],B=[],Q=[];return w.forEach(function(z,te){var Ae=ws.get(z);if(Ae>pe?(Q.push(!0),Ae-=pe):Q.push(!1),["normal","auto","loose"].indexOf(p)!==-1&&[8208,8211,12316,12448].indexOf(z)!==-1)return B.push(te),C.push(ze);if(Ae===We||Ae===Ye){if(te===0)return B.push(te),C.push(sr);var le=C[te-1];return ai.indexOf(le)===-1?(B.push(B[te-1]),C.push(le)):(B.push(te),C.push(sr))}if(B.push(te),Ae===us)return C.push(p==="strict"?vt:Ct);if(Ae===Qt||Ae===An)return C.push(sr);if(Ae===Hr)return z>=131072&&z<=196605||z>=196608&&z<=262141?C.push(Ct):C.push(sr);C.push(Ae)}),[B,C,Q]},oo=function(w,p,C,B){var Q=B[C];if(Array.isArray(w)?w.indexOf(Q)!==-1:w===Q)for(var z=C;z<=B.length;){z++;var te=B[z];if(te===p)return!0;if(te!==ft)break}if(Q===ft)for(var z=C;z>0;){z--;var Ae=B[z];if(Array.isArray(w)?w.indexOf(Ae)!==-1:w===Ae)for(var le=C;le<=B.length;){le++;var te=B[le];if(te===p)return!0;if(te!==ft)break}if(Ae!==ft)break}return!1},ha=function(w,p){for(var C=w;C>=0;){var B=p[C];if(B===ft)C--;else return B}return 0},fa=function(w,p,C,B,Q){if(C[B]===0)return Mt;var z=B-1;if(Array.isArray(Q)&&Q[z]===!0)return Mt;var te=z-1,Ae=z+1,le=p[z],be=te>=0?p[te]:0,Ne=p[Ae];if(le===De&&Ne===Oe)return Mt;if(Di.indexOf(le)!==-1)return En;if(Di.indexOf(Ne)!==-1||oi.indexOf(Ne)!==-1)return Mt;if(ha(z,p)===fe)return en;if(ws.get(w[z])===Ye||(le===pr||le===Xn)&&ws.get(w[Ae])===Ye||le===Me||Ne===Me||le===Ht||[ft,gt,me].indexOf(le)===-1&&Ne===Ht||[ot,st,et,qe,zt].indexOf(Ne)!==-1||ha(z,p)===Ie||oo(je,Ie,z,p)||oo([ot,st],vt,z,p)||oo(lt,lt,z,p))return Mt;if(le===ft)return en;if(le===je||Ne===je)return Mt;if(Ne===ze||le===ze)return en;if([gt,me,vt].indexOf(Ne)!==-1||le===ct||be===At&&Bs.indexOf(le)!==-1||le===zt&&Ne===At||Ne===ht||In.indexOf(Ne)!==-1&&le===tt||In.indexOf(le)!==-1&&Ne===tt||le===Bt&&[Ct,pr,Xn].indexOf(Ne)!==-1||[Ct,pr,Xn].indexOf(le)!==-1&&Ne===Pt||In.indexOf(le)!==-1&&bs.indexOf(Ne)!==-1||bs.indexOf(le)!==-1&&In.indexOf(Ne)!==-1||[Bt,Pt].indexOf(le)!==-1&&(Ne===tt||[Ie,me].indexOf(Ne)!==-1&&p[Ae+1]===tt)||[Ie,me].indexOf(le)!==-1&&Ne===tt||le===tt&&[tt,zt,qe].indexOf(Ne)!==-1)return Mt;if([tt,zt,qe,ot,st].indexOf(Ne)!==-1)for(var Pe=z;Pe>=0;){var Ge=p[Pe];if(Ge===tt)return Mt;if([zt,qe].indexOf(Ge)!==-1)Pe--;else break}if([Bt,Pt].indexOf(Ne)!==-1)for(var Pe=[ot,st].indexOf(le)!==-1?te:z;Pe>=0;){var Ge=p[Pe];if(Ge===tt)return Mt;if([zt,qe].indexOf(Ge)!==-1)Pe--;else break}if(Ar===le&&[Ar,ur,Xt,yt].indexOf(Ne)!==-1||[ur,Xt].indexOf(le)!==-1&&[ur,Vn].indexOf(Ne)!==-1||[Vn,yt].indexOf(le)!==-1&&Ne===Vn||Gs.indexOf(le)!==-1&&[ht,Pt].indexOf(Ne)!==-1||Gs.indexOf(Ne)!==-1&&le===Bt||In.indexOf(le)!==-1&&In.indexOf(Ne)!==-1||le===qe&&In.indexOf(Ne)!==-1||In.concat(tt).indexOf(le)!==-1&&Ne===Ie&&Ui.indexOf(w[Ae])===-1||In.concat(tt).indexOf(Ne)!==-1&&le===st)return Mt;if(le===Hn&&Ne===Hn){for(var Ft=C[z],pt=1;Ft>0&&(Ft--,p[Ft]===Hn);)pt++;if(pt%2!==0)return Mt}return le===pr&&Ne===Xn?Mt:en},ga=function(w,p){p||(p={lineBreak:"normal",wordBreak:"normal"});var C=Jn(w,p.lineBreak),B=C[0],Q=C[1],z=C[2];(p.wordBreak==="break-all"||p.wordBreak==="break-word")&&(Q=Q.map(function(Ae){return[tt,sr,Qt].indexOf(Ae)!==-1?Ct:Ae}));var te=p.wordBreak==="keep-all"?z.map(function(Ae,le){return Ae&&w[le]>=19968&&w[le]<=40959}):void 0;return[B,Q,te]},Qa=function(){function w(p,C,B,Q){this.codePoints=p,this.required=C===En,this.start=B,this.end=Q}return w.prototype.slice=function(){return h.apply(void 0,this.codePoints.slice(this.start,this.end))},w}(),vA=function(w,p){var C=d(w),B=ga(C,p),Q=B[0],z=B[1],te=B[2],Ae=C.length,le=0,be=0;return{next:function(){if(be>=Ae)return{done:!0,value:null};for(var Ne=Mt;be<Ae&&(Ne=fa(C,z,Q,++be,te))===Mt;);if(Ne!==Mt||be===Ae){var Pe=new Qa(C,Ne,le,be);return le=be,{value:Pe,done:!1}}return{done:!0,value:null}}}},yd=1,Bl=2,Ri=4,Oa=8,ao=10,li=47,Oo=92,Cc=9,_c=32,lo=34,pa=61,tn=35,Cl=36,xA=37,ma=39,ya=40,Va=41,Ai=95,fn=45,Us=33,Mi=60,ci=62,_l=64,Ha=91,kc=93,jr=61,kl=123,ui=63,Ka=125,Ec=124,Ic=126,Vo=128,za=65533,va=42,Ao=43,gn=44,co=58,wA=59,Gt=46,Sc=0,xa=8,uo=11,Nc=14,Tc=31,Ws=127,Ds=-1,jc=48,Ga=97,Wa=101,El=102,Qi=117,di=122,bA=65,ho=69,Rr=70,Il=85,Fc=90,pn=function(w){return w>=jc&&w<=57},BA=function(w){return w>=55296&&w<=57343},fo=function(w){return pn(w)||w>=bA&&w<=Rr||w>=Ga&&w<=El},$s=function(w){return w>=Ga&&w<=di},go=function(w){return w>=bA&&w<=Fc},Oi=function(w){return $s(w)||go(w)},Ho=function(w){return w>=Vo},Rs=function(w){return w===ao||w===Cc||w===_c},hi=function(w){return Oi(w)||Ho(w)||w===Ai},Ko=function(w){return hi(w)||pn(w)||w===fn},CA=function(w){return w>=Sc&&w<=xa||w===uo||w>=Nc&&w<=Tc||w===Ws},ds=function(w,p){return w!==Oo?!1:p!==ao},$a=function(w,p,C){return w===fn?hi(p)||ds(p,C):hi(w)?!0:!!(w===Oo&&ds(w,p))},po=function(w,p,C){return w===Ao||w===fn?pn(p)?!0:p===Gt&&pn(C):pn(w===Gt?p:w)},_A=function(w){var p=0,C=1;(w[p]===Ao||w[p]===fn)&&(w[p]===fn&&(C=-1),p++);for(var B=[];pn(w[p]);)B.push(w[p++]);var Q=B.length?parseInt(h.apply(void 0,B),10):0;w[p]===Gt&&p++;for(var z=[];pn(w[p]);)z.push(w[p++]);var te=z.length,Ae=te?parseInt(h.apply(void 0,z),10):0;(w[p]===ho||w[p]===Wa)&&p++;var le=1;(w[p]===Ao||w[p]===fn)&&(w[p]===fn&&(le=-1),p++);for(var be=[];pn(w[p]);)be.push(w[p++]);var Ne=be.length?parseInt(h.apply(void 0,be),10):0;return C*(Q+Ae*Math.pow(10,-te))*Math.pow(10,le*Ne)},kA={type:2},mo={type:3},Sl={type:4},Nl={type:13},Tl={type:8},EA={type:21},qa={type:9},yo={type:10},jl={type:11},zo={type:12},Vi={type:14},S={type:23},q={type:1},ge={type:25},ve={type:24},Fe={type:26},Ve={type:27},nt={type:28},kt={type:29},Dt={type:31},y={type:32},D=function(){function w(){this._value=[]}return w.prototype.write=function(p){this._value=this._value.concat(d(p))},w.prototype.read=function(){for(var p=[],C=this.consumeToken();C!==y;)p.push(C),C=this.consumeToken();return p},w.prototype.consumeToken=function(){var p=this.consumeCodePoint();switch(p){case lo:return this.consumeStringToken(lo);case tn:var C=this.peekCodePoint(0),B=this.peekCodePoint(1),Q=this.peekCodePoint(2);if(Ko(C)||ds(B,Q)){var z=$a(C,B,Q)?Bl:yd,te=this.consumeName();return{type:5,value:te,flags:z}}break;case Cl:if(this.peekCodePoint(0)===pa)return this.consumeCodePoint(),Nl;break;case ma:return this.consumeStringToken(ma);case ya:return kA;case Va:return mo;case va:if(this.peekCodePoint(0)===pa)return this.consumeCodePoint(),Vi;break;case Ao:if(po(p,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(p),this.consumeNumericToken();break;case gn:return Sl;case fn:var Ae=p,le=this.peekCodePoint(0),be=this.peekCodePoint(1);if(po(Ae,le,be))return this.reconsumeCodePoint(p),this.consumeNumericToken();if($a(Ae,le,be))return this.reconsumeCodePoint(p),this.consumeIdentLikeToken();if(le===fn&&be===ci)return this.consumeCodePoint(),this.consumeCodePoint(),ve;break;case Gt:if(po(p,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(p),this.consumeNumericToken();break;case li:if(this.peekCodePoint(0)===va)for(this.consumeCodePoint();;){var Ne=this.consumeCodePoint();if(Ne===va&&(Ne=this.consumeCodePoint(),Ne===li))return this.consumeToken();if(Ne===Ds)return this.consumeToken()}break;case co:return Fe;case wA:return Ve;case Mi:if(this.peekCodePoint(0)===Us&&this.peekCodePoint(1)===fn&&this.peekCodePoint(2)===fn)return this.consumeCodePoint(),this.consumeCodePoint(),ge;break;case _l:var Pe=this.peekCodePoint(0),Ge=this.peekCodePoint(1),Ft=this.peekCodePoint(2);if($a(Pe,Ge,Ft)){var te=this.consumeName();return{type:7,value:te}}break;case Ha:return nt;case Oo:if(ds(p,this.peekCodePoint(0)))return this.reconsumeCodePoint(p),this.consumeIdentLikeToken();break;case kc:return kt;case jr:if(this.peekCodePoint(0)===pa)return this.consumeCodePoint(),Tl;break;case kl:return jl;case Ka:return zo;case Qi:case Il:var pt=this.peekCodePoint(0),Et=this.peekCodePoint(1);return pt===Ao&&(fo(Et)||Et===ui)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(p),this.consumeIdentLikeToken();case Ec:if(this.peekCodePoint(0)===pa)return this.consumeCodePoint(),qa;if(this.peekCodePoint(0)===Ec)return this.consumeCodePoint(),EA;break;case Ic:if(this.peekCodePoint(0)===pa)return this.consumeCodePoint(),yo;break;case Ds:return y}return Rs(p)?(this.consumeWhiteSpace(),Dt):pn(p)?(this.reconsumeCodePoint(p),this.consumeNumericToken()):hi(p)?(this.reconsumeCodePoint(p),this.consumeIdentLikeToken()):{type:6,value:h(p)}},w.prototype.consumeCodePoint=function(){var p=this._value.shift();return typeof p>"u"?-1:p},w.prototype.reconsumeCodePoint=function(p){this._value.unshift(p)},w.prototype.peekCodePoint=function(p){return p>=this._value.length?-1:this._value[p]},w.prototype.consumeUnicodeRangeToken=function(){for(var p=[],C=this.consumeCodePoint();fo(C)&&p.length<6;)p.push(C),C=this.consumeCodePoint();for(var B=!1;C===ui&&p.length<6;)p.push(C),C=this.consumeCodePoint(),B=!0;if(B){var Q=parseInt(h.apply(void 0,p.map(function(le){return le===ui?jc:le})),16),z=parseInt(h.apply(void 0,p.map(function(le){return le===ui?Rr:le})),16);return{type:30,start:Q,end:z}}var te=parseInt(h.apply(void 0,p),16);if(this.peekCodePoint(0)===fn&&fo(this.peekCodePoint(1))){this.consumeCodePoint(),C=this.consumeCodePoint();for(var Ae=[];fo(C)&&Ae.length<6;)Ae.push(C),C=this.consumeCodePoint();var z=parseInt(h.apply(void 0,Ae),16);return{type:30,start:te,end:z}}else return{type:30,start:te,end:te}},w.prototype.consumeIdentLikeToken=function(){var p=this.consumeName();return p.toLowerCase()==="url"&&this.peekCodePoint(0)===ya?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ya?(this.consumeCodePoint(),{type:19,value:p}):{type:20,value:p}},w.prototype.consumeUrlToken=function(){var p=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ds)return{type:22,value:""};var C=this.peekCodePoint(0);if(C===ma||C===lo){var B=this.consumeStringToken(this.consumeCodePoint());return B.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ds||this.peekCodePoint(0)===Va)?(this.consumeCodePoint(),{type:22,value:B.value}):(this.consumeBadUrlRemnants(),S)}for(;;){var Q=this.consumeCodePoint();if(Q===Ds||Q===Va)return{type:22,value:h.apply(void 0,p)};if(Rs(Q))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ds||this.peekCodePoint(0)===Va?(this.consumeCodePoint(),{type:22,value:h.apply(void 0,p)}):(this.consumeBadUrlRemnants(),S);if(Q===lo||Q===ma||Q===ya||CA(Q))return this.consumeBadUrlRemnants(),S;if(Q===Oo)if(ds(Q,this.peekCodePoint(0)))p.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),S;else p.push(Q)}},w.prototype.consumeWhiteSpace=function(){for(;Rs(this.peekCodePoint(0));)this.consumeCodePoint()},w.prototype.consumeBadUrlRemnants=function(){for(;;){var p=this.consumeCodePoint();if(p===Va||p===Ds)return;ds(p,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},w.prototype.consumeStringSlice=function(p){for(var C=5e4,B="";p>0;){var Q=Math.min(C,p);B+=h.apply(void 0,this._value.splice(0,Q)),p-=Q}return this._value.shift(),B},w.prototype.consumeStringToken=function(p){var C="",B=0;do{var Q=this._value[B];if(Q===Ds||Q===void 0||Q===p)return C+=this.consumeStringSlice(B),{type:0,value:C};if(Q===ao)return this._value.splice(0,B),q;if(Q===Oo){var z=this._value[B+1];z!==Ds&&z!==void 0&&(z===ao?(C+=this.consumeStringSlice(B),B=-1,this._value.shift()):ds(Q,z)&&(C+=this.consumeStringSlice(B),C+=h(this.consumeEscapedCodePoint()),B=-1))}B++}while(!0)},w.prototype.consumeNumber=function(){var p=[],C=Ri,B=this.peekCodePoint(0);for((B===Ao||B===fn)&&p.push(this.consumeCodePoint());pn(this.peekCodePoint(0));)p.push(this.consumeCodePoint());B=this.peekCodePoint(0);var Q=this.peekCodePoint(1);if(B===Gt&&pn(Q))for(p.push(this.consumeCodePoint(),this.consumeCodePoint()),C=Oa;pn(this.peekCodePoint(0));)p.push(this.consumeCodePoint());B=this.peekCodePoint(0),Q=this.peekCodePoint(1);var z=this.peekCodePoint(2);if((B===ho||B===Wa)&&((Q===Ao||Q===fn)&&pn(z)||pn(Q)))for(p.push(this.consumeCodePoint(),this.consumeCodePoint()),C=Oa;pn(this.peekCodePoint(0));)p.push(this.consumeCodePoint());return[_A(p),C]},w.prototype.consumeNumericToken=function(){var p=this.consumeNumber(),C=p[0],B=p[1],Q=this.peekCodePoint(0),z=this.peekCodePoint(1),te=this.peekCodePoint(2);if($a(Q,z,te)){var Ae=this.consumeName();return{type:15,number:C,flags:B,unit:Ae}}return Q===xA?(this.consumeCodePoint(),{type:16,number:C,flags:B}):{type:17,number:C,flags:B}},w.prototype.consumeEscapedCodePoint=function(){var p=this.consumeCodePoint();if(fo(p)){for(var C=h(p);fo(this.peekCodePoint(0))&&C.length<6;)C+=h(this.consumeCodePoint());Rs(this.peekCodePoint(0))&&this.consumeCodePoint();var B=parseInt(C,16);return B===0||BA(B)||B>1114111?za:B}return p===Ds?za:p},w.prototype.consumeName=function(){for(var p="";;){var C=this.consumeCodePoint();if(Ko(C))p+=h(C);else if(ds(C,this.peekCodePoint(0)))p+=h(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(C),p}},w}(),H=function(){function w(p){this._tokens=p}return w.create=function(p){var C=new D;return C.write(p),new w(C.read())},w.parseValue=function(p){return w.create(p).parseComponentValue()},w.parseValues=function(p){return w.create(p).parseComponentValues()},w.prototype.parseComponentValue=function(){for(var p=this.consumeToken();p.type===31;)p=this.consumeToken();if(p.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(p);var C=this.consumeComponentValue();do p=this.consumeToken();while(p.type===31);if(p.type===32)return C;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},w.prototype.parseComponentValues=function(){for(var p=[];;){var C=this.consumeComponentValue();if(C.type===32)return p;p.push(C),p.push()}},w.prototype.consumeComponentValue=function(){var p=this.consumeToken();switch(p.type){case 11:case 28:case 2:return this.consumeSimpleBlock(p.type);case 19:return this.consumeFunction(p)}return p},w.prototype.consumeSimpleBlock=function(p){for(var C={type:p,values:[]},B=this.consumeToken();;){if(B.type===32||Sn(B,p))return C;this.reconsumeToken(B),C.values.push(this.consumeComponentValue()),B=this.consumeToken()}},w.prototype.consumeFunction=function(p){for(var C={name:p.value,values:[],type:18};;){var B=this.consumeToken();if(B.type===32||B.type===3)return C;this.reconsumeToken(B),C.values.push(this.consumeComponentValue())}},w.prototype.consumeToken=function(){var p=this._tokens.shift();return typeof p>"u"?y:p},w.prototype.reconsumeToken=function(p){this._tokens.unshift(p)},w}(),ne=function(w){return w.type===15},_e=function(w){return w.type===17},Se=function(w){return w.type===20},at=function(w){return w.type===0},er=function(w,p){return Se(w)&&w.value===p},Fr=function(w){return w.type!==31},$t=function(w){return w.type!==31&&w.type!==4},mr=function(w){var p=[],C=[];return w.forEach(function(B){if(B.type===4){if(C.length===0)throw new Error("Error parsing function args, zero tokens for arg");p.push(C),C=[];return}B.type!==31&&C.push(B)}),C.length&&p.push(C),p},Sn=function(w,p){return p===11&&w.type===12||p===28&&w.type===29?!0:p===2&&w.type===3},Zn=function(w){return w.type===17||w.type===15},yr=function(w){return w.type===16||Zn(w)},vo=function(w){return w.length>1?[w[0],w[1]]:[w[0]]},rn={type:17,number:0,flags:Ri},IA={type:16,number:50,flags:Ri},Hi={type:16,number:100,flags:Ri},Nn=function(w,p,C){var B=w[0],Q=w[1];return[Er(B,p),Er(typeof Q<"u"?Q:B,C)]},Er=function(w,p){if(w.type===16)return w.number/100*p;if(ne(w))switch(w.unit){case"rem":case"em":return 16*w.number;case"px":default:return w.number}return w.number},SA="deg",NA="grad",Pc="rad",qs="turn",Lc={name:"angle",parse:function(w,p){if(p.type===15)switch(p.unit){case SA:return Math.PI*p.number/180;case NA:return Math.PI/200*p.number;case Pc:return p.number;case qs:return Math.PI*2*p.number}throw new Error("Unsupported angle type")}},Uc=function(w){return w.type===15&&(w.unit===SA||w.unit===NA||w.unit===Pc||w.unit===qs)},vd=function(w){var p=w.filter(Se).map(function(C){return C.value}).join(" ");switch(p){case"to bottom right":case"to right bottom":case"left top":case"top left":return[rn,rn];case"to top":case"bottom":return cn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[rn,Hi];case"to right":case"left":return cn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Hi,Hi];case"to bottom":case"top":return cn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Hi,rn];case"to left":case"right":return cn(270)}return 0},cn=function(w){return Math.PI*w/180},Ki={name:"color",parse:function(w,p){if(p.type===18){var C=Xa[p.name];if(typeof C>"u")throw new Error('Attempting to parse an unsupported color function "'+p.name+'"');return C(w,p.values)}if(p.type===5){if(p.value.length===3){var B=p.value.substring(0,1),Q=p.value.substring(1,2),z=p.value.substring(2,3);return Ys(parseInt(B+B,16),parseInt(Q+Q,16),parseInt(z+z,16),1)}if(p.value.length===4){var B=p.value.substring(0,1),Q=p.value.substring(1,2),z=p.value.substring(2,3),te=p.value.substring(3,4);return Ys(parseInt(B+B,16),parseInt(Q+Q,16),parseInt(z+z,16),parseInt(te+te,16)/255)}if(p.value.length===6){var B=p.value.substring(0,2),Q=p.value.substring(2,4),z=p.value.substring(4,6);return Ys(parseInt(B,16),parseInt(Q,16),parseInt(z,16),1)}if(p.value.length===8){var B=p.value.substring(0,2),Q=p.value.substring(2,4),z=p.value.substring(4,6),te=p.value.substring(6,8);return Ys(parseInt(B,16),parseInt(Q,16),parseInt(z,16),parseInt(te,16)/255)}}if(p.type===20){var Ae=fi[p.value.toUpperCase()];if(typeof Ae<"u")return Ae}return fi.TRANSPARENT}},Go=function(w){return(255&w)===0},Tn=function(w){var p=255&w,C=255&w>>8,B=255&w>>16,Q=255&w>>24;return p<255?"rgba("+Q+","+B+","+C+","+p/255+")":"rgb("+Q+","+B+","+C+")"},Ys=function(w,p,C,B){return(w<<24|p<<16|C<<8|Math.round(B*255)<<0)>>>0},Fl=function(w,p){if(w.type===17)return w.number;if(w.type===16){var C=p===3?1:255;return p===3?w.number/100*C:Math.round(w.number/100*C)}return 0},Xs=function(w,p){var C=p.filter($t);if(C.length===3){var B=C.map(Fl),Q=B[0],z=B[1],te=B[2];return Ys(Q,z,te,1)}if(C.length===4){var Ae=C.map(Fl),Q=Ae[0],z=Ae[1],te=Ae[2],le=Ae[3];return Ys(Q,z,te,le)}return 0};function Cs(w,p,C){return C<0&&(C+=1),C>=1&&(C-=1),C<1/6?(p-w)*C*6+w:C<1/2?p:C<2/3?(p-w)*6*(2/3-C)+w:w}var Ya=function(w,p){var C=p.filter($t),B=C[0],Q=C[1],z=C[2],te=C[3],Ae=(B.type===17?cn(B.number):Lc.parse(w,B))/(Math.PI*2),le=yr(Q)?Q.number/100:0,be=yr(z)?z.number/100:0,Ne=typeof te<"u"&&yr(te)?Er(te,1):1;if(le===0)return Ys(be*255,be*255,be*255,1);var Pe=be<=.5?be*(le+1):be+le-be*le,Ge=be*2-Pe,Ft=Cs(Ge,Pe,Ae+1/3),pt=Cs(Ge,Pe,Ae),Et=Cs(Ge,Pe,Ae-1/3);return Ys(Ft*255,pt*255,Et*255,Ne)},Xa={hsl:Ya,hsla:Ya,rgb:Xs,rgba:Xs},zi=function(w,p){return Ki.parse(w,H.create(p).parseComponentValue())},fi={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ja={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(w,p){return p.map(function(C){if(Se(C))switch(C.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},jn={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Pl=function(w,p){var C=Ki.parse(w,p[0]),B=p[1];return B&&yr(B)?{color:C,stop:B}:{color:C,stop:null}},Ms=function(w,p){var C=w[0],B=w[w.length-1];C.stop===null&&(C.stop=rn),B.stop===null&&(B.stop=Hi);for(var Q=[],z=0,te=0;te<w.length;te++){var Ae=w[te].stop;if(Ae!==null){var le=Er(Ae,p);le>z?Q.push(le):Q.push(z),z=le}else Q.push(null)}for(var be=null,te=0;te<Q.length;te++){var Ne=Q[te];if(Ne===null)be===null&&(be=te);else if(be!==null){for(var Pe=te-be,Ge=Q[be-1],Ft=(Ne-Ge)/(Pe+1),pt=1;pt<=Pe;pt++)Q[be+pt-1]=Ft*pt;be=null}}return w.map(function(Et,dr){var Ot=Et.color;return{color:Ot,stop:Math.max(Math.min(1,Q[dr]/p),0)}})},xo=function(w,p,C){var B=p/2,Q=C/2,z=Er(w[0],p)-B,te=Q-Er(w[1],C);return(Math.atan2(te,z)+Math.PI*2)%(Math.PI*2)},Dc=function(w,p,C){var B=typeof w=="number"?w:xo(w,p,C),Q=Math.abs(p*Math.sin(B))+Math.abs(C*Math.cos(B)),z=p/2,te=C/2,Ae=Q/2,le=Math.sin(B-Math.PI/2)*Ae,be=Math.cos(B-Math.PI/2)*Ae;return[Q,z-be,z+be,te-le,te+le]},gi=function(w,p){return Math.sqrt(w*w+p*p)},Rc=function(w,p,C,B,Q){var z=[[0,0],[0,p],[w,0],[w,p]];return z.reduce(function(te,Ae){var le=Ae[0],be=Ae[1],Ne=gi(C-le,B-be);return(Q?Ne<te.optimumDistance:Ne>te.optimumDistance)?{optimumCorner:Ae,optimumDistance:Ne}:te},{optimumDistance:Q?1/0:-1/0,optimumCorner:null}).optimumCorner},TA=function(w,p,C,B,Q){var z=0,te=0;switch(w.size){case 0:w.shape===0?z=te=Math.min(Math.abs(p),Math.abs(p-B),Math.abs(C),Math.abs(C-Q)):w.shape===1&&(z=Math.min(Math.abs(p),Math.abs(p-B)),te=Math.min(Math.abs(C),Math.abs(C-Q)));break;case 2:if(w.shape===0)z=te=Math.min(gi(p,C),gi(p,C-Q),gi(p-B,C),gi(p-B,C-Q));else if(w.shape===1){var Ae=Math.min(Math.abs(C),Math.abs(C-Q))/Math.min(Math.abs(p),Math.abs(p-B)),le=Rc(B,Q,p,C,!0),be=le[0],Ne=le[1];z=gi(be-p,(Ne-C)/Ae),te=Ae*z}break;case 1:w.shape===0?z=te=Math.max(Math.abs(p),Math.abs(p-B),Math.abs(C),Math.abs(C-Q)):w.shape===1&&(z=Math.max(Math.abs(p),Math.abs(p-B)),te=Math.max(Math.abs(C),Math.abs(C-Q)));break;case 3:if(w.shape===0)z=te=Math.max(gi(p,C),gi(p,C-Q),gi(p-B,C),gi(p-B,C-Q));else if(w.shape===1){var Ae=Math.max(Math.abs(C),Math.abs(C-Q))/Math.max(Math.abs(p),Math.abs(p-B)),Pe=Rc(B,Q,p,C,!1),be=Pe[0],Ne=Pe[1];z=gi(be-p,(Ne-C)/Ae),te=Ae*z}break}return Array.isArray(w.size)&&(z=Er(w.size[0],B),te=w.size.length===2?Er(w.size[1],Q):z),[z,te]},jA=function(w,p){var C=cn(180),B=[];return mr(p).forEach(function(Q,z){if(z===0){var te=Q[0];if(te.type===20&&te.value==="to"){C=vd(Q);return}else if(Uc(te)){C=Lc.parse(w,te);return}}var Ae=Pl(w,Q);B.push(Ae)}),{angle:C,stops:B,type:1}},Wo=function(w,p){var C=cn(180),B=[];return mr(p).forEach(function(Q,z){if(z===0){var te=Q[0];if(te.type===20&&["top","left","right","bottom"].indexOf(te.value)!==-1){C=vd(Q);return}else if(Uc(te)){C=(Lc.parse(w,te)+cn(270))%cn(360);return}}var Ae=Pl(w,Q);B.push(Ae)}),{angle:C,stops:B,type:1}},FA=function(w,p){var C=cn(180),B=[],Q=1,z=0,te=3,Ae=[];return mr(p).forEach(function(le,be){var Ne=le[0];if(be===0){if(Se(Ne)&&Ne.value==="linear"){Q=1;return}else if(Se(Ne)&&Ne.value==="radial"){Q=2;return}}if(Ne.type===18){if(Ne.name==="from"){var Pe=Ki.parse(w,Ne.values[0]);B.push({stop:rn,color:Pe})}else if(Ne.name==="to"){var Pe=Ki.parse(w,Ne.values[0]);B.push({stop:Hi,color:Pe})}else if(Ne.name==="color-stop"){var Ge=Ne.values.filter($t);if(Ge.length===2){var Pe=Ki.parse(w,Ge[1]),Ft=Ge[0];_e(Ft)&&B.push({stop:{type:16,number:Ft.number*100,flags:Ft.flags},color:Pe})}}}}),Q===1?{angle:(C+cn(180))%cn(360),stops:B,type:Q}:{size:te,shape:z,stops:B,position:Ae,type:Q}},PA="closest-side",Ll="farthest-side",Za="closest-corner",Mc="farthest-corner",Gi="circle",Wi="ellipse",Kr="cover",zr="contain",Fn=function(w,p){var C=0,B=3,Q=[],z=[];return mr(p).forEach(function(te,Ae){var le=!0;if(Ae===0){var be=!1;le=te.reduce(function(Pe,Ge){if(be)if(Se(Ge))switch(Ge.value){case"center":return z.push(IA),Pe;case"top":case"left":return z.push(rn),Pe;case"right":case"bottom":return z.push(Hi),Pe}else(yr(Ge)||Zn(Ge))&&z.push(Ge);else if(Se(Ge))switch(Ge.value){case Gi:return C=0,!1;case Wi:return C=1,!1;case"at":return be=!0,!1;case PA:return B=0,!1;case Kr:case Ll:return B=1,!1;case zr:case Za:return B=2,!1;case Mc:return B=3,!1}else if(Zn(Ge)||yr(Ge))return Array.isArray(B)||(B=[]),B.push(Ge),!1;return Pe},le)}if(le){var Ne=Pl(w,te);Q.push(Ne)}}),{size:B,shape:C,stops:Q,position:z,type:2}},mn=function(w,p){var C=0,B=3,Q=[],z=[];return mr(p).forEach(function(te,Ae){var le=!0;if(Ae===0?le=te.reduce(function(Ne,Pe){if(Se(Pe))switch(Pe.value){case"center":return z.push(IA),!1;case"top":case"left":return z.push(rn),!1;case"right":case"bottom":return z.push(Hi),!1}else if(yr(Pe)||Zn(Pe))return z.push(Pe),!1;return Ne},le):Ae===1&&(le=te.reduce(function(Ne,Pe){if(Se(Pe))switch(Pe.value){case Gi:return C=0,!1;case Wi:return C=1,!1;case zr:case PA:return B=0,!1;case Ll:return B=1,!1;case Za:return B=2,!1;case Kr:case Mc:return B=3,!1}else if(Zn(Pe)||yr(Pe))return Array.isArray(B)||(B=[]),B.push(Pe),!1;return Ne},le)),le){var be=Pl(w,te);Q.push(be)}}),{size:B,shape:C,stops:Q,position:z,type:2}},el=function(w){return w.type===1},xd=function(w){return w.type===2},Ul={name:"image",parse:function(w,p){if(p.type===22){var C={url:p.value,type:0};return w.cache.addImage(p.value),C}if(p.type===18){var B=tf[p.name];if(typeof B>"u")throw new Error('Attempting to parse an unsupported image function "'+p.name+'"');return B(w,p.values)}throw new Error("Unsupported image type "+p.type)}};function ef(w){return!(w.type===20&&w.value==="none")&&(w.type!==18||!!tf[w.name])}var tf={"linear-gradient":jA,"-moz-linear-gradient":Wo,"-ms-linear-gradient":Wo,"-o-linear-gradient":Wo,"-webkit-linear-gradient":Wo,"radial-gradient":Fn,"-moz-radial-gradient":mn,"-ms-radial-gradient":mn,"-o-radial-gradient":mn,"-webkit-radial-gradient":mn,"-webkit-gradient":FA},rf={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(w,p){if(p.length===0)return[];var C=p[0];return C.type===20&&C.value==="none"?[]:p.filter(function(B){return $t(B)&&ef(B)}).map(function(B){return Ul.parse(w,B)})}},$i={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(w,p){return p.map(function(C){if(Se(C))switch(C.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},wo={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(w,p){return mr(p).map(function(C){return C.filter(yr)}).map(vo)}},nf={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(w,p){return mr(p).map(function(C){return C.filter(Se).map(function(B){return B.value}).join(" ")}).map(sf)}},sf=function(w){switch(w){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},LA;(function(w){w.AUTO="auto",w.CONTAIN="contain",w.COVER="cover"})(LA||(LA={}));var of={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(w,p){return mr(p).map(function(C){return C.filter(af)})}},af=function(w){return Se(w)||yr(w)},Qc=function(w){return{name:"border-"+w+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},hy=Qc("top"),op=Qc("right"),ap=Qc("bottom"),lf=Qc("left"),Oc=function(w){return{name:"border-radius-"+w,initialValue:"0 0",prefix:!1,type:1,parse:function(p,C){return vo(C.filter(yr))}}},s2=Oc("top-left"),i2=Oc("top-right"),fy=Oc("bottom-right"),o2=Oc("bottom-left"),Af=function(w){return{name:"border-"+w+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(p,C){switch(C){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},a2=Af("top"),l2=Af("right"),A2=Af("bottom"),lp=Af("left"),Vc=function(w){return{name:"border-"+w+"-width",initialValue:"0",type:0,prefix:!1,parse:function(p,C){return ne(C)?C.number:0}}},wd=Vc("top"),c2=Vc("right"),u2=Vc("bottom"),gy=Vc("left"),d2={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},h2={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(w,p){switch(p){case"rtl":return 1;case"ltr":default:return 0}}},f2={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(w,p){return p.filter(Se).reduce(function(C,B){return C|g2(B.value)},0)}},g2=function(w){switch(w){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Dl={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(w,p){switch(p){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},$o={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(w,p){return p.type===20&&p.value==="normal"?0:p.type===17||p.type===15?p.number:0}},bo;(function(w){w.NORMAL="normal",w.STRICT="strict"})(bo||(bo={}));var p2={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(w,p){switch(p){case"strict":return bo.STRICT;case"normal":default:return bo.NORMAL}}},py={name:"line-height",initialValue:"normal",prefix:!1,type:4},tl=function(w,p){return Se(w)&&w.value==="normal"?1.2*p:w.type===17?p*w.number:yr(w)?Er(w,p):p},Bo={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(w,p){return p.type===20&&p.value==="none"?null:Ul.parse(w,p)}},m2={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(w,p){switch(p){case"inside":return 0;case"outside":default:return 1}}},Ap={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(w,p){switch(p){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},bd=function(w){return{name:"margin-"+w,initialValue:"0",prefix:!1,type:4}},my=bd("top"),yy=bd("right"),vy=bd("bottom"),y2=bd("left"),cf={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(w,p){return p.filter(Se).map(function(C){switch(C.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},uf={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(w,p){switch(p){case"break-word":return"break-word";case"normal":default:return"normal"}}},Rl=function(w){return{name:"padding-"+w,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},cp=Rl("top"),xy=Rl("right"),v2=Rl("bottom"),wy=Rl("left"),x2={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(w,p){switch(p){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},w2={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(w,p){switch(p){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},b2={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(w,p){return p.length===1&&er(p[0],"none")?[]:mr(p).map(function(C){for(var B={color:fi.TRANSPARENT,offsetX:rn,offsetY:rn,blur:rn},Q=0,z=0;z<C.length;z++){var te=C[z];Zn(te)?(Q===0?B.offsetX=te:Q===1?B.offsetY=te:B.blur=te,Q++):B.color=Ki.parse(w,te)}return B})}},B2={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(w,p){switch(p){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},C2={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(w,p){if(p.type===20&&p.value==="none")return null;if(p.type===18){var C=df[p.name];if(typeof C>"u")throw new Error('Attempting to parse an unsupported transform function "'+p.name+'"');return C(p.values)}return null}},_2=function(w){var p=w.filter(function(C){return C.type===17}).map(function(C){return C.number});return p.length===6?p:null},by=function(w){var p=w.filter(function(le){return le.type===17}).map(function(le){return le.number}),C=p[0],B=p[1];p[2],p[3];var Q=p[4],z=p[5];p[6],p[7],p[8],p[9],p[10],p[11];var te=p[12],Ae=p[13];return p[14],p[15],p.length===16?[C,B,Q,z,te,Ae]:null},df={matrix:_2,matrix3d:by},By={type:16,number:50,flags:Ri},k2=[By,By],Cy={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(w,p){var C=p.filter(yr);return C.length!==2?k2:[C[0],C[1]]}},g={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(w,p){switch(p){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},k;(function(w){w.NORMAL="normal",w.BREAK_ALL="break-all",w.KEEP_ALL="keep-all"})(k||(k={}));for(var F={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(w,p){switch(p){case"break-all":return k.BREAK_ALL;case"keep-all":return k.KEEP_ALL;case"normal":default:return k.NORMAL}}},V={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(w,p){if(p.type===20)return{auto:!0,order:0};if(_e(p))return{auto:!1,order:p.number};throw new Error("Invalid z-index number parsed")}},$={name:"time",parse:function(w,p){if(p.type===15)switch(p.unit.toLowerCase()){case"s":return 1e3*p.number;case"ms":return p.number}throw new Error("Unsupported time type")}},ee={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(w,p){return _e(p)?p.number:1}},re={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ie={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(w,p){return p.filter(Se).map(function(C){switch(C.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(C){return C!==0})}},oe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(w,p){var C=[],B=[];return p.forEach(function(Q){switch(Q.type){case 20:case 0:C.push(Q.value);break;case 17:C.push(Q.number.toString());break;case 4:B.push(C.join(" ")),C.length=0;break}}),C.length&&B.push(C.join(" ")),B.map(function(Q){return Q.indexOf(" ")===-1?Q:"'"+Q+"'"})}},de={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},xe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(w,p){if(_e(p))return p.number;if(Se(p))switch(p.value){case"bold":return 700;case"normal":default:return 400}return 400}},Le={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(w,p){return p.filter(Se).map(function(C){return C.value})}},Ue={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(w,p){switch(p){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Be=function(w,p){return(w&p)!==0},Ze={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(w,p){if(p.length===0)return[];var C=p[0];return C.type===20&&C.value==="none"?[]:p}},He={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(w,p){if(p.length===0)return null;var C=p[0];if(C.type===20&&C.value==="none")return null;for(var B=[],Q=p.filter(Fr),z=0;z<Q.length;z++){var te=Q[z],Ae=Q[z+1];if(te.type===20){var le=Ae&&_e(Ae)?Ae.number:1;B.push({counter:te.value,increment:le})}}return B}},we={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(w,p){if(p.length===0)return[];for(var C=[],B=p.filter(Fr),Q=0;Q<B.length;Q++){var z=B[Q],te=B[Q+1];if(Se(z)&&z.value!=="none"){var Ae=te&&_e(te)?te.number:0;C.push({counter:z.value,reset:Ae})}}return C}},Ee={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(w,p){return p.filter(ne).map(function(C){return $.parse(w,C)})}},Xe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(w,p){if(p.length===0)return null;var C=p[0];if(C.type===20&&C.value==="none")return null;var B=[],Q=p.filter(at);if(Q.length%2!==0)return null;for(var z=0;z<Q.length;z+=2){var te=Q[z].value,Ae=Q[z+1].value;B.push({open:te,close:Ae})}return B}},rt=function(w,p,C){if(!w)return"";var B=w[Math.min(p,w.length-1)];return B?C?B.open:B.close:""},Je={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(w,p){return p.length===1&&er(p[0],"none")?[]:mr(p).map(function(C){for(var B={color:255,offsetX:rn,offsetY:rn,blur:rn,spread:rn,inset:!1},Q=0,z=0;z<C.length;z++){var te=C[z];er(te,"inset")?B.inset=!0:Zn(te)?(Q===0?B.offsetX=te:Q===1?B.offsetY=te:Q===2?B.blur=te:B.spread=te,Q++):B.color=Ki.parse(w,te)}return B})}},St={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(w,p){var C=[0,1,2],B=[];return p.filter(Se).forEach(function(Q){switch(Q.value){case"stroke":B.push(1);break;case"fill":B.push(0);break;case"markers":B.push(2);break}}),C.forEach(function(Q){B.indexOf(Q)===-1&&B.push(Q)}),B}},xt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Wt={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(w,p){return ne(p)?p.number:0}},_t=function(){function w(p,C){var B,Q;this.animationDuration=it(p,Ee,C.animationDuration),this.backgroundClip=it(p,Ja,C.backgroundClip),this.backgroundColor=it(p,jn,C.backgroundColor),this.backgroundImage=it(p,rf,C.backgroundImage),this.backgroundOrigin=it(p,$i,C.backgroundOrigin),this.backgroundPosition=it(p,wo,C.backgroundPosition),this.backgroundRepeat=it(p,nf,C.backgroundRepeat),this.backgroundSize=it(p,of,C.backgroundSize),this.borderTopColor=it(p,hy,C.borderTopColor),this.borderRightColor=it(p,op,C.borderRightColor),this.borderBottomColor=it(p,ap,C.borderBottomColor),this.borderLeftColor=it(p,lf,C.borderLeftColor),this.borderTopLeftRadius=it(p,s2,C.borderTopLeftRadius),this.borderTopRightRadius=it(p,i2,C.borderTopRightRadius),this.borderBottomRightRadius=it(p,fy,C.borderBottomRightRadius),this.borderBottomLeftRadius=it(p,o2,C.borderBottomLeftRadius),this.borderTopStyle=it(p,a2,C.borderTopStyle),this.borderRightStyle=it(p,l2,C.borderRightStyle),this.borderBottomStyle=it(p,A2,C.borderBottomStyle),this.borderLeftStyle=it(p,lp,C.borderLeftStyle),this.borderTopWidth=it(p,wd,C.borderTopWidth),this.borderRightWidth=it(p,c2,C.borderRightWidth),this.borderBottomWidth=it(p,u2,C.borderBottomWidth),this.borderLeftWidth=it(p,gy,C.borderLeftWidth),this.boxShadow=it(p,Je,C.boxShadow),this.color=it(p,d2,C.color),this.direction=it(p,h2,C.direction),this.display=it(p,f2,C.display),this.float=it(p,Dl,C.cssFloat),this.fontFamily=it(p,oe,C.fontFamily),this.fontSize=it(p,de,C.fontSize),this.fontStyle=it(p,Ue,C.fontStyle),this.fontVariant=it(p,Le,C.fontVariant),this.fontWeight=it(p,xe,C.fontWeight),this.letterSpacing=it(p,$o,C.letterSpacing),this.lineBreak=it(p,p2,C.lineBreak),this.lineHeight=it(p,py,C.lineHeight),this.listStyleImage=it(p,Bo,C.listStyleImage),this.listStylePosition=it(p,m2,C.listStylePosition),this.listStyleType=it(p,Ap,C.listStyleType),this.marginTop=it(p,my,C.marginTop),this.marginRight=it(p,yy,C.marginRight),this.marginBottom=it(p,vy,C.marginBottom),this.marginLeft=it(p,y2,C.marginLeft),this.opacity=it(p,ee,C.opacity);var z=it(p,cf,C.overflow);this.overflowX=z[0],this.overflowY=z[z.length>1?1:0],this.overflowWrap=it(p,uf,C.overflowWrap),this.paddingTop=it(p,cp,C.paddingTop),this.paddingRight=it(p,xy,C.paddingRight),this.paddingBottom=it(p,v2,C.paddingBottom),this.paddingLeft=it(p,wy,C.paddingLeft),this.paintOrder=it(p,St,C.paintOrder),this.position=it(p,w2,C.position),this.textAlign=it(p,x2,C.textAlign),this.textDecorationColor=it(p,re,(B=C.textDecorationColor)!==null&&B!==void 0?B:C.color),this.textDecorationLine=it(p,ie,(Q=C.textDecorationLine)!==null&&Q!==void 0?Q:C.textDecoration),this.textShadow=it(p,b2,C.textShadow),this.textTransform=it(p,B2,C.textTransform),this.transform=it(p,C2,C.transform),this.transformOrigin=it(p,Cy,C.transformOrigin),this.visibility=it(p,g,C.visibility),this.webkitTextStrokeColor=it(p,xt,C.webkitTextStrokeColor),this.webkitTextStrokeWidth=it(p,Wt,C.webkitTextStrokeWidth),this.wordBreak=it(p,F,C.wordBreak),this.zIndex=it(p,V,C.zIndex)}return w.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},w.prototype.isTransparent=function(){return Go(this.backgroundColor)},w.prototype.isTransformed=function(){return this.transform!==null},w.prototype.isPositioned=function(){return this.position!==0},w.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},w.prototype.isFloating=function(){return this.float!==0},w.prototype.isInlineLevel=function(){return Be(this.display,4)||Be(this.display,33554432)||Be(this.display,268435456)||Be(this.display,536870912)||Be(this.display,67108864)||Be(this.display,134217728)},w}(),Ir=function(){function w(p,C){this.content=it(p,Ze,C.content),this.quotes=it(p,Xe,C.quotes)}return w}(),Pr=function(){function w(p,C){this.counterIncrement=it(p,He,C.counterIncrement),this.counterReset=it(p,we,C.counterReset)}return w}(),it=function(w,p,C){var B=new D,Q=C!==null&&typeof C<"u"?C.toString():p.initialValue;B.write(Q);var z=new H(B.read());switch(p.type){case 2:var te=z.parseComponentValue();return p.parse(w,Se(te)?te.value:p.initialValue);case 0:return p.parse(w,z.parseComponentValue());case 1:return p.parse(w,z.parseComponentValues());case 4:return z.parseComponentValue();case 3:switch(p.format){case"angle":return Lc.parse(w,z.parseComponentValue());case"color":return Ki.parse(w,z.parseComponentValue());case"image":return Ul.parse(w,z.parseComponentValue());case"length":var Ae=z.parseComponentValue();return Zn(Ae)?Ae:rn;case"length-percentage":var le=z.parseComponentValue();return yr(le)?le:rn;case"time":return $.parse(w,z.parseComponentValue())}break}},vr="data-html2canvas-debug",Gr=function(w){var p=w.getAttribute(vr);switch(p){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Lr=function(w,p){var C=Gr(w);return C===1||p===C},qt=function(){function w(p,C){if(this.context=p,this.textNodes=[],this.elements=[],this.flags=0,Lr(C,3))debugger;this.styles=new _t(p,window.getComputedStyle(C,null)),P2(C)&&(this.styles.animationDuration.some(function(B){return B>0})&&(C.style.animationDuration="0s"),this.styles.transform!==null&&(C.style.transform="none")),this.bounds=c(this.context,C),Lr(C,4)&&(this.flags|=16)}return w}(),Kn="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Js="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sn=typeof Uint8Array>"u"?[]:new Uint8Array(256),_s=0;_s<Js.length;_s++)sn[Js.charCodeAt(_s)]=_s;for(var Mr=function(w){var p=w.length*.75,C=w.length,B,Q=0,z,te,Ae,le;w[w.length-1]==="="&&(p--,w[w.length-2]==="="&&p--);var be=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(p):new Array(p),Ne=Array.isArray(be)?be:new Uint8Array(be);for(B=0;B<C;B+=4)z=sn[w.charCodeAt(B)],te=sn[w.charCodeAt(B+1)],Ae=sn[w.charCodeAt(B+2)],le=sn[w.charCodeAt(B+3)],Ne[Q++]=z<<2|te>>4,Ne[Q++]=(te&15)<<4|Ae>>2,Ne[Q++]=(Ae&3)<<6|le&63;return be},qi=function(w){for(var p=w.length,C=[],B=0;B<p;B+=2)C.push(w[B+1]<<8|w[B]);return C},Yi=function(w){for(var p=w.length,C=[],B=0;B<p;B+=4)C.push(w[B+3]<<24|w[B+2]<<16|w[B+1]<<8|w[B]);return C},on=5,es=6+5,ks=2,Co=es-on,qo=65536>>on,hs=1<<on,Yo=hs-1,UA=1024>>on,Hc=qo+UA,Ml=Hc,yn=32,up=Ml+yn,_y=65536>>es,ky=1<<Co,hf=ky-1,Kc=function(w,p,C){return w.slice?w.slice(p,C):new Uint16Array(Array.prototype.slice.call(w,p,C))},ff=function(w,p,C){return w.slice?w.slice(p,C):new Uint32Array(Array.prototype.slice.call(w,p,C))},Xo=function(w,p){var C=Mr(w),B=Array.isArray(C)?Yi(C):new Uint32Array(C),Q=Array.isArray(C)?qi(C):new Uint16Array(C),z=24,te=Kc(Q,z/2,B[4]/2),Ae=B[5]===2?Kc(Q,(z+B[4])/2):ff(B,Math.ceil((z+B[4])/4));return new zc(B[0],B[1],B[2],B[3],te,Ae)},zc=function(){function w(p,C,B,Q,z,te){this.initialValue=p,this.errorValue=C,this.highStart=B,this.highValueIndex=Q,this.index=z,this.data=te}return w.prototype.get=function(p){var C;if(p>=0){if(p<55296||p>56319&&p<=65535)return C=this.index[p>>on],C=(C<<ks)+(p&Yo),this.data[C];if(p<=65535)return C=this.index[qo+(p-55296>>on)],C=(C<<ks)+(p&Yo),this.data[C];if(p<this.highStart)return C=up-_y+(p>>es),C=this.index[C],C+=p>>on&hf,C=this.index[C],C=(C<<ks)+(p&Yo),this.data[C];if(p<=1114111)return this.data[this.highValueIndex]}return this.errorValue},w}(),DA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ey=typeof Uint8Array>"u"?[]:new Uint8Array(256),RA=0;RA<DA.length;RA++)Ey[DA.charCodeAt(RA)]=RA;var Iy=1,Gc=2,Bd=3,Cd=4,Wc=5,E2=7,Sy=8,_d=9,wa=10,Ny=11,Ty=12,jy=13,dp=14,$c=15,Fy=function(w){for(var p=[],C=0,B=w.length;C<B;){var Q=w.charCodeAt(C++);if(Q>=55296&&Q<=56319&&C<B){var z=w.charCodeAt(C++);(z&64512)===56320?p.push(((Q&1023)<<10)+(z&1023)+65536):(p.push(Q),C--)}else p.push(Q)}return p},Py=function(){for(var w=[],p=0;p<arguments.length;p++)w[p]=arguments[p];if(String.fromCodePoint)return String.fromCodePoint.apply(String,w);var C=w.length;if(!C)return"";for(var B=[],Q=-1,z="";++Q<C;){var te=w[Q];te<=65535?B.push(te):(te-=65536,B.push((te>>10)+55296,te%1024+56320)),(Q+1===C||B.length>16384)&&(z+=String.fromCharCode.apply(String,B),B.length=0)}return z},gf=Xo(Kn),pi="",MA="",Ly=function(w){return gf.get(w)},I2=function(w,p,C){var B=C-2,Q=p[B],z=p[C-1],te=p[C];if(z===Gc&&te===Bd)return pi;if(z===Gc||z===Bd||z===Cd||te===Gc||te===Bd||te===Cd)return MA;if(z===Sy&&[Sy,_d,Ny,Ty].indexOf(te)!==-1||(z===Ny||z===_d)&&(te===_d||te===wa)||(z===Ty||z===wa)&&te===wa||te===jy||te===Wc||te===E2||z===Iy)return pi;if(z===jy&&te===dp){for(;Q===Wc;)Q=p[--B];if(Q===dp)return pi}if(z===$c&&te===$c){for(var Ae=0;Q===$c;)Ae++,Q=p[--B];if(Ae%2===0)return pi}return MA},pf=function(w){var p=Fy(w),C=p.length,B=0,Q=0,z=p.map(Ly);return{next:function(){if(B>=C)return{done:!0,value:null};for(var te=pi;B<C&&(te=I2(p,z,++B))===pi;);if(te!==pi||B===C){var Ae=Py.apply(null,p.slice(Q,B));return Q=B,{value:Ae,done:!1}}return{done:!0,value:null}}}},Uy=function(w){for(var p=pf(w),C=[],B;!(B=p.next()).done;)B.value&&C.push(B.value.slice());return C},hp=function(w){var p=123;if(w.createRange){var C=w.createRange();if(C.getBoundingClientRect){var B=w.createElement("boundtest");B.style.height=p+"px",B.style.display="block",w.body.appendChild(B),C.selectNode(B);var Q=C.getBoundingClientRect(),z=Math.round(Q.height);if(w.body.removeChild(B),z===p)return!0}}return!1},Ql=function(w){var p=w.createElement("boundtest");p.style.width="50px",p.style.display="block",p.style.fontSize="12px",p.style.letterSpacing="0px",p.style.wordSpacing="0px",w.body.appendChild(p);var C=w.createRange();p.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var B=p.firstChild,Q=d(B.data).map(function(le){return h(le)}),z=0,te={},Ae=Q.every(function(le,be){C.setStart(B,z),C.setEnd(B,z+le.length);var Ne=C.getBoundingClientRect();z+=le.length;var Pe=Ne.x>te.x||Ne.y>te.y;return te=Ne,be===0?!0:Pe});return w.body.removeChild(p),Ae},Dy=function(){return typeof new Image().crossOrigin<"u"},Ry=function(){return typeof new XMLHttpRequest().responseType=="string"},S2=function(w){var p=new Image,C=w.createElement("canvas"),B=C.getContext("2d");if(!B)return!1;p.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{B.drawImage(p,0,0),C.toDataURL()}catch{return!1}return!0},fp=function(w){return w[0]===0&&w[1]===255&&w[2]===0&&w[3]===255},qc=function(w){var p=w.createElement("canvas"),C=100;p.width=C,p.height=C;var B=p.getContext("2d");if(!B)return Promise.reject(!1);B.fillStyle="rgb(0, 255, 0)",B.fillRect(0,0,C,C);var Q=new Image,z=p.toDataURL();Q.src=z;var te=gp(C,C,0,0,Q);return B.fillStyle="red",B.fillRect(0,0,C,C),pp(te).then(function(Ae){B.drawImage(Ae,0,0);var le=B.getImageData(0,0,C,C).data;B.fillStyle="red",B.fillRect(0,0,C,C);var be=w.createElement("div");return be.style.backgroundImage="url("+z+")",be.style.height=C+"px",fp(le)?pp(gp(C,C,0,0,be)):Promise.reject(!1)}).then(function(Ae){return B.drawImage(Ae,0,0),fp(B.getImageData(0,0,C,C).data)}).catch(function(){return!1})},gp=function(w,p,C,B,Q){var z="http://www.w3.org/2000/svg",te=document.createElementNS(z,"svg"),Ae=document.createElementNS(z,"foreignObject");return te.setAttributeNS(null,"width",w.toString()),te.setAttributeNS(null,"height",p.toString()),Ae.setAttributeNS(null,"width","100%"),Ae.setAttributeNS(null,"height","100%"),Ae.setAttributeNS(null,"x",C.toString()),Ae.setAttributeNS(null,"y",B.toString()),Ae.setAttributeNS(null,"externalResourcesRequired","true"),te.appendChild(Ae),Ae.appendChild(Q),te},pp=function(w){return new Promise(function(p,C){var B=new Image;B.onload=function(){return p(B)},B.onerror=C,B.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(w))})},Es={get SUPPORT_RANGE_BOUNDS(){var w=hp(document);return Object.defineProperty(Es,"SUPPORT_RANGE_BOUNDS",{value:w}),w},get SUPPORT_WORD_BREAKING(){var w=Es.SUPPORT_RANGE_BOUNDS&&Ql(document);return Object.defineProperty(Es,"SUPPORT_WORD_BREAKING",{value:w}),w},get SUPPORT_SVG_DRAWING(){var w=S2(document);return Object.defineProperty(Es,"SUPPORT_SVG_DRAWING",{value:w}),w},get SUPPORT_FOREIGNOBJECT_DRAWING(){var w=typeof Array.from=="function"&&typeof window.fetch=="function"?qc(document):Promise.resolve(!1);return Object.defineProperty(Es,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:w}),w},get SUPPORT_CORS_IMAGES(){var w=Dy();return Object.defineProperty(Es,"SUPPORT_CORS_IMAGES",{value:w}),w},get SUPPORT_RESPONSE_TYPE(){var w=Ry();return Object.defineProperty(Es,"SUPPORT_RESPONSE_TYPE",{value:w}),w},get SUPPORT_CORS_XHR(){var w="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Es,"SUPPORT_CORS_XHR",{value:w}),w},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var w=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Es,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:w}),w}},Yc=function(){function w(p,C){this.text=p,this.bounds=C}return w}(),N2=function(w,p,C,B){var Q=Ol(p,C),z=[],te=0;return Q.forEach(function(Ae){if(C.textDecorationLine.length||Ae.trim().length>0)if(Es.SUPPORT_RANGE_BOUNDS){var le=mf(B,te,Ae.length).getClientRects();if(le.length>1){var be=Xc(Ae),Ne=0;be.forEach(function(Ge){z.push(new Yc(Ge,l.fromDOMRectList(w,mf(B,Ne+te,Ge.length).getClientRects()))),Ne+=Ge.length})}else z.push(new Yc(Ae,l.fromDOMRectList(w,le)))}else{var Pe=B.splitText(Ae.length);z.push(new Yc(Ae,kd(w,B))),B=Pe}else Es.SUPPORT_RANGE_BOUNDS||(B=B.splitText(Ae.length));te+=Ae.length}),z},kd=function(w,p){var C=p.ownerDocument;if(C){var B=C.createElement("html2canvaswrapper");B.appendChild(p.cloneNode(!0));var Q=p.parentNode;if(Q){Q.replaceChild(B,p);var z=c(w,B);return B.firstChild&&Q.replaceChild(B.firstChild,B),z}}return l.EMPTY},mf=function(w,p,C){var B=w.ownerDocument;if(!B)throw new Error("Node has no owner document");var Q=B.createRange();return Q.setStart(w,p),Q.setEnd(w,p+C),Q},Xc=function(w){if(Es.SUPPORT_NATIVE_TEXT_SEGMENTATION){var p=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(p.segment(w)).map(function(C){return C.segment})}return Uy(w)},rl=function(w,p){if(Es.SUPPORT_NATIVE_TEXT_SEGMENTATION){var C=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(C.segment(w)).map(function(B){return B.segment})}return yf(w,p)},Ol=function(w,p){return p.letterSpacing!==0?Xc(w):rl(w,p)},Vl=[32,160,4961,65792,65793,4153,4241],yf=function(w,p){for(var C=vA(w,{lineBreak:p.lineBreak,wordBreak:p.overflowWrap==="break-word"?"break-word":p.wordBreak}),B=[],Q,z=function(){if(Q.value){var te=Q.value.slice(),Ae=d(te),le="";Ae.forEach(function(be){Vl.indexOf(be)===-1?le+=h(be):(le.length&&B.push(le),B.push(h(be)),le="")}),le.length&&B.push(le)}};!(Q=C.next()).done;)z();return B},mp=function(){function w(p,C,B){this.text=My(C.data,B.textTransform),this.textBounds=N2(p,this.text,B,C)}return w}(),My=function(w,p){switch(p){case 1:return w.toLowerCase();case 3:return w.replace(T2,yp);case 2:return w.toUpperCase();default:return w}},T2=/(^|\s|:|-|\(|\))([a-z])/g,yp=function(w,p,C){return w.length>0?p+C.toUpperCase():w},vf=function(w){n(p,w);function p(C,B){var Q=w.call(this,C,B)||this;return Q.src=B.currentSrc||B.src,Q.intrinsicWidth=B.naturalWidth,Q.intrinsicHeight=B.naturalHeight,Q.context.cache.addImage(Q.src),Q}return p}(qt),Kk=function(w){n(p,w);function p(C,B){var Q=w.call(this,C,B)||this;return Q.canvas=B,Q.intrinsicWidth=B.width,Q.intrinsicHeight=B.height,Q}return p}(qt),zk=function(w){n(p,w);function p(C,B){var Q=w.call(this,C,B)||this,z=new XMLSerializer,te=c(C,B);return B.setAttribute("width",te.width+"px"),B.setAttribute("height",te.height+"px"),Q.svg="data:image/svg+xml,"+encodeURIComponent(z.serializeToString(B)),Q.intrinsicWidth=B.width.baseVal.value,Q.intrinsicHeight=B.height.baseVal.value,Q.context.cache.addImage(Q.svg),Q}return p}(qt),Gk=function(w){n(p,w);function p(C,B){var Q=w.call(this,C,B)||this;return Q.value=B.value,Q}return p}(qt),j2=function(w){n(p,w);function p(C,B){var Q=w.call(this,C,B)||this;return Q.start=B.start,Q.reversed=typeof B.reversed=="boolean"&&B.reversed===!0,Q}return p}(qt),eO=[{type:15,flags:0,unit:"px",number:3}],tO=[{type:16,flags:0,number:50}],rO=function(w){return w.width>w.height?new l(w.left+(w.width-w.height)/2,w.top,w.height,w.height):w.width<w.height?new l(w.left,w.top+(w.height-w.width)/2,w.width,w.width):w},nO=function(w){var p=w.type===sO?new Array(w.value.length+1).join(""):w.value;return p.length===0?w.placeholder||"":p},Qy="checkbox",Oy="radio",sO="password",Wk=707406591,F2=function(w){n(p,w);function p(C,B){var Q=w.call(this,C,B)||this;switch(Q.type=B.type.toLowerCase(),Q.checked=B.checked,Q.value=nO(B),(Q.type===Qy||Q.type===Oy)&&(Q.styles.backgroundColor=3739148031,Q.styles.borderTopColor=Q.styles.borderRightColor=Q.styles.borderBottomColor=Q.styles.borderLeftColor=2779096575,Q.styles.borderTopWidth=Q.styles.borderRightWidth=Q.styles.borderBottomWidth=Q.styles.borderLeftWidth=1,Q.styles.borderTopStyle=Q.styles.borderRightStyle=Q.styles.borderBottomStyle=Q.styles.borderLeftStyle=1,Q.styles.backgroundClip=[0],Q.styles.backgroundOrigin=[0],Q.bounds=rO(Q.bounds)),Q.type){case Qy:Q.styles.borderTopRightRadius=Q.styles.borderTopLeftRadius=Q.styles.borderBottomRightRadius=Q.styles.borderBottomLeftRadius=eO;break;case Oy:Q.styles.borderTopRightRadius=Q.styles.borderTopLeftRadius=Q.styles.borderBottomRightRadius=Q.styles.borderBottomLeftRadius=tO;break}return Q}return p}(qt),$k=function(w){n(p,w);function p(C,B){var Q=w.call(this,C,B)||this,z=B.options[B.selectedIndex||0];return Q.value=z&&z.text||"",Q}return p}(qt),qk=function(w){n(p,w);function p(C,B){var Q=w.call(this,C,B)||this;return Q.value=B.value,Q}return p}(qt),Yk=function(w){n(p,w);function p(C,B){var Q=w.call(this,C,B)||this;Q.src=B.src,Q.width=parseInt(B.width,10)||0,Q.height=parseInt(B.height,10)||0,Q.backgroundColor=Q.styles.backgroundColor;try{if(B.contentWindow&&B.contentWindow.document&&B.contentWindow.document.documentElement){Q.tree=Jk(C,B.contentWindow.document.documentElement);var z=B.contentWindow.document.documentElement?zi(C,getComputedStyle(B.contentWindow.document.documentElement).backgroundColor):fi.TRANSPARENT,te=B.contentWindow.document.body?zi(C,getComputedStyle(B.contentWindow.document.body).backgroundColor):fi.TRANSPARENT;Q.backgroundColor=Go(z)?Go(te)?Q.styles.backgroundColor:te:z}}catch{}return Q}return p}(qt),iO=["OL","UL","MENU"],Vy=function(w,p,C,B){for(var Q=p.firstChild,z=void 0;Q;Q=z)if(z=Q.nextSibling,Zk(Q)&&Q.data.trim().length>0)C.textNodes.push(new mp(w,Q,C.styles));else if(xf(Q))if(iE(Q)&&Q.assignedNodes)Q.assignedNodes().forEach(function(Ae){return Vy(w,Ae,C,B)});else{var te=Xk(w,Q);te.styles.isVisible()&&(oO(Q,te,B)?te.flags|=4:aO(te.styles)&&(te.flags|=2),iO.indexOf(Q.tagName)!==-1&&(te.flags|=8),C.elements.push(te),Q.slot,Q.shadowRoot?Vy(w,Q.shadowRoot,te,B):!Ky(Q)&&!eE(Q)&&!zy(Q)&&Vy(w,Q,te,B))}},Xk=function(w,p){return U2(p)?new vf(w,p):tE(p)?new Kk(w,p):eE(p)?new zk(w,p):lO(p)?new Gk(w,p):AO(p)?new j2(w,p):cO(p)?new F2(w,p):zy(p)?new $k(w,p):Ky(p)?new qk(w,p):nE(p)?new Yk(w,p):new qt(w,p)},Jk=function(w,p){var C=Xk(w,p);return C.flags|=4,Vy(w,p,C,C),C},oO=function(w,p,C){return p.styles.isPositionedWithZIndex()||p.styles.opacity<1||p.styles.isTransformed()||L2(w)&&C.styles.isTransparent()},aO=function(w){return w.isPositioned()||w.isFloating()},Zk=function(w){return w.nodeType===Node.TEXT_NODE},xf=function(w){return w.nodeType===Node.ELEMENT_NODE},P2=function(w){return xf(w)&&typeof w.style<"u"&&!Hy(w)},Hy=function(w){return typeof w.className=="object"},lO=function(w){return w.tagName==="LI"},AO=function(w){return w.tagName==="OL"},cO=function(w){return w.tagName==="INPUT"},uO=function(w){return w.tagName==="HTML"},eE=function(w){return w.tagName==="svg"},L2=function(w){return w.tagName==="BODY"},tE=function(w){return w.tagName==="CANVAS"},rE=function(w){return w.tagName==="VIDEO"},U2=function(w){return w.tagName==="IMG"},nE=function(w){return w.tagName==="IFRAME"},sE=function(w){return w.tagName==="STYLE"},dO=function(w){return w.tagName==="SCRIPT"},Ky=function(w){return w.tagName==="TEXTAREA"},zy=function(w){return w.tagName==="SELECT"},iE=function(w){return w.tagName==="SLOT"},oE=function(w){return w.tagName.indexOf("-")>0},hO=function(){function w(){this.counters={}}return w.prototype.getCounterValue=function(p){var C=this.counters[p];return C&&C.length?C[C.length-1]:1},w.prototype.getCounterValues=function(p){var C=this.counters[p];return C||[]},w.prototype.pop=function(p){var C=this;p.forEach(function(B){return C.counters[B].pop()})},w.prototype.parse=function(p){var C=this,B=p.counterIncrement,Q=p.counterReset,z=!0;B!==null&&B.forEach(function(Ae){var le=C.counters[Ae.counter];le&&Ae.increment!==0&&(z=!1,le.length||le.push(1),le[Math.max(0,le.length-1)]+=Ae.increment)});var te=[];return z&&Q.forEach(function(Ae){var le=C.counters[Ae.counter];te.push(Ae.counter),le||(le=C.counters[Ae.counter]=[]),le.push(Ae.reset)}),te},w}(),aE={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},lE={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},fO={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},gO={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},wf=function(w,p,C,B,Q,z){return w<p||w>C?xp(w,Q,z.length>0):B.integers.reduce(function(te,Ae,le){for(;w>=Ae;)w-=Ae,te+=B.values[le];return te},"")+z},AE=function(w,p,C,B){var Q="";do C||w--,Q=B(w)+Q,w/=p;while(w*p>=p);return Q},ts=function(w,p,C,B,Q){var z=C-p+1;return(w<0?"-":"")+(AE(Math.abs(w),z,B,function(te){return h(Math.floor(te%z)+p)})+Q)},Ed=function(w,p,C){C===void 0&&(C=". ");var B=p.length;return AE(Math.abs(w),B,!1,function(Q){return p[Math.floor(Q%B)]})+C},bf=1,Jc=2,Zc=4,vp=8,QA=function(w,p,C,B,Q,z){if(w<-9999||w>9999)return xp(w,4,Q.length>0);var te=Math.abs(w),Ae=Q;if(te===0)return p[0]+Ae;for(var le=0;te>0&&le<=4;le++){var be=te%10;be===0&&Be(z,bf)&&Ae!==""?Ae=p[be]+Ae:be>1||be===1&&le===0||be===1&&le===1&&Be(z,Jc)||be===1&&le===1&&Be(z,Zc)&&w>100||be===1&&le>1&&Be(z,vp)?Ae=p[be]+(le>0?C[le-1]:"")+Ae:be===1&&le>0&&(Ae=C[le-1]+Ae),te=Math.floor(te/10)}return(w<0?B:"")+Ae},cE="",uE="",dE="",D2="",xp=function(w,p,C){var B=C?". ":"",Q=C?"":"",z=C?", ":"",te=C?" ":"";switch(p){case 0:return""+te;case 1:return""+te;case 2:return""+te;case 5:var Ae=ts(w,48,57,!0,B);return Ae.length<4?"0"+Ae:Ae;case 4:return Ed(w,"",Q);case 6:return wf(w,1,3999,aE,3,B).toLowerCase();case 7:return wf(w,1,3999,aE,3,B);case 8:return ts(w,945,969,!1,B);case 9:return ts(w,97,122,!1,B);case 10:return ts(w,65,90,!1,B);case 11:return ts(w,1632,1641,!0,B);case 12:case 49:return wf(w,1,9999,lE,3,B);case 35:return wf(w,1,9999,lE,3,B).toLowerCase();case 13:return ts(w,2534,2543,!0,B);case 14:case 30:return ts(w,6112,6121,!0,B);case 15:return Ed(w,"",Q);case 16:return Ed(w,"",Q);case 17:case 48:return QA(w,"",cE,"",Q,Jc|Zc|vp);case 47:return QA(w,"",uE,"",Q,bf|Jc|Zc|vp);case 42:return QA(w,"",cE,"",Q,Jc|Zc|vp);case 41:return QA(w,"",uE,"",Q,bf|Jc|Zc|vp);case 26:return QA(w,"","",dE,Q,0);case 25:return QA(w,"","",dE,Q,bf|Jc|Zc);case 31:return QA(w,"","",D2,z,bf|Jc|Zc);case 33:return QA(w,"","",D2,z,0);case 32:return QA(w,"","",D2,z,bf|Jc|Zc);case 18:return ts(w,2406,2415,!0,B);case 20:return wf(w,1,19999,gO,3,B);case 21:return ts(w,2790,2799,!0,B);case 22:return ts(w,2662,2671,!0,B);case 22:return wf(w,1,10999,fO,3,B);case 23:return Ed(w,"");case 24:return Ed(w,"");case 27:return ts(w,3302,3311,!0,B);case 28:return Ed(w,"",Q);case 29:return Ed(w,"",Q);case 34:return ts(w,3792,3801,!0,B);case 37:return ts(w,6160,6169,!0,B);case 38:return ts(w,4160,4169,!0,B);case 39:return ts(w,2918,2927,!0,B);case 40:return ts(w,1776,1785,!0,B);case 43:return ts(w,3046,3055,!0,B);case 44:return ts(w,3174,3183,!0,B);case 45:return ts(w,3664,3673,!0,B);case 46:return ts(w,3872,3881,!0,B);case 3:default:return ts(w,48,57,!0,B)}},hE="data-html2canvas-ignore",fE=function(){function w(p,C,B){if(this.context=p,this.options=B,this.scrolledElements=[],this.referenceElement=C,this.counters=new hO,this.quoteDepth=0,!C.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(C.ownerDocument.documentElement,!1)}return w.prototype.toIFrame=function(p,C){var B=this,Q=pO(p,C);if(!Q.contentWindow)return Promise.reject("Unable to find iframe window");var z=p.defaultView.pageXOffset,te=p.defaultView.pageYOffset,Ae=Q.contentWindow,le=Ae.document,be=vO(Q).then(function(){return i(B,void 0,void 0,function(){var Ne,Pe;return o(this,function(Ge){switch(Ge.label){case 0:return this.scrolledElements.forEach(BO),Ae&&(Ae.scrollTo(C.left,C.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Ae.scrollY!==C.top||Ae.scrollX!==C.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Ae.scrollX-C.left,Ae.scrollY-C.top,0,0))),Ne=this.options.onclone,Pe=this.clonedReferenceElement,typeof Pe>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:le.fonts&&le.fonts.ready?[4,le.fonts.ready]:[3,2];case 1:Ge.sent(),Ge.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,yO(le)]:[3,4];case 3:Ge.sent(),Ge.label=4;case 4:return typeof Ne=="function"?[2,Promise.resolve().then(function(){return Ne(le,Pe)}).then(function(){return Q})]:[2,Q]}})})});return le.open(),le.write(wO(document.doctype)+"<html></html>"),bO(this.referenceElement.ownerDocument,z,te),le.replaceChild(le.adoptNode(this.documentElement),le.documentElement),le.close(),be},w.prototype.createElementClone=function(p){if(Lr(p,2))debugger;if(tE(p))return this.createCanvasClone(p);if(rE(p))return this.createVideoClone(p);if(sE(p))return this.createStyleClone(p);var C=p.cloneNode(!1);return U2(C)&&(U2(p)&&p.currentSrc&&p.currentSrc!==p.src&&(C.src=p.currentSrc,C.srcset=""),C.loading==="lazy"&&(C.loading="eager")),oE(C)?this.createCustomElementClone(C):C},w.prototype.createCustomElementClone=function(p){var C=document.createElement("html2canvascustomelement");return R2(p.style,C),C},w.prototype.createStyleClone=function(p){try{var C=p.sheet;if(C&&C.cssRules){var B=[].slice.call(C.cssRules,0).reduce(function(z,te){return te&&typeof te.cssText=="string"?z+te.cssText:z},""),Q=p.cloneNode(!1);return Q.textContent=B,Q}}catch(z){if(this.context.logger.error("Unable to access cssRules property",z),z.name!=="SecurityError")throw z}return p.cloneNode(!1)},w.prototype.createCanvasClone=function(p){var C;if(this.options.inlineImages&&p.ownerDocument){var B=p.ownerDocument.createElement("img");try{return B.src=p.toDataURL(),B}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",p)}}var Q=p.cloneNode(!1);try{Q.width=p.width,Q.height=p.height;var z=p.getContext("2d"),te=Q.getContext("2d");if(te)if(!this.options.allowTaint&&z)te.putImageData(z.getImageData(0,0,p.width,p.height),0,0);else{var Ae=(C=p.getContext("webgl2"))!==null&&C!==void 0?C:p.getContext("webgl");if(Ae){var le=Ae.getContextAttributes();(le==null?void 0:le.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",p)}te.drawImage(p,0,0)}return Q}catch{this.context.logger.info("Unable to clone canvas as it is tainted",p)}return Q},w.prototype.createVideoClone=function(p){var C=p.ownerDocument.createElement("canvas");C.width=p.offsetWidth,C.height=p.offsetHeight;var B=C.getContext("2d");try{return B&&(B.drawImage(p,0,0,C.width,C.height),this.options.allowTaint||B.getImageData(0,0,C.width,C.height)),C}catch{this.context.logger.info("Unable to clone video as it is tainted",p)}var Q=p.ownerDocument.createElement("canvas");return Q.width=p.offsetWidth,Q.height=p.offsetHeight,Q},w.prototype.appendChildNode=function(p,C,B){(!xf(C)||!dO(C)&&!C.hasAttribute(hE)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(C)))&&(!this.options.copyStyles||!xf(C)||!sE(C))&&p.appendChild(this.cloneNode(C,B))},w.prototype.cloneChildNodes=function(p,C,B){for(var Q=this,z=p.shadowRoot?p.shadowRoot.firstChild:p.firstChild;z;z=z.nextSibling)if(xf(z)&&iE(z)&&typeof z.assignedNodes=="function"){var te=z.assignedNodes();te.length&&te.forEach(function(Ae){return Q.appendChildNode(C,Ae,B)})}else this.appendChildNode(C,z,B)},w.prototype.cloneNode=function(p,C){if(Zk(p))return document.createTextNode(p.data);if(!p.ownerDocument)return p.cloneNode(!1);var B=p.ownerDocument.defaultView;if(B&&xf(p)&&(P2(p)||Hy(p))){var Q=this.createElementClone(p);Q.style.transitionProperty="none";var z=B.getComputedStyle(p),te=B.getComputedStyle(p,":before"),Ae=B.getComputedStyle(p,":after");this.referenceElement===p&&P2(Q)&&(this.clonedReferenceElement=Q),L2(Q)&&kO(Q);var le=this.counters.parse(new Pr(this.context,z)),be=this.resolvePseudoContent(p,Q,te,wp.BEFORE);oE(p)&&(C=!0),rE(p)||this.cloneChildNodes(p,Q,C),be&&Q.insertBefore(be,Q.firstChild);var Ne=this.resolvePseudoContent(p,Q,Ae,wp.AFTER);return Ne&&Q.appendChild(Ne),this.counters.pop(le),(z&&(this.options.copyStyles||Hy(p))&&!nE(p)||C)&&R2(z,Q),(p.scrollTop!==0||p.scrollLeft!==0)&&this.scrolledElements.push([Q,p.scrollLeft,p.scrollTop]),(Ky(p)||zy(p))&&(Ky(Q)||zy(Q))&&(Q.value=p.value),Q}return p.cloneNode(!1)},w.prototype.resolvePseudoContent=function(p,C,B,Q){var z=this;if(B){var te=B.content,Ae=C.ownerDocument;if(!(!Ae||!te||te==="none"||te==="-moz-alt-content"||B.display==="none")){this.counters.parse(new Pr(this.context,B));var le=new Ir(this.context,B),be=Ae.createElement("html2canvaspseudoelement");R2(B,be),le.content.forEach(function(Pe){if(Pe.type===0)be.appendChild(Ae.createTextNode(Pe.value));else if(Pe.type===22){var Ge=Ae.createElement("img");Ge.src=Pe.value,Ge.style.opacity="1",be.appendChild(Ge)}else if(Pe.type===18){if(Pe.name==="attr"){var Ft=Pe.values.filter(Se);Ft.length&&be.appendChild(Ae.createTextNode(p.getAttribute(Ft[0].value)||""))}else if(Pe.name==="counter"){var pt=Pe.values.filter($t),Et=pt[0],dr=pt[1];if(Et&&Se(Et)){var Ot=z.counters.getCounterValue(Et.value),Rt=dr&&Se(dr)?Ap.parse(z.context,dr.value):3;be.appendChild(Ae.createTextNode(xp(Ot,Rt,!1)))}}else if(Pe.name==="counters"){var Ur=Pe.values.filter($t),Et=Ur[0],hr=Ur[1],dr=Ur[2];if(Et&&Se(Et)){var or=z.counters.getCounterValues(Et.value),Tt=dr&&Se(dr)?Ap.parse(z.context,dr.value):3,Cr=hr&&hr.type===0?hr.value:"",_r=or.map(function(_o){return xp(_o,Tt,!1)}).join(Cr);be.appendChild(Ae.createTextNode(_r))}}}else if(Pe.type===20)switch(Pe.value){case"open-quote":be.appendChild(Ae.createTextNode(rt(le.quotes,z.quoteDepth++,!0)));break;case"close-quote":be.appendChild(Ae.createTextNode(rt(le.quotes,--z.quoteDepth,!1)));break;default:be.appendChild(Ae.createTextNode(Pe.value))}}),be.className=M2+" "+Q2;var Ne=Q===wp.BEFORE?" "+M2:" "+Q2;return Hy(C)?C.className.baseValue+=Ne:C.className+=Ne,be}}},w.destroy=function(p){return p.parentNode?(p.parentNode.removeChild(p),!0):!1},w}(),wp;(function(w){w[w.BEFORE=0]="BEFORE",w[w.AFTER=1]="AFTER"})(wp||(wp={}));var pO=function(w,p){var C=w.createElement("iframe");return C.className="html2canvas-container",C.style.visibility="hidden",C.style.position="fixed",C.style.left="-10000px",C.style.top="0px",C.style.border="0",C.width=p.width.toString(),C.height=p.height.toString(),C.scrolling="no",C.setAttribute(hE,"true"),w.body.appendChild(C),C},mO=function(w){return new Promise(function(p){if(w.complete){p();return}if(!w.src){p();return}w.onload=p,w.onerror=p})},yO=function(w){return Promise.all([].slice.call(w.images,0).map(mO))},vO=function(w){return new Promise(function(p,C){var B=w.contentWindow;if(!B)return C("No window assigned for iframe");var Q=B.document;B.onload=w.onload=function(){B.onload=w.onload=null;var z=setInterval(function(){Q.body.childNodes.length>0&&Q.readyState==="complete"&&(clearInterval(z),p(w))},50)}})},xO=["all","d","content"],R2=function(w,p){for(var C=w.length-1;C>=0;C--){var B=w.item(C);xO.indexOf(B)===-1&&p.style.setProperty(B,w.getPropertyValue(B))}return p},wO=function(w){var p="";return w&&(p+="<!DOCTYPE ",w.name&&(p+=w.name),w.internalSubset&&(p+=w.internalSubset),w.publicId&&(p+='"'+w.publicId+'"'),w.systemId&&(p+='"'+w.systemId+'"'),p+=">"),p},bO=function(w,p,C){w&&w.defaultView&&(p!==w.defaultView.pageXOffset||C!==w.defaultView.pageYOffset)&&w.defaultView.scrollTo(p,C)},BO=function(w){var p=w[0],C=w[1],B=w[2];p.scrollLeft=C,p.scrollTop=B},CO=":before",_O=":after",M2="___html2canvas___pseudoelement_before",Q2="___html2canvas___pseudoelement_after",gE=`{
    content: "" !important;
    display: none !important;
}`,kO=function(w){EO(w,"."+M2+CO+gE+`
         .`+Q2+_O+gE)},EO=function(w,p){var C=w.ownerDocument;if(C){var B=C.createElement("style");B.textContent=p,w.appendChild(B)}},pE=function(){function w(){}return w.getOrigin=function(p){var C=w._link;return C?(C.href=p,C.href=C.href,C.protocol+C.hostname+C.port):"about:blank"},w.isSameOrigin=function(p){return w.getOrigin(p)===w._origin},w.setContext=function(p){w._link=p.document.createElement("a"),w._origin=w.getOrigin(p.location.href)},w._origin="about:blank",w}(),IO=function(){function w(p,C){this.context=p,this._options=C,this._cache={}}return w.prototype.addImage=function(p){var C=Promise.resolve();return this.has(p)||(V2(p)||jO(p))&&(this._cache[p]=this.loadImage(p)).catch(function(){}),C},w.prototype.match=function(p){return this._cache[p]},w.prototype.loadImage=function(p){return i(this,void 0,void 0,function(){var C,B,Q,z,te=this;return o(this,function(Ae){switch(Ae.label){case 0:return C=pE.isSameOrigin(p),B=!O2(p)&&this._options.useCORS===!0&&Es.SUPPORT_CORS_IMAGES&&!C,Q=!O2(p)&&!C&&!V2(p)&&typeof this._options.proxy=="string"&&Es.SUPPORT_CORS_XHR&&!B,!C&&this._options.allowTaint===!1&&!O2(p)&&!V2(p)&&!Q&&!B?[2]:(z=p,Q?[4,this.proxy(z)]:[3,2]);case 1:z=Ae.sent(),Ae.label=2;case 2:return this.context.logger.debug("Added image "+p.substring(0,256)),[4,new Promise(function(le,be){var Ne=new Image;Ne.onload=function(){return le(Ne)},Ne.onerror=be,(FO(z)||B)&&(Ne.crossOrigin="anonymous"),Ne.src=z,Ne.complete===!0&&setTimeout(function(){return le(Ne)},500),te._options.imageTimeout>0&&setTimeout(function(){return be("Timed out ("+te._options.imageTimeout+"ms) loading image")},te._options.imageTimeout)})];case 3:return[2,Ae.sent()]}})})},w.prototype.has=function(p){return typeof this._cache[p]<"u"},w.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},w.prototype.proxy=function(p){var C=this,B=this._options.proxy;if(!B)throw new Error("No proxy defined");var Q=p.substring(0,256);return new Promise(function(z,te){var Ae=Es.SUPPORT_RESPONSE_TYPE?"blob":"text",le=new XMLHttpRequest;le.onload=function(){if(le.status===200)if(Ae==="text")z(le.response);else{var Pe=new FileReader;Pe.addEventListener("load",function(){return z(Pe.result)},!1),Pe.addEventListener("error",function(Ge){return te(Ge)},!1),Pe.readAsDataURL(le.response)}else te("Failed to proxy resource "+Q+" with status code "+le.status)},le.onerror=te;var be=B.indexOf("?")>-1?"&":"?";if(le.open("GET",""+B+be+"url="+encodeURIComponent(p)+"&responseType="+Ae),Ae!=="text"&&le instanceof XMLHttpRequest&&(le.responseType=Ae),C._options.imageTimeout){var Ne=C._options.imageTimeout;le.timeout=Ne,le.ontimeout=function(){return te("Timed out ("+Ne+"ms) proxying "+Q)}}le.send()})},w}(),SO=/^data:image\/svg\+xml/i,NO=/^data:image\/.*;base64,/i,TO=/^data:image\/.*/i,jO=function(w){return Es.SUPPORT_SVG_DRAWING||!PO(w)},O2=function(w){return TO.test(w)},FO=function(w){return NO.test(w)},V2=function(w){return w.substr(0,4)==="blob"},PO=function(w){return w.substr(-3).toLowerCase()==="svg"||SO.test(w)},Nt=function(){function w(p,C){this.type=0,this.x=p,this.y=C}return w.prototype.add=function(p,C){return new w(this.x+p,this.y+C)},w}(),Bf=function(w,p,C){return new Nt(w.x+(p.x-w.x)*C,w.y+(p.y-w.y)*C)},Gy=function(){function w(p,C,B,Q){this.type=1,this.start=p,this.startControl=C,this.endControl=B,this.end=Q}return w.prototype.subdivide=function(p,C){var B=Bf(this.start,this.startControl,p),Q=Bf(this.startControl,this.endControl,p),z=Bf(this.endControl,this.end,p),te=Bf(B,Q,p),Ae=Bf(Q,z,p),le=Bf(te,Ae,p);return C?new w(this.start,B,te,le):new w(le,Ae,z,this.end)},w.prototype.add=function(p,C){return new w(this.start.add(p,C),this.startControl.add(p,C),this.endControl.add(p,C),this.end.add(p,C))},w.prototype.reverse=function(){return new w(this.end,this.endControl,this.startControl,this.start)},w}(),ba=function(w){return w.type===1},LO=function(){function w(p){var C=p.styles,B=p.bounds,Q=Nn(C.borderTopLeftRadius,B.width,B.height),z=Q[0],te=Q[1],Ae=Nn(C.borderTopRightRadius,B.width,B.height),le=Ae[0],be=Ae[1],Ne=Nn(C.borderBottomRightRadius,B.width,B.height),Pe=Ne[0],Ge=Ne[1],Ft=Nn(C.borderBottomLeftRadius,B.width,B.height),pt=Ft[0],Et=Ft[1],dr=[];dr.push((z+le)/B.width),dr.push((pt+Pe)/B.width),dr.push((te+Et)/B.height),dr.push((be+Ge)/B.height);var Ot=Math.max.apply(Math,dr);Ot>1&&(z/=Ot,te/=Ot,le/=Ot,be/=Ot,Pe/=Ot,Ge/=Ot,pt/=Ot,Et/=Ot);var Rt=B.width-le,Ur=B.height-Ge,hr=B.width-Pe,or=B.height-Et,Tt=C.borderTopWidth,Cr=C.borderRightWidth,_r=C.borderBottomWidth,ar=C.borderLeftWidth,fs=Er(C.paddingTop,p.bounds.width),_o=Er(C.paddingRight,p.bounds.width),Jo=Er(C.paddingBottom,p.bounds.width),Jr=Er(C.paddingLeft,p.bounds.width);this.topLeftBorderDoubleOuterBox=z>0||te>0?vn(B.left+ar/3,B.top+Tt/3,z-ar/3,te-Tt/3,Or.TOP_LEFT):new Nt(B.left+ar/3,B.top+Tt/3),this.topRightBorderDoubleOuterBox=z>0||te>0?vn(B.left+Rt,B.top+Tt/3,le-Cr/3,be-Tt/3,Or.TOP_RIGHT):new Nt(B.left+B.width-Cr/3,B.top+Tt/3),this.bottomRightBorderDoubleOuterBox=Pe>0||Ge>0?vn(B.left+hr,B.top+Ur,Pe-Cr/3,Ge-_r/3,Or.BOTTOM_RIGHT):new Nt(B.left+B.width-Cr/3,B.top+B.height-_r/3),this.bottomLeftBorderDoubleOuterBox=pt>0||Et>0?vn(B.left+ar/3,B.top+or,pt-ar/3,Et-_r/3,Or.BOTTOM_LEFT):new Nt(B.left+ar/3,B.top+B.height-_r/3),this.topLeftBorderDoubleInnerBox=z>0||te>0?vn(B.left+ar*2/3,B.top+Tt*2/3,z-ar*2/3,te-Tt*2/3,Or.TOP_LEFT):new Nt(B.left+ar*2/3,B.top+Tt*2/3),this.topRightBorderDoubleInnerBox=z>0||te>0?vn(B.left+Rt,B.top+Tt*2/3,le-Cr*2/3,be-Tt*2/3,Or.TOP_RIGHT):new Nt(B.left+B.width-Cr*2/3,B.top+Tt*2/3),this.bottomRightBorderDoubleInnerBox=Pe>0||Ge>0?vn(B.left+hr,B.top+Ur,Pe-Cr*2/3,Ge-_r*2/3,Or.BOTTOM_RIGHT):new Nt(B.left+B.width-Cr*2/3,B.top+B.height-_r*2/3),this.bottomLeftBorderDoubleInnerBox=pt>0||Et>0?vn(B.left+ar*2/3,B.top+or,pt-ar*2/3,Et-_r*2/3,Or.BOTTOM_LEFT):new Nt(B.left+ar*2/3,B.top+B.height-_r*2/3),this.topLeftBorderStroke=z>0||te>0?vn(B.left+ar/2,B.top+Tt/2,z-ar/2,te-Tt/2,Or.TOP_LEFT):new Nt(B.left+ar/2,B.top+Tt/2),this.topRightBorderStroke=z>0||te>0?vn(B.left+Rt,B.top+Tt/2,le-Cr/2,be-Tt/2,Or.TOP_RIGHT):new Nt(B.left+B.width-Cr/2,B.top+Tt/2),this.bottomRightBorderStroke=Pe>0||Ge>0?vn(B.left+hr,B.top+Ur,Pe-Cr/2,Ge-_r/2,Or.BOTTOM_RIGHT):new Nt(B.left+B.width-Cr/2,B.top+B.height-_r/2),this.bottomLeftBorderStroke=pt>0||Et>0?vn(B.left+ar/2,B.top+or,pt-ar/2,Et-_r/2,Or.BOTTOM_LEFT):new Nt(B.left+ar/2,B.top+B.height-_r/2),this.topLeftBorderBox=z>0||te>0?vn(B.left,B.top,z,te,Or.TOP_LEFT):new Nt(B.left,B.top),this.topRightBorderBox=le>0||be>0?vn(B.left+Rt,B.top,le,be,Or.TOP_RIGHT):new Nt(B.left+B.width,B.top),this.bottomRightBorderBox=Pe>0||Ge>0?vn(B.left+hr,B.top+Ur,Pe,Ge,Or.BOTTOM_RIGHT):new Nt(B.left+B.width,B.top+B.height),this.bottomLeftBorderBox=pt>0||Et>0?vn(B.left,B.top+or,pt,Et,Or.BOTTOM_LEFT):new Nt(B.left,B.top+B.height),this.topLeftPaddingBox=z>0||te>0?vn(B.left+ar,B.top+Tt,Math.max(0,z-ar),Math.max(0,te-Tt),Or.TOP_LEFT):new Nt(B.left+ar,B.top+Tt),this.topRightPaddingBox=le>0||be>0?vn(B.left+Math.min(Rt,B.width-Cr),B.top+Tt,Rt>B.width+Cr?0:Math.max(0,le-Cr),Math.max(0,be-Tt),Or.TOP_RIGHT):new Nt(B.left+B.width-Cr,B.top+Tt),this.bottomRightPaddingBox=Pe>0||Ge>0?vn(B.left+Math.min(hr,B.width-ar),B.top+Math.min(Ur,B.height-_r),Math.max(0,Pe-Cr),Math.max(0,Ge-_r),Or.BOTTOM_RIGHT):new Nt(B.left+B.width-Cr,B.top+B.height-_r),this.bottomLeftPaddingBox=pt>0||Et>0?vn(B.left+ar,B.top+Math.min(or,B.height-_r),Math.max(0,pt-ar),Math.max(0,Et-_r),Or.BOTTOM_LEFT):new Nt(B.left+ar,B.top+B.height-_r),this.topLeftContentBox=z>0||te>0?vn(B.left+ar+Jr,B.top+Tt+fs,Math.max(0,z-(ar+Jr)),Math.max(0,te-(Tt+fs)),Or.TOP_LEFT):new Nt(B.left+ar+Jr,B.top+Tt+fs),this.topRightContentBox=le>0||be>0?vn(B.left+Math.min(Rt,B.width+ar+Jr),B.top+Tt+fs,Rt>B.width+ar+Jr?0:le-ar+Jr,be-(Tt+fs),Or.TOP_RIGHT):new Nt(B.left+B.width-(Cr+_o),B.top+Tt+fs),this.bottomRightContentBox=Pe>0||Ge>0?vn(B.left+Math.min(hr,B.width-(ar+Jr)),B.top+Math.min(Ur,B.height+Tt+fs),Math.max(0,Pe-(Cr+_o)),Ge-(_r+Jo),Or.BOTTOM_RIGHT):new Nt(B.left+B.width-(Cr+_o),B.top+B.height-(_r+Jo)),this.bottomLeftContentBox=pt>0||Et>0?vn(B.left+ar+Jr,B.top+or,Math.max(0,pt-(ar+Jr)),Et-(_r+Jo),Or.BOTTOM_LEFT):new Nt(B.left+ar+Jr,B.top+B.height-(_r+Jo))}return w}(),Or;(function(w){w[w.TOP_LEFT=0]="TOP_LEFT",w[w.TOP_RIGHT=1]="TOP_RIGHT",w[w.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",w[w.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Or||(Or={}));var vn=function(w,p,C,B,Q){var z=4*((Math.sqrt(2)-1)/3),te=C*z,Ae=B*z,le=w+C,be=p+B;switch(Q){case Or.TOP_LEFT:return new Gy(new Nt(w,be),new Nt(w,be-Ae),new Nt(le-te,p),new Nt(le,p));case Or.TOP_RIGHT:return new Gy(new Nt(w,p),new Nt(w+te,p),new Nt(le,be-Ae),new Nt(le,be));case Or.BOTTOM_RIGHT:return new Gy(new Nt(le,p),new Nt(le,p+Ae),new Nt(w+te,be),new Nt(w,be));case Or.BOTTOM_LEFT:default:return new Gy(new Nt(le,be),new Nt(le-te,be),new Nt(w,p+Ae),new Nt(w,p))}},Wy=function(w){return[w.topLeftBorderBox,w.topRightBorderBox,w.bottomRightBorderBox,w.bottomLeftBorderBox]},UO=function(w){return[w.topLeftContentBox,w.topRightContentBox,w.bottomRightContentBox,w.bottomLeftContentBox]},$y=function(w){return[w.topLeftPaddingBox,w.topRightPaddingBox,w.bottomRightPaddingBox,w.bottomLeftPaddingBox]},DO=function(){function w(p,C,B){this.offsetX=p,this.offsetY=C,this.matrix=B,this.type=0,this.target=6}return w}(),qy=function(){function w(p,C){this.path=p,this.target=C,this.type=1}return w}(),RO=function(){function w(p){this.opacity=p,this.type=2,this.target=6}return w}(),MO=function(w){return w.type===0},mE=function(w){return w.type===1},QO=function(w){return w.type===2},yE=function(w,p){return w.length===p.length?w.some(function(C,B){return C===p[B]}):!1},OO=function(w,p,C,B,Q){return w.map(function(z,te){switch(te){case 0:return z.add(p,C);case 1:return z.add(p+B,C);case 2:return z.add(p+B,C+Q);case 3:return z.add(p,C+Q)}return z})},vE=function(){function w(p){this.element=p,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return w}(),xE=function(){function w(p,C){if(this.container=p,this.parent=C,this.effects=[],this.curves=new LO(this.container),this.container.styles.opacity<1&&this.effects.push(new RO(this.container.styles.opacity)),this.container.styles.transform!==null){var B=this.container.bounds.left+this.container.styles.transformOrigin[0].number,Q=this.container.bounds.top+this.container.styles.transformOrigin[1].number,z=this.container.styles.transform;this.effects.push(new DO(B,Q,z))}if(this.container.styles.overflowX!==0){var te=Wy(this.curves),Ae=$y(this.curves);yE(te,Ae)?this.effects.push(new qy(te,6)):(this.effects.push(new qy(te,2)),this.effects.push(new qy(Ae,4)))}}return w.prototype.getEffects=function(p){for(var C=[2,3].indexOf(this.container.styles.position)===-1,B=this.parent,Q=this.effects.slice(0);B;){var z=B.effects.filter(function(le){return!mE(le)});if(C||B.container.styles.position!==0||!B.parent){if(Q.unshift.apply(Q,z),C=[2,3].indexOf(B.container.styles.position)===-1,B.container.styles.overflowX!==0){var te=Wy(B.curves),Ae=$y(B.curves);yE(te,Ae)||Q.unshift(new qy(Ae,6))}}else Q.unshift.apply(Q,z);B=B.parent}return Q.filter(function(le){return Be(le.target,p)})},w}(),H2=function(w,p,C,B){w.container.elements.forEach(function(Q){var z=Be(Q.flags,4),te=Be(Q.flags,2),Ae=new xE(Q,w);Be(Q.styles.display,2048)&&B.push(Ae);var le=Be(Q.flags,8)?[]:B;if(z||te){var be=z||Q.styles.isPositioned()?C:p,Ne=new vE(Ae);if(Q.styles.isPositioned()||Q.styles.opacity<1||Q.styles.isTransformed()){var Pe=Q.styles.zIndex.order;if(Pe<0){var Ge=0;be.negativeZIndex.some(function(pt,Et){return Pe>pt.element.container.styles.zIndex.order?(Ge=Et,!1):Ge>0}),be.negativeZIndex.splice(Ge,0,Ne)}else if(Pe>0){var Ft=0;be.positiveZIndex.some(function(pt,Et){return Pe>=pt.element.container.styles.zIndex.order?(Ft=Et+1,!1):Ft>0}),be.positiveZIndex.splice(Ft,0,Ne)}else be.zeroOrAutoZIndexOrTransformedOrOpacity.push(Ne)}else Q.styles.isFloating()?be.nonPositionedFloats.push(Ne):be.nonPositionedInlineLevel.push(Ne);H2(Ae,Ne,z?Ne:C,le)}else Q.styles.isInlineLevel()?p.inlineLevel.push(Ae):p.nonInlineLevel.push(Ae),H2(Ae,p,C,le);Be(Q.flags,8)&&wE(Q,le)})},wE=function(w,p){for(var C=w instanceof j2?w.start:1,B=w instanceof j2?w.reversed:!1,Q=0;Q<p.length;Q++){var z=p[Q];z.container instanceof Gk&&typeof z.container.value=="number"&&z.container.value!==0&&(C=z.container.value),z.listValue=xp(C,z.container.styles.listStyleType,!0),C+=B?-1:1}},VO=function(w){var p=new xE(w,null),C=new vE(p),B=[];return H2(p,C,C,B),wE(p.container,B),C},bE=function(w,p){switch(p){case 0:return Ba(w.topLeftBorderBox,w.topLeftPaddingBox,w.topRightBorderBox,w.topRightPaddingBox);case 1:return Ba(w.topRightBorderBox,w.topRightPaddingBox,w.bottomRightBorderBox,w.bottomRightPaddingBox);case 2:return Ba(w.bottomRightBorderBox,w.bottomRightPaddingBox,w.bottomLeftBorderBox,w.bottomLeftPaddingBox);case 3:default:return Ba(w.bottomLeftBorderBox,w.bottomLeftPaddingBox,w.topLeftBorderBox,w.topLeftPaddingBox)}},HO=function(w,p){switch(p){case 0:return Ba(w.topLeftBorderBox,w.topLeftBorderDoubleOuterBox,w.topRightBorderBox,w.topRightBorderDoubleOuterBox);case 1:return Ba(w.topRightBorderBox,w.topRightBorderDoubleOuterBox,w.bottomRightBorderBox,w.bottomRightBorderDoubleOuterBox);case 2:return Ba(w.bottomRightBorderBox,w.bottomRightBorderDoubleOuterBox,w.bottomLeftBorderBox,w.bottomLeftBorderDoubleOuterBox);case 3:default:return Ba(w.bottomLeftBorderBox,w.bottomLeftBorderDoubleOuterBox,w.topLeftBorderBox,w.topLeftBorderDoubleOuterBox)}},KO=function(w,p){switch(p){case 0:return Ba(w.topLeftBorderDoubleInnerBox,w.topLeftPaddingBox,w.topRightBorderDoubleInnerBox,w.topRightPaddingBox);case 1:return Ba(w.topRightBorderDoubleInnerBox,w.topRightPaddingBox,w.bottomRightBorderDoubleInnerBox,w.bottomRightPaddingBox);case 2:return Ba(w.bottomRightBorderDoubleInnerBox,w.bottomRightPaddingBox,w.bottomLeftBorderDoubleInnerBox,w.bottomLeftPaddingBox);case 3:default:return Ba(w.bottomLeftBorderDoubleInnerBox,w.bottomLeftPaddingBox,w.topLeftBorderDoubleInnerBox,w.topLeftPaddingBox)}},zO=function(w,p){switch(p){case 0:return Yy(w.topLeftBorderStroke,w.topRightBorderStroke);case 1:return Yy(w.topRightBorderStroke,w.bottomRightBorderStroke);case 2:return Yy(w.bottomRightBorderStroke,w.bottomLeftBorderStroke);case 3:default:return Yy(w.bottomLeftBorderStroke,w.topLeftBorderStroke)}},Yy=function(w,p){var C=[];return ba(w)?C.push(w.subdivide(.5,!1)):C.push(w),ba(p)?C.push(p.subdivide(.5,!0)):C.push(p),C},Ba=function(w,p,C,B){var Q=[];return ba(w)?Q.push(w.subdivide(.5,!1)):Q.push(w),ba(C)?Q.push(C.subdivide(.5,!0)):Q.push(C),ba(B)?Q.push(B.subdivide(.5,!0).reverse()):Q.push(B),ba(p)?Q.push(p.subdivide(.5,!1).reverse()):Q.push(p),Q},BE=function(w){var p=w.bounds,C=w.styles;return p.add(C.borderLeftWidth,C.borderTopWidth,-(C.borderRightWidth+C.borderLeftWidth),-(C.borderTopWidth+C.borderBottomWidth))},Xy=function(w){var p=w.styles,C=w.bounds,B=Er(p.paddingLeft,C.width),Q=Er(p.paddingRight,C.width),z=Er(p.paddingTop,C.width),te=Er(p.paddingBottom,C.width);return C.add(B+p.borderLeftWidth,z+p.borderTopWidth,-(p.borderRightWidth+p.borderLeftWidth+B+Q),-(p.borderTopWidth+p.borderBottomWidth+z+te))},GO=function(w,p){return w===0?p.bounds:w===2?Xy(p):BE(p)},WO=function(w,p){return w===0?p.bounds:w===2?Xy(p):BE(p)},K2=function(w,p,C){var B=GO(_f(w.styles.backgroundOrigin,p),w),Q=WO(_f(w.styles.backgroundClip,p),w),z=$O(_f(w.styles.backgroundSize,p),C,B),te=z[0],Ae=z[1],le=Nn(_f(w.styles.backgroundPosition,p),B.width-te,B.height-Ae),be=qO(_f(w.styles.backgroundRepeat,p),le,z,B,Q),Ne=Math.round(B.left+le[0]),Pe=Math.round(B.top+le[1]);return[be,Ne,Pe,te,Ae]},Cf=function(w){return Se(w)&&w.value===LA.AUTO},Jy=function(w){return typeof w=="number"},$O=function(w,p,C){var B=p[0],Q=p[1],z=p[2],te=w[0],Ae=w[1];if(!te)return[0,0];if(yr(te)&&Ae&&yr(Ae))return[Er(te,C.width),Er(Ae,C.height)];var le=Jy(z);if(Se(te)&&(te.value===LA.CONTAIN||te.value===LA.COVER)){if(Jy(z)){var be=C.width/C.height;return be<z!=(te.value===LA.COVER)?[C.width,C.width/z]:[C.height*z,C.height]}return[C.width,C.height]}var Ne=Jy(B),Pe=Jy(Q),Ge=Ne||Pe;if(Cf(te)&&(!Ae||Cf(Ae))){if(Ne&&Pe)return[B,Q];if(!le&&!Ge)return[C.width,C.height];if(Ge&&le){var Ft=Ne?B:Q*z,pt=Pe?Q:B/z;return[Ft,pt]}var Et=Ne?B:C.width,dr=Pe?Q:C.height;return[Et,dr]}if(le){var Ot=0,Rt=0;return yr(te)?Ot=Er(te,C.width):yr(Ae)&&(Rt=Er(Ae,C.height)),Cf(te)?Ot=Rt*z:(!Ae||Cf(Ae))&&(Rt=Ot/z),[Ot,Rt]}var Ur=null,hr=null;if(yr(te)?Ur=Er(te,C.width):Ae&&yr(Ae)&&(hr=Er(Ae,C.height)),Ur!==null&&(!Ae||Cf(Ae))&&(hr=Ne&&Pe?Ur/B*Q:C.height),hr!==null&&Cf(te)&&(Ur=Ne&&Pe?hr/Q*B:C.width),Ur!==null&&hr!==null)return[Ur,hr];throw new Error("Unable to calculate background-size for element")},_f=function(w,p){var C=w[p];return typeof C>"u"?w[0]:C},qO=function(w,p,C,B,Q){var z=p[0],te=p[1],Ae=C[0],le=C[1];switch(w){case 2:return[new Nt(Math.round(B.left),Math.round(B.top+te)),new Nt(Math.round(B.left+B.width),Math.round(B.top+te)),new Nt(Math.round(B.left+B.width),Math.round(le+B.top+te)),new Nt(Math.round(B.left),Math.round(le+B.top+te))];case 3:return[new Nt(Math.round(B.left+z),Math.round(B.top)),new Nt(Math.round(B.left+z+Ae),Math.round(B.top)),new Nt(Math.round(B.left+z+Ae),Math.round(B.height+B.top)),new Nt(Math.round(B.left+z),Math.round(B.height+B.top))];case 1:return[new Nt(Math.round(B.left+z),Math.round(B.top+te)),new Nt(Math.round(B.left+z+Ae),Math.round(B.top+te)),new Nt(Math.round(B.left+z+Ae),Math.round(B.top+te+le)),new Nt(Math.round(B.left+z),Math.round(B.top+te+le))];default:return[new Nt(Math.round(Q.left),Math.round(Q.top)),new Nt(Math.round(Q.left+Q.width),Math.round(Q.top)),new Nt(Math.round(Q.left+Q.width),Math.round(Q.height+Q.top)),new Nt(Math.round(Q.left),Math.round(Q.height+Q.top))]}},YO="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",CE="Hidden Text",XO=function(){function w(p){this._data={},this._document=p}return w.prototype.parseMetrics=function(p,C){var B=this._document.createElement("div"),Q=this._document.createElement("img"),z=this._document.createElement("span"),te=this._document.body;B.style.visibility="hidden",B.style.fontFamily=p,B.style.fontSize=C,B.style.margin="0",B.style.padding="0",B.style.whiteSpace="nowrap",te.appendChild(B),Q.src=YO,Q.width=1,Q.height=1,Q.style.margin="0",Q.style.padding="0",Q.style.verticalAlign="baseline",z.style.fontFamily=p,z.style.fontSize=C,z.style.margin="0",z.style.padding="0",z.appendChild(this._document.createTextNode(CE)),B.appendChild(z),B.appendChild(Q);var Ae=Q.offsetTop-z.offsetTop+2;B.removeChild(z),B.appendChild(this._document.createTextNode(CE)),B.style.lineHeight="normal",Q.style.verticalAlign="super";var le=Q.offsetTop-B.offsetTop+2;return te.removeChild(B),{baseline:Ae,middle:le}},w.prototype.getMetrics=function(p,C){var B=p+" "+C;return typeof this._data[B]>"u"&&(this._data[B]=this.parseMetrics(p,C)),this._data[B]},w}(),_E=function(){function w(p,C){this.context=p,this.options=C}return w}(),JO=1e4,ZO=function(w){n(p,w);function p(C,B){var Q=w.call(this,C,B)||this;return Q._activeEffects=[],Q.canvas=B.canvas?B.canvas:document.createElement("canvas"),Q.ctx=Q.canvas.getContext("2d"),B.canvas||(Q.canvas.width=Math.floor(B.width*B.scale),Q.canvas.height=Math.floor(B.height*B.scale),Q.canvas.style.width=B.width+"px",Q.canvas.style.height=B.height+"px"),Q.fontMetrics=new XO(document),Q.ctx.scale(Q.options.scale,Q.options.scale),Q.ctx.translate(-B.x,-B.y),Q.ctx.textBaseline="bottom",Q._activeEffects=[],Q.context.logger.debug("Canvas renderer initialized ("+B.width+"x"+B.height+") with scale "+B.scale),Q}return p.prototype.applyEffects=function(C){for(var B=this;this._activeEffects.length;)this.popEffect();C.forEach(function(Q){return B.applyEffect(Q)})},p.prototype.applyEffect=function(C){this.ctx.save(),QO(C)&&(this.ctx.globalAlpha=C.opacity),MO(C)&&(this.ctx.translate(C.offsetX,C.offsetY),this.ctx.transform(C.matrix[0],C.matrix[1],C.matrix[2],C.matrix[3],C.matrix[4],C.matrix[5]),this.ctx.translate(-C.offsetX,-C.offsetY)),mE(C)&&(this.path(C.path),this.ctx.clip()),this._activeEffects.push(C)},p.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},p.prototype.renderStack=function(C){return i(this,void 0,void 0,function(){var B;return o(this,function(Q){switch(Q.label){case 0:return B=C.element.container.styles,B.isVisible()?[4,this.renderStackContent(C)]:[3,2];case 1:Q.sent(),Q.label=2;case 2:return[2]}})})},p.prototype.renderNode=function(C){return i(this,void 0,void 0,function(){return o(this,function(B){switch(B.label){case 0:if(Be(C.container.flags,16))debugger;return C.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(C)]:[3,3];case 1:return B.sent(),[4,this.renderNodeContent(C)];case 2:B.sent(),B.label=3;case 3:return[2]}})})},p.prototype.renderTextWithLetterSpacing=function(C,B,Q){var z=this;if(B===0)this.ctx.fillText(C.text,C.bounds.left,C.bounds.top+Q);else{var te=Xc(C.text);te.reduce(function(Ae,le){return z.ctx.fillText(le,Ae,C.bounds.top+Q),Ae+z.ctx.measureText(le).width},C.bounds.left)}},p.prototype.createFontStyle=function(C){var B=C.fontVariant.filter(function(te){return te==="normal"||te==="small-caps"}).join(""),Q=s8(C.fontFamily).join(", "),z=ne(C.fontSize)?""+C.fontSize.number+C.fontSize.unit:C.fontSize.number+"px";return[[C.fontStyle,B,C.fontWeight,z,Q].join(" "),Q,z]},p.prototype.renderTextNode=function(C,B){return i(this,void 0,void 0,function(){var Q,z,te,Ae,le,be,Ne,Pe,Ge=this;return o(this,function(Ft){return Q=this.createFontStyle(B),z=Q[0],te=Q[1],Ae=Q[2],this.ctx.font=z,this.ctx.direction=B.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",le=this.fontMetrics.getMetrics(te,Ae),be=le.baseline,Ne=le.middle,Pe=B.paintOrder,C.textBounds.forEach(function(pt){Pe.forEach(function(Et){switch(Et){case 0:Ge.ctx.fillStyle=Tn(B.color),Ge.renderTextWithLetterSpacing(pt,B.letterSpacing,be);var dr=B.textShadow;dr.length&&pt.text.trim().length&&(dr.slice(0).reverse().forEach(function(Ot){Ge.ctx.shadowColor=Tn(Ot.color),Ge.ctx.shadowOffsetX=Ot.offsetX.number*Ge.options.scale,Ge.ctx.shadowOffsetY=Ot.offsetY.number*Ge.options.scale,Ge.ctx.shadowBlur=Ot.blur.number,Ge.renderTextWithLetterSpacing(pt,B.letterSpacing,be)}),Ge.ctx.shadowColor="",Ge.ctx.shadowOffsetX=0,Ge.ctx.shadowOffsetY=0,Ge.ctx.shadowBlur=0),B.textDecorationLine.length&&(Ge.ctx.fillStyle=Tn(B.textDecorationColor||B.color),B.textDecorationLine.forEach(function(Ot){switch(Ot){case 1:Ge.ctx.fillRect(pt.bounds.left,Math.round(pt.bounds.top+be),pt.bounds.width,1);break;case 2:Ge.ctx.fillRect(pt.bounds.left,Math.round(pt.bounds.top),pt.bounds.width,1);break;case 3:Ge.ctx.fillRect(pt.bounds.left,Math.ceil(pt.bounds.top+Ne),pt.bounds.width,1);break}}));break;case 1:B.webkitTextStrokeWidth&&pt.text.trim().length&&(Ge.ctx.strokeStyle=Tn(B.webkitTextStrokeColor),Ge.ctx.lineWidth=B.webkitTextStrokeWidth,Ge.ctx.lineJoin=window.chrome?"miter":"round",Ge.ctx.strokeText(pt.text,pt.bounds.left,pt.bounds.top+be)),Ge.ctx.strokeStyle="",Ge.ctx.lineWidth=0,Ge.ctx.lineJoin="miter";break}})}),[2]})})},p.prototype.renderReplacedElement=function(C,B,Q){if(Q&&C.intrinsicWidth>0&&C.intrinsicHeight>0){var z=Xy(C),te=$y(B);this.path(te),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(Q,0,0,C.intrinsicWidth,C.intrinsicHeight,z.left,z.top,z.width,z.height),this.ctx.restore()}},p.prototype.renderNodeContent=function(C){return i(this,void 0,void 0,function(){var B,Q,z,te,Ae,le,Rt,Rt,be,Ne,Pe,Ge,hr,Ft,pt,or,Et,dr,Ot,Rt,Ur,hr,or;return o(this,function(Tt){switch(Tt.label){case 0:this.applyEffects(C.getEffects(4)),B=C.container,Q=C.curves,z=B.styles,te=0,Ae=B.textNodes,Tt.label=1;case 1:return te<Ae.length?(le=Ae[te],[4,this.renderTextNode(le,z)]):[3,4];case 2:Tt.sent(),Tt.label=3;case 3:return te++,[3,1];case 4:if(!(B instanceof vf))return[3,8];Tt.label=5;case 5:return Tt.trys.push([5,7,,8]),[4,this.context.cache.match(B.src)];case 6:return Rt=Tt.sent(),this.renderReplacedElement(B,Q,Rt),[3,8];case 7:return Tt.sent(),this.context.logger.error("Error loading image "+B.src),[3,8];case 8:if(B instanceof Kk&&this.renderReplacedElement(B,Q,B.canvas),!(B instanceof zk))return[3,12];Tt.label=9;case 9:return Tt.trys.push([9,11,,12]),[4,this.context.cache.match(B.svg)];case 10:return Rt=Tt.sent(),this.renderReplacedElement(B,Q,Rt),[3,12];case 11:return Tt.sent(),this.context.logger.error("Error loading svg "+B.svg.substring(0,255)),[3,12];case 12:return B instanceof Yk&&B.tree?(be=new p(this.context,{scale:this.options.scale,backgroundColor:B.backgroundColor,x:0,y:0,width:B.width,height:B.height}),[4,be.render(B.tree)]):[3,14];case 13:Ne=Tt.sent(),B.width&&B.height&&this.ctx.drawImage(Ne,0,0,B.width,B.height,B.bounds.left,B.bounds.top,B.bounds.width,B.bounds.height),Tt.label=14;case 14:if(B instanceof F2&&(Pe=Math.min(B.bounds.width,B.bounds.height),B.type===Qy?B.checked&&(this.ctx.save(),this.path([new Nt(B.bounds.left+Pe*.39363,B.bounds.top+Pe*.79),new Nt(B.bounds.left+Pe*.16,B.bounds.top+Pe*.5549),new Nt(B.bounds.left+Pe*.27347,B.bounds.top+Pe*.44071),new Nt(B.bounds.left+Pe*.39694,B.bounds.top+Pe*.5649),new Nt(B.bounds.left+Pe*.72983,B.bounds.top+Pe*.23),new Nt(B.bounds.left+Pe*.84,B.bounds.top+Pe*.34085),new Nt(B.bounds.left+Pe*.39363,B.bounds.top+Pe*.79)]),this.ctx.fillStyle=Tn(Wk),this.ctx.fill(),this.ctx.restore()):B.type===Oy&&B.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(B.bounds.left+Pe/2,B.bounds.top+Pe/2,Pe/4,0,Math.PI*2,!0),this.ctx.fillStyle=Tn(Wk),this.ctx.fill(),this.ctx.restore())),e8(B)&&B.value.length){switch(Ge=this.createFontStyle(z),hr=Ge[0],Ft=Ge[1],pt=this.fontMetrics.getMetrics(hr,Ft).baseline,this.ctx.font=hr,this.ctx.fillStyle=Tn(z.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=r8(B.styles.textAlign),or=Xy(B),Et=0,B.styles.textAlign){case 1:Et+=or.width/2;break;case 2:Et+=or.width;break}dr=or.add(Et,0,0,-or.height/2+1),this.ctx.save(),this.path([new Nt(or.left,or.top),new Nt(or.left+or.width,or.top),new Nt(or.left+or.width,or.top+or.height),new Nt(or.left,or.top+or.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Yc(B.value,dr),z.letterSpacing,pt),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Be(B.styles.display,2048))return[3,20];if(B.styles.listStyleImage===null)return[3,19];if(Ot=B.styles.listStyleImage,Ot.type!==0)return[3,18];Rt=void 0,Ur=Ot.url,Tt.label=15;case 15:return Tt.trys.push([15,17,,18]),[4,this.context.cache.match(Ur)];case 16:return Rt=Tt.sent(),this.ctx.drawImage(Rt,B.bounds.left-(Rt.width+10),B.bounds.top),[3,18];case 17:return Tt.sent(),this.context.logger.error("Error loading list-style-image "+Ur),[3,18];case 18:return[3,20];case 19:C.listValue&&B.styles.listStyleType!==-1&&(hr=this.createFontStyle(z)[0],this.ctx.font=hr,this.ctx.fillStyle=Tn(z.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",or=new l(B.bounds.left,B.bounds.top+Er(B.styles.paddingTop,B.bounds.width),B.bounds.width,tl(z.lineHeight,z.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Yc(C.listValue,or),z.letterSpacing,tl(z.lineHeight,z.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Tt.label=20;case 20:return[2]}})})},p.prototype.renderStackContent=function(C){return i(this,void 0,void 0,function(){var B,Q,Ot,z,te,Ot,Ae,le,Ot,be,Ne,Ot,Pe,Ge,Ot,Ft,pt,Ot,Et,dr,Ot;return o(this,function(Rt){switch(Rt.label){case 0:if(Be(C.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(C.element)];case 1:Rt.sent(),B=0,Q=C.negativeZIndex,Rt.label=2;case 2:return B<Q.length?(Ot=Q[B],[4,this.renderStack(Ot)]):[3,5];case 3:Rt.sent(),Rt.label=4;case 4:return B++,[3,2];case 5:return[4,this.renderNodeContent(C.element)];case 6:Rt.sent(),z=0,te=C.nonInlineLevel,Rt.label=7;case 7:return z<te.length?(Ot=te[z],[4,this.renderNode(Ot)]):[3,10];case 8:Rt.sent(),Rt.label=9;case 9:return z++,[3,7];case 10:Ae=0,le=C.nonPositionedFloats,Rt.label=11;case 11:return Ae<le.length?(Ot=le[Ae],[4,this.renderStack(Ot)]):[3,14];case 12:Rt.sent(),Rt.label=13;case 13:return Ae++,[3,11];case 14:be=0,Ne=C.nonPositionedInlineLevel,Rt.label=15;case 15:return be<Ne.length?(Ot=Ne[be],[4,this.renderStack(Ot)]):[3,18];case 16:Rt.sent(),Rt.label=17;case 17:return be++,[3,15];case 18:Pe=0,Ge=C.inlineLevel,Rt.label=19;case 19:return Pe<Ge.length?(Ot=Ge[Pe],[4,this.renderNode(Ot)]):[3,22];case 20:Rt.sent(),Rt.label=21;case 21:return Pe++,[3,19];case 22:Ft=0,pt=C.zeroOrAutoZIndexOrTransformedOrOpacity,Rt.label=23;case 23:return Ft<pt.length?(Ot=pt[Ft],[4,this.renderStack(Ot)]):[3,26];case 24:Rt.sent(),Rt.label=25;case 25:return Ft++,[3,23];case 26:Et=0,dr=C.positiveZIndex,Rt.label=27;case 27:return Et<dr.length?(Ot=dr[Et],[4,this.renderStack(Ot)]):[3,30];case 28:Rt.sent(),Rt.label=29;case 29:return Et++,[3,27];case 30:return[2]}})})},p.prototype.mask=function(C){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(C.slice(0).reverse()),this.ctx.closePath()},p.prototype.path=function(C){this.ctx.beginPath(),this.formatPath(C),this.ctx.closePath()},p.prototype.formatPath=function(C){var B=this;C.forEach(function(Q,z){var te=ba(Q)?Q.start:Q;z===0?B.ctx.moveTo(te.x,te.y):B.ctx.lineTo(te.x,te.y),ba(Q)&&B.ctx.bezierCurveTo(Q.startControl.x,Q.startControl.y,Q.endControl.x,Q.endControl.y,Q.end.x,Q.end.y)})},p.prototype.renderRepeat=function(C,B,Q,z){this.path(C),this.ctx.fillStyle=B,this.ctx.translate(Q,z),this.ctx.fill(),this.ctx.translate(-Q,-z)},p.prototype.resizeImage=function(C,B,Q){var z;if(C.width===B&&C.height===Q)return C;var te=(z=this.canvas.ownerDocument)!==null&&z!==void 0?z:document,Ae=te.createElement("canvas");Ae.width=Math.max(1,B),Ae.height=Math.max(1,Q);var le=Ae.getContext("2d");return le.drawImage(C,0,0,C.width,C.height,0,0,B,Q),Ae},p.prototype.renderBackgroundImage=function(C){return i(this,void 0,void 0,function(){var B,Q,z,te,Ae,le;return o(this,function(be){switch(be.label){case 0:B=C.styles.backgroundImage.length-1,Q=function(Ne){var Pe,Ge,Ft,fs,ko,Eo,Jr,Zs,_r,pt,fs,ko,Eo,Jr,Zs,Et,dr,Ot,Rt,Ur,hr,or,Tt,Cr,_r,ar,fs,_o,Jo,Jr,Zs,eu,ko,Eo,Id,Hl,tu,Sd,Nd,OA,Td,VA;return o(this,function(kf){switch(kf.label){case 0:if(Ne.type!==0)return[3,5];Pe=void 0,Ge=Ne.url,kf.label=1;case 1:return kf.trys.push([1,3,,4]),[4,z.context.cache.match(Ge)];case 2:return Pe=kf.sent(),[3,4];case 3:return kf.sent(),z.context.logger.error("Error loading background-image "+Ge),[3,4];case 4:return Pe&&(Ft=K2(C,B,[Pe.width,Pe.height,Pe.width/Pe.height]),fs=Ft[0],ko=Ft[1],Eo=Ft[2],Jr=Ft[3],Zs=Ft[4],_r=z.ctx.createPattern(z.resizeImage(Pe,Jr,Zs),"repeat"),z.renderRepeat(fs,_r,ko,Eo)),[3,6];case 5:el(Ne)?(pt=K2(C,B,[null,null,null]),fs=pt[0],ko=pt[1],Eo=pt[2],Jr=pt[3],Zs=pt[4],Et=Dc(Ne.angle,Jr,Zs),dr=Et[0],Ot=Et[1],Rt=Et[2],Ur=Et[3],hr=Et[4],or=document.createElement("canvas"),or.width=Jr,or.height=Zs,Tt=or.getContext("2d"),Cr=Tt.createLinearGradient(Ot,Ur,Rt,hr),Ms(Ne.stops,dr).forEach(function(bp){return Cr.addColorStop(bp.stop,Tn(bp.color))}),Tt.fillStyle=Cr,Tt.fillRect(0,0,Jr,Zs),Jr>0&&Zs>0&&(_r=z.ctx.createPattern(or,"repeat"),z.renderRepeat(fs,_r,ko,Eo))):xd(Ne)&&(ar=K2(C,B,[null,null,null]),fs=ar[0],_o=ar[1],Jo=ar[2],Jr=ar[3],Zs=ar[4],eu=Ne.position.length===0?[IA]:Ne.position,ko=Er(eu[0],Jr),Eo=Er(eu[eu.length-1],Zs),Id=TA(Ne,ko,Eo,Jr,Zs),Hl=Id[0],tu=Id[1],Hl>0&&tu>0&&(Sd=z.ctx.createRadialGradient(_o+ko,Jo+Eo,0,_o+ko,Jo+Eo,Hl),Ms(Ne.stops,Hl*2).forEach(function(bp){return Sd.addColorStop(bp.stop,Tn(bp.color))}),z.path(fs),z.ctx.fillStyle=Sd,Hl!==tu?(Nd=C.bounds.left+.5*C.bounds.width,OA=C.bounds.top+.5*C.bounds.height,Td=tu/Hl,VA=1/Td,z.ctx.save(),z.ctx.translate(Nd,OA),z.ctx.transform(1,0,0,Td,0,0),z.ctx.translate(-Nd,-OA),z.ctx.fillRect(_o,VA*(Jo-OA)+OA,Jr,Zs*VA),z.ctx.restore()):z.ctx.fill())),kf.label=6;case 6:return B--,[2]}})},z=this,te=0,Ae=C.styles.backgroundImage.slice(0).reverse(),be.label=1;case 1:return te<Ae.length?(le=Ae[te],[5,Q(le)]):[3,4];case 2:be.sent(),be.label=3;case 3:return te++,[3,1];case 4:return[2]}})})},p.prototype.renderSolidBorder=function(C,B,Q){return i(this,void 0,void 0,function(){return o(this,function(z){return this.path(bE(Q,B)),this.ctx.fillStyle=Tn(C),this.ctx.fill(),[2]})})},p.prototype.renderDoubleBorder=function(C,B,Q,z){return i(this,void 0,void 0,function(){var te,Ae;return o(this,function(le){switch(le.label){case 0:return B<3?[4,this.renderSolidBorder(C,Q,z)]:[3,2];case 1:return le.sent(),[2];case 2:return te=HO(z,Q),this.path(te),this.ctx.fillStyle=Tn(C),this.ctx.fill(),Ae=KO(z,Q),this.path(Ae),this.ctx.fill(),[2]}})})},p.prototype.renderNodeBackgroundAndBorders=function(C){return i(this,void 0,void 0,function(){var B,Q,z,te,Ae,le,be,Ne,Pe=this;return o(this,function(Ge){switch(Ge.label){case 0:return this.applyEffects(C.getEffects(2)),B=C.container.styles,Q=!Go(B.backgroundColor)||B.backgroundImage.length,z=[{style:B.borderTopStyle,color:B.borderTopColor,width:B.borderTopWidth},{style:B.borderRightStyle,color:B.borderRightColor,width:B.borderRightWidth},{style:B.borderBottomStyle,color:B.borderBottomColor,width:B.borderBottomWidth},{style:B.borderLeftStyle,color:B.borderLeftColor,width:B.borderLeftWidth}],te=t8(_f(B.backgroundClip,0),C.curves),Q||B.boxShadow.length?(this.ctx.save(),this.path(te),this.ctx.clip(),Go(B.backgroundColor)||(this.ctx.fillStyle=Tn(B.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(C.container)]):[3,2];case 1:Ge.sent(),this.ctx.restore(),B.boxShadow.slice(0).reverse().forEach(function(Ft){Pe.ctx.save();var pt=Wy(C.curves),Et=Ft.inset?0:JO,dr=OO(pt,-Et+(Ft.inset?1:-1)*Ft.spread.number,(Ft.inset?1:-1)*Ft.spread.number,Ft.spread.number*(Ft.inset?-2:2),Ft.spread.number*(Ft.inset?-2:2));Ft.inset?(Pe.path(pt),Pe.ctx.clip(),Pe.mask(dr)):(Pe.mask(pt),Pe.ctx.clip(),Pe.path(dr)),Pe.ctx.shadowOffsetX=Ft.offsetX.number+Et,Pe.ctx.shadowOffsetY=Ft.offsetY.number,Pe.ctx.shadowColor=Tn(Ft.color),Pe.ctx.shadowBlur=Ft.blur.number,Pe.ctx.fillStyle=Ft.inset?Tn(Ft.color):"rgba(0,0,0,1)",Pe.ctx.fill(),Pe.ctx.restore()}),Ge.label=2;case 2:Ae=0,le=0,be=z,Ge.label=3;case 3:return le<be.length?(Ne=be[le],Ne.style!==0&&!Go(Ne.color)&&Ne.width>0?Ne.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Ne.color,Ne.width,Ae,C.curves,2)]:[3,11]):[3,13];case 4:return Ge.sent(),[3,11];case 5:return Ne.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Ne.color,Ne.width,Ae,C.curves,3)];case 6:return Ge.sent(),[3,11];case 7:return Ne.style!==4?[3,9]:[4,this.renderDoubleBorder(Ne.color,Ne.width,Ae,C.curves)];case 8:return Ge.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Ne.color,Ae,C.curves)];case 10:Ge.sent(),Ge.label=11;case 11:Ae++,Ge.label=12;case 12:return le++,[3,3];case 13:return[2]}})})},p.prototype.renderDashedDottedBorder=function(C,B,Q,z,te){return i(this,void 0,void 0,function(){var Ae,le,be,Ne,Pe,Ge,Ft,pt,Et,dr,Ot,Rt,Ur,hr,or,Tt,or,Tt;return o(this,function(Cr){return this.ctx.save(),Ae=zO(z,Q),le=bE(z,Q),te===2&&(this.path(le),this.ctx.clip()),ba(le[0])?(be=le[0].start.x,Ne=le[0].start.y):(be=le[0].x,Ne=le[0].y),ba(le[1])?(Pe=le[1].end.x,Ge=le[1].end.y):(Pe=le[1].x,Ge=le[1].y),Q===0||Q===2?Ft=Math.abs(be-Pe):Ft=Math.abs(Ne-Ge),this.ctx.beginPath(),te===3?this.formatPath(Ae):this.formatPath(le.slice(0,2)),pt=B<3?B*3:B*2,Et=B<3?B*2:B,te===3&&(pt=B,Et=B),dr=!0,Ft<=pt*2?dr=!1:Ft<=pt*2+Et?(Ot=Ft/(2*pt+Et),pt*=Ot,Et*=Ot):(Rt=Math.floor((Ft+Et)/(pt+Et)),Ur=(Ft-Rt*pt)/(Rt-1),hr=(Ft-(Rt+1)*pt)/Rt,Et=hr<=0||Math.abs(Et-Ur)<Math.abs(Et-hr)?Ur:hr),dr&&(te===3?this.ctx.setLineDash([0,pt+Et]):this.ctx.setLineDash([pt,Et])),te===3?(this.ctx.lineCap="round",this.ctx.lineWidth=B):this.ctx.lineWidth=B*2+1.1,this.ctx.strokeStyle=Tn(C),this.ctx.stroke(),this.ctx.setLineDash([]),te===2&&(ba(le[0])&&(or=le[3],Tt=le[0],this.ctx.beginPath(),this.formatPath([new Nt(or.end.x,or.end.y),new Nt(Tt.start.x,Tt.start.y)]),this.ctx.stroke()),ba(le[1])&&(or=le[1],Tt=le[2],this.ctx.beginPath(),this.formatPath([new Nt(or.end.x,or.end.y),new Nt(Tt.start.x,Tt.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},p.prototype.render=function(C){return i(this,void 0,void 0,function(){var B;return o(this,function(Q){switch(Q.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Tn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),B=VO(C),[4,this.renderStack(B)];case 1:return Q.sent(),this.applyEffects([]),[2,this.canvas]}})})},p}(_E),e8=function(w){return w instanceof qk||w instanceof $k?!0:w instanceof F2&&w.type!==Oy&&w.type!==Qy},t8=function(w,p){switch(w){case 0:return Wy(p);case 2:return UO(p);case 1:default:return $y(p)}},r8=function(w){switch(w){case 1:return"center";case 2:return"right";case 0:default:return"left"}},n8=["-apple-system","system-ui"],s8=function(w){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?w.filter(function(p){return n8.indexOf(p)===-1}):w},i8=function(w){n(p,w);function p(C,B){var Q=w.call(this,C,B)||this;return Q.canvas=B.canvas?B.canvas:document.createElement("canvas"),Q.ctx=Q.canvas.getContext("2d"),Q.options=B,Q.canvas.width=Math.floor(B.width*B.scale),Q.canvas.height=Math.floor(B.height*B.scale),Q.canvas.style.width=B.width+"px",Q.canvas.style.height=B.height+"px",Q.ctx.scale(Q.options.scale,Q.options.scale),Q.ctx.translate(-B.x,-B.y),Q.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+B.width+"x"+B.height+" at "+B.x+","+B.y+") with scale "+B.scale),Q}return p.prototype.render=function(C){return i(this,void 0,void 0,function(){var B,Q;return o(this,function(z){switch(z.label){case 0:return B=gp(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,C),[4,o8(B)];case 1:return Q=z.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Tn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(Q,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},p}(_E),o8=function(w){return new Promise(function(p,C){var B=new Image;B.onload=function(){p(B)},B.onerror=C,B.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(w))})},a8=function(){function w(p){var C=p.id,B=p.enabled;this.id=C,this.enabled=B,this.start=Date.now()}return w.prototype.debug=function(){for(var p=[],C=0;C<arguments.length;C++)p[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,a([this.id,this.getTime()+"ms"],p)):this.info.apply(this,p))},w.prototype.getTime=function(){return Date.now()-this.start},w.prototype.info=function(){for(var p=[],C=0;C<arguments.length;C++)p[C]=arguments[C];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,a([this.id,this.getTime()+"ms"],p))},w.prototype.warn=function(){for(var p=[],C=0;C<arguments.length;C++)p[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,a([this.id,this.getTime()+"ms"],p)):this.info.apply(this,p))},w.prototype.error=function(){for(var p=[],C=0;C<arguments.length;C++)p[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,a([this.id,this.getTime()+"ms"],p)):this.info.apply(this,p))},w.instances={},w}(),l8=function(){function w(p,C){var B;this.windowBounds=C,this.instanceName="#"+w.instanceCount++,this.logger=new a8({id:this.instanceName,enabled:p.logging}),this.cache=(B=p.cache)!==null&&B!==void 0?B:new IO(this,p)}return w.instanceCount=1,w}(),A8=function(w,p){return p===void 0&&(p={}),c8(w,p)};typeof window<"u"&&pE.setContext(window);var c8=function(w,p){return i(void 0,void 0,void 0,function(){var C,B,Q,z,te,Ae,le,be,Ne,Pe,Ge,Ft,pt,Et,dr,Ot,Rt,Ur,hr,or,Cr,Tt,Cr,_r,ar,fs,_o,Jo,Jr,Zs,eu,ko,Eo,Id,Hl,tu,Sd,Nd,OA,Td;return o(this,function(VA){switch(VA.label){case 0:if(!w||typeof w!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(C=w.ownerDocument,!C)throw new Error("Element is not attached to a Document");if(B=C.defaultView,!B)throw new Error("Document is not attached to a Window");return Q={allowTaint:(_r=p.allowTaint)!==null&&_r!==void 0?_r:!1,imageTimeout:(ar=p.imageTimeout)!==null&&ar!==void 0?ar:15e3,proxy:p.proxy,useCORS:(fs=p.useCORS)!==null&&fs!==void 0?fs:!1},z=s({logging:(_o=p.logging)!==null&&_o!==void 0?_o:!0,cache:p.cache},Q),te={windowWidth:(Jo=p.windowWidth)!==null&&Jo!==void 0?Jo:B.innerWidth,windowHeight:(Jr=p.windowHeight)!==null&&Jr!==void 0?Jr:B.innerHeight,scrollX:(Zs=p.scrollX)!==null&&Zs!==void 0?Zs:B.pageXOffset,scrollY:(eu=p.scrollY)!==null&&eu!==void 0?eu:B.pageYOffset},Ae=new l(te.scrollX,te.scrollY,te.windowWidth,te.windowHeight),le=new l8(z,Ae),be=(ko=p.foreignObjectRendering)!==null&&ko!==void 0?ko:!1,Ne={allowTaint:(Eo=p.allowTaint)!==null&&Eo!==void 0?Eo:!1,onclone:p.onclone,ignoreElements:p.ignoreElements,inlineImages:be,copyStyles:be},le.logger.debug("Starting document clone with size "+Ae.width+"x"+Ae.height+" scrolled to "+-Ae.left+","+-Ae.top),Pe=new fE(le,w,Ne),Ge=Pe.clonedReferenceElement,Ge?[4,Pe.toIFrame(C,Ae)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Ft=VA.sent(),pt=L2(Ge)||uO(Ge)?u(Ge.ownerDocument):c(le,Ge),Et=pt.width,dr=pt.height,Ot=pt.left,Rt=pt.top,Ur=u8(le,Ge,p.backgroundColor),hr={canvas:p.canvas,backgroundColor:Ur,scale:(Hl=(Id=p.scale)!==null&&Id!==void 0?Id:B.devicePixelRatio)!==null&&Hl!==void 0?Hl:1,x:((tu=p.x)!==null&&tu!==void 0?tu:0)+Ot,y:((Sd=p.y)!==null&&Sd!==void 0?Sd:0)+Rt,width:(Nd=p.width)!==null&&Nd!==void 0?Nd:Math.ceil(Et),height:(OA=p.height)!==null&&OA!==void 0?OA:Math.ceil(dr)},be?(le.logger.debug("Document cloned, using foreign object rendering"),Cr=new i8(le,hr),[4,Cr.render(Ge)]):[3,3];case 2:return or=VA.sent(),[3,5];case 3:return le.logger.debug("Document cloned, element located at "+Ot+","+Rt+" with size "+Et+"x"+dr+" using computed rendering"),le.logger.debug("Starting DOM parsing"),Tt=Jk(le,Ge),Ur===Tt.styles.backgroundColor&&(Tt.styles.backgroundColor=fi.TRANSPARENT),le.logger.debug("Starting renderer for element at "+hr.x+","+hr.y+" with size "+hr.width+"x"+hr.height),Cr=new ZO(le,hr),[4,Cr.render(Tt)];case 4:or=VA.sent(),VA.label=5;case 5:return(!((Td=p.removeContainer)!==null&&Td!==void 0)||Td)&&(fE.destroy(Ft)||le.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),le.logger.debug("Finished rendering"),[2,or]}})})},u8=function(w,p,C){var B=p.ownerDocument,Q=B.documentElement?zi(w,getComputedStyle(B.documentElement).backgroundColor):fi.TRANSPARENT,z=B.body?zi(w,getComputedStyle(B.body).backgroundColor):fi.TRANSPARENT,te=typeof C=="string"?zi(w,C):C===null?fi.TRANSPARENT:4294967295;return p===B.documentElement?Go(Q)?Go(z)?te:z:Q:te};return A8})}(sB)),sB.exports}/*!
 * html2pdf.js v0.10.3
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */(function(t,e){(function(n,s){t.exports=s(Oie,Vie())})(self,function(r,n){return function(){var s={"./src/plugin/hyperlinks.js":function(l,c,u){u.r(c),u("./node_modules/core-js/modules/web.dom-collections.for-each.js"),u("./node_modules/core-js/modules/es.string.link.js");var d=u("./src/worker.js"),h=u("./src/utils.js"),f=[],m={toContainer:d.default.prototype.toContainer,toPdf:d.default.prototype.toPdf};d.default.prototype.toContainer=function(){return m.toContainer.call(this).then(function(){if(this.opt.enableLinks){var x=this.prop.container,b=x.querySelectorAll("a"),E=(0,h.unitConvert)(x.getBoundingClientRect(),this.prop.pageSize.k);f=[],Array.prototype.forEach.call(b,function(N){for(var j=N.getClientRects(),O=0;O<j.length;O++){var P=(0,h.unitConvert)(j[O],this.prop.pageSize.k);P.left-=E.left,P.top-=E.top;var T=Math.floor(P.top/this.prop.pageSize.inner.height)+1,U=this.opt.margin[0]+P.top%this.prop.pageSize.inner.height,R=this.opt.margin[1]+P.left;f.push({page:T,top:U,left:R,clientRect:P,link:N})}},this)}})},d.default.prototype.toPdf=function(){return m.toPdf.call(this).then(function(){if(this.opt.enableLinks){f.forEach(function(b){this.prop.pdf.setPage(b.page),this.prop.pdf.link(b.left,b.top,b.clientRect.width,b.clientRect.height,{url:b.link.href})},this);var x=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(x)}})}},"./src/plugin/jspdf-plugin.js":function(l,c,u){u.r(c),u("./node_modules/core-js/modules/es.symbol.js"),u("./node_modules/core-js/modules/es.symbol.description.js"),u("./node_modules/core-js/modules/es.object.to-string.js"),u("./node_modules/core-js/modules/es.symbol.iterator.js"),u("./node_modules/core-js/modules/es.array.iterator.js"),u("./node_modules/core-js/modules/es.string.iterator.js"),u("./node_modules/core-js/modules/web.dom-collections.iterator.js");var d=u("jspdf");function h(f){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(v){return typeof v}:h=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},h(f)}d.jsPDF.getPageSize=function(f,m,v){if(h(f)==="object"){var _=f;f=_.orientation,m=_.unit||m,v=_.format||v}m=m||"mm",v=v||"a4",f=(""+(f||"P")).toLowerCase();var x=(""+v).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(m){case"pt":var E=1;break;case"mm":var E=72/25.4;break;case"cm":var E=72/2.54;break;case"in":var E=72;break;case"px":var E=72/96;break;case"pc":var E=12;break;case"em":var E=12;break;case"ex":var E=6;break;default:throw"Invalid unit: "+m}if(b.hasOwnProperty(x))var N=b[x][1]/E,j=b[x][0]/E;else try{var N=v[1],j=v[0]}catch{throw new Error("Invalid format: "+v)}if(f==="p"||f==="portrait"){if(f="p",j>N){var O=j;j=N,N=O}}else if(f==="l"||f==="landscape"){if(f="l",N>j){var O=j;j=N,N=O}}else throw"Invalid orientation: "+f;var P={width:j,height:N,unit:m,k:E};return P},c.default=d.jsPDF},"./src/plugin/pagebreaks.js":function(l,c,u){u.r(c),u("./node_modules/core-js/modules/es.array.concat.js"),u("./node_modules/core-js/modules/es.array.slice.js"),u("./node_modules/core-js/modules/es.array.join.js"),u("./node_modules/core-js/modules/web.dom-collections.for-each.js"),u("./node_modules/core-js/modules/es.object.keys.js");var d=u("./src/worker.js"),h=u("./src/utils.js"),f={toContainer:d.default.prototype.toContainer};d.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},d.default.prototype.toContainer=function(){return f.toContainer.call(this).then(function(){var _=this.prop.container,x=this.prop.pageSize.inner.px.height,b=[].concat(this.opt.pagebreak.mode),E={avoidAll:b.indexOf("avoid-all")!==-1,css:b.indexOf("css")!==-1,legacy:b.indexOf("legacy")!==-1},N={},j=this;["before","after","avoid"].forEach(function(T){var U=E.avoidAll&&T==="avoid";N[T]=U?[]:[].concat(j.opt.pagebreak[T]||[]),N[T].length>0&&(N[T]=Array.prototype.slice.call(_.querySelectorAll(N[T].join(", "))))});var O=_.querySelectorAll(".html2pdf__page-break");O=Array.prototype.slice.call(O);var P=_.querySelectorAll("*");Array.prototype.forEach.call(P,function(U){var R={before:!1,after:E.legacy&&O.indexOf(U)!==-1,avoid:E.avoidAll};if(E.css){var I=window.getComputedStyle(U),L=["always","page","left","right"],M=["avoid","avoid-page"];R={before:R.before||L.indexOf(I.breakBefore||I.pageBreakBefore)!==-1,after:R.after||L.indexOf(I.breakAfter||I.pageBreakAfter)!==-1,avoid:R.avoid||M.indexOf(I.breakInside||I.pageBreakInside)!==-1}}Object.keys(R).forEach(function(Y){R[Y]=R[Y]||N[Y].indexOf(U)!==-1});var W=U.getBoundingClientRect();if(R.avoid&&!R.before){var X=Math.floor(W.top/x),Z=Math.floor(W.bottom/x),ce=Math.abs(W.bottom-W.top)/x;Z!==X&&ce<=1&&(R.before=!0)}if(R.before){var G=(0,h.createElement)("div",{style:{display:"block",height:x-W.top%x+"px"}});U.parentNode.insertBefore(G,U)}if(R.after){var G=(0,h.createElement)("div",{style:{display:"block",height:x-W.bottom%x+"px"}});U.parentNode.insertBefore(G,U.nextSibling)}})})}},"./src/utils.js":function(l,c,u){u.r(c),u.d(c,{objType:function(){return h},createElement:function(){return f},cloneNode:function(){return m},unitConvert:function(){return v},toPx:function(){return _}}),u("./node_modules/core-js/modules/es.number.constructor.js"),u("./node_modules/core-js/modules/es.symbol.js"),u("./node_modules/core-js/modules/es.symbol.description.js"),u("./node_modules/core-js/modules/es.object.to-string.js"),u("./node_modules/core-js/modules/es.symbol.iterator.js"),u("./node_modules/core-js/modules/es.array.iterator.js"),u("./node_modules/core-js/modules/es.string.iterator.js"),u("./node_modules/core-js/modules/web.dom-collections.iterator.js");function d(x){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(E){return typeof E}:d=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},d(x)}var h=function(b){var E=d(b);return E==="undefined"?"undefined":E==="string"||b instanceof String?"string":E==="number"||b instanceof Number?"number":E==="function"||b instanceof Function?"function":b&&b.constructor===Array?"array":b&&b.nodeType===1?"element":E==="object"?"object":"unknown"},f=function(b,E){var N=document.createElement(b);if(E.className&&(N.className=E.className),E.innerHTML){N.innerHTML=E.innerHTML;for(var j=N.getElementsByTagName("script"),O=j.length;O-- >0;null)j[O].parentNode.removeChild(j[O])}for(var P in E.style)N.style[P]=E.style[P];return N},m=function x(b,E){for(var N=b.nodeType===3?document.createTextNode(b.nodeValue):b.cloneNode(!1),j=b.firstChild;j;j=j.nextSibling)(E===!0||j.nodeType!==1||j.nodeName!=="SCRIPT")&&N.appendChild(x(j,E));return b.nodeType===1&&(b.nodeName==="CANVAS"?(N.width=b.width,N.height=b.height,N.getContext("2d").drawImage(b,0,0)):(b.nodeName==="TEXTAREA"||b.nodeName==="SELECT")&&(N.value=b.value),N.addEventListener("load",function(){N.scrollTop=b.scrollTop,N.scrollLeft=b.scrollLeft},!0)),N},v=function(b,E){if(h(b)==="number")return b*72/96/E;var N={};for(var j in b)N[j]=b[j]*72/96/E;return N},_=function(b,E){return Math.floor(b*E/72*96)}},"./src/worker.js":function(l,c,u){u.r(c),u("./node_modules/core-js/modules/es.object.assign.js"),u("./node_modules/core-js/modules/es.array.map.js"),u("./node_modules/core-js/modules/es.object.keys.js"),u("./node_modules/core-js/modules/es.array.concat.js"),u("./node_modules/core-js/modules/es.object.to-string.js"),u("./node_modules/core-js/modules/es.regexp.to-string.js"),u("./node_modules/core-js/modules/es.function.name.js"),u("./node_modules/core-js/modules/web.dom-collections.for-each.js");var d=u("jspdf"),h=u("html2canvas"),f=u("./src/utils.js"),m=u("./node_modules/es6-promise/dist/es6-promise.js"),v=u.n(m),_=v().Promise,x=function b(E){var N=Object.assign(b.convert(_.resolve()),JSON.parse(JSON.stringify(b.template))),j=b.convert(_.resolve(),N);return j=j.setProgress(1,b,1,[b]),j=j.set(E),j};x.prototype=Object.create(_.prototype),x.prototype.constructor=x,x.convert=function(E,N){return E.__proto__=N||x.prototype,E},x.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},x.prototype.from=function(E,N){function j(O){switch((0,f.objType)(O)){case"string":return"string";case"element":return O.nodeName.toLowerCase&&O.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(N=N||j(E),N){case"string":return this.set({src:(0,f.createElement)("div",{innerHTML:E})});case"element":return this.set({src:E});case"canvas":return this.set({canvas:E});case"img":return this.set({img:E});default:return this.error("Unknown source type.")}})},x.prototype.to=function(E){switch(E){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},x.prototype.toContainer=function(){var E=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(E).then(function(){var j={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},O={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};j.opacity=0;var P=(0,f.cloneNode)(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=(0,f.createElement)("div",{className:"html2pdf__overlay",style:j}),this.prop.container=(0,f.createElement)("div",{className:"html2pdf__container",style:O}),this.prop.container.appendChild(P),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})},x.prototype.toCanvas=function(){var E=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(E).then(function(){var j=Object.assign({},this.opt.html2canvas);return delete j.onrendered,h(this.prop.container,j)}).then(function(j){var O=this.opt.html2canvas.onrendered||function(){};O(j),this.prop.canvas=j,document.body.removeChild(this.prop.overlay)})},x.prototype.toImg=function(){var E=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(E).then(function(){var j=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=j})},x.prototype.toPdf=function(){var E=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(E).then(function(){var j=this.prop.canvas,O=this.opt,P=j.height,T=Math.floor(j.width*this.prop.pageSize.inner.ratio),U=Math.ceil(P/T),R=this.prop.pageSize.inner.height,I=document.createElement("canvas"),L=I.getContext("2d");I.width=j.width,I.height=T,this.prop.pdf=this.prop.pdf||new d.jsPDF(O.jsPDF);for(var M=0;M<U;M++){M===U-1&&P%T!==0&&(I.height=P%T,R=I.height*this.prop.pageSize.inner.width/I.width);var W=I.width,X=I.height;L.fillStyle="white",L.fillRect(0,0,W,X),L.drawImage(j,0,M*T,W,X,0,0,W,X),M&&this.prop.pdf.addPage();var Z=I.toDataURL("image/"+O.image.type,O.image.quality);this.prop.pdf.addImage(Z,O.image.type,O.margin[1],O.margin[0],this.prop.pageSize.inner.width,R)}})},x.prototype.output=function(E,N,j){return j=j||"pdf",j.toLowerCase()==="img"||j.toLowerCase()==="image"?this.outputImg(E,N):this.outputPdf(E,N)},x.prototype.outputPdf=function(E,N){var j=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(j).then(function(){return this.prop.pdf.output(E,N)})},x.prototype.outputImg=function(E,N){var j=[function(){return this.prop.img||this.toImg()}];return this.thenList(j).then(function(){switch(E){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+E+'" is not supported.'}})},x.prototype.save=function(E){var N=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(N).set(E?{filename:E}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},x.prototype.set=function(E){if((0,f.objType)(E)!=="object")return this;var N=Object.keys(E||{}).map(function(j){switch(j){case"margin":return this.setMargin.bind(this,E.margin);case"jsPDF":return function(){return this.opt.jsPDF=E.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,E.pageSize);default:return j in x.template.prop?function(){this.prop[j]=E[j]}:function(){this.opt[j]=E[j]}}},this);return this.then(function(){return this.thenList(N)})},x.prototype.get=function(E,N){return this.then(function(){var O=E in x.template.prop?this.prop[E]:this.opt[E];return N?N(O):O})},x.prototype.setMargin=function(E){return this.then(function(){switch((0,f.objType)(E)){case"number":E=[E,E,E,E];case"array":if(E.length===2&&(E=[E[0],E[1],E[0],E[1]]),E.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=E}).then(this.setPageSize)},x.prototype.setPageSize=function(E){return this.then(function(){E=E||d.jsPDF.getPageSize(this.opt.jsPDF),E.hasOwnProperty("inner")||(E.inner={width:E.width-this.opt.margin[1]-this.opt.margin[3],height:E.height-this.opt.margin[0]-this.opt.margin[2]},E.inner.px={width:(0,f.toPx)(E.inner.width,E.k),height:(0,f.toPx)(E.inner.height,E.k)},E.inner.ratio=E.inner.height/E.inner.width),this.prop.pageSize=E})},x.prototype.setProgress=function(E,N,j,O){return E!=null&&(this.progress.val=E),N!=null&&(this.progress.state=N),j!=null&&(this.progress.n=j),O!=null&&(this.progress.stack=O),this.progress.ratio=this.progress.val/this.progress.state,this},x.prototype.updateProgress=function(E,N,j,O){return this.setProgress(E?this.progress.val+E:null,N||null,j?this.progress.n+j:null,O?this.progress.stack.concat(O):null)},x.prototype.then=function(E,N){var j=this;return this.thenCore(E,N,function(P,T){return j.updateProgress(null,null,1,[P]),_.prototype.then.call(this,function(R){return j.updateProgress(null,P),R}).then(P,T).then(function(R){return j.updateProgress(1),R})})},x.prototype.thenCore=function(E,N,j){j=j||_.prototype.then;var O=this;E&&(E=E.bind(O)),N&&(N=N.bind(O));var P=_.toString().indexOf("[native code]")!==-1&&_.name==="Promise",T=P?O:x.convert(Object.assign({},O),_.prototype),U=j.call(T,E,N);return x.convert(U,O.__proto__)},x.prototype.thenExternal=function(E,N){return _.prototype.then.call(this,E,N)},x.prototype.thenList=function(E){var N=this;return E.forEach(function(O){N=N.thenCore(O)}),N},x.prototype.catch=function(b){b&&(b=b.bind(this));var E=_.prototype.catch.call(this,b);return x.convert(E,this)},x.prototype.catchExternal=function(E){return _.prototype.catch.call(this,E)},x.prototype.error=function(E){return this.then(function(){throw new Error(E)})},x.prototype.using=x.prototype.set,x.prototype.saveAs=x.prototype.save,x.prototype.export=x.prototype.output,x.prototype.run=x.prototype.then,c.default=x},"./node_modules/core-js/internals/a-function.js":function(l){l.exports=function(c){if(typeof c!="function")throw TypeError(String(c)+" is not a function");return c}},"./node_modules/core-js/internals/a-possible-prototype.js":function(l,c,u){var d=u("./node_modules/core-js/internals/is-object.js");l.exports=function(h){if(!d(h)&&h!==null)throw TypeError("Can't set "+String(h)+" as a prototype");return h}},"./node_modules/core-js/internals/add-to-unscopables.js":function(l,c,u){var d=u("./node_modules/core-js/internals/well-known-symbol.js"),h=u("./node_modules/core-js/internals/object-create.js"),f=u("./node_modules/core-js/internals/object-define-property.js"),m=d("unscopables"),v=Array.prototype;v[m]==null&&f.f(v,m,{configurable:!0,value:h(null)}),l.exports=function(_){v[m][_]=!0}},"./node_modules/core-js/internals/an-object.js":function(l,c,u){var d=u("./node_modules/core-js/internals/is-object.js");l.exports=function(h){if(!d(h))throw TypeError(String(h)+" is not an object");return h}},"./node_modules/core-js/internals/array-for-each.js":function(l,c,u){var d=u("./node_modules/core-js/internals/array-iteration.js").forEach,h=u("./node_modules/core-js/internals/array-method-is-strict.js"),f=h("forEach");l.exports=f?[].forEach:function(v){return d(this,v,arguments.length>1?arguments[1]:void 0)}},"./node_modules/core-js/internals/array-includes.js":function(l,c,u){var d=u("./node_modules/core-js/internals/to-indexed-object.js"),h=u("./node_modules/core-js/internals/to-length.js"),f=u("./node_modules/core-js/internals/to-absolute-index.js"),m=function(v){return function(_,x,b){var E=d(_),N=h(E.length),j=f(b,N),O;if(v&&x!=x){for(;N>j;)if(O=E[j++],O!=O)return!0}else for(;N>j;j++)if((v||j in E)&&E[j]===x)return v||j||0;return!v&&-1}};l.exports={includes:m(!0),indexOf:m(!1)}},"./node_modules/core-js/internals/array-iteration.js":function(l,c,u){var d=u("./node_modules/core-js/internals/function-bind-context.js"),h=u("./node_modules/core-js/internals/indexed-object.js"),f=u("./node_modules/core-js/internals/to-object.js"),m=u("./node_modules/core-js/internals/to-length.js"),v=u("./node_modules/core-js/internals/array-species-create.js"),_=[].push,x=function(b){var E=b==1,N=b==2,j=b==3,O=b==4,P=b==6,T=b==7,U=b==5||P;return function(R,I,L,M){for(var W=f(R),X=h(W),Z=d(I,L,3),ce=m(X.length),G=0,Y=M||v,ue=E?Y(R,ce):N||T?Y(R,0):void 0,ke,K;ce>G;G++)if((U||G in X)&&(ke=X[G],K=Z(ke,G,W),b))if(E)ue[G]=K;else if(K)switch(b){case 3:return!0;case 5:return ke;case 6:return G;case 2:_.call(ue,ke)}else switch(b){case 4:return!1;case 7:_.call(ue,ke)}return P?-1:j||O?O:ue}};l.exports={forEach:x(0),map:x(1),filter:x(2),some:x(3),every:x(4),find:x(5),findIndex:x(6),filterReject:x(7)}},"./node_modules/core-js/internals/array-method-has-species-support.js":function(l,c,u){var d=u("./node_modules/core-js/internals/fails.js"),h=u("./node_modules/core-js/internals/well-known-symbol.js"),f=u("./node_modules/core-js/internals/engine-v8-version.js"),m=h("species");l.exports=function(v){return f>=51||!d(function(){var _=[],x=_.constructor={};return x[m]=function(){return{foo:1}},_[v](Boolean).foo!==1})}},"./node_modules/core-js/internals/array-method-is-strict.js":function(l,c,u){var d=u("./node_modules/core-js/internals/fails.js");l.exports=function(h,f){var m=[][h];return!!m&&d(function(){m.call(null,f||function(){throw 1},1)})}},"./node_modules/core-js/internals/array-species-constructor.js":function(l,c,u){var d=u("./node_modules/core-js/internals/is-object.js"),h=u("./node_modules/core-js/internals/is-array.js"),f=u("./node_modules/core-js/internals/well-known-symbol.js"),m=f("species");l.exports=function(v){var _;return h(v)&&(_=v.constructor,typeof _=="function"&&(_===Array||h(_.prototype))?_=void 0:d(_)&&(_=_[m],_===null&&(_=void 0))),_===void 0?Array:_}},"./node_modules/core-js/internals/array-species-create.js":function(l,c,u){var d=u("./node_modules/core-js/internals/array-species-constructor.js");l.exports=function(h,f){return new(d(h))(f===0?0:f)}},"./node_modules/core-js/internals/classof-raw.js":function(l){var c={}.toString;l.exports=function(u){return c.call(u).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(l,c,u){var d=u("./node_modules/core-js/internals/to-string-tag-support.js"),h=u("./node_modules/core-js/internals/classof-raw.js"),f=u("./node_modules/core-js/internals/well-known-symbol.js"),m=f("toStringTag"),v=h(function(){return arguments}())=="Arguments",_=function(x,b){try{return x[b]}catch{}};l.exports=d?h:function(x){var b,E,N;return x===void 0?"Undefined":x===null?"Null":typeof(E=_(b=Object(x),m))=="string"?E:v?h(b):(N=h(b))=="Object"&&typeof b.callee=="function"?"Arguments":N}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(l,c,u){var d=u("./node_modules/core-js/internals/has.js"),h=u("./node_modules/core-js/internals/own-keys.js"),f=u("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),m=u("./node_modules/core-js/internals/object-define-property.js");l.exports=function(v,_){for(var x=h(_),b=m.f,E=f.f,N=0;N<x.length;N++){var j=x[N];d(v,j)||b(v,j,E(_,j))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(l,c,u){var d=u("./node_modules/core-js/internals/fails.js");l.exports=!d(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})},"./node_modules/core-js/internals/create-html.js":function(l,c,u){var d=u("./node_modules/core-js/internals/require-object-coercible.js"),h=u("./node_modules/core-js/internals/to-string.js"),f=/"/g;l.exports=function(m,v,_,x){var b=h(d(m)),E="<"+v;return _!==""&&(E+=" "+_+'="'+h(x).replace(f,"&quot;")+'"'),E+">"+b+"</"+v+">"}},"./node_modules/core-js/internals/create-iterator-constructor.js":function(l,c,u){var d=u("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,h=u("./node_modules/core-js/internals/object-create.js"),f=u("./node_modules/core-js/internals/create-property-descriptor.js"),m=u("./node_modules/core-js/internals/set-to-string-tag.js"),v=u("./node_modules/core-js/internals/iterators.js"),_=function(){return this};l.exports=function(x,b,E){var N=b+" Iterator";return x.prototype=h(d,{next:f(1,E)}),m(x,N,!1,!0),v[N]=_,x}},"./node_modules/core-js/internals/create-non-enumerable-property.js":function(l,c,u){var d=u("./node_modules/core-js/internals/descriptors.js"),h=u("./node_modules/core-js/internals/object-define-property.js"),f=u("./node_modules/core-js/internals/create-property-descriptor.js");l.exports=d?function(m,v,_){return h.f(m,v,f(1,_))}:function(m,v,_){return m[v]=_,m}},"./node_modules/core-js/internals/create-property-descriptor.js":function(l){l.exports=function(c,u){return{enumerable:!(c&1),configurable:!(c&2),writable:!(c&4),value:u}}},"./node_modules/core-js/internals/create-property.js":function(l,c,u){var d=u("./node_modules/core-js/internals/to-property-key.js"),h=u("./node_modules/core-js/internals/object-define-property.js"),f=u("./node_modules/core-js/internals/create-property-descriptor.js");l.exports=function(m,v,_){var x=d(v);x in m?h.f(m,x,f(0,_)):m[x]=_}},"./node_modules/core-js/internals/define-iterator.js":function(l,c,u){var d=u("./node_modules/core-js/internals/export.js"),h=u("./node_modules/core-js/internals/create-iterator-constructor.js"),f=u("./node_modules/core-js/internals/object-get-prototype-of.js"),m=u("./node_modules/core-js/internals/object-set-prototype-of.js"),v=u("./node_modules/core-js/internals/set-to-string-tag.js"),_=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=u("./node_modules/core-js/internals/redefine.js"),b=u("./node_modules/core-js/internals/well-known-symbol.js"),E=u("./node_modules/core-js/internals/is-pure.js"),N=u("./node_modules/core-js/internals/iterators.js"),j=u("./node_modules/core-js/internals/iterators-core.js"),O=j.IteratorPrototype,P=j.BUGGY_SAFARI_ITERATORS,T=b("iterator"),U="keys",R="values",I="entries",L=function(){return this};l.exports=function(M,W,X,Z,ce,G,Y){h(X,W,Z);var ue=function(Qe){if(Qe===ce&&he)return he;if(!P&&Qe in se)return se[Qe];switch(Qe){case U:return function(){return new X(this,Qe)};case R:return function(){return new X(this,Qe)};case I:return function(){return new X(this,Qe)}}return function(){return new X(this)}},ke=W+" Iterator",K=!1,se=M.prototype,ae=se[T]||se["@@iterator"]||ce&&se[ce],he=!P&&ae||ue(ce),ye=W=="Array"&&se.entries||ae,Ce,Te,pe;if(ye&&(Ce=f(ye.call(new M)),O!==Object.prototype&&Ce.next&&(!E&&f(Ce)!==O&&(m?m(Ce,O):typeof Ce[T]!="function"&&_(Ce,T,L)),v(Ce,ke,!0,!0),E&&(N[ke]=L))),ce==R&&ae&&ae.name!==R&&(K=!0,he=function(){return ae.call(this)}),(!E||Y)&&se[T]!==he&&_(se,T,he),N[W]=he,ce)if(Te={values:ue(R),keys:G?he:ue(U),entries:ue(I)},Y)for(pe in Te)(P||K||!(pe in se))&&x(se,pe,Te[pe]);else d({target:W,proto:!0,forced:P||K},Te);return Te}},"./node_modules/core-js/internals/define-well-known-symbol.js":function(l,c,u){var d=u("./node_modules/core-js/internals/path.js"),h=u("./node_modules/core-js/internals/has.js"),f=u("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),m=u("./node_modules/core-js/internals/object-define-property.js").f;l.exports=function(v){var _=d.Symbol||(d.Symbol={});h(_,v)||m(_,v,{value:f.f(v)})}},"./node_modules/core-js/internals/descriptors.js":function(l,c,u){var d=u("./node_modules/core-js/internals/fails.js");l.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"./node_modules/core-js/internals/document-create-element.js":function(l,c,u){var d=u("./node_modules/core-js/internals/global.js"),h=u("./node_modules/core-js/internals/is-object.js"),f=d.document,m=h(f)&&h(f.createElement);l.exports=function(v){return m?f.createElement(v):{}}},"./node_modules/core-js/internals/dom-iterables.js":function(l){l.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js/internals/engine-user-agent.js":function(l,c,u){var d=u("./node_modules/core-js/internals/get-built-in.js");l.exports=d("navigator","userAgent")||""},"./node_modules/core-js/internals/engine-v8-version.js":function(l,c,u){var d=u("./node_modules/core-js/internals/global.js"),h=u("./node_modules/core-js/internals/engine-user-agent.js"),f=d.process,m=d.Deno,v=f&&f.versions||m&&m.version,_=v&&v.v8,x,b;_?(x=_.split("."),b=x[0]<4?1:x[0]+x[1]):h&&(x=h.match(/Edge\/(\d+)/),(!x||x[1]>=74)&&(x=h.match(/Chrome\/(\d+)/),x&&(b=x[1]))),l.exports=b&&+b},"./node_modules/core-js/internals/enum-bug-keys.js":function(l){l.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(l,c,u){var d=u("./node_modules/core-js/internals/global.js"),h=u("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,f=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=u("./node_modules/core-js/internals/redefine.js"),v=u("./node_modules/core-js/internals/set-global.js"),_=u("./node_modules/core-js/internals/copy-constructor-properties.js"),x=u("./node_modules/core-js/internals/is-forced.js");l.exports=function(b,E){var N=b.target,j=b.global,O=b.stat,P,T,U,R,I,L;if(j?T=d:O?T=d[N]||v(N,{}):T=(d[N]||{}).prototype,T)for(U in E){if(I=E[U],b.noTargetGet?(L=h(T,U),R=L&&L.value):R=T[U],P=x(j?U:N+(O?".":"#")+U,b.forced),!P&&R!==void 0){if(typeof I==typeof R)continue;_(I,R)}(b.sham||R&&R.sham)&&f(I,"sham",!0),m(T,U,I,b)}}},"./node_modules/core-js/internals/fails.js":function(l){l.exports=function(c){try{return!!c()}catch{return!0}}},"./node_modules/core-js/internals/function-bind-context.js":function(l,c,u){var d=u("./node_modules/core-js/internals/a-function.js");l.exports=function(h,f,m){if(d(h),f===void 0)return h;switch(m){case 0:return function(){return h.call(f)};case 1:return function(v){return h.call(f,v)};case 2:return function(v,_){return h.call(f,v,_)};case 3:return function(v,_,x){return h.call(f,v,_,x)}}return function(){return h.apply(f,arguments)}}},"./node_modules/core-js/internals/get-built-in.js":function(l,c,u){var d=u("./node_modules/core-js/internals/global.js"),h=function(f){return typeof f=="function"?f:void 0};l.exports=function(f,m){return arguments.length<2?h(d[f]):d[f]&&d[f][m]}},"./node_modules/core-js/internals/global.js":function(l){var c=function(u){return u&&u.Math==Math&&u};l.exports=c(typeof globalThis=="object"&&globalThis)||c(typeof window=="object"&&window)||c(typeof self=="object"&&self)||c(typeof Wp=="object"&&Wp)||function(){return this}()||Function("return this")()},"./node_modules/core-js/internals/has.js":function(l,c,u){var d=u("./node_modules/core-js/internals/to-object.js"),h={}.hasOwnProperty;l.exports=Object.hasOwn||function(m,v){return h.call(d(m),v)}},"./node_modules/core-js/internals/hidden-keys.js":function(l){l.exports={}},"./node_modules/core-js/internals/html.js":function(l,c,u){var d=u("./node_modules/core-js/internals/get-built-in.js");l.exports=d("document","documentElement")},"./node_modules/core-js/internals/ie8-dom-define.js":function(l,c,u){var d=u("./node_modules/core-js/internals/descriptors.js"),h=u("./node_modules/core-js/internals/fails.js"),f=u("./node_modules/core-js/internals/document-create-element.js");l.exports=!d&&!h(function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(l,c,u){var d=u("./node_modules/core-js/internals/fails.js"),h=u("./node_modules/core-js/internals/classof-raw.js"),f="".split;l.exports=d(function(){return!Object("z").propertyIsEnumerable(0)})?function(m){return h(m)=="String"?f.call(m,""):Object(m)}:Object},"./node_modules/core-js/internals/inherit-if-required.js":function(l,c,u){var d=u("./node_modules/core-js/internals/is-object.js"),h=u("./node_modules/core-js/internals/object-set-prototype-of.js");l.exports=function(f,m,v){var _,x;return h&&typeof(_=m.constructor)=="function"&&_!==v&&d(x=_.prototype)&&x!==v.prototype&&h(f,x),f}},"./node_modules/core-js/internals/inspect-source.js":function(l,c,u){var d=u("./node_modules/core-js/internals/shared-store.js"),h=Function.toString;typeof d.inspectSource!="function"&&(d.inspectSource=function(f){return h.call(f)}),l.exports=d.inspectSource},"./node_modules/core-js/internals/internal-state.js":function(l,c,u){var d=u("./node_modules/core-js/internals/native-weak-map.js"),h=u("./node_modules/core-js/internals/global.js"),f=u("./node_modules/core-js/internals/is-object.js"),m=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),v=u("./node_modules/core-js/internals/has.js"),_=u("./node_modules/core-js/internals/shared-store.js"),x=u("./node_modules/core-js/internals/shared-key.js"),b=u("./node_modules/core-js/internals/hidden-keys.js"),E="Object already initialized",N=h.WeakMap,j,O,P,T=function(X){return P(X)?O(X):j(X,{})},U=function(X){return function(Z){var ce;if(!f(Z)||(ce=O(Z)).type!==X)throw TypeError("Incompatible receiver, "+X+" required");return ce}};if(d||_.state){var R=_.state||(_.state=new N),I=R.get,L=R.has,M=R.set;j=function(X,Z){if(L.call(R,X))throw new TypeError(E);return Z.facade=X,M.call(R,X,Z),Z},O=function(X){return I.call(R,X)||{}},P=function(X){return L.call(R,X)}}else{var W=x("state");b[W]=!0,j=function(X,Z){if(v(X,W))throw new TypeError(E);return Z.facade=X,m(X,W,Z),Z},O=function(X){return v(X,W)?X[W]:{}},P=function(X){return v(X,W)}}l.exports={set:j,get:O,has:P,enforce:T,getterFor:U}},"./node_modules/core-js/internals/is-array.js":function(l,c,u){var d=u("./node_modules/core-js/internals/classof-raw.js");l.exports=Array.isArray||function(f){return d(f)=="Array"}},"./node_modules/core-js/internals/is-forced.js":function(l,c,u){var d=u("./node_modules/core-js/internals/fails.js"),h=/#|\.prototype\./,f=function(b,E){var N=v[m(b)];return N==x?!0:N==_?!1:typeof E=="function"?d(E):!!E},m=f.normalize=function(b){return String(b).replace(h,".").toLowerCase()},v=f.data={},_=f.NATIVE="N",x=f.POLYFILL="P";l.exports=f},"./node_modules/core-js/internals/is-object.js":function(l){l.exports=function(c){return typeof c=="object"?c!==null:typeof c=="function"}},"./node_modules/core-js/internals/is-pure.js":function(l){l.exports=!1},"./node_modules/core-js/internals/is-symbol.js":function(l,c,u){var d=u("./node_modules/core-js/internals/get-built-in.js"),h=u("./node_modules/core-js/internals/use-symbol-as-uid.js");l.exports=h?function(f){return typeof f=="symbol"}:function(f){var m=d("Symbol");return typeof m=="function"&&Object(f)instanceof m}},"./node_modules/core-js/internals/iterators-core.js":function(l,c,u){var d=u("./node_modules/core-js/internals/fails.js"),h=u("./node_modules/core-js/internals/object-get-prototype-of.js"),f=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=u("./node_modules/core-js/internals/has.js"),v=u("./node_modules/core-js/internals/well-known-symbol.js"),_=u("./node_modules/core-js/internals/is-pure.js"),x=v("iterator"),b=!1,E=function(){return this},N,j,O;[].keys&&(O=[].keys(),"next"in O?(j=h(h(O)),j!==Object.prototype&&(N=j)):b=!0);var P=N==null||d(function(){var T={};return N[x].call(T)!==T});P&&(N={}),(!_||P)&&!m(N,x)&&f(N,x,E),l.exports={IteratorPrototype:N,BUGGY_SAFARI_ITERATORS:b}},"./node_modules/core-js/internals/iterators.js":function(l){l.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(l,c,u){var d=u("./node_modules/core-js/internals/engine-v8-version.js"),h=u("./node_modules/core-js/internals/fails.js");l.exports=!!Object.getOwnPropertySymbols&&!h(function(){var f=Symbol();return!String(f)||!(Object(f)instanceof Symbol)||!Symbol.sham&&d&&d<41})},"./node_modules/core-js/internals/native-weak-map.js":function(l,c,u){var d=u("./node_modules/core-js/internals/global.js"),h=u("./node_modules/core-js/internals/inspect-source.js"),f=d.WeakMap;l.exports=typeof f=="function"&&/native code/.test(h(f))},"./node_modules/core-js/internals/object-assign.js":function(l,c,u){var d=u("./node_modules/core-js/internals/descriptors.js"),h=u("./node_modules/core-js/internals/fails.js"),f=u("./node_modules/core-js/internals/object-keys.js"),m=u("./node_modules/core-js/internals/object-get-own-property-symbols.js"),v=u("./node_modules/core-js/internals/object-property-is-enumerable.js"),_=u("./node_modules/core-js/internals/to-object.js"),x=u("./node_modules/core-js/internals/indexed-object.js"),b=Object.assign,E=Object.defineProperty;l.exports=!b||h(function(){if(d&&b({b:1},b(E({},"a",{enumerable:!0,get:function(){E(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var N={},j={},O=Symbol(),P="abcdefghijklmnopqrst";return N[O]=7,P.split("").forEach(function(T){j[T]=T}),b({},N)[O]!=7||f(b({},j)).join("")!=P})?function(j,O){for(var P=_(j),T=arguments.length,U=1,R=m.f,I=v.f;T>U;)for(var L=x(arguments[U++]),M=R?f(L).concat(R(L)):f(L),W=M.length,X=0,Z;W>X;)Z=M[X++],(!d||I.call(L,Z))&&(P[Z]=L[Z]);return P}:b},"./node_modules/core-js/internals/object-create.js":function(l,c,u){var d=u("./node_modules/core-js/internals/an-object.js"),h=u("./node_modules/core-js/internals/object-define-properties.js"),f=u("./node_modules/core-js/internals/enum-bug-keys.js"),m=u("./node_modules/core-js/internals/hidden-keys.js"),v=u("./node_modules/core-js/internals/html.js"),_=u("./node_modules/core-js/internals/document-create-element.js"),x=u("./node_modules/core-js/internals/shared-key.js"),b=">",E="<",N="prototype",j="script",O=x("IE_PROTO"),P=function(){},T=function(M){return E+j+b+M+E+"/"+j+b},U=function(M){M.write(T("")),M.close();var W=M.parentWindow.Object;return M=null,W},R=function(){var M=_("iframe"),W="java"+j+":",X;if(M.style)return M.style.display="none",v.appendChild(M),M.src=String(W),X=M.contentWindow.document,X.open(),X.write(T("document.F=Object")),X.close(),X.F},I,L=function(){try{I=new ActiveXObject("htmlfile")}catch{}L=document.domain&&I?U(I):R()||U(I);for(var M=f.length;M--;)delete L[N][f[M]];return L()};m[O]=!0,l.exports=Object.create||function(W,X){var Z;return W!==null?(P[N]=d(W),Z=new P,P[N]=null,Z[O]=W):Z=L(),X===void 0?Z:h(Z,X)}},"./node_modules/core-js/internals/object-define-properties.js":function(l,c,u){var d=u("./node_modules/core-js/internals/descriptors.js"),h=u("./node_modules/core-js/internals/object-define-property.js"),f=u("./node_modules/core-js/internals/an-object.js"),m=u("./node_modules/core-js/internals/object-keys.js");l.exports=d?Object.defineProperties:function(_,x){f(_);for(var b=m(x),E=b.length,N=0,j;E>N;)h.f(_,j=b[N++],x[j]);return _}},"./node_modules/core-js/internals/object-define-property.js":function(l,c,u){var d=u("./node_modules/core-js/internals/descriptors.js"),h=u("./node_modules/core-js/internals/ie8-dom-define.js"),f=u("./node_modules/core-js/internals/an-object.js"),m=u("./node_modules/core-js/internals/to-property-key.js"),v=Object.defineProperty;c.f=d?v:function(x,b,E){if(f(x),b=m(b),f(E),h)try{return v(x,b,E)}catch{}if("get"in E||"set"in E)throw TypeError("Accessors not supported");return"value"in E&&(x[b]=E.value),x}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(l,c,u){var d=u("./node_modules/core-js/internals/descriptors.js"),h=u("./node_modules/core-js/internals/object-property-is-enumerable.js"),f=u("./node_modules/core-js/internals/create-property-descriptor.js"),m=u("./node_modules/core-js/internals/to-indexed-object.js"),v=u("./node_modules/core-js/internals/to-property-key.js"),_=u("./node_modules/core-js/internals/has.js"),x=u("./node_modules/core-js/internals/ie8-dom-define.js"),b=Object.getOwnPropertyDescriptor;c.f=d?b:function(N,j){if(N=m(N),j=v(j),x)try{return b(N,j)}catch{}if(_(N,j))return f(!h.f.call(N,j),N[j])}},"./node_modules/core-js/internals/object-get-own-property-names-external.js":function(l,c,u){var d=u("./node_modules/core-js/internals/to-indexed-object.js"),h=u("./node_modules/core-js/internals/object-get-own-property-names.js").f,f={}.toString,m=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],v=function(_){try{return h(_)}catch{return m.slice()}};l.exports.f=function(x){return m&&f.call(x)=="[object Window]"?v(x):h(d(x))}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(l,c,u){var d=u("./node_modules/core-js/internals/object-keys-internal.js"),h=u("./node_modules/core-js/internals/enum-bug-keys.js"),f=h.concat("length","prototype");c.f=Object.getOwnPropertyNames||function(v){return d(v,f)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(l,c){c.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(l,c,u){var d=u("./node_modules/core-js/internals/has.js"),h=u("./node_modules/core-js/internals/to-object.js"),f=u("./node_modules/core-js/internals/shared-key.js"),m=u("./node_modules/core-js/internals/correct-prototype-getter.js"),v=f("IE_PROTO"),_=Object.prototype;l.exports=m?Object.getPrototypeOf:function(x){return x=h(x),d(x,v)?x[v]:typeof x.constructor=="function"&&x instanceof x.constructor?x.constructor.prototype:x instanceof Object?_:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(l,c,u){var d=u("./node_modules/core-js/internals/has.js"),h=u("./node_modules/core-js/internals/to-indexed-object.js"),f=u("./node_modules/core-js/internals/array-includes.js").indexOf,m=u("./node_modules/core-js/internals/hidden-keys.js");l.exports=function(v,_){var x=h(v),b=0,E=[],N;for(N in x)!d(m,N)&&d(x,N)&&E.push(N);for(;_.length>b;)d(x,N=_[b++])&&(~f(E,N)||E.push(N));return E}},"./node_modules/core-js/internals/object-keys.js":function(l,c,u){var d=u("./node_modules/core-js/internals/object-keys-internal.js"),h=u("./node_modules/core-js/internals/enum-bug-keys.js");l.exports=Object.keys||function(m){return d(m,h)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(l,c){var u={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,h=d&&!u.call({1:2},1);c.f=h?function(m){var v=d(this,m);return!!v&&v.enumerable}:u},"./node_modules/core-js/internals/object-set-prototype-of.js":function(l,c,u){var d=u("./node_modules/core-js/internals/an-object.js"),h=u("./node_modules/core-js/internals/a-possible-prototype.js");l.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var f=!1,m={},v;try{v=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,v.call(m,[]),f=m instanceof Array}catch{}return function(x,b){return d(x),h(b),f?v.call(x,b):x.__proto__=b,x}}():void 0)},"./node_modules/core-js/internals/object-to-string.js":function(l,c,u){var d=u("./node_modules/core-js/internals/to-string-tag-support.js"),h=u("./node_modules/core-js/internals/classof.js");l.exports=d?{}.toString:function(){return"[object "+h(this)+"]"}},"./node_modules/core-js/internals/ordinary-to-primitive.js":function(l,c,u){var d=u("./node_modules/core-js/internals/is-object.js");l.exports=function(h,f){var m,v;if(f==="string"&&typeof(m=h.toString)=="function"&&!d(v=m.call(h))||typeof(m=h.valueOf)=="function"&&!d(v=m.call(h))||f!=="string"&&typeof(m=h.toString)=="function"&&!d(v=m.call(h)))return v;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/own-keys.js":function(l,c,u){var d=u("./node_modules/core-js/internals/get-built-in.js"),h=u("./node_modules/core-js/internals/object-get-own-property-names.js"),f=u("./node_modules/core-js/internals/object-get-own-property-symbols.js"),m=u("./node_modules/core-js/internals/an-object.js");l.exports=d("Reflect","ownKeys")||function(_){var x=h.f(m(_)),b=f.f;return b?x.concat(b(_)):x}},"./node_modules/core-js/internals/path.js":function(l,c,u){var d=u("./node_modules/core-js/internals/global.js");l.exports=d},"./node_modules/core-js/internals/redefine.js":function(l,c,u){var d=u("./node_modules/core-js/internals/global.js"),h=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),f=u("./node_modules/core-js/internals/has.js"),m=u("./node_modules/core-js/internals/set-global.js"),v=u("./node_modules/core-js/internals/inspect-source.js"),_=u("./node_modules/core-js/internals/internal-state.js"),x=_.get,b=_.enforce,E=String(String).split("String");(l.exports=function(N,j,O,P){var T=P?!!P.unsafe:!1,U=P?!!P.enumerable:!1,R=P?!!P.noTargetGet:!1,I;if(typeof O=="function"&&(typeof j=="string"&&!f(O,"name")&&h(O,"name",j),I=b(O),I.source||(I.source=E.join(typeof j=="string"?j:""))),N===d){U?N[j]=O:m(j,O);return}else T?!R&&N[j]&&(U=!0):delete N[j];U?N[j]=O:h(N,j,O)})(Function.prototype,"toString",function(){return typeof this=="function"&&x(this).source||v(this)})},"./node_modules/core-js/internals/regexp-flags.js":function(l,c,u){var d=u("./node_modules/core-js/internals/an-object.js");l.exports=function(){var h=d(this),f="";return h.global&&(f+="g"),h.ignoreCase&&(f+="i"),h.multiline&&(f+="m"),h.dotAll&&(f+="s"),h.unicode&&(f+="u"),h.sticky&&(f+="y"),f}},"./node_modules/core-js/internals/require-object-coercible.js":function(l){l.exports=function(c){if(c==null)throw TypeError("Can't call method on "+c);return c}},"./node_modules/core-js/internals/set-global.js":function(l,c,u){var d=u("./node_modules/core-js/internals/global.js");l.exports=function(h,f){try{Object.defineProperty(d,h,{value:f,configurable:!0,writable:!0})}catch{d[h]=f}return f}},"./node_modules/core-js/internals/set-to-string-tag.js":function(l,c,u){var d=u("./node_modules/core-js/internals/object-define-property.js").f,h=u("./node_modules/core-js/internals/has.js"),f=u("./node_modules/core-js/internals/well-known-symbol.js"),m=f("toStringTag");l.exports=function(v,_,x){v&&!h(v=x?v:v.prototype,m)&&d(v,m,{configurable:!0,value:_})}},"./node_modules/core-js/internals/shared-key.js":function(l,c,u){var d=u("./node_modules/core-js/internals/shared.js"),h=u("./node_modules/core-js/internals/uid.js"),f=d("keys");l.exports=function(m){return f[m]||(f[m]=h(m))}},"./node_modules/core-js/internals/shared-store.js":function(l,c,u){var d=u("./node_modules/core-js/internals/global.js"),h=u("./node_modules/core-js/internals/set-global.js"),f="__core-js_shared__",m=d[f]||h(f,{});l.exports=m},"./node_modules/core-js/internals/shared.js":function(l,c,u){var d=u("./node_modules/core-js/internals/is-pure.js"),h=u("./node_modules/core-js/internals/shared-store.js");(l.exports=function(f,m){return h[f]||(h[f]=m!==void 0?m:{})})("versions",[]).push({version:"3.16.0",mode:d?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-html-forced.js":function(l,c,u){var d=u("./node_modules/core-js/internals/fails.js");l.exports=function(h){return d(function(){var f=""[h]('"');return f!==f.toLowerCase()||f.split('"').length>3})}},"./node_modules/core-js/internals/string-multibyte.js":function(l,c,u){var d=u("./node_modules/core-js/internals/to-integer.js"),h=u("./node_modules/core-js/internals/to-string.js"),f=u("./node_modules/core-js/internals/require-object-coercible.js"),m=function(v){return function(_,x){var b=h(f(_)),E=d(x),N=b.length,j,O;return E<0||E>=N?v?"":void 0:(j=b.charCodeAt(E),j<55296||j>56319||E+1===N||(O=b.charCodeAt(E+1))<56320||O>57343?v?b.charAt(E):j:v?b.slice(E,E+2):(j-55296<<10)+(O-56320)+65536)}};l.exports={codeAt:m(!1),charAt:m(!0)}},"./node_modules/core-js/internals/string-trim.js":function(l,c,u){var d=u("./node_modules/core-js/internals/require-object-coercible.js"),h=u("./node_modules/core-js/internals/to-string.js"),f=u("./node_modules/core-js/internals/whitespaces.js"),m="["+f+"]",v=RegExp("^"+m+m+"*"),_=RegExp(m+m+"*$"),x=function(b){return function(E){var N=h(d(E));return b&1&&(N=N.replace(v,"")),b&2&&(N=N.replace(_,"")),N}};l.exports={start:x(1),end:x(2),trim:x(3)}},"./node_modules/core-js/internals/to-absolute-index.js":function(l,c,u){var d=u("./node_modules/core-js/internals/to-integer.js"),h=Math.max,f=Math.min;l.exports=function(m,v){var _=d(m);return _<0?h(_+v,0):f(_,v)}},"./node_modules/core-js/internals/to-indexed-object.js":function(l,c,u){var d=u("./node_modules/core-js/internals/indexed-object.js"),h=u("./node_modules/core-js/internals/require-object-coercible.js");l.exports=function(f){return d(h(f))}},"./node_modules/core-js/internals/to-integer.js":function(l){var c=Math.ceil,u=Math.floor;l.exports=function(d){return isNaN(d=+d)?0:(d>0?u:c)(d)}},"./node_modules/core-js/internals/to-length.js":function(l,c,u){var d=u("./node_modules/core-js/internals/to-integer.js"),h=Math.min;l.exports=function(f){return f>0?h(d(f),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(l,c,u){var d=u("./node_modules/core-js/internals/require-object-coercible.js");l.exports=function(h){return Object(d(h))}},"./node_modules/core-js/internals/to-primitive.js":function(l,c,u){var d=u("./node_modules/core-js/internals/is-object.js"),h=u("./node_modules/core-js/internals/is-symbol.js"),f=u("./node_modules/core-js/internals/ordinary-to-primitive.js"),m=u("./node_modules/core-js/internals/well-known-symbol.js"),v=m("toPrimitive");l.exports=function(_,x){if(!d(_)||h(_))return _;var b=_[v],E;if(b!==void 0){if(x===void 0&&(x="default"),E=b.call(_,x),!d(E)||h(E))return E;throw TypeError("Can't convert object to primitive value")}return x===void 0&&(x="number"),f(_,x)}},"./node_modules/core-js/internals/to-property-key.js":function(l,c,u){var d=u("./node_modules/core-js/internals/to-primitive.js"),h=u("./node_modules/core-js/internals/is-symbol.js");l.exports=function(f){var m=d(f,"string");return h(m)?m:String(m)}},"./node_modules/core-js/internals/to-string-tag-support.js":function(l,c,u){var d=u("./node_modules/core-js/internals/well-known-symbol.js"),h=d("toStringTag"),f={};f[h]="z",l.exports=String(f)==="[object z]"},"./node_modules/core-js/internals/to-string.js":function(l,c,u){var d=u("./node_modules/core-js/internals/is-symbol.js");l.exports=function(h){if(d(h))throw TypeError("Cannot convert a Symbol value to a string");return String(h)}},"./node_modules/core-js/internals/uid.js":function(l){var c=0,u=Math.random();l.exports=function(d){return"Symbol("+String(d===void 0?"":d)+")_"+(++c+u).toString(36)}},"./node_modules/core-js/internals/use-symbol-as-uid.js":function(l,c,u){var d=u("./node_modules/core-js/internals/native-symbol.js");l.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},"./node_modules/core-js/internals/well-known-symbol-wrapped.js":function(l,c,u){var d=u("./node_modules/core-js/internals/well-known-symbol.js");c.f=d},"./node_modules/core-js/internals/well-known-symbol.js":function(l,c,u){var d=u("./node_modules/core-js/internals/global.js"),h=u("./node_modules/core-js/internals/shared.js"),f=u("./node_modules/core-js/internals/has.js"),m=u("./node_modules/core-js/internals/uid.js"),v=u("./node_modules/core-js/internals/native-symbol.js"),_=u("./node_modules/core-js/internals/use-symbol-as-uid.js"),x=h("wks"),b=d.Symbol,E=_?b:b&&b.withoutSetter||m;l.exports=function(N){return(!f(x,N)||!(v||typeof x[N]=="string"))&&(v&&f(b,N)?x[N]=b[N]:x[N]=E("Symbol."+N)),x[N]}},"./node_modules/core-js/internals/whitespaces.js":function(l){l.exports=`	
\v\f\r \u2028\u2029\uFEFF`},"./node_modules/core-js/modules/es.array.concat.js":function(l,c,u){var d=u("./node_modules/core-js/internals/export.js"),h=u("./node_modules/core-js/internals/fails.js"),f=u("./node_modules/core-js/internals/is-array.js"),m=u("./node_modules/core-js/internals/is-object.js"),v=u("./node_modules/core-js/internals/to-object.js"),_=u("./node_modules/core-js/internals/to-length.js"),x=u("./node_modules/core-js/internals/create-property.js"),b=u("./node_modules/core-js/internals/array-species-create.js"),E=u("./node_modules/core-js/internals/array-method-has-species-support.js"),N=u("./node_modules/core-js/internals/well-known-symbol.js"),j=u("./node_modules/core-js/internals/engine-v8-version.js"),O=N("isConcatSpreadable"),P=9007199254740991,T="Maximum allowed index exceeded",U=j>=51||!h(function(){var M=[];return M[O]=!1,M.concat()[0]!==M}),R=E("concat"),I=function(M){if(!m(M))return!1;var W=M[O];return W!==void 0?!!W:f(M)},L=!U||!R;d({target:"Array",proto:!0,forced:L},{concat:function(W){var X=v(this),Z=b(X,0),ce=0,G,Y,ue,ke,K;for(G=-1,ue=arguments.length;G<ue;G++)if(K=G===-1?X:arguments[G],I(K)){if(ke=_(K.length),ce+ke>P)throw TypeError(T);for(Y=0;Y<ke;Y++,ce++)Y in K&&x(Z,ce,K[Y])}else{if(ce>=P)throw TypeError(T);x(Z,ce++,K)}return Z.length=ce,Z}})},"./node_modules/core-js/modules/es.array.iterator.js":function(l,c,u){var d=u("./node_modules/core-js/internals/to-indexed-object.js"),h=u("./node_modules/core-js/internals/add-to-unscopables.js"),f=u("./node_modules/core-js/internals/iterators.js"),m=u("./node_modules/core-js/internals/internal-state.js"),v=u("./node_modules/core-js/internals/define-iterator.js"),_="Array Iterator",x=m.set,b=m.getterFor(_);l.exports=v(Array,"Array",function(E,N){x(this,{type:_,target:d(E),index:0,kind:N})},function(){var E=b(this),N=E.target,j=E.kind,O=E.index++;return!N||O>=N.length?(E.target=void 0,{value:void 0,done:!0}):j=="keys"?{value:O,done:!1}:j=="values"?{value:N[O],done:!1}:{value:[O,N[O]],done:!1}},"values"),f.Arguments=f.Array,h("keys"),h("values"),h("entries")},"./node_modules/core-js/modules/es.array.join.js":function(l,c,u){var d=u("./node_modules/core-js/internals/export.js"),h=u("./node_modules/core-js/internals/indexed-object.js"),f=u("./node_modules/core-js/internals/to-indexed-object.js"),m=u("./node_modules/core-js/internals/array-method-is-strict.js"),v=[].join,_=h!=Object,x=m("join",",");d({target:"Array",proto:!0,forced:_||!x},{join:function(E){return v.call(f(this),E===void 0?",":E)}})},"./node_modules/core-js/modules/es.array.map.js":function(l,c,u){var d=u("./node_modules/core-js/internals/export.js"),h=u("./node_modules/core-js/internals/array-iteration.js").map,f=u("./node_modules/core-js/internals/array-method-has-species-support.js"),m=f("map");d({target:"Array",proto:!0,forced:!m},{map:function(_){return h(this,_,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.slice.js":function(l,c,u){var d=u("./node_modules/core-js/internals/export.js"),h=u("./node_modules/core-js/internals/is-object.js"),f=u("./node_modules/core-js/internals/is-array.js"),m=u("./node_modules/core-js/internals/to-absolute-index.js"),v=u("./node_modules/core-js/internals/to-length.js"),_=u("./node_modules/core-js/internals/to-indexed-object.js"),x=u("./node_modules/core-js/internals/create-property.js"),b=u("./node_modules/core-js/internals/well-known-symbol.js"),E=u("./node_modules/core-js/internals/array-method-has-species-support.js"),N=E("slice"),j=b("species"),O=[].slice,P=Math.max;d({target:"Array",proto:!0,forced:!N},{slice:function(U,R){var I=_(this),L=v(I.length),M=m(U,L),W=m(R===void 0?L:R,L),X,Z,ce;if(f(I)&&(X=I.constructor,typeof X=="function"&&(X===Array||f(X.prototype))?X=void 0:h(X)&&(X=X[j],X===null&&(X=void 0)),X===Array||X===void 0))return O.call(I,M,W);for(Z=new(X===void 0?Array:X)(P(W-M,0)),ce=0;M<W;M++,ce++)M in I&&x(Z,ce,I[M]);return Z.length=ce,Z}})},"./node_modules/core-js/modules/es.function.name.js":function(l,c,u){var d=u("./node_modules/core-js/internals/descriptors.js"),h=u("./node_modules/core-js/internals/object-define-property.js").f,f=Function.prototype,m=f.toString,v=/^\s*function ([^ (]*)/,_="name";d&&!(_ in f)&&h(f,_,{configurable:!0,get:function(){try{return m.call(this).match(v)[1]}catch{return""}}})},"./node_modules/core-js/modules/es.number.constructor.js":function(l,c,u){var d=u("./node_modules/core-js/internals/descriptors.js"),h=u("./node_modules/core-js/internals/global.js"),f=u("./node_modules/core-js/internals/is-forced.js"),m=u("./node_modules/core-js/internals/redefine.js"),v=u("./node_modules/core-js/internals/has.js"),_=u("./node_modules/core-js/internals/classof-raw.js"),x=u("./node_modules/core-js/internals/inherit-if-required.js"),b=u("./node_modules/core-js/internals/is-symbol.js"),E=u("./node_modules/core-js/internals/to-primitive.js"),N=u("./node_modules/core-js/internals/fails.js"),j=u("./node_modules/core-js/internals/object-create.js"),O=u("./node_modules/core-js/internals/object-get-own-property-names.js").f,P=u("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,T=u("./node_modules/core-js/internals/object-define-property.js").f,U=u("./node_modules/core-js/internals/string-trim.js").trim,R="Number",I=h[R],L=I.prototype,M=_(j(L))==R,W=function(Y){if(b(Y))throw TypeError("Cannot convert a Symbol value to a number");var ue=E(Y,"number"),ke,K,se,ae,he,ye,Ce,Te;if(typeof ue=="string"&&ue.length>2){if(ue=U(ue),ke=ue.charCodeAt(0),ke===43||ke===45){if(K=ue.charCodeAt(2),K===88||K===120)return NaN}else if(ke===48){switch(ue.charCodeAt(1)){case 66:case 98:se=2,ae=49;break;case 79:case 111:se=8,ae=55;break;default:return+ue}for(he=ue.slice(2),ye=he.length,Ce=0;Ce<ye;Ce++)if(Te=he.charCodeAt(Ce),Te<48||Te>ae)return NaN;return parseInt(he,se)}}return+ue};if(f(R,!I(" 0o1")||!I("0b1")||I("+0x1"))){for(var X=function(ue){var ke=arguments.length<1?0:ue,K=this;return K instanceof X&&(M?N(function(){L.valueOf.call(K)}):_(K)!=R)?x(new I(W(ke)),K,X):W(ke)},Z=d?O(I):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),ce=0,G;Z.length>ce;ce++)v(I,G=Z[ce])&&!v(X,G)&&T(X,G,P(I,G));X.prototype=L,L.constructor=X,m(h,R,X)}},"./node_modules/core-js/modules/es.object.assign.js":function(l,c,u){var d=u("./node_modules/core-js/internals/export.js"),h=u("./node_modules/core-js/internals/object-assign.js");d({target:"Object",stat:!0,forced:Object.assign!==h},{assign:h})},"./node_modules/core-js/modules/es.object.keys.js":function(l,c,u){var d=u("./node_modules/core-js/internals/export.js"),h=u("./node_modules/core-js/internals/to-object.js"),f=u("./node_modules/core-js/internals/object-keys.js"),m=u("./node_modules/core-js/internals/fails.js"),v=m(function(){f(1)});d({target:"Object",stat:!0,forced:v},{keys:function(x){return f(h(x))}})},"./node_modules/core-js/modules/es.object.to-string.js":function(l,c,u){var d=u("./node_modules/core-js/internals/to-string-tag-support.js"),h=u("./node_modules/core-js/internals/redefine.js"),f=u("./node_modules/core-js/internals/object-to-string.js");d||h(Object.prototype,"toString",f,{unsafe:!0})},"./node_modules/core-js/modules/es.regexp.to-string.js":function(l,c,u){var d=u("./node_modules/core-js/internals/redefine.js"),h=u("./node_modules/core-js/internals/an-object.js"),f=u("./node_modules/core-js/internals/to-string.js"),m=u("./node_modules/core-js/internals/fails.js"),v=u("./node_modules/core-js/internals/regexp-flags.js"),_="toString",x=RegExp.prototype,b=x[_],E=m(function(){return b.call({source:"a",flags:"b"})!="/a/b"}),N=b.name!=_;(E||N)&&d(RegExp.prototype,_,function(){var O=h(this),P=f(O.source),T=O.flags,U=f(T===void 0&&O instanceof RegExp&&!("flags"in x)?v.call(O):T);return"/"+P+"/"+U},{unsafe:!0})},"./node_modules/core-js/modules/es.string.iterator.js":function(l,c,u){var d=u("./node_modules/core-js/internals/string-multibyte.js").charAt,h=u("./node_modules/core-js/internals/to-string.js"),f=u("./node_modules/core-js/internals/internal-state.js"),m=u("./node_modules/core-js/internals/define-iterator.js"),v="String Iterator",_=f.set,x=f.getterFor(v);m(String,"String",function(b){_(this,{type:v,string:h(b),index:0})},function(){var E=x(this),N=E.string,j=E.index,O;return j>=N.length?{value:void 0,done:!0}:(O=d(N,j),E.index+=O.length,{value:O,done:!1})})},"./node_modules/core-js/modules/es.string.link.js":function(l,c,u){var d=u("./node_modules/core-js/internals/export.js"),h=u("./node_modules/core-js/internals/create-html.js"),f=u("./node_modules/core-js/internals/string-html-forced.js");d({target:"String",proto:!0,forced:f("link")},{link:function(v){return h(this,"a","href",v)}})},"./node_modules/core-js/modules/es.symbol.description.js":function(l,c,u){var d=u("./node_modules/core-js/internals/export.js"),h=u("./node_modules/core-js/internals/descriptors.js"),f=u("./node_modules/core-js/internals/global.js"),m=u("./node_modules/core-js/internals/has.js"),v=u("./node_modules/core-js/internals/is-object.js"),_=u("./node_modules/core-js/internals/object-define-property.js").f,x=u("./node_modules/core-js/internals/copy-constructor-properties.js"),b=f.Symbol;if(h&&typeof b=="function"&&(!("description"in b.prototype)||b().description!==void 0)){var E={},N=function(){var R=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),I=this instanceof N?new b(R):R===void 0?b():b(R);return R===""&&(E[I]=!0),I};x(N,b);var j=N.prototype=b.prototype;j.constructor=N;var O=j.toString,P=String(b("test"))=="Symbol(test)",T=/^Symbol\((.*)\)[^)]+$/;_(j,"description",{configurable:!0,get:function(){var R=v(this)?this.valueOf():this,I=O.call(R);if(m(E,R))return"";var L=P?I.slice(7,-1):I.replace(T,"$1");return L===""?void 0:L}}),d({global:!0,forced:!0},{Symbol:N})}},"./node_modules/core-js/modules/es.symbol.iterator.js":function(l,c,u){var d=u("./node_modules/core-js/internals/define-well-known-symbol.js");d("iterator")},"./node_modules/core-js/modules/es.symbol.js":function(l,c,u){var d=u("./node_modules/core-js/internals/export.js"),h=u("./node_modules/core-js/internals/global.js"),f=u("./node_modules/core-js/internals/get-built-in.js"),m=u("./node_modules/core-js/internals/is-pure.js"),v=u("./node_modules/core-js/internals/descriptors.js"),_=u("./node_modules/core-js/internals/native-symbol.js"),x=u("./node_modules/core-js/internals/fails.js"),b=u("./node_modules/core-js/internals/has.js"),E=u("./node_modules/core-js/internals/is-array.js"),N=u("./node_modules/core-js/internals/is-object.js"),j=u("./node_modules/core-js/internals/is-symbol.js"),O=u("./node_modules/core-js/internals/an-object.js"),P=u("./node_modules/core-js/internals/to-object.js"),T=u("./node_modules/core-js/internals/to-indexed-object.js"),U=u("./node_modules/core-js/internals/to-property-key.js"),R=u("./node_modules/core-js/internals/to-string.js"),I=u("./node_modules/core-js/internals/create-property-descriptor.js"),L=u("./node_modules/core-js/internals/object-create.js"),M=u("./node_modules/core-js/internals/object-keys.js"),W=u("./node_modules/core-js/internals/object-get-own-property-names.js"),X=u("./node_modules/core-js/internals/object-get-own-property-names-external.js"),Z=u("./node_modules/core-js/internals/object-get-own-property-symbols.js"),ce=u("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),G=u("./node_modules/core-js/internals/object-define-property.js"),Y=u("./node_modules/core-js/internals/object-property-is-enumerable.js"),ue=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),ke=u("./node_modules/core-js/internals/redefine.js"),K=u("./node_modules/core-js/internals/shared.js"),se=u("./node_modules/core-js/internals/shared-key.js"),ae=u("./node_modules/core-js/internals/hidden-keys.js"),he=u("./node_modules/core-js/internals/uid.js"),ye=u("./node_modules/core-js/internals/well-known-symbol.js"),Ce=u("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),Te=u("./node_modules/core-js/internals/define-well-known-symbol.js"),pe=u("./node_modules/core-js/internals/set-to-string-tag.js"),Qe=u("./node_modules/core-js/internals/internal-state.js"),De=u("./node_modules/core-js/internals/array-iteration.js").forEach,Oe=se("hidden"),We="Symbol",mt="prototype",Me=ye("toPrimitive"),fe=Qe.set,Ht=Qe.getterFor(We),ft=Object[mt],Ye=h.Symbol,lt=f("JSON","stringify"),gt=ce.f,ct=G.f,me=X.f,ze=Y.f,ot=K("symbols"),st=K("op-symbols"),et=K("string-to-symbol-registry"),ht=K("symbol-to-string-registry"),vt=K("wks"),Ie=h.QObject,je=!Ie||!Ie[mt]||!Ie[mt].findChild,qe=v&&x(function(){return L(ct({},"a",{get:function(){return ct(this,"a",{value:7}).a}})).a!=7})?function(Xt,yt,At){var Ct=gt(ft,yt);Ct&&delete ft[yt],ct(Xt,yt,At),Ct&&Xt!==ft&&ct(ft,yt,Ct)}:ct,tt=function(Xt,yt){var At=ot[Xt]=L(Ye[mt]);return fe(At,{type:We,tag:Xt,description:yt}),v||(At.description=yt),At},Pt=function(yt,At,Ct){yt===ft&&Pt(st,At,Ct),O(yt);var Ar=U(At);return O(Ct),b(ot,Ar)?(Ct.enumerable?(b(yt,Oe)&&yt[Oe][Ar]&&(yt[Oe][Ar]=!1),Ct=L(Ct,{enumerable:I(0,!1)})):(b(yt,Oe)||ct(yt,Oe,I(1,{})),yt[Oe][Ar]=!0),qe(yt,Ar,Ct)):ct(yt,Ar,Ct)},Bt=function(yt,At){O(yt);var Ct=T(At),Ar=M(Ct).concat(pr(Ct));return De(Ar,function(ur){(!v||An.call(Ct,ur))&&Pt(yt,ur,Ct[ur])}),yt},zt=function(yt,At){return At===void 0?L(yt):Bt(L(yt),At)},An=function(yt){var At=U(yt),Ct=ze.call(this,At);return this===ft&&b(ot,At)&&!b(st,At)?!1:Ct||!b(this,At)||!b(ot,At)||b(this,Oe)&&this[Oe][At]?Ct:!0},sr=function(yt,At){var Ct=T(yt),Ar=U(At);if(!(Ct===ft&&b(ot,Ar)&&!b(st,Ar))){var ur=gt(Ct,Ar);return ur&&b(ot,Ar)&&!(b(Ct,Oe)&&Ct[Oe][Ar])&&(ur.enumerable=!0),ur}},us=function(yt){var At=me(T(yt)),Ct=[];return De(At,function(Ar){!b(ot,Ar)&&!b(ae,Ar)&&Ct.push(Ar)}),Ct},pr=function(yt){var At=yt===ft,Ct=me(At?st:T(yt)),Ar=[];return De(Ct,function(ur){b(ot,ur)&&(!At||b(ft,ur))&&Ar.push(ot[ur])}),Ar};if(_||(Ye=function(){if(this instanceof Ye)throw TypeError("Symbol is not a constructor");var yt=!arguments.length||arguments[0]===void 0?void 0:R(arguments[0]),At=he(yt),Ct=function(Ar){this===ft&&Ct.call(st,Ar),b(this,Oe)&&b(this[Oe],At)&&(this[Oe][At]=!1),qe(this,At,I(1,Ar))};return v&&je&&qe(ft,At,{configurable:!0,set:Ct}),tt(At,yt)},ke(Ye[mt],"toString",function(){return Ht(this).tag}),ke(Ye,"withoutSetter",function(Xt){return tt(he(Xt),Xt)}),Y.f=An,G.f=Pt,ce.f=sr,W.f=X.f=us,Z.f=pr,Ce.f=function(Xt){return tt(ye(Xt),Xt)},v&&(ct(Ye[mt],"description",{configurable:!0,get:function(){return Ht(this).description}}),m||ke(ft,"propertyIsEnumerable",An,{unsafe:!0}))),d({global:!0,wrap:!0,forced:!_,sham:!_},{Symbol:Ye}),De(M(vt),function(Xt){Te(Xt)}),d({target:We,stat:!0,forced:!_},{for:function(Xt){var yt=R(Xt);if(b(et,yt))return et[yt];var At=Ye(yt);return et[yt]=At,ht[At]=yt,At},keyFor:function(yt){if(!j(yt))throw TypeError(yt+" is not a symbol");if(b(ht,yt))return ht[yt]},useSetter:function(){je=!0},useSimple:function(){je=!1}}),d({target:"Object",stat:!0,forced:!_,sham:!v},{create:zt,defineProperty:Pt,defineProperties:Bt,getOwnPropertyDescriptor:sr}),d({target:"Object",stat:!0,forced:!_},{getOwnPropertyNames:us,getOwnPropertySymbols:pr}),d({target:"Object",stat:!0,forced:x(function(){Z.f(1)})},{getOwnPropertySymbols:function(yt){return Z.f(P(yt))}}),lt){var Xn=!_||x(function(){var Xt=Ye();return lt([Xt])!="[null]"||lt({a:Xt})!="{}"||lt(Object(Xt))!="{}"});d({target:"JSON",stat:!0,forced:Xn},{stringify:function(yt,At,Ct){for(var Ar=[yt],ur=1,Vn;arguments.length>ur;)Ar.push(arguments[ur++]);if(Vn=At,!(!N(At)&&yt===void 0||j(yt)))return E(At)||(At=function(Hn,Qt){if(typeof Vn=="function"&&(Qt=Vn.call(this,Hn,Qt)),!j(Qt))return Qt}),Ar[1]=At,lt.apply(null,Ar)}})}Ye[mt][Me]||ue(Ye[mt],Me,Ye[mt].valueOf),pe(Ye,We),ae[Oe]=!0},"./node_modules/core-js/modules/web.dom-collections.for-each.js":function(l,c,u){var d=u("./node_modules/core-js/internals/global.js"),h=u("./node_modules/core-js/internals/dom-iterables.js"),f=u("./node_modules/core-js/internals/array-for-each.js"),m=u("./node_modules/core-js/internals/create-non-enumerable-property.js");for(var v in h){var _=d[v],x=_&&_.prototype;if(x&&x.forEach!==f)try{m(x,"forEach",f)}catch{x.forEach=f}}},"./node_modules/core-js/modules/web.dom-collections.iterator.js":function(l,c,u){var d=u("./node_modules/core-js/internals/global.js"),h=u("./node_modules/core-js/internals/dom-iterables.js"),f=u("./node_modules/core-js/modules/es.array.iterator.js"),m=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),v=u("./node_modules/core-js/internals/well-known-symbol.js"),_=v("iterator"),x=v("toStringTag"),b=f.values;for(var E in h){var N=d[E],j=N&&N.prototype;if(j){if(j[_]!==b)try{m(j,_,b)}catch{j[_]=b}if(j[x]||m(j,x,E),h[E]){for(var O in f)if(j[O]!==f[O])try{m(j,O,f[O])}catch{j[O]=f[O]}}}}},"./node_modules/es6-promise/dist/es6-promise.js":function(l){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(c,u){l.exports=u()})(this,function(){function c(Ie){var je=typeof Ie;return Ie!==null&&(je==="object"||je==="function")}function u(Ie){return typeof Ie=="function"}var d=void 0;Array.isArray?d=Array.isArray:d=function(Ie){return Object.prototype.toString.call(Ie)==="[object Array]"};var h=d,f=0,m=void 0,v=void 0,_=function(je,qe){M[f]=je,M[f+1]=qe,f+=2,f===2&&(v?v(W):Z())};function x(Ie){v=Ie}function b(Ie){_=Ie}var E=typeof window<"u"?window:void 0,N=E||{},j=N.MutationObserver||N.WebKitMutationObserver,O=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",P=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function T(){return function(){return process.nextTick(W)}}function U(){return typeof m<"u"?function(){m(W)}:L()}function R(){var Ie=0,je=new j(W),qe=document.createTextNode("");return je.observe(qe,{characterData:!0}),function(){qe.data=Ie=++Ie%2}}function I(){var Ie=new MessageChannel;return Ie.port1.onmessage=W,function(){return Ie.port2.postMessage(0)}}function L(){var Ie=setTimeout;return function(){return Ie(W,1)}}var M=new Array(1e3);function W(){for(var Ie=0;Ie<f;Ie+=2){var je=M[Ie],qe=M[Ie+1];je(qe),M[Ie]=void 0,M[Ie+1]=void 0}f=0}function X(){try{var Ie=Function("return this")().require("vertx");return m=Ie.runOnLoop||Ie.runOnContext,U()}catch{return L()}}var Z=void 0;O?Z=T():j?Z=R():P?Z=I():E===void 0?Z=X():Z=L();function ce(Ie,je){var qe=this,tt=new this.constructor(ue);tt[Y]===void 0&&lt(tt);var Pt=qe._state;if(Pt){var Bt=arguments[Pt-1];_(function(){return fe(Pt,tt,Bt,qe._result)})}else mt(qe,tt,Ie,je);return tt}function G(Ie){var je=this;if(Ie&&typeof Ie=="object"&&Ie.constructor===je)return Ie;var qe=new je(ue);return Qe(qe,Ie),qe}var Y=Math.random().toString(36).substring(2);function ue(){}var ke=void 0,K=1,se=2;function ae(){return new TypeError("You cannot resolve a promise with itself")}function he(){return new TypeError("A promises callback cannot return that same promise.")}function ye(Ie,je,qe,tt){try{Ie.call(je,qe,tt)}catch(Pt){return Pt}}function Ce(Ie,je,qe){_(function(tt){var Pt=!1,Bt=ye(qe,je,function(zt){Pt||(Pt=!0,je!==zt?Qe(tt,zt):Oe(tt,zt))},function(zt){Pt||(Pt=!0,We(tt,zt))},"Settle: "+(tt._label||" unknown promise"));!Pt&&Bt&&(Pt=!0,We(tt,Bt))},Ie)}function Te(Ie,je){je._state===K?Oe(Ie,je._result):je._state===se?We(Ie,je._result):mt(je,void 0,function(qe){return Qe(Ie,qe)},function(qe){return We(Ie,qe)})}function pe(Ie,je,qe){je.constructor===Ie.constructor&&qe===ce&&je.constructor.resolve===G?Te(Ie,je):qe===void 0?Oe(Ie,je):u(qe)?Ce(Ie,je,qe):Oe(Ie,je)}function Qe(Ie,je){if(Ie===je)We(Ie,ae());else if(c(je)){var qe=void 0;try{qe=je.then}catch(tt){We(Ie,tt);return}pe(Ie,je,qe)}else Oe(Ie,je)}function De(Ie){Ie._onerror&&Ie._onerror(Ie._result),Me(Ie)}function Oe(Ie,je){Ie._state===ke&&(Ie._result=je,Ie._state=K,Ie._subscribers.length!==0&&_(Me,Ie))}function We(Ie,je){Ie._state===ke&&(Ie._state=se,Ie._result=je,_(De,Ie))}function mt(Ie,je,qe,tt){var Pt=Ie._subscribers,Bt=Pt.length;Ie._onerror=null,Pt[Bt]=je,Pt[Bt+K]=qe,Pt[Bt+se]=tt,Bt===0&&Ie._state&&_(Me,Ie)}function Me(Ie){var je=Ie._subscribers,qe=Ie._state;if(je.length!==0){for(var tt=void 0,Pt=void 0,Bt=Ie._result,zt=0;zt<je.length;zt+=3)tt=je[zt],Pt=je[zt+qe],tt?fe(qe,tt,Pt,Bt):Pt(Bt);Ie._subscribers.length=0}}function fe(Ie,je,qe,tt){var Pt=u(qe),Bt=void 0,zt=void 0,An=!0;if(Pt){try{Bt=qe(tt)}catch(sr){An=!1,zt=sr}if(je===Bt){We(je,he());return}}else Bt=tt;je._state!==ke||(Pt&&An?Qe(je,Bt):An===!1?We(je,zt):Ie===K?Oe(je,Bt):Ie===se&&We(je,Bt))}function Ht(Ie,je){try{je(function(tt){Qe(Ie,tt)},function(tt){We(Ie,tt)})}catch(qe){We(Ie,qe)}}var ft=0;function Ye(){return ft++}function lt(Ie){Ie[Y]=ft++,Ie._state=void 0,Ie._result=void 0,Ie._subscribers=[]}function gt(){return new Error("Array Methods must be provided an Array")}var ct=function(){function Ie(je,qe){this._instanceConstructor=je,this.promise=new je(ue),this.promise[Y]||lt(this.promise),h(qe)?(this.length=qe.length,this._remaining=qe.length,this._result=new Array(this.length),this.length===0?Oe(this.promise,this._result):(this.length=this.length||0,this._enumerate(qe),this._remaining===0&&Oe(this.promise,this._result))):We(this.promise,gt())}return Ie.prototype._enumerate=function(qe){for(var tt=0;this._state===ke&&tt<qe.length;tt++)this._eachEntry(qe[tt],tt)},Ie.prototype._eachEntry=function(qe,tt){var Pt=this._instanceConstructor,Bt=Pt.resolve;if(Bt===G){var zt=void 0,An=void 0,sr=!1;try{zt=qe.then}catch(pr){sr=!0,An=pr}if(zt===ce&&qe._state!==ke)this._settledAt(qe._state,tt,qe._result);else if(typeof zt!="function")this._remaining--,this._result[tt]=qe;else if(Pt===ht){var us=new Pt(ue);sr?We(us,An):pe(us,qe,zt),this._willSettleAt(us,tt)}else this._willSettleAt(new Pt(function(pr){return pr(qe)}),tt)}else this._willSettleAt(Bt(qe),tt)},Ie.prototype._settledAt=function(qe,tt,Pt){var Bt=this.promise;Bt._state===ke&&(this._remaining--,qe===se?We(Bt,Pt):this._result[tt]=Pt),this._remaining===0&&Oe(Bt,this._result)},Ie.prototype._willSettleAt=function(qe,tt){var Pt=this;mt(qe,void 0,function(Bt){return Pt._settledAt(K,tt,Bt)},function(Bt){return Pt._settledAt(se,tt,Bt)})},Ie}();function me(Ie){return new ct(this,Ie).promise}function ze(Ie){var je=this;return h(Ie)?new je(function(qe,tt){for(var Pt=Ie.length,Bt=0;Bt<Pt;Bt++)je.resolve(Ie[Bt]).then(qe,tt)}):new je(function(qe,tt){return tt(new TypeError("You must pass an array to race."))})}function ot(Ie){var je=this,qe=new je(ue);return We(qe,Ie),qe}function st(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function et(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var ht=function(){function Ie(je){this[Y]=Ye(),this._result=this._state=void 0,this._subscribers=[],ue!==je&&(typeof je!="function"&&st(),this instanceof Ie?Ht(this,je):et())}return Ie.prototype.catch=function(qe){return this.then(null,qe)},Ie.prototype.finally=function(qe){var tt=this,Pt=tt.constructor;return u(qe)?tt.then(function(Bt){return Pt.resolve(qe()).then(function(){return Bt})},function(Bt){return Pt.resolve(qe()).then(function(){throw Bt})}):tt.then(qe,qe)},Ie}();ht.prototype.then=ce,ht.all=me,ht.race=ze,ht.resolve=G,ht.reject=ot,ht._setScheduler=x,ht._setAsap=b,ht._asap=_;function vt(){var Ie=void 0;if(typeof Wp<"u")Ie=Wp;else if(typeof self<"u")Ie=self;else try{Ie=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var je=Ie.Promise;if(je){var qe=null;try{qe=Object.prototype.toString.call(je.resolve())}catch{}if(qe==="[object Promise]"&&!je.cast)return}Ie.Promise=ht}return ht.polyfill=vt,ht.Promise=ht,ht})},html2canvas:function(l){l.exports=n},jspdf:function(l){l.exports=r}},i={};function o(l){var c=i[l];if(c!==void 0)return c.exports;var u=i[l]={exports:{}};return s[l].call(u.exports,u,u.exports,o),u.exports}(function(){o.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return o.d(c,{a:c}),c}})(),function(){o.d=function(l,c){for(var u in c)o.o(c,u)&&!o.o(l,u)&&Object.defineProperty(l,u,{enumerable:!0,get:c[u]})}}(),function(){o.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)}}(),function(){o.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})}}();var a={};return function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/o.r(a);var l=o("./src/worker.js");o("./src/plugin/jspdf-plugin.js"),o("./src/plugin/pagebreaks.js"),o("./src/plugin/hyperlinks.js");var c=function u(d,h){var f=new u.Worker(h);return d?f.from(d).save():f};c.Worker=l.default,a.default=c}(),a=a.default,a}()})})(NM);var Hie=NM.exports;const Kie=nF(Hie);function zie(){var U,R,I,L;const{id:t}=D4(),{user:e}=io(),r=xs(),n=J.useRef(),[s,i]=J.useState(null),[o,a]=J.useState(!0),[l,c]=J.useState(null),[u,d]=J.useState(!1),[h,f]=J.useState(null),m=J.useCallback(async()=>{if(e)try{const M=await hA(Dr(tr,"users",e.uid,"settings","userSettings"));M.exists()&&f(M.data())}catch(M){console.error("Error loading business info:",M)}},[e]),v=J.useCallback(async()=>{if(!e||!t){r("/invoices");return}try{a(!0),c(null);const M=Dr(tr,"users",e.uid,"invoices",t),W=await hA(M);if(W.exists()){const X=W.data(),Z={id:W.id,...X,createdAt:dh(X.createdAt),dueDate:X.dueDate?dh(X.dueDate):null,paidAt:X.paidAt?dh(X.paidAt):null};i(Z)}else c("Invoice not found")}catch(M){console.error("Error loading invoice:",M),c("Failed to load invoice")}finally{a(!1)}},[e,t,r]);J.useEffect(()=>{v(),m()},[v,m]);const _=M=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(M||0),x=()=>{if(!s)return{subtotal:0,tax:0,total:0};const M=(s.parts||[]).reduce((Z,ce)=>Z+(parseFloat(ce.cost)||0)*(parseInt(ce.quantity)||0),0)+(parseFloat(s.laborCost)||0),W=M*(parseFloat(s.taxRate)||0),X=M+W;return{subtotal:M,tax:W,total:X}},b=async()=>{if(n.current)try{d(!0);const M={margin:[.5,.5,.5,.5],filename:`invoice-${s.invoiceNumber||s.id}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,letterRendering:!0,allowTaint:!0},jsPDF:{unit:"in",format:"letter",orientation:"portrait",compress:!0}};await Kie().set(M).from(n.current).save(),Ke.success("PDF downloaded successfully")}catch(M){console.error("Error generating PDF:",M),Ke.error("Failed to generate PDF")}finally{d(!1)}},E=()=>{window.print()},N=()=>{r(`/invoices/${s.id}/edit`)},j=async()=>{if(confirm("Are you sure you want to delete this invoice?"))try{Ke.success("Invoice deleted successfully"),r("/invoices")}catch(M){console.error("Error deleting invoice:",M),Ke.error("Failed to delete invoice")}};if(o)return A.jsx(Mo,{});if(l)return A.jsx(ca,{message:l});if(!s)return A.jsx(ca,{message:"Invoice not found"});const{subtotal:O,tax:P,total:T}=x();return A.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[A.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 print:hidden",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("button",{onClick:()=>r("/invoices"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[A.jsx(Qx,{size:20}),"Back to Invoices"]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[A.jsx(rse,{size:16}),"Print"]}),A.jsxs("button",{onClick:b,disabled:u,className:"flex items-center gap-2 px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:[A.jsx(sd,{size:16}),u?"Generating...":"Download PDF"]}),A.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:[A.jsx(Yne,{size:16}),"Edit"]}),A.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",children:[A.jsx(Mh,{size:16}),"Delete"]})]})]})}),A.jsx("div",{className:"max-w-4xl mx-auto p-6",children:A.jsxs("div",{ref:n,className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg print:shadow-none print:rounded-none print:bg-white print:text-black",children:[A.jsx("div",{className:"border-b-2 border-blue-600 p-8 print:border-black",children:A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("h1",{className:"text-4xl font-bold text-blue-600 dark:text-white print:text-black mb-2",children:(h==null?void 0:h.businessName)||"Your Business Name"}),A.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 print:text-black space-y-1",children:[(h==null?void 0:h.businessAddress)&&A.jsx("p",{className:"font-medium",children:h.businessAddress}),A.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[(h==null?void 0:h.businessPhone)&&A.jsxs("p",{className:"flex items-center gap-1",children:[A.jsx(Rh,{size:14}),h.businessPhone]}),(h==null?void 0:h.businessEmail)&&A.jsxs("p",{className:"flex items-center gap-1",children:[A.jsx(pc,{size:14}),h.businessEmail]})]})]})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white print:text-black mb-4",children:"INVOICE"}),A.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 print:bg-gray-100 p-4 rounded-lg",children:A.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 print:text-black space-y-2",children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:"font-medium",children:"Invoice #:"}),A.jsx("span",{className:"font-bold",children:s.invoiceNumber||s.id})]}),A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:"font-medium",children:"Date:"}),A.jsx("span",{children:YT(s.createdAt)})]}),A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:"font-medium",children:"Due Date:"}),A.jsx("span",{children:YT(s.dueDate)})]}),s.poNumber&&A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:"font-medium",children:"PO #:"}),A.jsx("span",{className:"font-bold",children:s.poNumber})]})]})})]})]})}),A.jsx("div",{className:"p-8 border-b border-gray-200 dark:border-gray-700 print:border-black",children:A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-semibold text-blue-600 dark:text-white print:text-black mb-4 border-b pb-2",children:"Bill To:"}),A.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 print:bg-gray-100 p-4 rounded-lg",children:A.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 print:text-black space-y-2",children:[A.jsx("p",{className:"font-bold text-lg text-gray-900 dark:text-white print:text-black",children:((U=s.customer)==null?void 0:U.name)||s.customerName||"N/A"}),((R=s.customer)==null?void 0:R.email)&&A.jsxs("p",{className:"flex items-center gap-1",children:[A.jsx(pc,{size:14}),s.customer.email]}),((I=s.customer)==null?void 0:I.phone)&&A.jsxs("p",{className:"flex items-center gap-1",children:[A.jsx(Rh,{size:14}),s.customer.phone]}),((L=s.customer)==null?void 0:L.address)&&A.jsxs("p",{className:"flex items-start gap-1",children:[A.jsx(bk,{size:14,className:"mt-0.5"}),s.customer.address]})]})})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-semibold text-blue-600 dark:text-white print:text-black mb-4 border-b pb-2",children:"Service Details:"}),A.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 print:bg-gray-100 p-4 rounded-lg",children:A.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 print:text-black space-y-2",children:[s.vehicleInfo&&A.jsxs("p",{children:[A.jsx("strong",{children:"Vehicle:"})," ",s.vehicleInfo]}),s.description&&A.jsxs("p",{children:[A.jsx("strong",{children:"Service:"})," ",s.description]}),s.notes&&A.jsxs("p",{children:[A.jsx("strong",{children:"Notes:"})," ",s.notes]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Payment Terms:"})," ",s.paymentTerms||"Net 30"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Status:"}),A.jsx("span",{className:`ml-2 px-3 py-1 rounded-full text-xs font-bold ${s.status==="paid"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 print:bg-green-200 print:text-green-800":s.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 print:bg-yellow-200 print:text-yellow-800":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200 print:bg-gray-200 print:text-gray-800"}`,children:(s.status||"draft").toUpperCase()})]})]})})]})]})}),A.jsxs("div",{className:"p-8",children:[A.jsx("h3",{className:"text-lg font-semibold text-blue-600 dark:text-white print:text-black mb-6 border-b pb-2",children:"Items & Services"}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full border-collapse border border-gray-300 dark:border-gray-600 print:border-black",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-blue-50 dark:bg-gray-700 print:bg-gray-200",children:[A.jsx("th",{className:"text-left py-4 px-4 font-bold text-gray-900 dark:text-white print:text-black border-b-2 border-gray-300 dark:border-gray-600 print:border-black",children:"Description"}),A.jsx("th",{className:"text-right py-4 px-4 font-bold text-gray-900 dark:text-white print:text-black border-b-2 border-gray-300 dark:border-gray-600 print:border-black",children:"Qty"}),A.jsx("th",{className:"text-right py-4 px-4 font-bold text-gray-900 dark:text-white print:text-black border-b-2 border-gray-300 dark:border-gray-600 print:border-black",children:"Rate"}),A.jsx("th",{className:"text-right py-4 px-4 font-bold text-gray-900 dark:text-white print:text-black border-b-2 border-gray-300 dark:border-gray-600 print:border-black",children:"Amount"})]})}),A.jsxs("tbody",{children:[s.parts&&s.parts.map((M,W)=>A.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 print:border-black hover:bg-gray-50 dark:hover:bg-gray-800 print:hover:bg-transparent",children:[A.jsx("td",{className:"py-4 px-4 text-gray-900 dark:text-white print:text-black border-r border-gray-200 dark:border-gray-700 print:border-black",children:A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold",children:M.name}),M.description&&A.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 print:text-gray-600 mt-1",children:M.description})]})}),A.jsx("td",{className:"py-4 px-4 text-right text-gray-900 dark:text-white print:text-black border-r border-gray-200 dark:border-gray-700 print:border-black",children:M.quantity||1}),A.jsx("td",{className:"py-4 px-4 text-right text-gray-900 dark:text-white print:text-black border-r border-gray-200 dark:border-gray-700 print:border-black",children:_(M.cost)}),A.jsx("td",{className:"py-4 px-4 text-right font-semibold text-gray-900 dark:text-white print:text-black",children:_((parseFloat(M.cost)||0)*(parseInt(M.quantity)||1))})]},W)),s.laborCost&&parseFloat(s.laborCost)>0&&A.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 print:border-black hover:bg-gray-50 dark:hover:bg-gray-800 print:hover:bg-transparent",children:[A.jsx("td",{className:"py-4 px-4 text-gray-900 dark:text-white print:text-black border-r border-gray-200 dark:border-gray-700 print:border-black",children:A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold",children:"Labor"}),s.laborDescription&&A.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 print:text-gray-600 mt-1",children:s.laborDescription})]})}),A.jsx("td",{className:"py-4 px-4 text-right text-gray-900 dark:text-white print:text-black border-r border-gray-200 dark:border-gray-700 print:border-black",children:s.laborHours||1}),A.jsx("td",{className:"py-4 px-4 text-right text-gray-900 dark:text-white print:text-black border-r border-gray-200 dark:border-gray-700 print:border-black",children:_(s.laborRate||s.laborCost)}),A.jsx("td",{className:"py-4 px-4 text-right font-semibold text-gray-900 dark:text-white print:text-black",children:_(s.laborCost)})]})]}),A.jsxs("tfoot",{children:[A.jsxs("tr",{className:"border-t-2 border-gray-300 dark:border-gray-600 print:border-black bg-gray-50 dark:bg-gray-700 print:bg-gray-100",children:[A.jsx("td",{colSpan:"3",className:"py-4 px-4 text-right font-bold text-gray-900 dark:text-white print:text-black border-r border-gray-300 dark:border-gray-600 print:border-black",children:"Subtotal:"}),A.jsx("td",{className:"py-4 px-4 text-right font-bold text-gray-900 dark:text-white print:text-black",children:_(O)})]}),P>0&&A.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700 print:bg-gray-100",children:[A.jsxs("td",{colSpan:"3",className:"py-4 px-4 text-right font-bold text-gray-900 dark:text-white print:text-black border-r border-gray-300 dark:border-gray-600 print:border-black",children:["Tax (",((parseFloat(s.taxRate)||0)*100).toFixed(1),"%):"]}),A.jsx("td",{className:"py-4 px-4 text-right font-bold text-gray-900 dark:text-white print:text-black",children:_(P)})]}),A.jsxs("tr",{className:"border-t-2 border-blue-600 dark:border-blue-500 print:border-black bg-blue-50 dark:bg-blue-900 print:bg-blue-100",children:[A.jsx("td",{colSpan:"3",className:"py-5 px-4 text-right text-xl font-bold text-blue-900 dark:text-white print:text-black border-r border-blue-300 dark:border-blue-600 print:border-black",children:"TOTAL:"}),A.jsx("td",{className:"py-5 px-4 text-right text-xl font-bold text-blue-900 dark:text-white print:text-black",children:_(T)})]})]})]})})]}),s.notes&&A.jsxs("div",{className:"px-8 pb-8",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Notes"}),A.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:A.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 whitespace-pre-wrap",children:s.notes})})]}),A.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-8 bg-gray-50 dark:bg-gray-700",children:A.jsxs("div",{className:"text-center",children:[A.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Thank you for your business!"}),A.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:s.paymentTerms||"Payment due within 30 days"})]})})]})}),A.jsx("style",{children:`
        @media print {
          body {
            margin: 0;
            padding: 0;
            background: white !important;
          }
          
          .print\\:hidden {
            display: none !important;
          }
          
          .print\\:shadow-none {
            box-shadow: none !important;
          }
          
          .print\\:rounded-none {
            border-radius: 0 !important;
          }
          
          .dark\\:bg-gray-900 {
            background: white !important;
          }
          
          .dark\\:bg-gray-800 {
            background: white !important;
          }
          
          .dark\\:text-white {
            color: black !important;
          }
          
          .dark\\:text-gray-400 {
            color: #666 !important;
          }
          
          .dark\\:border-gray-700 {
            border-color: #ccc !important;
          }
        }
      `})]})}const JM=(t=9)=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let r="";for(let n=0;n<t;n++)r+=e.charAt(Math.floor(Math.random()*e.length));return r},Gie=()=>JM(8),Wie=t=>!t||!t.businessName?"BIZ":t.businessName.replace(/[^A-Za-z]/g,"").substring(0,3).toUpperCase()||"BIZ",P3=(t,e=null)=>{if(e)return e;const r=Wie(t),n=JM(9),s=new Date().getFullYear(),i=String(new Date().getMonth()+1).padStart(2,"0");return`${r}-${s}${i}-${n}`};function L3(){const{user:t}=io(),{addInvoice:e,updateInvoice:r}=xl(),{customers:n}=bc(),s=xs(),i=zh(),{id:o}=D4(),a=!!o,[l,c]=J.useState(1),[u,d]=J.useState(!1),[h,f]=J.useState(null),[m,v]=J.useState([]),[_,x]=J.useState({name:"",cost:"",quantity:1,description:""}),[b,E]=J.useState({}),[N,j]=J.useState({title:"Service Invoice",date:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],notes:"",taxRate:.1,poNumber:"",invoiceNumber:"GENERATING...",paymentTerms:"Net 30",status:"draft"}),O=[{id:1,title:"Customer",icon:SM,description:"Select customer"},{id:2,title:"Items",icon:vse,description:"Add parts & services"},{id:3,title:"Details",icon:gse,description:"Invoice details"},{id:4,title:"Review",icon:yse,description:"Review & save"}],P=Y=>{const ue={};switch(Y){case 1:h||(ue.customer="Please select a customer");break;case 2:m.length===0&&(ue.parts="Please add at least one item");break;case 3:N.title.trim()||(ue.title="Invoice title is required"),N.date||(ue.date="Invoice date is required"),N.dueDate||(ue.dueDate="Due date is required");break}return E(ue),Object.keys(ue).length===0},T=()=>{const Y=Gie();j(ue=>({...ue,poNumber:Y})),Ke.success("PO number generated!")};J.useEffect(()=>{(async()=>{var ue;if(t){d(!0);try{if((ue=i.state)!=null&&ue.invoiceData){const ke=i.state.invoiceData;ke.customer&&(f(ke.customer),j(K=>({...K,notes:ke.notes||(ke.vehicle?`Service for ${ke.vehicle.year} ${ke.vehicle.make} ${ke.vehicle.model}`:K.notes)}))),ke.parts&&ke.parts.length>0&&v(ke.parts)}if(a&&o){const ke=await hA(Dr(tr,"users",t.uid,"invoices",o));if(ke.exists()){const K=ke.data();if(j({title:K.title||"Service Invoice",date:K.date||new Date().toISOString().split("T")[0],dueDate:K.dueDate||new Date(Date.now()+2592e6).toISOString().split("T")[0],notes:K.notes||"",taxRate:K.taxRate||.1,poNumber:K.poNumber||"",invoiceNumber:K.invoiceNumber||P3(),paymentTerms:K.paymentTerms||"Net 30",status:K.status||"draft"}),v(K.parts||K.items||[]),K.customer){const se=n.find(ae=>ae.id===K.customer.id)||K.customer;f(se)}}else Ke.error("Invoice not found"),s("/invoices")}else j(ke=>({...ke,invoiceNumber:P3()}))}catch(ke){console.error("Error loading data:",ke),Ke.error("Failed to load data")}finally{d(!1)}}})()},[t,a,o,s,i.state,n]);const U=()=>{if(!_.name||!_.cost){Ke.error("Please provide both part name and cost");return}const Y={..._,cost:parseFloat(_.cost),total:parseFloat(_.cost)*_.quantity};v([...m,Y]),x({name:"",cost:"",quantity:1,description:""})},R=Y=>{v(m.filter((ue,ke)=>ke!==Y))},I=(Y,ue,ke)=>{const K=[...m];K[Y]={...K[Y],[ue]:ke,total:ue==="cost"||ue==="quantity"?parseFloat(ke||0)*(ue==="cost"?K[Y].quantity:parseFloat(K[Y].cost||0)):K[Y].total},v(K)},L=()=>m.reduce((Y,ue)=>Y+(parseFloat(ue.cost)||0)*(parseFloat(ue.quantity)||1),0),M=()=>L()*(parseFloat(N.taxRate)||0),W=()=>L()+M(),X=()=>{P(l)&&c(Y=>Math.min(Y+1,4))},Z=()=>{c(Y=>Math.max(Y-1,1))},ce=async()=>{if(P(l)){d(!0);try{const Y={...N,customer:h,parts:m,totalAmount:W(),subtotal:L(),tax:M(),status:N.status||"draft",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};if(a)await r(o,Y),Ke.success("Invoice updated successfully");else{const ue=await e(Y);Ke.success("Invoice created successfully"),s(`/invoices/${ue}`);return}s("/invoices")}catch(Y){console.error("Error saving invoice:",Y),Ke.error("Failed to save invoice")}finally{d(!1)}}},G=Y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Y||0);return u?A.jsx("div",{className:"min-h-screen flex items-center justify-center",children:A.jsx(Mo,{size:"lg"})}):A.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:A.jsxs("div",{className:"max-w-6xl mx-auto",children:[A.jsxs("div",{className:"mb-8",children:[A.jsxs("button",{onClick:()=>s("/invoices"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors mb-4",children:[A.jsx(a3,{}),"Back to Invoices"]}),A.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:a?"Edit Invoice":"Create Invoice"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:a?"Update your invoice details":"Create a new invoice for your customer"})]}),A.jsx("div",{className:"mb-8",children:A.jsx("div",{className:"flex items-center justify-between",children:O.map((Y,ue)=>A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${l>=Y.id?"bg-blue-500 border-blue-500 text-white":"border-gray-300 text-gray-400"}`,children:l>Y.id?A.jsx(l3,{size:16}):A.jsx(Y.icon,{size:16})}),A.jsxs("div",{className:"ml-3",children:[A.jsx("div",{className:`text-sm font-medium ${l>=Y.id?"text-blue-600 dark:text-blue-400":"text-gray-500"}`,children:Y.title}),A.jsx("div",{className:"text-xs text-gray-400",children:Y.description})]}),ue<O.length-1&&A.jsx("div",{className:`w-full h-0.5 mx-4 ${l>Y.id?"bg-blue-500":"bg-gray-300"}`})]},Y.id))})}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-8 mb-8",children:[l===1&&A.jsxs("div",{className:"space-y-6",children:[A.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Select Customer"}),b.customer&&A.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-3",children:A.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:b.customer})}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(Y=>A.jsx("div",{onClick:()=>f(Y),className:`p-4 border rounded-lg cursor-pointer transition-all ${(h==null?void 0:h.id)===Y.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:Y.name}),A.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:Y.email}),Y.company&&A.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:Y.company})]}),(h==null?void 0:h.id)===Y.id&&A.jsx(l3,{className:"text-blue-500"})]})},Y.id))}),n.length===0&&A.jsxs("div",{className:"text-center py-8",children:[A.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No customers found."}),A.jsx("button",{onClick:()=>s("/customers"),className:"mt-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:"Create a customer first"})]})]}),l===2&&A.jsxs("div",{className:"space-y-6",children:[A.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add Items"}),b.parts&&A.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-3",children:A.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:b.parts})}),A.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[A.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"Add New Item"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Item Name"}),A.jsx("input",{type:"text",value:_.name,onChange:Y=>x({..._,name:Y.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",placeholder:"Enter item name"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cost"}),A.jsx("input",{type:"number",value:_.cost,onChange:Y=>x({..._,cost:Y.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",placeholder:"0.00",step:"0.01"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Quantity"}),A.jsx("input",{type:"number",value:_.quantity,onChange:Y=>x({..._,quantity:parseInt(Y.target.value)||1}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",placeholder:"1",min:"1"})]}),A.jsx("div",{className:"flex items-end",children:A.jsxs("button",{onClick:U,className:"w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md transition-colors",children:[A.jsx(Cse,{className:"inline mr-2"}),"Add Item"]})})]}),A.jsxs("div",{className:"mt-4",children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description (Optional)"}),A.jsx("textarea",{value:_.description,onChange:Y=>x({..._,description:Y.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",rows:"2",placeholder:"Enter item description"})]})]}),m.length>0&&A.jsxs("div",{children:[A.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"Invoice Items"}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full border-collapse border border-gray-200 dark:border-gray-700",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[A.jsx("th",{className:"border border-gray-200 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Item"}),A.jsx("th",{className:"border border-gray-200 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Cost"}),A.jsx("th",{className:"border border-gray-200 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Qty"}),A.jsx("th",{className:"border border-gray-200 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Total"}),A.jsx("th",{className:"border border-gray-200 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Actions"})]})}),A.jsx("tbody",{children:m.map((Y,ue)=>A.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[A.jsx("td",{className:"border border-gray-200 dark:border-gray-600 px-4 py-2",children:A.jsxs("div",{children:[A.jsx("input",{type:"text",value:Y.name,onChange:ke=>I(ue,"name",ke.target.value),className:"w-full border-0 bg-transparent focus:ring-0 text-gray-900 dark:text-white"}),Y.description&&A.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:Y.description})]})}),A.jsx("td",{className:"border border-gray-200 dark:border-gray-600 px-4 py-2",children:A.jsx("input",{type:"number",value:Y.cost,onChange:ke=>I(ue,"cost",ke.target.value),className:"w-20 border-0 bg-transparent focus:ring-0 text-gray-900 dark:text-white",step:"0.01"})}),A.jsx("td",{className:"border border-gray-200 dark:border-gray-600 px-4 py-2",children:A.jsx("input",{type:"number",value:Y.quantity,onChange:ke=>I(ue,"quantity",parseInt(ke.target.value)||1),className:"w-16 border-0 bg-transparent focus:ring-0 text-gray-900 dark:text-white",min:"1"})}),A.jsx("td",{className:"border border-gray-200 dark:border-gray-600 px-4 py-2 text-gray-900 dark:text-white",children:G(parseFloat(Y.cost||0)*parseInt(Y.quantity||1))}),A.jsx("td",{className:"border border-gray-200 dark:border-gray-600 px-4 py-2",children:A.jsx("button",{onClick:()=>R(ue),className:"text-red-500 hover:text-red-700 transition-colors",children:A.jsx(Ese,{})})})]},ue))})]})})]})]}),l===3&&A.jsxs("div",{className:"space-y-6",children:[A.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Invoice Details"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Invoice Title"}),A.jsx("input",{type:"text",value:N.title,onChange:Y=>j({...N,title:Y.target.value}),className:`w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white ${b.title?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),b.title&&A.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:b.title})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Invoice Number"}),A.jsx("input",{type:"text",value:N.invoiceNumber,onChange:Y=>j({...N,invoiceNumber:Y.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Invoice Date"}),A.jsx("input",{type:"date",value:N.date,onChange:Y=>j({...N,date:Y.target.value}),className:`w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white ${b.date?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),b.date&&A.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:b.date})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Due Date"}),A.jsx("input",{type:"date",value:N.dueDate,onChange:Y=>j({...N,dueDate:Y.target.value}),className:`w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white ${b.dueDate?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),b.dueDate&&A.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:b.dueDate})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"PO Number (Optional)"}),A.jsxs("div",{className:"flex space-x-2",children:[A.jsx("input",{type:"text",value:N.poNumber,onChange:Y=>j({...N,poNumber:Y.target.value}),className:"flex-1 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",placeholder:"Purchase Order Number"}),A.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Generate"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Terms"}),A.jsxs("select",{value:N.paymentTerms,onChange:Y=>j({...N,paymentTerms:Y.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",children:[A.jsx("option",{value:"Due on Receipt",children:"Due on Receipt"}),A.jsx("option",{value:"Net 15",children:"Net 15"}),A.jsx("option",{value:"Net 30",children:"Net 30"}),A.jsx("option",{value:"Net 60",children:"Net 60"})]})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tax Rate (%)"}),A.jsx("input",{type:"number",value:N.taxRate*100,onChange:Y=>j({...N,taxRate:parseFloat(Y.target.value)/100||0}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",placeholder:"10",step:"0.1"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),A.jsx("textarea",{value:N.notes,onChange:Y=>j({...N,notes:Y.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",rows:"4",placeholder:"Additional notes or terms"})]})]}),l===4&&A.jsxs("div",{className:"space-y-6",children:[A.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Review Invoice"}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Customer Information"}),A.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[A.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:h==null?void 0:h.name}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:h==null?void 0:h.email}),(h==null?void 0:h.phone)&&A.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:h.phone}),(h==null?void 0:h.company)&&A.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:h.company})]})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Invoice Summary"}),A.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[A.jsxs("div",{className:"flex justify-between py-2",children:[A.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal:"}),A.jsx("span",{className:"text-gray-900 dark:text-white",children:G(L())})]}),A.jsxs("div",{className:"flex justify-between py-2",children:[A.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",(N.taxRate*100).toFixed(1),"%):"]}),A.jsx("span",{className:"text-gray-900 dark:text-white",children:G(M())})]}),A.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Total:"}),A.jsx("span",{className:"text-lg font-medium text-gray-900 dark:text-white",children:G(W())})]})})]})]})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Items"}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full border-collapse border border-gray-200 dark:border-gray-700",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[A.jsx("th",{className:"border border-gray-200 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Item"}),A.jsx("th",{className:"border border-gray-200 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Cost"}),A.jsx("th",{className:"border border-gray-200 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Qty"}),A.jsx("th",{className:"border border-gray-200 dark:border-gray-600 px-4 py-2 text-left text-sm font-medium text-gray-900 dark:text-white",children:"Total"})]})}),A.jsx("tbody",{children:m.map((Y,ue)=>A.jsxs("tr",{children:[A.jsx("td",{className:"border border-gray-200 dark:border-gray-600 px-4 py-2",children:A.jsxs("div",{children:[A.jsx("p",{className:"text-gray-900 dark:text-white",children:Y.name}),Y.description&&A.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:Y.description})]})}),A.jsx("td",{className:"border border-gray-200 dark:border-gray-600 px-4 py-2 text-gray-900 dark:text-white",children:G(Y.cost)}),A.jsx("td",{className:"border border-gray-200 dark:border-gray-600 px-4 py-2 text-gray-900 dark:text-white",children:Y.quantity}),A.jsx("td",{className:"border border-gray-200 dark:border-gray-600 px-4 py-2 text-gray-900 dark:text-white",children:G(parseFloat(Y.cost||0)*parseInt(Y.quantity||1))})]},ue))})]})})]})]})]}),A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("button",{onClick:Z,disabled:l===1,className:"flex items-center gap-2 px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[A.jsx(a3,{}),"Previous"]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("button",{onClick:()=>s("/invoices"),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Cancel"}),l<4?A.jsxs("button",{onClick:X,className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-md transition-colors",children:["Next",A.jsx(hse,{})]}):A.jsx("button",{onClick:ce,disabled:u,className:"flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):A.jsxs(A.Fragment,{children:[A.jsx(IM,{}),a?"Update Invoice":"Create Invoice"]})})]})]})]})})}function $ie(){var ce;const t=xs(),{customers:e,loading:r,error:n,createCustomer:s,updateCustomer:i,deleteCustomer:o}=bc(),{invoices:a,loading:l,error:c}=xl(),[u,d]=J.useState(""),[h,f]=J.useState("all"),[m,v]=J.useState("name"),[_,x]=J.useState(!1),[b,E]=J.useState(null),[N,j]=J.useState("table"),[O,P]=J.useState({name:"",email:"",phone:"",address:"",company:"",notes:"",status:"active"}),T=r||l,U=n||c,R=J.useMemo(()=>{if(!e||!a)return null;const G=e.map(se=>{const ae=a.filter(Ce=>{var Te;return((Te=Ce.customer)==null?void 0:Te.id)===se.id}),he=ae.reduce((Ce,Te)=>Ce+(Te.totalAmount||0),0),ye=ae.length>0?ae.reduce((Ce,Te)=>new Date(Te.createdAt)>new Date(Ce.createdAt)?Te:Ce):null;return{...se,totalRevenue:he,invoiceCount:ae.length,lastInvoice:ye?new Date(ye.createdAt):null,avgInvoiceValue:ae.length>0?he/ae.length:0,status:se.status||"active"}}),Y=e.length,ue=G.filter(se=>se.status==="active").length,ke=G.reduce((se,ae)=>se+ae.totalRevenue,0),K=Y>0?ke/Y:0;return{customerStats:G,totalCustomers:Y,activeCustomers:ue,totalRevenue:ke,avgRevenue:K,topCustomers:G.sort((se,ae)=>ae.totalRevenue-se.totalRevenue).slice(0,5)}},[e,a]),I=J.useMemo(()=>{if(!R)return[];let G=R.customerStats;return u&&(G=G.filter(Y=>{var ue,ke;return Y.name.toLowerCase().includes(u.toLowerCase())||((ue=Y.email)==null?void 0:ue.toLowerCase().includes(u.toLowerCase()))||((ke=Y.company)==null?void 0:ke.toLowerCase().includes(u.toLowerCase()))})),h!=="all"&&(G=G.filter(Y=>Y.status===h)),G.sort((Y,ue)=>{switch(m){case"name":return Y.name.localeCompare(ue.name);case"revenue":return ue.totalRevenue-Y.totalRevenue;case"invoices":return ue.invoiceCount-Y.invoiceCount;case"lastInvoice":return!Y.lastInvoice&&!ue.lastInvoice?0:Y.lastInvoice?ue.lastInvoice?new Date(ue.lastInvoice)-new Date(Y.lastInvoice):-1:1;default:return 0}}),G},[R,u,h,m]),L=async G=>{G.preventDefault();try{b?(await i(b.id,O),Ke.success("Customer updated successfully!")):(await s(O),Ke.success("Customer created successfully!")),X()}catch(Y){console.error("Error saving customer:",Y),Ke.error("Failed to save customer")}},M=G=>{E(G),P({name:G.name||"",email:G.email||"",phone:G.phone||"",address:G.address||"",company:G.company||"",notes:G.notes||"",status:G.status||"active"}),x(!0)},W=async G=>{if(window.confirm("Are you sure you want to delete this customer?"))try{await o(G),Ke.success("Customer deleted successfully!")}catch(Y){console.error("Error deleting customer:",Y),Ke.error("Failed to delete customer")}},X=()=>{P({name:"",email:"",phone:"",address:"",company:"",notes:"",status:"active"}),E(null),x(!1)},Z=()=>{if(!I.length)return;const G=I.map(K=>({Name:K.name,Email:K.email||"",Phone:K.phone||"",Company:K.company||"",Address:K.address||"",Status:K.status,"Total Revenue":K.totalRevenue,"Invoice Count":K.invoiceCount,"Last Invoice":K.lastInvoice?qr(K.lastInvoice,"yyyy-MM-dd"):"Never",Notes:K.notes||""})),Y="data:text/csv;charset=utf-8,"+Object.keys(G[0]).join(",")+`
`+G.map(K=>Object.values(K).map(se=>`"${se}"`).join(",")).join(`
`),ue=encodeURI(Y),ke=document.createElement("a");ke.setAttribute("href",ue),ke.setAttribute("download",`customers-${qr(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(ke),ke.click(),document.body.removeChild(ke)};return T?A.jsx("div",{className:"flex items-center justify-center min-h-96",children:A.jsx(Mo,{size:"lg"})}):U?A.jsx(ca,{message:U,onRetry:()=>window.location.reload()}):A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Customers"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your customer relationships"})]}),A.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors",children:[A.jsx(dl,{size:16}),"Add Customer"]})]}),R&&A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Customers"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:R.totalCustomers}),A.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[R.activeCustomers," active"]})]}),A.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-full",children:A.jsx(Ts,{className:"text-blue-600 dark:text-blue-400",size:24})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Revenue"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:is(R.totalRevenue)}),A.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Avg: ",is(R.avgRevenue)]})]}),A.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-full",children:A.jsx(Vs,{className:"text-green-600 dark:text-green-400",size:24})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Top Customer"}),A.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:((ce=R.topCustomers[0])==null?void 0:ce.name)||"N/A"}),A.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:R.topCustomers[0]?is(R.topCustomers[0].totalRevenue):"N/A"})]}),A.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-full",children:A.jsx(Nm,{className:"text-purple-600 dark:text-purple-400",size:24})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Recent Activity"}),A.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:R.customerStats.filter(G=>G.lastInvoice&&new Date(G.lastInvoice)>new Date(Date.now()-7*24*60*60*1e3)).length}),A.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Active this week"})]}),A.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900 rounded-full",children:A.jsx(vl,{className:"text-orange-600 dark:text-orange-400",size:24})})]})})]}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[A.jsxs("div",{className:"flex-1 relative",children:[A.jsx(ip,{className:"absolute left-3 top-3 text-gray-400",size:16}),A.jsx("input",{type:"text",placeholder:"Search customers...",value:u,onChange:G=>d(G.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),A.jsxs("select",{value:h,onChange:G=>f(G.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[A.jsx("option",{value:"all",children:"All Status"}),A.jsx("option",{value:"active",children:"Active"}),A.jsx("option",{value:"inactive",children:"Inactive"})]}),A.jsxs("select",{value:m,onChange:G=>v(G.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[A.jsx("option",{value:"name",children:"Sort by Name"}),A.jsx("option",{value:"revenue",children:"Sort by Revenue"}),A.jsx("option",{value:"invoices",children:"Sort by Invoices"}),A.jsx("option",{value:"lastInvoice",children:"Sort by Last Invoice"})]}),A.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[A.jsx(sd,{size:16}),"Export"]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:()=>j("table"),className:`p-2 rounded-lg transition-colors ${N==="table"?"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:A.jsx(_M,{size:16})}),A.jsx("button",{onClick:()=>j("grid"),className:`p-2 rounded-lg transition-colors ${N==="grid"?"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:A.jsx(CM,{size:16})})]})]})}),_&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:b?"Edit Customer":"Add New Customer"}),A.jsx("button",{onClick:X,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:""})]}),A.jsxs("form",{onSubmit:L,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name *"}),A.jsx("input",{type:"text",required:!0,value:O.name,onChange:G=>P({...O,name:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),A.jsx("input",{type:"email",value:O.email,onChange:G=>P({...O,email:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone"}),A.jsx("input",{type:"tel",value:O.phone,onChange:G=>P({...O,phone:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company"}),A.jsx("input",{type:"text",value:O.company,onChange:G=>P({...O,company:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address"}),A.jsx("textarea",{value:O.address,onChange:G=>P({...O,address:G.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),A.jsxs("select",{value:O.status,onChange:G=>P({...O,status:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[A.jsx("option",{value:"active",children:"Active"}),A.jsx("option",{value:"inactive",children:"Inactive"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),A.jsx("textarea",{value:O.notes,onChange:G=>P({...O,notes:G.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),A.jsxs("div",{className:"flex gap-3 pt-4",children:[A.jsx("button",{type:"submit",className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors",children:b?"Update Customer":"Add Customer"}),A.jsx("button",{type:"button",onClick:X,className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Cancel"})]})]})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:N==="table"?A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full",children:[A.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Revenue"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoices"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Invoice"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),A.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:I.length===0?A.jsx("tr",{children:A.jsxs("td",{colSpan:"7",className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:[A.jsx(Ts,{className:"mx-auto mb-4 text-gray-400",size:48}),A.jsx("p",{children:"No customers found"}),A.jsx("p",{className:"text-sm",children:"Add your first customer to get started"})]})}):I.map(G=>A.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:A.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center",children:A.jsx(Ts,{className:"text-blue-600 dark:text-blue-400",size:16})})}),A.jsxs("div",{className:"ml-4",children:[A.jsx("button",{onClick:()=>t(`/customers/${G.id}`),className:"text-sm font-medium text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors text-left",children:G.name}),G.company&&A.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:G.company})]})]})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[G.email&&A.jsxs("div",{className:"flex items-center mb-1",children:[A.jsx(pc,{className:"mr-2 text-gray-400",size:14}),G.email]}),G.phone&&A.jsxs("div",{className:"flex items-center",children:[A.jsx(Rh,{className:"mr-2 text-gray-400",size:14}),G.phone]})]})}),A.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[A.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:is(G.totalRevenue)}),A.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Avg: ",is(G.avgInvoiceValue)]})]}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx(ji,{className:"mr-2 text-gray-400",size:14}),A.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:G.invoiceCount})]})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx(Xh,{className:"mr-2 text-gray-400",size:14}),A.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:G.lastInvoice?qr(G.lastInvoice,"MMM d, yyyy"):"Never"})]})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${G.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:G.status})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:()=>t(`/customers/${G.id}`),className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 transition-colors",title:"View Profile",children:A.jsx(id,{size:16})}),A.jsx("button",{onClick:()=>M(G),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",title:"Edit Customer",children:A.jsx(gc,{size:16})}),A.jsx("button",{onClick:()=>t("/invoices/create",{state:{selectedCustomer:G}}),className:"text-purple-600 hover:text-purple-800 dark:text-purple-400 dark:hover:text-purple-300 transition-colors",title:"Create Invoice",children:A.jsx(ji,{size:16})}),A.jsx("button",{onClick:()=>W(G.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 transition-colors",title:"Delete Customer",children:A.jsx(Mh,{size:16})})]})})]},G.id))})]})}):A.jsx("div",{className:"p-6",children:I.length===0?A.jsxs("div",{className:"text-center py-12",children:[A.jsx(Ts,{className:"mx-auto mb-4 text-gray-400",size:48}),A.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No customers found"}),A.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add your first customer to get started"})]}):A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(G=>A.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6 hover:shadow-md transition-shadow",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center",children:A.jsx(Ts,{className:"text-blue-600 dark:text-blue-400",size:20})}),A.jsxs("div",{className:"ml-3",children:[A.jsx("button",{onClick:()=>t(`/customers/${G.id}`),className:"text-lg font-medium text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors text-left",children:G.name}),G.company&&A.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:G.company})]})]}),A.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${G.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:G.status})]}),A.jsxs("div",{className:"space-y-2 mb-4",children:[G.email&&A.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[A.jsx(pc,{className:"mr-2 text-gray-400",size:14}),G.email]}),G.phone&&A.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[A.jsx(Rh,{className:"mr-2 text-gray-400",size:14}),G.phone]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:is(G.totalRevenue)}),A.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Revenue"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:G.invoiceCount}),A.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Invoices"})]})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:G.lastInvoice?qr(G.lastInvoice,"MMM d, yyyy"):"Never"}),A.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Last Invoice"})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>t(`/customers/${G.id}`),className:"flex-1 bg-blue-100 hover:bg-blue-200 text-blue-600 py-2 px-3 rounded-lg text-sm font-medium transition-colors",children:"View"}),A.jsx("button",{onClick:()=>M(G),className:"flex-1 bg-yellow-100 hover:bg-yellow-200 text-yellow-600 py-2 px-3 rounded-lg text-sm font-medium transition-colors",children:"Edit"}),A.jsx("button",{onClick:()=>t("/invoices/create",{state:{selectedCustomer:G}}),className:"flex-1 bg-green-100 hover:bg-green-200 text-green-600 py-2 px-3 rounded-lg text-sm font-medium transition-colors",children:"Invoice"})]})]},G.id))})})})]})}function qie(){const{customerId:t}=D4(),e=xs(),{customers:r,loading:n,error:s,updateCustomer:i,deleteCustomer:o}=bc(),{getVehiclesByCustomer:a,getServiceRecordsByVehicle:l}=sp(),{invoices:c}=xl(),[u,d]=J.useState("overview"),[h,f]=J.useState(!1),[m,v]=J.useState(!1),[_,x]=J.useState({name:"",email:"",phone:"",address:"",company:"",notes:"",status:"active"}),b=r.find(U=>U.id===t),E=a(t),N=c.filter(U=>{var R;return((R=U.customer)==null?void 0:R.id)===t||U.customerId===t}),j=J.useMemo(()=>{const U=E.flatMap(X=>l(X.id)),R=U.reduce((X,Z)=>X+(parseFloat(Z.cost)||0)+(parseFloat(Z.laborCost)||0),0),I=N.reduce((X,Z)=>X+(Z.totalAmount||0),0),L=N.filter(X=>!X.paid),M=N.filter(X=>!X.paid&&X.dueDate&&new Date(X.dueDate)<new Date),W=U.sort((X,Z)=>new Date(Z.serviceDate)-new Date(X.serviceDate))[0];return{totalVehicles:E.length,totalServices:U.length,totalSpent:R,totalInvoices:N.length,totalInvoiceAmount:I,unpaidInvoices:L.length,overdueInvoices:M.length,lastService:W?new Date(W.serviceDate):null,averageServiceCost:U.length>0?R/U.length:0}},[E,N,l]);J.useEffect(()=>{b&&x({name:b.name||"",email:b.email||"",phone:b.phone||"",address:b.address||"",company:b.company||"",notes:b.notes||"",status:b.status||"active"})},[b]);const O=async U=>{U.preventDefault();try{await i(t,_),f(!1),Ke.success("Customer updated successfully")}catch(R){console.error("Error updating customer:",R),Ke.error("Failed to update customer")}},P=async()=>{try{await o(t),v(!1),Ke.success("Customer deleted successfully"),e("/customers")}catch(U){console.error("Error deleting customer:",U),Ke.error("Failed to delete customer")}},T=U=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(U);return n?A.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading customer..."})]})}):s?A.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:A.jsx(ca,{message:s})}):b?A.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[A.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("button",{onClick:()=>e("/customers"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[A.jsx(Qx,{size:20}),"Back to Customers"]}),A.jsx("div",{className:"h-6 w-px bg-gray-300 dark:bg-gray-600"}),A.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b.name})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:[A.jsx(gc,{size:16}),"Edit"]}),A.jsxs("button",{onClick:()=>e("/invoices/create",{state:{invoiceData:{customer:{id:b.id,name:b.name,email:b.email,phone:b.phone,address:b.address,company:b.company}}}}),className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors",children:[A.jsx(dl,{size:16}),"New Invoice"]}),A.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",children:[A.jsx(Mh,{size:16}),"Delete"]})]})]}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:A.jsxs("div",{className:"flex items-start justify-between",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:A.jsx(Ts,{className:"text-blue-600 dark:text-blue-400",size:24})}),A.jsxs("div",{children:[A.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:b.name}),A.jsxs("div",{className:"flex items-center gap-6 mt-2 text-sm text-gray-600 dark:text-gray-400",children:[b.email&&A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(pc,{size:14}),b.email]}),b.phone&&A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(Rh,{size:14}),b.phone]}),b.company&&A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(zne,{size:14}),b.company]}),b.address&&A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(bk,{size:14}),b.address]})]})]})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("div",{className:"text-right",children:[A.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:T(j.totalSpent)}),A.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Spent"})]}),j.overdueInvoices>0&&A.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-full",children:[A.jsx(nd,{size:14}),j.overdueInvoices," overdue"]})]})]})}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Vehicles"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:j.totalVehicles})]}),A.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:A.jsx(ta,{className:"text-blue-600 dark:text-blue-400",size:24})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Invoices"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:j.totalInvoices})]}),A.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:A.jsx(ji,{className:"text-green-600 dark:text-green-400",size:24})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Services"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:j.totalServices})]}),A.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center",children:A.jsx(vl,{className:"text-purple-600 dark:text-purple-400",size:24})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Revenue"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:T(j.totalInvoiceAmount)})]}),A.jsx("div",{className:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900 rounded-lg flex items-center justify-center",children:A.jsx(Vs,{className:"text-yellow-600 dark:text-yellow-400",size:24})})]})})]}),A.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:A.jsx("nav",{className:"flex space-x-8",children:["overview","vehicles","invoices","services"].map(U=>A.jsx("button",{onClick:()=>d(U),className:`py-2 px-1 border-b-2 font-medium text-sm capitalize transition-colors ${u===U?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:U},U))})}),A.jsxs("div",{className:"space-y-6",children:[u==="overview"&&A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),A.jsx("div",{className:"space-y-3",children:N.slice(0,5).map(U=>A.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[A.jsxs("div",{children:[A.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["Invoice #",U.invoiceNumber||U.id.slice(0,8)]}),A.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:qr(new Date(U.createdAt),"MMM d, yyyy")})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:T(U.totalAmount||0)}),A.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${U.paid?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:U.paid?"Paid":"Pending"})]})]},U.id))})]}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Notes"}),b.notes?A.jsx("p",{className:"text-gray-600 dark:text-gray-400 whitespace-pre-wrap",children:b.notes}):A.jsx("p",{className:"text-gray-500 dark:text-gray-400 italic",children:"No notes available"})]})]}),u==="vehicles"&&A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[A.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:A.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Vehicles (",E.length,")"]})}),A.jsx("div",{className:"p-6",children:A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(U=>{var L;const R=l(U.id),I=R.length>0?R[0]:null;return A.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[A.jsxs("div",{className:"flex items-center justify-between mb-3",children:[A.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white",children:[U.year," ",U.make," ",U.model]}),A.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[R.length," services"]})]}),A.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"VIN:"})," ",U.vin]}),A.jsxs("p",{children:[A.jsx("strong",{children:"License:"})," ",U.licensePlate]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Mileage:"})," ",((L=U.mileage)==null?void 0:L.toLocaleString())||"N/A"]}),I&&A.jsxs("p",{children:[A.jsx("strong",{children:"Last Service:"})," ",qr(new Date(I.serviceDate),"MMM d, yyyy")]})]}),A.jsx("div",{className:"mt-4 flex gap-2",children:A.jsxs("button",{onClick:()=>e("/vehicle-service-records",{state:{selectedCustomer:b,selectedVehicle:U}}),className:"flex items-center gap-1 px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded-md hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors text-sm",children:[A.jsx(id,{size:12}),"View Records"]})})]},U.id)})})})]}),u==="invoices"&&A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[A.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:A.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Invoices (",N.length,")"]})}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[A.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Invoice #"}),A.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Date"}),A.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Amount"}),A.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),A.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Actions"})]})}),A.jsx("tbody",{children:N.map(U=>A.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[A.jsxs("td",{className:"py-3 px-6 text-sm text-gray-900 dark:text-white",children:["#",U.invoiceNumber||U.id.slice(0,8)]}),A.jsx("td",{className:"py-3 px-6 text-sm text-gray-900 dark:text-white",children:qr(new Date(U.createdAt),"MMM d, yyyy")}),A.jsx("td",{className:"py-3 px-6 text-sm text-gray-900 dark:text-white",children:T(U.totalAmount||0)}),A.jsx("td",{className:"py-3 px-6",children:A.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${U.paid?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:U.paid?"Paid":"Pending"})}),A.jsx("td",{className:"py-3 px-6",children:A.jsx("button",{onClick:()=>e(`/invoices/${U.id}`),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:"View"})})]},U.id))})]})})]}),u==="services"&&A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[A.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:A.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Service History (",j.totalServices,")"]})}),A.jsx("div",{className:"p-6",children:A.jsx("div",{className:"space-y-4",children:E.map(U=>{const R=l(U.id);return R.length===0?null:A.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[A.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:[U.year," ",U.make," ",U.model]}),A.jsx("div",{className:"space-y-2",children:R.slice(0,3).map(I=>{var L;return A.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:I.serviceType}),A.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:qr(new Date(I.serviceDate),"MMM d, yyyy")})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:T((parseFloat(I.cost)||0)+(parseFloat(I.laborCost)||0))}),A.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[((L=I.mileage)==null?void 0:L.toLocaleString())||"N/A"," miles"]})]})]},I.id)})})]},U.id)})})})]})]})]}),h&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Edit Customer"}),A.jsxs("form",{onSubmit:O,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),A.jsx("input",{type:"text",value:_.name,onChange:U=>x({..._,name:U.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),A.jsx("input",{type:"email",value:_.email,onChange:U=>x({..._,email:U.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone"}),A.jsx("input",{type:"tel",value:_.phone,onChange:U=>x({..._,phone:U.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company"}),A.jsx("input",{type:"text",value:_.company,onChange:U=>x({..._,company:U.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address"}),A.jsx("textarea",{value:_.address,onChange:U=>x({..._,address:U.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",rows:"3"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),A.jsx("textarea",{value:_.notes,onChange:U=>x({..._,notes:U.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",rows:"3"})]}),A.jsxs("div",{className:"flex justify-end gap-3",children:[A.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"}),A.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:"Save Changes"})]})]})]})}),m&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Delete Customer"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Are you sure you want to delete this customer? This action cannot be undone and will also delete all associated vehicles and service records."}),A.jsxs("div",{className:"flex justify-end gap-3",children:[A.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"}),A.jsx("button",{onClick:P,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",children:"Delete Customer"})]})]})})]}):A.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:A.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[A.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Customer Not Found"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The customer you're looking for doesn't exist or may have been deleted."}),A.jsxs("button",{onClick:()=>e("/customers"),className:"flex items-center gap-2 mx-auto px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:[A.jsx(Qx,{size:16}),"Back to Customers"]})]})})}function Yie(){const{user:t,updateProfile:e}=io(),[r,n]=J.useState(!0),[s,i]=J.useState(!1),[o,a]=J.useState(null),[l,c]=J.useState(!1),[u,d]=J.useState({displayName:"",email:"",phone:"",address:"",businessName:"",businessPhone:"",businessAddress:"",businessEmail:"",taxRate:0,currency:"USD",photoURL:""});J.useEffect(()=>{(async()=>{if(t)try{n(!0),a(null);const v=await hA(Dr(tr,"users",t.uid)),_=await hA(Dr(tr,"users",t.uid,"settings","userSettings")),x=v.exists()?v.data():{},b=_.exists()?_.data():{};d({displayName:t.displayName||"",email:t.email||"",phone:x.phone||"",address:x.address||"",businessName:b.businessName||"",businessPhone:b.businessPhone||"",businessAddress:b.businessAddress||"",businessEmail:b.businessEmail||"",taxRate:b.taxRate||0,currency:b.currency||"USD",photoURL:t.photoURL||""})}catch(v){console.error("Error loading user data:",v),a("Failed to load profile data"),Ke.error("Failed to load profile data")}finally{n(!1)}})()},[t]);const h=m=>{const{name:v,value:_}=m.target;d(x=>({...x,[v]:_}))},f=async()=>{if(t)try{i(!0),a(null),await e(t,{displayName:u.displayName,photoURL:u.photoURL}),await Uh(Dr(tr,"users",t.uid),{displayName:u.displayName,email:u.email,phone:u.phone,address:u.address,photoURL:u.photoURL,updatedAt:new Date},{merge:!0}),await Uh(Dr(tr,"users",t.uid,"settings","userSettings"),{businessName:u.businessName,businessPhone:u.businessPhone,businessAddress:u.businessAddress,businessEmail:u.businessEmail,taxRate:parseFloat(u.taxRate)||0,currency:u.currency,updatedAt:new Date},{merge:!0}),Ke.success("Profile updated successfully"),c(!1)}catch(m){console.error("Error updating profile:",m),a("Failed to update profile"),Ke.error("Failed to update profile")}finally{i(!1)}};return r?A.jsx(Mo,{}):o?A.jsx(ca,{message:o}):A.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"User Profile"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage your account and business information"})]}),A.jsx("div",{className:"flex gap-2",children:l?A.jsxs(A.Fragment,{children:[A.jsxs("button",{onClick:f,disabled:s,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[A.jsx(sse,{size:20}),s?"Saving...":"Save Changes"]}),A.jsx("button",{onClick:()=>c(!1),disabled:s,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"})]}):A.jsxs("button",{onClick:()=>c(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[A.jsx(gc,{size:20}),"Edit Profile"]})})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[A.jsx("div",{className:"lg:col-span-1",children:A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:A.jsxs("div",{className:"text-center",children:[A.jsxs("div",{className:"relative inline-block",children:[u.photoURL?A.jsx("img",{src:u.photoURL,alt:"Profile",className:"w-32 h-32 rounded-full mx-auto border-4 border-gray-200 dark:border-gray-600"}):A.jsx("div",{className:"w-32 h-32 rounded-full mx-auto border-4 border-gray-200 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:A.jsx(Ts,{size:48,className:"text-gray-400"})}),l&&A.jsx("button",{className:"absolute bottom-0 right-0 bg-blue-500 hover:bg-blue-600 text-white rounded-full p-2 shadow-lg",children:A.jsx(Gne,{size:16})})]}),A.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mt-4",children:u.displayName||"User"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:u.email})]})})}),A.jsxs("div",{className:"lg:col-span-2",children:[A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6",children:[A.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[A.jsx(Ts,{size:20}),"Personal Information"]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Display Name"}),A.jsx("input",{type:"text",name:"displayName",value:u.displayName,onChange:h,disabled:!l,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-600"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),A.jsx("input",{type:"email",name:"email",value:u.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-600 text-gray-900 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone"}),A.jsx("input",{type:"tel",name:"phone",value:u.phone,onChange:h,disabled:!l,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-600"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address"}),A.jsx("input",{type:"text",name:"address",value:u.address,onChange:h,disabled:!l,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-600"})]})]})]}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[A.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[A.jsx(gC,{size:20}),"Business Information"]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Business Name"}),A.jsx("input",{type:"text",name:"businessName",value:u.businessName,onChange:h,disabled:!l,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-600"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Business Phone"}),A.jsx("input",{type:"tel",name:"businessPhone",value:u.businessPhone,onChange:h,disabled:!l,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-600"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Business Email"}),A.jsx("input",{type:"email",name:"businessEmail",value:u.businessEmail,onChange:h,disabled:!l,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-600"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tax Rate (%)"}),A.jsx("input",{type:"number",step:"0.01",name:"taxRate",value:u.taxRate,onChange:h,disabled:!l,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-600"})]}),A.jsxs("div",{className:"md:col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Business Address"}),A.jsx("textarea",{name:"businessAddress",value:u.businessAddress,onChange:h,disabled:!l,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-600"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Currency"}),A.jsxs("select",{name:"currency",value:u.currency,onChange:h,disabled:!l,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-600",children:[A.jsx("option",{value:"USD",children:"USD - US Dollar"}),A.jsx("option",{value:"EUR",children:"EUR - Euro"}),A.jsx("option",{value:"GBP",children:"GBP - British Pound"}),A.jsx("option",{value:"CAD",children:"CAD - Canadian Dollar"}),A.jsx("option",{value:"AUD",children:"AUD - Australian Dollar"})]})]})]})]})]})]})]})}const ZM=J.createContext(),Xie=({children:t})=>{const[e,r]=J.useState(null),[n,s]=J.useState([]),[i,o]=J.useState(null),[a,l]=J.useState(!1);J.useEffect(()=>{try{const m=localStorage.getItem("currentInvoice");m&&r(JSON.parse(m))}catch(m){console.error("Error loading invoice from localStorage:",m)}},[]),J.useEffect(()=>{if(e)try{localStorage.setItem("currentInvoice",JSON.stringify(e))}catch(m){console.error("Error saving invoice to localStorage:",m)}},[e]);const c=()=>{r(null),localStorage.removeItem("currentInvoice")},u=m=>{o({...m,startTime:new Date,elapsed:0}),l(!0)},d=()=>{if(i){const m=new Date,v=Math.floor((m-new Date(i.startTime))/1e3),_={...i,endTime:m,elapsed:v};return s([...n,_]),o(null),l(!1),_}},h=()=>{if(a&&i){const v=Math.floor((new Date-new Date(i.startTime))/1e3);o(_=>({..._,elapsed:v}))}},f=m=>{const v=Math.floor(m/3600),_=Math.floor(m%3600/60),x=m%60;return[v>0?v.toString().padStart(2,"0"):"00",_.toString().padStart(2,"0"),x.toString().padStart(2,"0")].join(":")};return A.jsx(ZM.Provider,{value:{invoice:e,setInvoice:r,clearInvoice:c,jobLog:n,setJobLog:s,currentJob:i,isRunning:a,startJob:u,stopJob:d,updateElapsed:h,formatTime:f},children:t})};function Jie(){var I;const{user:t}=io(),e=xs(),[r,n]=J.useState("cash"),{setPaid:s}=J.useContext(ZM),[i,o]=J.useState(!1),[a,l]=J.useState(""),[c,u]=J.useState(!1),[d,h]=J.useState(null),[f,m]=J.useState([]),[v,_]=J.useState(""),[x,b]=J.useState(!0),[E,N]=J.useState(0);J.useEffect(()=>{(async()=>{if(t)try{const W=(await D_(sa(tr,"users",t.uid,"invoices"))).docs.map(X=>({id:X.id,...X.data(),balance:X.data().total-(X.data().paidAmount||0)})).filter(X=>!X.paid&&X.balance>0);m(W)}catch{Ke.error("Failed to load invoices")}finally{b(!1)}})()},[t]);const j=L=>{const M=f.find(W=>W.id===L);M&&(_(L),l(M.balance.toString()),N(M.balance),h(null))},O=L=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(L),P=L=>L?new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",T=(L,M)=>{const W=parseFloat(L);if(isNaN(W)||W<=0)throw new Error("Please enter a valid payment amount");if(W>M.balance)throw new Error(`Payment amount cannot exceed the remaining balance of ${O(M.balance)}`);return W},U=async()=>{if(!v||!a){h("Please select an invoice and enter amount");return}u(!0),h(null);try{const L=f.find(Y=>Y.id===v),M=T(a,L),W=(L.paidAmount||0)+M,X=L.total-W,Z=X<=0,ce=Dr(tr,"users",t.uid,"invoices",v);await pl(ce,{paid:Z,paidAmount:W,balance:X,paymentHistory:[...L.paymentHistory||[],{amount:M,method:r,date:new Date,status:"completed"}],lastPayment:{amount:M,method:r,date:new Date},status:Z?"paid":"partial",updatedAt:new Date});const G=f.filter(Y=>Y.id!==v||Y.id===v&&!Z).map(Y=>Y.id===v?{...Y,balance:X,paidAmount:W}:Y);m(G),s(Z),o(!0),Ke.success(`Payment of ${O(M)} processed successfully`),setTimeout(()=>{e("/invoicehistory")},2e3)}catch(L){console.error("Payment error:",L),h(L.message||"Failed to process payment. Please try again."),Ke.error(L.message||"Payment processing failed")}finally{u(!1)}};if(x)return A.jsx("div",{className:"min-h-screen flex items-center justify-center dark:bg-gray-900",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});const R=v?f.find(L=>L.id===v):null;return A.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-gray-50 to-gray-100 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 p-4 md:p-6",children:A.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[A.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:A.jsxs("div",{children:[A.jsxs("button",{onClick:()=>e("/invoicehistory"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors mb-4",children:[A.jsx(Qx,{className:"w-5 h-5"}),A.jsx("span",{children:"Back to Invoices"})]}),A.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Process Payment"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Record payment for outstanding invoices"})]})}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[A.jsx("div",{className:"lg:col-span-2",children:A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Select Invoice"}),A.jsxs("select",{className:"w-full bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400",value:v,onChange:L=>j(L.target.value),children:[A.jsx("option",{value:"",children:"Choose an invoice"}),f.map(L=>{var M;return A.jsxs("option",{value:f.id,children:[f.poNumber||L.id," - Balance: ",O(L.balance)," (",(M=f.customer)==null?void 0:M.name,")"]},f.id)})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Payment Amount"}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:A.jsx(Vs,{className:"h-5 w-5 text-gray-400"})}),A.jsx("input",{type:"number",value:a,onChange:L=>{const M=L.target.value;l(M),R&&parseFloat(M)>R.balance?h(`Payment amount cannot exceed the remaining balance of ${O(R.balance)}`):h(null)},className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400",placeholder:"0.00",step:"0.01",max:R==null?void 0:R.balance})]}),R&&A.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Remaining balance: ",O(R.balance)]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Payment Method"}),A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{id:"cash",label:"Cash",icon:Vs},{id:"card",label:"Credit Card",icon:Wne},{id:"venmo",label:"Venmo",icon:Vs},{id:"check",label:"Check",icon:Sm}].map(L=>A.jsxs("button",{type:"button",onClick:()=>n(L.id),className:`flex flex-col items-center justify-center p-4 rounded-lg border ${r===L.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"border-gray-200 dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-500"}`,children:[A.jsx(L.icon,{className:"w-6 h-6 mb-2"}),A.jsx("span",{className:"text-sm",children:L.label})]},L.id))})]}),r==="card"&&A.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:A.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[A.jsx(vl,{className:"w-5 h-5"}),A.jsx("p",{children:"Credit card payments coming soon!"})]})}),d&&A.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:A.jsxs("div",{className:"flex items-center gap-3 text-red-600 dark:text-red-400",children:[A.jsx(xk,{className:"w-5 h-5"}),A.jsx("p",{children:d})]})}),A.jsx("button",{onClick:U,disabled:c||!a||!v||d,className:`w-full py-3 rounded-lg text-white font-medium transition flex items-center justify-center gap-2 ${c||!a||!v||d?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700"}`,children:c?A.jsxs(A.Fragment,{children:[A.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),A.jsx("span",{children:"Processing..."})]}):A.jsxs(A.Fragment,{children:[A.jsx(Vs,{className:"w-5 h-5"}),A.jsxs("span",{children:["Pay ",O(a||0)]})]})})]})}),A.jsx("div",{className:"lg:col-span-1",children:R?A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 space-y-6",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Invoice Details"}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(ji,{className:"w-5 h-5 text-gray-400"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Invoice Number"}),A.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:R.poNumber||R.id})]})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(Ts,{className:"w-5 h-5 text-gray-400"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Customer"}),A.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:(I=R.customer)==null?void 0:I.name})]})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(vl,{className:"w-5 h-5 text-gray-400"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Created Date"}),A.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:P(R.createdAt)})]})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(Vs,{className:"w-5 h-5 text-gray-400"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Amount"}),A.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:O(R.total||0)})]})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(Vs,{className:"w-5 h-5 text-gray-400"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Amount Paid"}),A.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:O(R.paidAmount||0)})]})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(Vs,{className:"w-5 h-5 text-gray-400"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Remaining Balance"}),A.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:O(R.balance||0)})]})]})]})]}):A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:A.jsxs("div",{className:"text-center text-gray-600 dark:text-gray-400",children:[A.jsx(ji,{className:"w-8 h-8 mx-auto mb-3"}),A.jsx("p",{children:"Select an invoice to view details"})]})})})]}),i&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl p-6 max-w-md w-full",children:A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:A.jsx(Sm,{className:"w-8 h-8 text-green-500"})}),A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Payment Successful"}),A.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Payment of ",O(a)," has been recorded for invoice #",v," via ",r]}),A.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Redirecting to invoice history..."})]})})})]})})}const U3=({children:t,onClose:e})=>A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto relative m-4",children:[A.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors z-10",children:A.jsx(Tm,{size:24})}),A.jsx("div",{className:"p-6 overflow-y-auto",children:t})]})});function Zie(){const t=xs(),{customers:e,loading:r}=bc(),{vehicles:n,loading:s,error:i,addVehicle:o,updateVehicle:a,deleteVehicle:l,getVehicleStats:c}=sp(),[u,d]=J.useState(""),[h,f]=J.useState("all"),[m,v]=J.useState("all"),[_,x]=J.useState("grid"),[b,E]=J.useState(!1),[N,j]=J.useState(null),[O,P]=J.useState("year"),[T,U]=J.useState("desc"),[R,I]=J.useState(!1),[L,M]=J.useState(!1),[W,X]=J.useState(null),[Z,ce]=J.useState({year:"",make:"",model:"",vin:"",licensePlate:"",color:"",mileage:"",customerId:"",status:"active",notes:""}),G=()=>{ce({year:"",make:"",model:"",vin:"",licensePlate:"",color:"",mileage:"",customerId:"",status:"active",notes:""}),j(null)},Y=J.useMemo(()=>{const pe=c(),Qe=n.length,De=n.filter(fe=>fe.status==="active").length,Oe=n.filter(fe=>fe.status==="inactive").length,We=n.filter(fe=>fe.status==="needs_service").length,mt=new Date().getFullYear(),Me=Qe>0?n.reduce((fe,Ht)=>fe+(mt-(parseInt(Ht.year)||mt)),0)/Qe:0;return{totalVehicles:Qe,activeVehicles:De,inactiveVehicles:Oe,needsService:We,averageAge:Math.round(Me),...pe}},[n,c]),ue=J.useMemo(()=>{let pe=[...n];return u&&(pe=pe.filter(Qe=>{var De,Oe,We,mt,Me,fe;return((De=Qe.year)==null?void 0:De.toString().includes(u))||((Oe=Qe.make)==null?void 0:Oe.toLowerCase().includes(u.toLowerCase()))||((We=Qe.model)==null?void 0:We.toLowerCase().includes(u.toLowerCase()))||((mt=Qe.vin)==null?void 0:mt.toLowerCase().includes(u.toLowerCase()))||((Me=Qe.licensePlate)==null?void 0:Me.toLowerCase().includes(u.toLowerCase()))||((fe=Qe.color)==null?void 0:fe.toLowerCase().includes(u.toLowerCase()))})),h!=="all"&&(pe=pe.filter(Qe=>Qe.customerId===h)),m!=="all"&&(pe=pe.filter(Qe=>Qe.status===m)),pe.sort((Qe,De)=>{let Oe=Qe[O],We=De[O];if(O==="year"||O==="mileage")Oe=parseInt(Oe)||0,We=parseInt(We)||0;else if(O==="customerName"){const mt=e.find(fe=>fe.id===Qe.customerId),Me=e.find(fe=>fe.id===De.customerId);Oe=(mt==null?void 0:mt.name)||"",We=(Me==null?void 0:Me.name)||""}return T==="asc"?Oe<We?-1:Oe>We?1:0:Oe>We?-1:Oe<We?1:0}),pe},[n,u,h,m,O,T,e]),ke=async pe=>{if(pe.preventDefault(),!Z.year||!Z.make||!Z.model||!Z.customerId){Ke.error("Please fill in all required fields");return}try{N?(await a(N.id,Z),Ke.success("Vehicle updated successfully")):(await o(Z),Ke.success("Vehicle added successfully")),E(!1),G()}catch(Qe){Ke.error("Error saving vehicle: "+Qe.message)}},K=pe=>{j(pe),ce(pe),E(!0)},se=async pe=>{M(!0);try{await l(pe),Ke.success("Vehicle deleted successfully"),X(null)}catch(Qe){Ke.error("Error deleting vehicle: "+Qe.message)}finally{M(!1)}},ae=pe=>{t(`/customers/${pe}`)},he=pe=>{t(`/vehicles/${pe}/service-records`)},ye=J.useCallback(()=>{const pe=JSON.stringify(ue,null,2),Qe="data:application/json;charset=utf-8,"+encodeURIComponent(pe),De=`vehicles_${new Date().toISOString().split("T")[0]}.json`,Oe=document.createElement("a");Oe.setAttribute("href",Qe),Oe.setAttribute("download",De),Oe.click(),Ke.success("Vehicle data exported")},[ue]),Ce=pe=>{switch(pe){case"active":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"inactive":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";case"needs_service":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}},Te=pe=>{switch(pe){case"active":return A.jsx(ta,{className:"w-3 h-3"});case"inactive":return A.jsx(Tm,{className:"w-3 h-3"});case"needs_service":return A.jsx(nd,{className:"w-3 h-3"});default:return A.jsx(ta,{className:"w-3 h-3"})}};return s||r?A.jsx(Mo,{size:"lg",className:"mt-20"}):i?A.jsx(ca,{message:i}):A.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[A.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Vehicle Management"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage customer vehicles and service records"})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("button",{onClick:ye,className:"flex items-center gap-2 px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[A.jsx(sd,{className:"w-4 h-4"}),"Export"]}),A.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors font-medium",children:[A.jsx(dl,{className:"w-4 h-4"}),"Add Vehicle"]})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Vehicles"}),A.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Y.totalVehicles})]}),A.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/20 rounded-full",children:A.jsx(ta,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Vehicles"}),A.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Y.activeVehicles})]}),A.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/20 rounded-full",children:A.jsx(Mne,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Need Service"}),A.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Y.needsService})]}),A.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/20 rounded-full",children:A.jsx(nd,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Average Age"}),A.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[Y.averageAge," years"]})]}),A.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/20 rounded-full",children:A.jsx(Xh,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})})]}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 border border-gray-200 dark:border-gray-700",children:[A.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[A.jsxs("div",{className:"flex-1 relative",children:[A.jsx(ip,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),A.jsx("input",{type:"search",placeholder:"Search vehicles by year, make, model, VIN, or license plate...",value:u,onChange:pe=>d(pe.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),A.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[A.jsx("button",{onClick:()=>x("grid"),className:`p-2 rounded-md transition-colors ${_==="grid"?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:A.jsx(CM,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>x("list"),className:`p-2 rounded-md transition-colors ${_==="list"?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:A.jsx(_M,{className:"w-4 h-4"})})]}),A.jsxs("button",{onClick:()=>I(!R),className:`flex items-center gap-2 px-4 py-3 rounded-lg border transition-colors ${R?"bg-blue-50 border-blue-200 text-blue-700 dark:bg-blue-900/20 dark:border-blue-700 dark:text-blue-400":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[A.jsx(wk,{className:"w-4 h-4"}),"Filters"]})]}),R&&A.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer"}),A.jsxs("select",{value:h,onChange:pe=>f(pe.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[A.jsx("option",{value:"all",children:"All Customers"}),e.map(pe=>A.jsx("option",{value:pe.id,children:pe.name},pe.id))]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),A.jsxs("select",{value:m,onChange:pe=>v(pe.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[A.jsx("option",{value:"all",children:"All Status"}),A.jsx("option",{value:"active",children:"Active"}),A.jsx("option",{value:"inactive",children:"Inactive"}),A.jsx("option",{value:"needs_service",children:"Needs Service"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sort By"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("select",{value:O,onChange:pe=>P(pe.target.value),className:"flex-1 border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[A.jsx("option",{value:"year",children:"Year"}),A.jsx("option",{value:"make",children:"Make"}),A.jsx("option",{value:"model",children:"Model"}),A.jsx("option",{value:"customerName",children:"Customer"}),A.jsx("option",{value:"mileage",children:"Mileage"}),A.jsx("option",{value:"status",children:"Status"})]}),A.jsx("button",{onClick:()=>U(T==="asc"?"desc":"asc"),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:T==="asc"?"":""})]})]})]})})]}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[A.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Vehicles (",ue.length,")"]}),A.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[u||h!=="all"||m!=="all"?"Filtered":"All"," results"]})]})}),ue.length===0?A.jsxs("div",{className:"text-center py-12",children:[A.jsx(ta,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),A.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:u||h!=="all"||m!=="all"?"No vehicles found":"No vehicles yet"}),A.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:u||h!=="all"||m!=="all"?"Try adjusting your search or filter criteria":"Get started by adding your first vehicle"}),!u&&h==="all"&&m==="all"&&A.jsx("button",{onClick:()=>E(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors font-medium",children:"Add Your First Vehicle"})]}):A.jsx("div",{className:`p-4 ${_==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4"}`,children:ue.map(pe=>{const Qe=e.find(De=>De.id===pe.customerId);return A.jsxs("div",{className:`bg-gray-50 dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600 hover:shadow-md transition-shadow ${_==="list"?"flex items-center justify-between":""}`,children:[A.jsxs("div",{className:`${_==="list"?"flex items-center gap-4 flex-1":""}`,children:[A.jsxs("div",{className:`${_==="list"?"flex items-center gap-4":"mb-3"}`,children:[A.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-full",children:A.jsx(ta,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),A.jsxs("div",{children:[A.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white",children:[pe.year," ",pe.make," ",pe.model]}),A.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[pe.vin||"No VIN","  ",pe.licensePlate||"No License Plate"]})]})]}),A.jsxs("div",{className:`${_==="list"?"flex items-center gap-6":"space-y-2"}`,children:[A.jsx("div",{className:"flex items-center gap-2",children:A.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${Ce(pe.status)}`,children:[Te(pe.status),(pe.status||"active").toString().replace("_"," ")]})}),Qe&&A.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400",children:[A.jsx(Ts,{className:"w-4 h-4"}),A.jsx("button",{onClick:()=>ae(Qe.id),className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:Qe.name})]}),pe.mileage&&A.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400",children:[A.jsx(Hne,{className:"w-4 h-4"}),pe.mileage," miles"]})]})]}),A.jsxs("div",{className:`${_==="list"?"flex items-center gap-2":"flex justify-between items-center mt-4"}`,children:[A.jsxs("button",{onClick:()=>he(pe.id),className:"flex items-center gap-1 px-3 py-1 text-sm text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:[A.jsx(Da,{className:"w-4 h-4"}),"Service Records"]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:()=>K(pe),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:A.jsx(gc,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>X(pe),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",children:A.jsx(Mh,{className:"w-4 h-4"})})]})]})]},pe.id)})})]}),b&&A.jsx(U3,{onClose:()=>{E(!1),G()},children:A.jsxs("div",{className:"space-y-6",children:[A.jsx("div",{className:"flex items-center justify-between",children:A.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:N?"Edit Vehicle":"Add New Vehicle"})}),A.jsxs("form",{onSubmit:ke,className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer *"}),A.jsxs("select",{value:Z.customerId,onChange:pe=>ce({...Z,customerId:pe.target.value}),required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[A.jsx("option",{value:"",children:"Select Customer"}),e.map(pe=>A.jsx("option",{value:pe.id,children:pe.name},pe.id))]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Year *"}),A.jsx("input",{type:"number",value:Z.year,onChange:pe=>ce({...Z,year:pe.target.value}),required:!0,min:"1900",max:new Date().getFullYear()+1,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Make *"}),A.jsx("input",{type:"text",value:Z.make,onChange:pe=>ce({...Z,make:pe.target.value}),required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Model *"}),A.jsx("input",{type:"text",value:Z.model,onChange:pe=>ce({...Z,model:pe.target.value}),required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"VIN"}),A.jsx("input",{type:"text",value:Z.vin,onChange:pe=>ce({...Z,vin:pe.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"License Plate"}),A.jsx("input",{type:"text",value:Z.licensePlate,onChange:pe=>ce({...Z,licensePlate:pe.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Color"}),A.jsx("input",{type:"text",value:Z.color,onChange:pe=>ce({...Z,color:pe.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mileage"}),A.jsx("input",{type:"number",value:Z.mileage,onChange:pe=>ce({...Z,mileage:pe.target.value}),min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),A.jsxs("select",{value:Z.status,onChange:pe=>ce({...Z,status:pe.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[A.jsx("option",{value:"active",children:"Active"}),A.jsx("option",{value:"inactive",children:"Inactive"}),A.jsx("option",{value:"needs_service",children:"Needs Service"})]})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),A.jsx("textarea",{value:Z.notes,onChange:pe=>ce({...Z,notes:pe.target.value}),rows:3,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),A.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[A.jsx("button",{type:"button",onClick:()=>{E(!1),G()},className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Cancel"}),A.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors font-medium",children:N?"Update Vehicle":"Add Vehicle"})]})]})]})}),W&&A.jsx(U3,{onClose:()=>X(null),children:A.jsxs("div",{className:"space-y-6",children:[A.jsx("div",{className:"flex items-center justify-between",children:A.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Delete Vehicle"})}),A.jsxs("div",{className:"space-y-4",children:[A.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Are you sure you want to delete this vehicle? This action cannot be undone."}),A.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[A.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[W.year," ",W.make," ",W.model]}),A.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[W.vin||"No VIN","  ",W.licensePlate||"No License Plate"]})]}),A.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[A.jsx("button",{onClick:()=>X(null),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Cancel"}),A.jsx("button",{onClick:()=>se(W.id),disabled:L,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg transition-colors font-medium disabled:opacity-50",children:L?"Deleting...":"Delete Vehicle"})]})]})]})})]})}const eoe=[{id:"oil-change",name:"Oil Change",icon:qne,color:"blue",defaultCost:45,defaultLaborCost:25,defaultDescription:"Regular oil change with filter replacement",defaultParts:"Engine oil, Oil filter",estimatedTime:"30 minutes"},{id:"tire-service",name:"Tire Service",icon:$ne,color:"green",defaultCost:120,defaultLaborCost:40,defaultDescription:"Tire rotation, balancing, and inspection",defaultParts:"Tire weights, Valve stems (if needed)",estimatedTime:"45 minutes"},{id:"brake-service",name:"Brake Service",icon:nse,color:"red",defaultCost:180,defaultLaborCost:80,defaultDescription:"Brake pad replacement and rotor inspection",defaultParts:"Brake pads, Brake fluid",estimatedTime:"90 minutes"},{id:"battery-service",name:"Battery Service",icon:lse,color:"yellow",defaultCost:150,defaultLaborCost:30,defaultDescription:"Battery replacement and electrical system check",defaultParts:"Car battery, Terminal cleaner",estimatedTime:"30 minutes"},{id:"tune-up",name:"Tune-Up",icon:Da,color:"purple",defaultCost:250,defaultLaborCost:120,defaultDescription:"Complete engine tune-up and inspection",defaultParts:"Spark plugs, Air filter, Fuel filter",estimatedTime:"2 hours"},{id:"general-maintenance",name:"General Maintenance",icon:Da,color:"gray",defaultCost:80,defaultLaborCost:60,defaultDescription:"General maintenance and inspection",defaultParts:"Various fluids and filters",estimatedTime:"60 minutes"}];function toe({onServiceSelect:t,vehicle:e}){const r=s=>{const i={serviceDate:new Date().toISOString().split("T")[0],serviceType:s.name,description:s.defaultDescription,partsUsed:s.defaultParts,cost:s.defaultCost.toString(),laborCost:s.defaultLaborCost.toString(),mileage:(e==null?void 0:e.mileage)||"",vehicleId:(e==null?void 0:e.id)||"",recommendations:"",technician:"",nextServiceDate:"",nextServiceMileage:""};t(i)},n=s=>{const i={blue:"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-800",green:"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800",red:"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-800",yellow:"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300 hover:bg-yellow-200 dark:hover:bg-yellow-800",purple:"bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 hover:bg-purple-200 dark:hover:bg-purple-800",gray:"bg-gray-100 dark:bg-gray-900 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-800"};return i[s]||i.gray};return A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:[A.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Quick Service Templates"}),A.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:eoe.map(s=>{const i=s.icon;return A.jsxs("button",{onClick:()=>r(s),className:`p-3 rounded-lg transition-colors text-left ${n(s.color)}`,children:[A.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[A.jsx(i,{size:16}),A.jsx("span",{className:"font-medium text-sm",children:s.name})]}),A.jsx("p",{className:"text-xs opacity-75 mb-1",children:s.estimatedTime}),A.jsxs("p",{className:"text-xs font-medium",children:["$",s.defaultCost+s.defaultLaborCost," est."]})]},s.id)})})]})}function roe({customerId:t}){const{getVehiclesByCustomer:e,getServiceRecordsByVehicle:r}=sp(),n=J.useMemo(()=>{const o=e(t),a=[];return o.forEach(l=>{const c=r(l.id);[{name:"Oil Change",intervalMonths:3,intervalMiles:5e3,priority:"high"},{name:"Tire Rotation",intervalMonths:6,intervalMiles:7500,priority:"medium"},{name:"Brake Inspection",intervalMonths:12,intervalMiles:15e3,priority:"high"},{name:"General Maintenance",intervalMonths:12,intervalMiles:12e3,priority:"medium"}].forEach(d=>{const h=c.find(_=>_.serviceType.toLowerCase().includes(d.name.toLowerCase().split(" ")[0]));let f=new Date,m=(l.mileage||0)+d.intervalMiles,v="due";if(h){const _=new Date(h.serviceDate);f=dC(_,d.intervalMonths),m=(h.mileage||0)+d.intervalMiles;const x=new Date;Pne(x,f)?v="overdue":Lne(f,dC(x,1))?v="due-soon":v="upcoming"}a.push({vehicleId:l.id,vehicle:`${l.year} ${l.make} ${l.model}`,licensePlate:l.licensePlate,serviceType:d.name,dueDate:f,dueMileage:m,status:v,priority:d.priority,lastService:h?new Date(h.serviceDate):null})})}),a.sort((l,c)=>{const u={high:0,medium:1,low:2},d={overdue:0,"due-soon":1,due:2,upcoming:3};return l.priority!==c.priority?u[l.priority]-u[c.priority]:l.status!==c.status?d[l.status]-d[c.status]:l.dueDate-c.dueDate})},[t,e,r]),s=o=>{switch(o){case"overdue":return A.jsx(nd,{className:"text-red-500",size:16});case"due-soon":return A.jsx(vl,{className:"text-yellow-500",size:16});case"due":return A.jsx(Da,{className:"text-orange-500",size:16});case"upcoming":return A.jsx(Xh,{className:"text-blue-500",size:16});default:return A.jsx(BM,{className:"text-green-500",size:16})}},i=o=>{switch(o){case"overdue":return"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 border-red-200 dark:border-red-800";case"due-soon":return"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300 border-yellow-200 dark:border-yellow-800";case"due":return"bg-orange-100 dark:bg-orange-900 text-orange-700 dark:text-orange-300 border-orange-200 dark:border-orange-800";case"upcoming":return"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-800";default:return"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 border-green-200 dark:border-green-800"}};return n.length===0?A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[A.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Maintenance Schedule"}),A.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[A.jsx(Da,{className:"mx-auto mb-2",size:32}),A.jsx("p",{children:"No maintenance schedule available"})]})]}):A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[A.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Maintenance Schedule"}),A.jsx("div",{className:"space-y-3",children:n.slice(0,8).map((o,a)=>A.jsxs("div",{className:`p-3 rounded-lg border ${i(o.status)}`,children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[s(o.status),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-sm",children:o.serviceType}),A.jsxs("p",{className:"text-xs opacity-75",children:[o.vehicle," ",o.licensePlate&&`(${o.licensePlate})`]})]})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("p",{className:"text-sm font-medium",children:qr(o.dueDate,"MMM d, yyyy")}),A.jsxs("p",{className:"text-xs opacity-75",children:[o.dueMileage.toLocaleString()," miles"]})]})]}),o.lastService&&A.jsx("div",{className:"mt-2 pt-2 border-t border-current border-opacity-20",children:A.jsxs("p",{className:"text-xs opacity-75",children:["Last service: ",qr(o.lastService,"MMM d, yyyy")]})})]},`${o.vehicleId}-${o.serviceType}-${a}`))}),n.length>8&&A.jsx("div",{className:"mt-4 text-center",children:A.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["+",n.length-8," more maintenance items"]})})]})}function noe(){const t=xs(),{customers:e,loading:r,error:n}=bc(),{invoices:s}=xl(),{vehicles:i,serviceRecords:o,loading:a,error:l,addVehicle:c,updateVehicle:u,deleteVehicle:d,addServiceRecord:h,updateServiceRecord:f,deleteServiceRecord:m,getVehiclesByCustomer:v,getServiceRecordsByVehicle:_,getVehicleStats:x}=sp(),[b,E]=J.useState(""),[N,j]=J.useState(null),[O,P]=J.useState(null),[T,U]=J.useState(!1),[R,I]=J.useState(!1),[L,M]=J.useState(null),[W,X]=J.useState(null),[Z,ce]=J.useState("all"),[G,Y]=J.useState("all"),[ue,ke]=J.useState("grid"),[K,se]=J.useState({year:"",make:"",model:"",vin:"",licensePlate:"",color:"",mileage:"",customerId:"",status:"active"}),[ae,he]=J.useState({serviceDate:new Date().toISOString().split("T")[0],serviceType:"",mileage:"",description:"",technician:"",partsUsed:"",cost:"",laborCost:"",recommendations:"",nextServiceDate:"",nextServiceMileage:"",vehicleId:""}),ye=r||a,Ce=n||l,Te=me=>{const ze=v(me),ot=o.filter(vt=>ze.some(Ie=>Ie.id===vt.vehicleId)),st=s.filter(vt=>{var Ie;return((Ie=vt.customer)==null?void 0:Ie.id)===me||vt.customerId===me}),et=ot.reduce((vt,Ie)=>vt+(parseFloat(Ie.cost)||0)+(parseFloat(Ie.laborCost)||0),0),ht=ot.sort((vt,Ie)=>new Date(Ie.serviceDate)-new Date(vt.serviceDate))[0];return{totalVehicles:ze.length,totalServices:ot.length,totalSpent:et,lastService:ht?new Date(ht.serviceDate):null,averageServiceCost:ot.length>0?et/ot.length:0,totalInvoices:st.length,unpaidInvoices:st.filter(vt=>!vt.paid).length}},pe=me=>{const ze=_(me),ot=ze.reduce((vt,Ie)=>vt+(parseFloat(Ie.cost)||0)+(parseFloat(Ie.laborCost)||0),0),st=ze[0],et=st!=null&&st.nextServiceDate?new Date(st.nextServiceDate):null,ht=et&&et<new Date;return{totalServices:ze.length,totalCost:ot,averageCost:ze.length>0?ot/ze.length:0,lastService:st?new Date(st.serviceDate):null,nextService:et,isOverdue:ht,lastMileage:(st==null?void 0:st.mileage)||0}},Qe=(me,ze=null)=>{const ot=ze?_(ze.id):[],st=ot.length>0?ot[0]:null,et={customer:{id:me.id,name:me.name,email:me.email,phone:me.phone,address:me.address,company:me.company},vehicle:ze?{id:ze.id,year:ze.year,make:ze.make,model:ze.model,vin:ze.vin,licensePlate:ze.licensePlate,mileage:ze.mileage}:null,parts:st?[{name:st.serviceType||"Previous Service",cost:parseFloat(st.cost)||0,quantity:1}]:[],labor:st?[{description:st.description||"Service work",cost:parseFloat(st.laborCost)||0,hours:1}]:[],notes:ze?`Service for ${ze.year} ${ze.make} ${ze.model}${ze.licensePlate?` (${ze.licensePlate})`:""}${st?`

Last service: ${st.serviceType} on ${qr(new Date(st.serviceDate),"MMM d, yyyy")}`:""}`:`Service for ${me.name}`};t("/invoices/create",{state:{invoiceData:et}})},De=J.useMemo(()=>{if(!e)return[];const me=ot=>{const st=v(ot),et=o.filter(je=>st.some(qe=>qe.id===je.vehicleId)),ht=s.filter(je=>{var qe;return((qe=je.customer)==null?void 0:qe.id)===ot||je.customerId===ot}),vt=et.reduce((je,qe)=>je+(parseFloat(qe.cost)||0)+(parseFloat(qe.laborCost)||0),0),Ie=et.sort((je,qe)=>new Date(qe.serviceDate)-new Date(je.serviceDate))[0];return{totalVehicles:st.length,totalServices:et.length,totalSpent:vt,lastService:Ie?new Date(Ie.serviceDate):null,averageServiceCost:et.length>0?vt/et.length:0,totalInvoices:ht.length,unpaidInvoices:ht.filter(je=>!je.paid).length}};return e.filter(ot=>{var et,ht,vt;return ot.name.toLowerCase().includes(b.toLowerCase())||((et=ot.email)==null?void 0:et.toLowerCase().includes(b.toLowerCase()))||((ht=ot.company)==null?void 0:ht.toLowerCase().includes(b.toLowerCase()))||((vt=ot.phone)==null?void 0:vt.includes(b))}).sort((ot,st)=>{const et=me(ot.id),ht=me(st.id);return!et.lastService&&!ht.lastService?0:et.lastService?ht.lastService?ht.lastService-et.lastService:-1:1})},[e,b,o,s,v]),Oe=J.useMemo(()=>{const me=x(),ze=o.filter(st=>{const et=new Date(st.serviceDate),ht=new Date;return ht.setDate(ht.getDate()-7),et>=ht}),ot=i.filter(st=>{const et=_(st.id);if(et.length===0)return!0;const ht=et[0],vt=new Date(ht.serviceDate),Ie=new Date;return Ie.setMonth(Ie.getMonth()-6),vt<Ie});return{...me,recentServices:ze.length,overdueServices:ot.length,avgServiceCost:me.totalServiceRecords>0?me.totalServiceCost/me.totalServiceRecords:0}},[i,o,x,_]),We=J.useMemo(()=>{if(!O)return[];let me=_(O.id);if(Z!=="all"&&(me=me.filter(ze=>ze.serviceType.toLowerCase().includes(Z.toLowerCase()))),G!=="all"){const ze=new Date,ot=new Date;switch(G){case"week":ot.setDate(ze.getDate()-7);break;case"month":ot.setMonth(ze.getMonth()-1);break;case"quarter":ot.setMonth(ze.getMonth()-3);break;case"year":ot.setFullYear(ze.getFullYear()-1);break}me=me.filter(st=>new Date(st.serviceDate)>=ot)}return me},[O,Z,G,_]),mt=async me=>{me.preventDefault();try{L?await u(L.id,K):await c(K),lt()}catch(ze){console.error("Error saving vehicle:",ze)}},Me=async me=>{me.preventDefault();try{W?await f(W.id,ae):await h(ae),gt()}catch(ze){console.error("Error saving service record:",ze)}},fe=me=>{M(me),se({year:me.year||"",make:me.make||"",model:me.model||"",vin:me.vin||"",licensePlate:me.licensePlate||"",color:me.color||"",mileage:me.mileage||"",customerId:me.customerId||"",status:me.status||"active"}),U(!0)},Ht=me=>{X(me),he({serviceDate:me.serviceDate?qr(new Date(me.serviceDate),"yyyy-MM-dd"):"",serviceType:me.serviceType||"",mileage:me.mileage||"",description:me.description||"",technician:me.technician||"",partsUsed:me.partsUsed||"",cost:me.cost||"",laborCost:me.laborCost||"",recommendations:me.recommendations||"",nextServiceDate:me.nextServiceDate?qr(new Date(me.nextServiceDate),"yyyy-MM-dd"):"",nextServiceMileage:me.nextServiceMileage||"",vehicleId:me.vehicleId||""}),I(!0)},ft=async me=>{if(window.confirm("Are you sure you want to delete this vehicle? This will also delete all associated service records."))try{await d(me),(O==null?void 0:O.id)===me&&P(null)}catch(ze){console.error("Error deleting vehicle:",ze)}},Ye=async me=>{if(window.confirm("Are you sure you want to delete this service record?"))try{await m(me)}catch(ze){console.error("Error deleting service record:",ze)}},lt=()=>{se({year:"",make:"",model:"",vin:"",licensePlate:"",color:"",mileage:"",customerId:"",status:"active"}),M(null),U(!1)},gt=()=>{he({serviceDate:new Date().toISOString().split("T")[0],serviceType:"",mileage:"",description:"",technician:"",partsUsed:"",cost:"",laborCost:"",recommendations:"",nextServiceDate:"",nextServiceMileage:"",vehicleId:(O==null?void 0:O.id)||""}),X(null),I(!1)},ct=()=>{if(!O||We.length===0){Ke.info("No service records to export");return}const me=We.map(et=>({Date:qr(new Date(et.serviceDate),"yyyy-MM-dd"),"Service Type":et.serviceType,Mileage:et.mileage,Description:et.description,Technician:et.technician,"Parts Used":et.partsUsed,"Parts Cost":et.cost,"Labor Cost":et.laborCost,"Total Cost":(parseFloat(et.cost)||0)+(parseFloat(et.laborCost)||0),Recommendations:et.recommendations,"Next Service Date":et.nextServiceDate?qr(new Date(et.nextServiceDate),"yyyy-MM-dd"):"","Next Service Mileage":et.nextServiceMileage})),ze="data:text/csv;charset=utf-8,"+Object.keys(me[0]).join(",")+`
`+me.map(et=>Object.values(et).map(ht=>`"${ht}"`).join(",")).join(`
`),ot=encodeURI(ze),st=document.createElement("a");st.setAttribute("href",ot),st.setAttribute("download",`service-records-${O.year}-${O.make}-${O.model}-${qr(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(st),st.click(),document.body.removeChild(st)};return ye?A.jsx("div",{className:"flex items-center justify-center min-h-96",children:A.jsx(Mo,{size:"lg"})}):Ce?A.jsx(ca,{message:Ce,onRetry:()=>window.location.reload()}):A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Vehicle Service Records"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage customer vehicles and service history"})]}),A.jsxs("div",{className:"flex flex-wrap gap-3",children:[A.jsxs("button",{onClick:()=>ke(ue==="grid"?"list":"grid"),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[ue==="grid"?A.jsx(ji,{size:16}):A.jsx(ta,{size:16}),ue==="grid"?"List View":"Grid View"]}),A.jsxs("button",{onClick:()=>{se(me=>({...me,customerId:(N==null?void 0:N.id)||""})),U(!0)},className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors",children:[A.jsx(dl,{size:16}),"Add Vehicle"]}),O&&A.jsxs(A.Fragment,{children:[A.jsxs("button",{onClick:()=>{he(me=>({...me,vehicleId:O.id})),I(!0)},className:"flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors",children:[A.jsx(dl,{size:16}),"Add Service"]}),A.jsxs("button",{onClick:()=>{const me=e.find(ze=>ze.id===O.customerId);me&&Qe(me,O)},className:"flex items-center gap-2 bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg transition-colors",children:[A.jsx(Wb,{size:16}),"Quick Invoice"]})]})]})]}),Oe&&A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Vehicles"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:Oe.totalVehicles}),A.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Oe.activeVehicles," active"]})]}),A.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-full",children:A.jsx(ta,{className:"text-blue-600 dark:text-blue-400",size:24})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Services"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:Oe.totalServiceRecords}),A.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Oe.recentServices," this week"]})]}),A.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-full",children:A.jsx(Da,{className:"text-green-600 dark:text-green-400",size:24})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Service Costs"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:is(Oe.totalServiceCost)}),A.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Avg: ",is(Oe.avgServiceCost)]})]}),A.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-full",children:A.jsx(Vs,{className:"text-purple-600 dark:text-purple-400",size:24})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Overdue Services"}),A.jsx("p",{className:"text-2xl font-semibold text-red-600 dark:text-red-400",children:Oe.overdueServices}),A.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Needs attention"})]}),A.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900 rounded-full",children:A.jsx(vl,{className:"text-red-600 dark:text-red-400",size:24})})]})})]}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[A.jsxs("div",{className:"flex-1 relative",children:[A.jsx(ip,{className:"absolute left-3 top-3 text-gray-400",size:16}),A.jsx("input",{type:"text",placeholder:"Search customers...",value:b,onChange:me=>E(me.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),O&&A.jsxs(A.Fragment,{children:[A.jsxs("select",{value:Z,onChange:me=>ce(me.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[A.jsx("option",{value:"all",children:"All Service Types"}),A.jsx("option",{value:"maintenance",children:"Maintenance"}),A.jsx("option",{value:"repair",children:"Repair"}),A.jsx("option",{value:"inspection",children:"Inspection"}),A.jsx("option",{value:"oil",children:"Oil Change"}),A.jsx("option",{value:"tire",children:"Tire Service"}),A.jsx("option",{value:"brake",children:"Brake Service"})]}),A.jsxs("select",{value:G,onChange:me=>Y(me.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[A.jsx("option",{value:"all",children:"All Time"}),A.jsx("option",{value:"week",children:"Past Week"}),A.jsx("option",{value:"month",children:"Past Month"}),A.jsx("option",{value:"quarter",children:"Past Quarter"}),A.jsx("option",{value:"year",children:"Past Year"})]}),A.jsxs("button",{onClick:ct,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[A.jsx(sd,{size:16}),"Export"]})]})]})}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[A.jsx("div",{className:"lg:col-span-1",children:A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[A.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Customers"}),A.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Select a customer to view their vehicles"})]}),A.jsx("div",{className:"max-h-96 overflow-y-auto",children:De.length===0?A.jsxs("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:[A.jsx(Ts,{className:"mx-auto mb-4 text-gray-400",size:48}),A.jsx("p",{children:"No customers found"})]}):De.map(me=>{const ze=Te(me.id),ot=(N==null?void 0:N.id)===me.id;return A.jsxs("div",{className:`p-4 border-b border-gray-200 dark:border-gray-700 last:border-b-0 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 ${ot?"bg-blue-50 dark:bg-blue-900/20":""}`,onClick:()=>j(me),children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center mr-3",children:A.jsx(Ts,{className:"text-blue-600 dark:text-blue-400",size:16})}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:me.name}),A.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[ze.totalVehicles," vehicles  ",ze.totalServices," services"]})]})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:is(ze.totalSpent)}),A.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:ze.lastService?`Last: ${qr(ze.lastService,"MMM d")}`:"No services"})]})]}),A.jsxs("div",{className:"flex gap-2 mt-3",children:[A.jsxs("button",{onClick:st=>{st.stopPropagation(),Qe(me)},className:"flex items-center gap-1 px-3 py-1 bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 rounded-md hover:bg-purple-200 dark:hover:bg-purple-800 transition-colors text-sm",children:[A.jsx(Wb,{size:12}),"Invoice"]}),A.jsxs("button",{onClick:st=>{st.stopPropagation(),se(et=>({...et,customerId:me.id})),U(!0)},className:"flex items-center gap-1 px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded-md hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors text-sm",children:[A.jsx(dl,{size:12}),"Vehicle"]}),ze.unpaidInvoices>0&&A.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-md text-xs",children:[A.jsx(nd,{size:10}),ze.unpaidInvoices," unpaid"]})]})]},me.id)})})]})}),A.jsx("div",{className:"lg:col-span-2",children:N?A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:N.name}),A.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500 dark:text-gray-400",children:[N.email&&A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(pc,{size:14}),N.email]}),N.phone&&A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(Rh,{size:14}),N.phone]}),N.company&&A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(Ts,{size:14}),N.company]})]})]}),A.jsx("div",{className:"text-right",children:A.jsx("button",{onClick:()=>Qe(N),className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg transition-colors",children:"Create Invoice"})})]}),A.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[A.jsxs("div",{className:"text-center",children:[A.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:(()=>Te(N.id).totalVehicles)()}),A.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Vehicles"})]}),A.jsxs("div",{className:"text-center",children:[A.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:(()=>Te(N.id).totalServices)()}),A.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Services"})]}),A.jsxs("div",{className:"text-center",children:[A.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:(()=>{const me=Te(N.id);return is(me.totalSpent)})()}),A.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Spent"})]})]})]}),A.jsx("div",{className:"mt-6",children:A.jsx(roe,{customerId:N.id})}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[A.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Vehicles"}),A.jsxs("button",{onClick:()=>{se(me=>({...me,customerId:N.id})),U(!0)},className:"flex items-center gap-2 px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors text-sm",children:[A.jsx(dl,{size:14}),"Add Vehicle"]})]})}),(()=>{const me=v(N.id);return me.length===0?A.jsxs("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:[A.jsx(ta,{className:"mx-auto mb-4 text-gray-400",size:48}),A.jsx("p",{children:"No vehicles found for this customer"}),A.jsx("button",{onClick:()=>{se(ze=>({...ze,customerId:N.id})),U(!0)},className:"mt-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:"Add First Vehicle"})]}):A.jsx("div",{className:"p-6 space-y-4",children:me.map(ze=>{const ot=pe(ze.id),st=(O==null?void 0:O.id)===ze.id;return A.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${st?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,onClick:()=>P(ze),children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 dark:bg-green-900 flex items-center justify-center mr-4",children:A.jsx(ta,{className:"text-green-600 dark:text-green-400",size:20})}),A.jsxs("div",{children:[A.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white",children:[ze.year," ",ze.make," ",ze.model]}),A.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 dark:text-gray-400",children:[ze.licensePlate&&A.jsxs("span",{children:["License: ",ze.licensePlate]}),ze.color&&A.jsxs("span",{children:["Color: ",ze.color]}),ze.mileage&&A.jsxs("span",{children:["Mileage: ",ze.mileage.toLocaleString()]})]})]})]}),A.jsxs("div",{className:"text-right",children:[A.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[ot.totalServices," services"]}),A.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[is(ot.totalCost)," total"]}),ot.isOverdue&&A.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 flex items-center gap-1",children:[A.jsx(nd,{size:10}),"Service overdue"]})]})]}),A.jsxs("div",{className:"flex gap-2 mt-3",children:[A.jsxs("button",{onClick:et=>{et.stopPropagation(),Qe(N,ze)},className:"flex items-center gap-1 px-3 py-1 bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 rounded-md hover:bg-purple-200 dark:hover:bg-purple-800 transition-colors text-sm",children:[A.jsx(Wb,{size:12}),"Invoice"]}),A.jsxs("button",{onClick:et=>{et.stopPropagation(),he(ht=>({...ht,vehicleId:ze.id})),I(!0)},className:"flex items-center gap-1 px-3 py-1 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 rounded-md hover:bg-green-200 dark:hover:bg-green-800 transition-colors text-sm",children:[A.jsx(dl,{size:12}),"Service"]}),A.jsxs("button",{onClick:et=>{et.stopPropagation(),fe(ze)},className:"flex items-center gap-1 px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded-md hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors text-sm",children:[A.jsx(gc,{size:12}),"Edit"]}),A.jsxs("button",{onClick:et=>{et.stopPropagation(),ft(ze.id)},className:"flex items-center gap-1 px-3 py-1 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-md hover:bg-red-200 dark:hover:bg-red-800 transition-colors text-sm",children:[A.jsx(Mh,{size:12}),"Delete"]})]})]},ze.id)})})})()]})]}):A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-12 text-center",children:[A.jsx(Ts,{className:"mx-auto mb-4 text-gray-400",size:64}),A.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Select a Customer"}),A.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Choose a customer from the list to view their vehicles and service records"})]})})]}),O&&A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[A.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Service Records - ",O.year," ",O.make," ",O.model]}),A.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Complete maintenance and repair history"})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("button",{onClick:()=>{he(me=>({...me,vehicleId:O.id})),I(!0)},className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors",children:[A.jsx(dl,{size:16}),"Add Service"]}),A.jsxs("button",{onClick:ct,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[A.jsx(sd,{size:16}),"Export"]})]})]})}),A.jsxs("div",{className:"p-6",children:[A.jsx("div",{className:"mb-6",children:A.jsx(toe,{vehicle:O,onServiceSelect:me=>{he(me),I(!0)}})}),We.length===0?A.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[A.jsx(Da,{className:"mx-auto mb-4 text-gray-400",size:48}),A.jsx("p",{children:"No service records found"}),A.jsx("button",{onClick:()=>{he(me=>({...me,vehicleId:O.id})),I(!0)},className:"mt-4 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors",children:"Add First Service Record"})]}):A.jsx("div",{className:"space-y-4",children:We.map(me=>A.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsxs("div",{className:"flex-1",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[A.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center",children:A.jsx(Da,{className:"text-green-600 dark:text-green-400",size:16})}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:me.serviceType}),A.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:qr(new Date(me.serviceDate),"MMM d, yyyy")})]})]}),A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[me.mileage&&A.jsxs("div",{children:[A.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Mileage:"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:me.mileage.toLocaleString()})]}),me.technician&&A.jsxs("div",{children:[A.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Technician:"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:me.technician})]}),(me.cost||me.laborCost)&&A.jsxs("div",{children:[A.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Cost:"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:is((parseFloat(me.cost)||0)+(parseFloat(me.laborCost)||0))})]}),me.nextServiceDate&&A.jsxs("div",{children:[A.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Next Service:"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:qr(new Date(me.nextServiceDate),"MMM d, yyyy")})]})]}),me.description&&A.jsxs("div",{className:"mt-3",children:[A.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Description:"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:me.description})]}),me.partsUsed&&A.jsxs("div",{className:"mt-3",children:[A.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Parts Used:"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:me.partsUsed})]}),me.recommendations&&A.jsxs("div",{className:"mt-3",children:[A.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Recommendations:"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:me.recommendations})]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>Ht(me),className:"p-2 text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-200 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:A.jsx(gc,{size:16})}),A.jsx("button",{onClick:()=>Ye(me.id),className:"p-2 text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-200 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:A.jsx(Mh,{size:16})})]})]})},me.id))})]})]}),T&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:L?"Edit Vehicle":"Add New Vehicle"}),A.jsx("button",{onClick:lt,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:""})]}),A.jsxs("form",{onSubmit:mt,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Customer *"}),A.jsxs("select",{required:!0,value:K.customerId,onChange:me=>se({...K,customerId:me.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[A.jsx("option",{value:"",children:"Select a customer"}),e.map(me=>A.jsx("option",{value:me.id,children:me.name},me.id))]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Year *"}),A.jsx("input",{type:"number",required:!0,min:"1900",max:"2030",value:K.year,onChange:me=>se({...K,year:me.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Make *"}),A.jsx("input",{type:"text",required:!0,value:K.make,onChange:me=>se({...K,make:me.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Model *"}),A.jsx("input",{type:"text",required:!0,value:K.model,onChange:me=>se({...K,model:me.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"VIN"}),A.jsx("input",{type:"text",value:K.vin,onChange:me=>se({...K,vin:me.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"License Plate"}),A.jsx("input",{type:"text",value:K.licensePlate,onChange:me=>se({...K,licensePlate:me.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Color"}),A.jsx("input",{type:"text",value:K.color,onChange:me=>se({...K,color:me.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Current Mileage"}),A.jsx("input",{type:"number",value:K.mileage,onChange:me=>se({...K,mileage:me.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),A.jsxs("select",{value:K.status,onChange:me=>se({...K,status:me.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[A.jsx("option",{value:"active",children:"Active"}),A.jsx("option",{value:"inactive",children:"Inactive"})]})]}),A.jsxs("div",{className:"flex gap-3 pt-4",children:[A.jsx("button",{type:"submit",className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors",children:L?"Update Vehicle":"Add Vehicle"}),A.jsx("button",{type:"button",onClick:lt,className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Cancel"})]})]})]})}),R&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:W?"Edit Service Record":"Add New Service Record"}),A.jsx("button",{onClick:gt,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:""})]}),A.jsxs("form",{onSubmit:Me,className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Service Date *"}),A.jsx("input",{type:"date",required:!0,value:ae.serviceDate,onChange:me=>he({...ae,serviceDate:me.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Service Type *"}),A.jsxs("select",{required:!0,value:ae.serviceType,onChange:me=>he({...ae,serviceType:me.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[A.jsx("option",{value:"",children:"Select service type"}),A.jsx("option",{value:"Oil Change",children:"Oil Change"}),A.jsx("option",{value:"Maintenance",children:"Maintenance"}),A.jsx("option",{value:"Repair",children:"Repair"}),A.jsx("option",{value:"Inspection",children:"Inspection"}),A.jsx("option",{value:"Tire Service",children:"Tire Service"}),A.jsx("option",{value:"Brake Service",children:"Brake Service"}),A.jsx("option",{value:"Engine Service",children:"Engine Service"}),A.jsx("option",{value:"Transmission Service",children:"Transmission Service"}),A.jsx("option",{value:"Other",children:"Other"})]})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mileage"}),A.jsx("input",{type:"number",value:ae.mileage,onChange:me=>he({...ae,mileage:me.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Technician"}),A.jsx("input",{type:"text",value:ae.technician,onChange:me=>he({...ae,technician:me.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),A.jsx("textarea",{value:ae.description,onChange:me=>he({...ae,description:me.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Parts Used"}),A.jsx("textarea",{value:ae.partsUsed,onChange:me=>he({...ae,partsUsed:me.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Parts Cost"}),A.jsx("input",{type:"number",step:"0.01",value:ae.cost,onChange:me=>he({...ae,cost:me.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Labor Cost"}),A.jsx("input",{type:"number",step:"0.01",value:ae.laborCost,onChange:me=>he({...ae,laborCost:me.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Recommendations"}),A.jsx("textarea",{value:ae.recommendations,onChange:me=>he({...ae,recommendations:me.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Next Service Date"}),A.jsx("input",{type:"date",value:ae.nextServiceDate,onChange:me=>he({...ae,nextServiceDate:me.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Next Service Mileage"}),A.jsx("input",{type:"number",value:ae.nextServiceMileage,onChange:me=>he({...ae,nextServiceMileage:me.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),A.jsxs("div",{className:"flex gap-3 pt-4",children:[A.jsx("button",{type:"submit",className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors",children:W?"Update Service Record":"Add Service Record"}),A.jsx("button",{type:"button",onClick:gt,className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Cancel"})]})]})]})})]})}function soe(){const t=xs(),{customers:e,loading:r,error:n}=bc(),{vehicles:s,serviceRecords:i,loading:o,error:a}=sp(),{invoices:l,loading:c,error:u}=xl(),[d,h]=J.useState("overview"),[f,m]=J.useState(""),[v,_]=J.useState("all"),[x,b]=J.useState("all"),[E,N]=J.useState("date"),[j,O]=J.useState("desc"),P=r||o||c,T=n||a||u,U=J.useMemo(()=>{const W=new Date,X=new Date(W.getFullYear(),W.getMonth(),1),Z=new Date(W.getFullYear(),W.getMonth()-1,1),ce=i.length,G=i.filter(De=>new Date(De.serviceDate)>=X).length,Y=i.filter(De=>new Date(De.serviceDate)>=Z&&new Date(De.serviceDate)<X).length,ue=i.reduce((De,Oe)=>De+(parseFloat(Oe.cost)||0)+(parseFloat(Oe.laborCost)||0),0),ke=l.length,K=l.filter(De=>De.paid).length,se=l.filter(De=>!De.paid&&De.dueDate&&new Date(De.dueDate)<W).length,ae=l.reduce((De,Oe)=>De+(Oe.totalAmount||0),0),he=l.filter(De=>new Date(De.createdAt)>=X).reduce((De,Oe)=>De+(Oe.totalAmount||0),0),ye=l.filter(De=>new Date(De.createdAt)>=Z&&new Date(De.createdAt)<X).reduce((De,Oe)=>De+(Oe.totalAmount||0),0),Ce=e.filter(De=>De.status==="active"||!De.status).length,Te=e.filter(De=>l.filter(We=>{var mt;return((mt=We.customer)==null?void 0:mt.id)===De.id||We.customerId===De.id}).some(We=>new Date(We.createdAt)>=new Date(W-30*24*60*60*1e3))).length,pe=s.length,Qe=s.filter(De=>{const Oe=i.filter(Me=>Me.vehicleId===De.id);if(Oe.length===0)return!0;const We=Oe.sort((Me,fe)=>new Date(fe.serviceDate)-new Date(Me.serviceDate))[0];return(W-new Date(We.serviceDate))/(1e3*60*60*24)>90}).length;return{totalServices:ce,thisMonthServices:G,lastMonthServices:Y,serviceRevenue:ue,totalInvoices:ke,paidInvoices:K,overdueInvoices:se,invoiceRevenue:ae,thisMonthRevenue:he,lastMonthRevenue:ye,activeCustomers:Ce,customersWithRecentActivity:Te,totalVehicles:pe,vehiclesNeedingService:Qe,serviceGrowth:Y>0?(G-Y)/Y*100:0,revenueGrowth:ye>0?(he-ye)/ye*100:0}},[e,s,i,l]),R=J.useMemo(()=>{let W=[];switch(d){case"services":W=i.map(X=>({...X,type:"service",date:new Date(X.serviceDate),amount:(parseFloat(X.cost)||0)+(parseFloat(X.laborCost)||0),title:X.serviceType,customer:e.find(Z=>{const ce=s.find(G=>G.id===X.vehicleId);return ce&&Z.id===ce.customerId}),vehicle:s.find(Z=>Z.id===X.vehicleId)}));break;case"invoices":W=l.map(X=>({...X,type:"invoice",date:new Date(X.createdAt),amount:X.totalAmount||0,title:`Invoice #${X.invoiceNumber||X.id.slice(0,8)}`,customer:e.find(Z=>{var ce;return Z.id===((ce=X.customer)==null?void 0:ce.id)||Z.id===X.customerId})}));break;case"customers":W=e.map(X=>{const Z=l.filter(G=>{var Y;return((Y=G.customer)==null?void 0:Y.id)===X.id||G.customerId===X.id}),ce=Z.sort((G,Y)=>new Date(Y.createdAt)-new Date(G.createdAt))[0];return{...X,type:"customer",date:ce?new Date(ce.createdAt):new Date(X.createdAt||0),amount:Z.reduce((G,Y)=>G+(Y.totalAmount||0),0),title:X.name,invoiceCount:Z.length}});break;case"vehicles":W=s.map(X=>{const Z=i.filter(G=>G.vehicleId===X.id),ce=Z.sort((G,Y)=>new Date(Y.serviceDate)-new Date(G.serviceDate))[0];return{...X,type:"vehicle",date:ce?new Date(ce.serviceDate):new Date(X.createdAt||0),amount:Z.reduce((G,Y)=>G+(parseFloat(Y.cost)||0)+(parseFloat(Y.laborCost)||0),0),title:`${X.year} ${X.make} ${X.model}`,customer:e.find(G=>G.id===X.customerId),serviceCount:Z.length}});break;default:{W=[...i.map(Z=>({...Z,type:"service",date:new Date(Z.serviceDate),amount:(parseFloat(Z.cost)||0)+(parseFloat(Z.laborCost)||0),title:Z.serviceType})),...l.map(Z=>({...Z,type:"invoice",date:new Date(Z.createdAt),amount:Z.totalAmount||0,title:`Invoice #${Z.invoiceNumber||Z.id.slice(0,8)}`}))];break}}if(f&&(W=W.filter(X=>{var Z,ce,G,Y;return((Z=X.title)==null?void 0:Z.toLowerCase().includes(f.toLowerCase()))||((G=(ce=X.customer)==null?void 0:ce.name)==null?void 0:G.toLowerCase().includes(f.toLowerCase()))||((Y=X.description)==null?void 0:Y.toLowerCase().includes(f.toLowerCase()))})),v!=="all"){const X=new Date;let Z=new Date;switch(v){case"today":Z.setHours(0,0,0,0);break;case"week":Z.setDate(X.getDate()-7);break;case"month":Z.setMonth(X.getMonth()-1);break;case"quarter":Z.setMonth(X.getMonth()-3);break;case"year":Z.setFullYear(X.getFullYear()-1);break}W=W.filter(ce=>ce.date>=Z)}return x!=="all"&&(W=W.filter(X=>{switch(x){case"paid":return X.paid===!0;case"unpaid":return X.paid===!1;case"overdue":return X.paid===!1&&X.dueDate&&new Date(X.dueDate)<new Date;default:return!0}})),W.sort((X,Z)=>{var Y,ue;let ce,G;switch(E){case"date":ce=X.date,G=Z.date;break;case"amount":ce=X.amount,G=Z.amount;break;case"customer":ce=((Y=X.customer)==null?void 0:Y.name)||"",G=((ue=Z.customer)==null?void 0:ue.name)||"";break;default:ce=X.title,G=Z.title}return j==="asc"?ce>G?1:-1:ce<G?1:-1}),W},[d,f,v,x,E,j,e,s,i,l]),I=W=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(W),L=W=>{switch(W){case"service":return A.jsx(Da,{className:"text-blue-500",size:16});case"invoice":return A.jsx(ji,{className:"text-green-500",size:16});case"customer":return A.jsx(Ts,{className:"text-purple-500",size:16});case"vehicle":return A.jsx(ta,{className:"text-orange-500",size:16});default:return A.jsx(ji,{className:"text-gray-500",size:16})}},M=()=>{const W=R.map(ke=>{var K;return{Type:ke.type,Title:ke.title,Customer:((K=ke.customer)==null?void 0:K.name)||"N/A",Date:qr(ke.date,"yyyy-MM-dd"),Amount:ke.amount,Status:ke.paid?"Paid":"Unpaid"}}),X=Object.keys(W[0]).join(","),Z=W.map(ke=>Object.values(ke).map(K=>`"${K}"`).join(",")).join(`
`),ce=`${X}
${Z}`,G=new Blob([ce],{type:"text/csv;charset=utf-8;"}),Y=document.createElement("a"),ue=URL.createObjectURL(G);Y.setAttribute("href",ue),Y.setAttribute("download",`records_${qr(new Date,"yyyy-MM-dd")}.csv`),Y.style.visibility="hidden",document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)};return P?A.jsx("div",{className:"flex items-center justify-center min-h-96",children:A.jsx(Mo,{size:"lg"})}):T?A.jsx(ca,{message:T,onRetry:()=>window.location.reload()}):A.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:A.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Records"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Comprehensive view of all business records and analytics"})]}),A.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:[A.jsx(sd,{size:16}),"Export Records"]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Revenue"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:I(U.invoiceRevenue)}),A.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[U.revenueGrowth>=0?A.jsx(o3,{className:"text-green-500",size:16}):A.jsx(i3,{className:"text-red-500",size:16}),A.jsxs("span",{className:`text-sm ${U.revenueGrowth>=0?"text-green-600":"text-red-600"}`,children:[Math.abs(U.revenueGrowth).toFixed(1),"%"]})]})]}),A.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:A.jsx(Vs,{className:"text-green-600 dark:text-green-400",size:24})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Services"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:U.totalServices}),A.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[U.serviceGrowth>=0?A.jsx(o3,{className:"text-green-500",size:16}):A.jsx(i3,{className:"text-red-500",size:16}),A.jsxs("span",{className:`text-sm ${U.serviceGrowth>=0?"text-green-600":"text-red-600"}`,children:[Math.abs(U.serviceGrowth).toFixed(1),"%"]})]})]}),A.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:A.jsx(Da,{className:"text-blue-600 dark:text-blue-400",size:24})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Customers"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:U.activeCustomers}),A.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[U.customersWithRecentActivity," recent activity"]})]}),A.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center",children:A.jsx(Ts,{className:"text-purple-600 dark:text-purple-400",size:24})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Vehicles"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:U.totalVehicles}),A.jsx("div",{className:"flex items-center gap-1 mt-1",children:U.vehiclesNeedingService>0&&A.jsxs(A.Fragment,{children:[A.jsx(nd,{className:"text-yellow-500",size:16}),A.jsxs("span",{className:"text-sm text-yellow-600",children:[U.vehiclesNeedingService," need service"]})]})})]}),A.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900 rounded-lg flex items-center justify-center",children:A.jsx(ta,{className:"text-orange-600 dark:text-orange-400",size:24})})]})})]}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search"}),A.jsxs("div",{className:"relative",children:[A.jsx(ip,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),A.jsx("input",{type:"text",placeholder:"Search records...",value:f,onChange:W=>m(W.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date Range"}),A.jsxs("select",{value:v,onChange:W=>_(W.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[A.jsx("option",{value:"all",children:"All Time"}),A.jsx("option",{value:"today",children:"Today"}),A.jsx("option",{value:"week",children:"Last Week"}),A.jsx("option",{value:"month",children:"Last Month"}),A.jsx("option",{value:"quarter",children:"Last Quarter"}),A.jsx("option",{value:"year",children:"Last Year"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),A.jsxs("select",{value:x,onChange:W=>b(W.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[A.jsx("option",{value:"all",children:"All Status"}),A.jsx("option",{value:"paid",children:"Paid"}),A.jsx("option",{value:"unpaid",children:"Unpaid"}),A.jsx("option",{value:"overdue",children:"Overdue"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sort By"}),A.jsxs("select",{value:E,onChange:W=>N(W.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[A.jsx("option",{value:"date",children:"Date"}),A.jsx("option",{value:"amount",children:"Amount"}),A.jsx("option",{value:"customer",children:"Customer"}),A.jsx("option",{value:"title",children:"Title"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Order"}),A.jsxs("select",{value:j,onChange:W=>O(W.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[A.jsx("option",{value:"desc",children:"Newest First"}),A.jsx("option",{value:"asc",children:"Oldest First"})]})]})]})}),A.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:A.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Overview"},{id:"services",label:"Services"},{id:"invoices",label:"Invoices"},{id:"customers",label:"Customers"},{id:"vehicles",label:"Vehicles"}].map(W=>A.jsx("button",{onClick:()=>h(W.id),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${d===W.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:W.label},W.id))})}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[A.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Type"}),A.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Title"}),A.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Customer"}),A.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Date"}),A.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Amount"}),A.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),A.jsx("th",{className:"text-left py-3 px-6 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Actions"})]})}),A.jsx("tbody",{children:R.map((W,X)=>A.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:[A.jsx("td",{className:"py-3 px-6",children:A.jsxs("div",{className:"flex items-center gap-2",children:[L(W.type),A.jsx("span",{className:"capitalize text-sm text-gray-600 dark:text-gray-400",children:W.type})]})}),A.jsxs("td",{className:"py-3 px-6",children:[A.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:W.title}),W.description&&A.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs",children:W.description})]}),A.jsx("td",{className:"py-3 px-6",children:A.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:W.customer?A.jsx("button",{onClick:()=>t(`/customers/${W.customer.id}`),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:W.customer.name}):"N/A"})}),A.jsx("td",{className:"py-3 px-6 text-sm text-gray-900 dark:text-white",children:qr(W.date,"MMM d, yyyy")}),A.jsx("td",{className:"py-3 px-6 text-sm text-gray-900 dark:text-white",children:I(W.amount)}),A.jsx("td",{className:"py-3 px-6",children:W.type==="invoice"&&A.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${W.paid?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":W.dueDate&&new Date(W.dueDate)<new Date?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:W.paid?"Paid":W.dueDate&&new Date(W.dueDate)<new Date?"Overdue":"Pending"})}),A.jsx("td",{className:"py-3 px-6",children:A.jsx("button",{onClick:()=>{switch(W.type){case"invoice":t(`/invoices/${W.id}`);break;case"customer":t(`/customers/${W.id}`);break;case"vehicle":t("/vehicle-service-records",{state:{selectedVehicle:W}});break}},className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:A.jsx(id,{size:16})})})]},`${W.type}-${W.id}-${X}`))})]})}),R.length===0&&A.jsxs("div",{className:"text-center py-12",children:[A.jsx(ji,{className:"mx-auto mb-4 text-gray-400",size:48}),A.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No records found"}),A.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filter criteria"})]})]})]})})}const ioe=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),eQ=t=>Array.isArray(t)&&t.every(e=>typeof e=="object"&&!(e instanceof Array)),ooe=t=>Array.isArray(t)&&t.every(e=>Array.isArray(e)),aoe=t=>Array.from(t.map(e=>Object.keys(e)).reduce((e,r)=>new Set([...e,...r]),[])),loe=(t,e)=>{e=e||aoe(t);let r=e,n=e;eQ(e)&&(r=e.map(i=>i.label),n=e.map(i=>i.key));const s=t.map(i=>n.map(o=>Aoe(o,i)));return[r,...s]},Aoe=(t,e)=>{const r=t.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(n,s,i,o){const a=n[s];if(a==null)o.splice(1);else return a},e);return r===void 0?t in e?e[t]:"":r},coe=t=>typeof t>"u"||t===null?"":t,tQ=(t,e=",",r='"')=>t.filter(n=>n).map(n=>n.map(s=>coe(s)).map(s=>`${r}${s}${r}`).join(e)).join(`
`),uoe=(t,e,r,n)=>tQ(e?[e,...t]:t,r,n),doe=(t,e,r,n)=>tQ(loe(t,e),r,n),hoe=(t,e,r,n)=>e?`${e.join(r)}
${t}`:t.replace(/"/g,'""'),rQ=(t,e,r,n)=>{if(eQ(t))return doe(t,e,r,n);if(ooe(t))return uoe(t,e,r,n);if(typeof t=="string")return hoe(t,e,r);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},nQ=(t,e,r,n,s)=>{const i=rQ(t,r,n,s),o=ioe()?"application/csv":"text/csv",a=new Blob([e?"\uFEFF":"",i],{type:o}),l=`data:${o};charset=utf-8,${e?"\uFEFF":""}${i}`,c=window.URL||window.webkitURL;return typeof c.createObjectURL>"u"?l:c.createObjectURL(a)};var sQ={exports:{}},foe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",goe=foe,poe=goe;function iQ(){}function oQ(){}oQ.resetWarningCache=iQ;var moe=function(){function t(n,s,i,o,a,l){if(l!==poe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:oQ,resetWarningCache:iQ};return r.PropTypes=r,r};sQ.exports=moe();var _a=sQ.exports;const aQ={data:_a.oneOfType([_a.string,_a.array,_a.func]).isRequired,headers:_a.array,target:_a.string,separator:_a.string,filename:_a.string,uFEFF:_a.bool,onClick:_a.func,asyncOnClick:_a.bool,enclosingCharacter:_a.string},lQ={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},yoe={target:"_blank"};class D3 extends fr.Component{constructor(e){super(e),this.state={}}buildURI(){return nQ(...arguments)}componentDidMount(){const{data:e,headers:r,separator:n,enclosingCharacter:s,uFEFF:i,target:o,specs:a,replace:l}=this.props;this.state.page=window.open(this.buildURI(e,i,r,n,s),o,a,l)}getWindow(){return this.state.page}render(){return null}}jt(D3,"defaultProps",Object.assign(lQ,yoe)),jt(D3,"propTypes",aQ);var qv;let voe=(qv=class extends fr.Component{constructor(e){super(e),this.buildURI=this.buildURI.bind(this)}buildURI(){return nQ(...arguments)}handleLegacy(e,r=!1){if(window.navigator.msSaveOrOpenBlob){e.preventDefault();const{data:n,headers:s,separator:i,filename:o,enclosingCharacter:a,uFEFF:l}=this.props,c=r&&typeof n=="function"?n():n;let u=new Blob([l?"\uFEFF":"",rQ(c,s,i,a)]);return window.navigator.msSaveBlob(u,o),!1}}handleAsyncClick(e){const r=n=>{if(n===!1){e.preventDefault();return}this.handleLegacy(e,!0)};this.props.onClick(e,r)}handleSyncClick(e){if(this.props.onClick(e)===!1){e.preventDefault();return}this.handleLegacy(e)}handleClick(){return e=>{if(typeof this.props.onClick=="function")return this.props.asyncOnClick?this.handleAsyncClick(e):this.handleSyncClick(e);this.handleLegacy(e)}}render(){const{data:e,headers:r,separator:n,filename:s,uFEFF:i,children:o,onClick:a,asyncOnClick:l,enclosingCharacter:c,...u}=this.props,h=typeof window>"u"?"":this.buildURI(e,i,r,n,c);return A.jsx("a",{download:s,...u,ref:f=>this.link=f,target:"_self",href:h,onClick:this.handleClick(),children:o})}},jt(qv,"defaultProps",lQ),jt(qv,"propTypes",aQ),qv);const xoe=voe;function woe({parts:t,onEdit:e,onDelete:r,onAddToInvoice:n}){const[s,i]=J.useState({key:"name",direction:"asc"}),[o,a]=J.useState(1),l=10,c=f=>{let m="asc";s.key===f&&s.direction==="asc"&&(m="desc"),i({key:f,direction:m})},u=[...t].sort((f,m)=>f[s.key]<m[s.key]?s.direction==="asc"?-1:1:f[s.key]>m[s.key]?s.direction==="asc"?1:-1:0),d=u.slice((o-1)*l,o*l),h=Math.ceil(u.length/l);return A.jsxs("div",{className:"overflow-x-auto",children:[A.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[A.jsx("th",{onClick:()=>c("name"),className:"px-4 py-2 border cursor-pointer text-gray-900 dark:text-white",children:"Name"}),A.jsx("th",{onClick:()=>c("partNumber"),className:"px-4 py-2 border cursor-pointer text-gray-900 dark:text-white",children:"Part Number"}),A.jsx("th",{onClick:()=>c("quantity"),className:"px-4 py-2 border cursor-pointer text-gray-900 dark:text-white",children:"Quantity"}),A.jsx("th",{onClick:()=>c("cost"),className:"px-4 py-2 border cursor-pointer text-gray-900 dark:text-white",children:"Cost"}),A.jsx("th",{className:"px-4 py-2 border text-gray-900 dark:text-white",children:"Actions"})]})}),A.jsx("tbody",{children:d.map(f=>A.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[A.jsx("td",{className:"px-4 py-2 border text-gray-900 dark:text-white",children:f.name}),A.jsx("td",{className:"px-4 py-2 border text-gray-900 dark:text-white",children:f.partNumber}),A.jsxs("td",{className:"px-4 py-2 border text-gray-900 dark:text-white",children:[f.quantity," ",f.quantity<f.minStock&&A.jsx("span",{className:"text-red-500",children:"(Low)"})]}),A.jsxs("td",{className:"px-4 py-2 border text-gray-900 dark:text-white",children:["$",f.cost.toFixed(2)]}),A.jsxs("td",{className:"px-4 py-2 border",children:[A.jsx("button",{onClick:()=>e(f),className:"text-blue-600 dark:text-blue-400 mr-2 hover:underline",children:"Edit"}),A.jsx("button",{onClick:()=>r(f.id),className:"text-red-600 dark:text-red-400 mr-2 hover:underline",children:"Delete"}),A.jsx("button",{onClick:()=>n(f),className:"text-green-600 dark:text-green-400 hover:underline",children:"Add to Invoice"})]})]},f.id))})]}),A.jsxs("div",{className:"flex justify-between mt-4",children:[A.jsx("button",{disabled:o===1,onClick:()=>a(f=>f-1),className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 rounded disabled:opacity-50",children:"Previous"}),A.jsxs("span",{className:"text-gray-900 dark:text-white",children:["Page ",o," of ",h]}),A.jsx("button",{disabled:o===h,onClick:()=>a(f=>f+1),className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 rounded disabled:opacity-50",children:"Next"})]})]})}function R3({initialData:t={},onSubmit:e,onCancel:r}){const[n,s]=J.useState({name:"",partNumber:"",quantity:0,cost:0,minStock:5,supplier:"",location:"",description:"",...t}),[i,o]=J.useState({}),a=()=>{const u={};return n.name||(u.name="Name is required"),n.partNumber||(u.partNumber="Part number is required"),n.quantity<0&&(u.quantity="Quantity cannot be negative"),n.cost<0&&(u.cost="Cost cannot be negative"),o(u),Object.keys(u).length===0},l=u=>{const{name:d,value:h}=u.target;s(f=>({...f,[d]:["quantity","cost","minStock"].includes(d)?Number(h):h}))},c=u=>{u.preventDefault(),a()&&e(n)};return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-auto",children:A.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg w-full max-w-md m-4",children:[A.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:t.id?"Edit Part":"Add New Part"}),A.jsxs("form",{onSubmit:c,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Name"}),A.jsx("input",{id:"name",name:"name",value:n.name,onChange:l,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-blue-500 focus:border-blue-500",required:!0}),i.name&&A.jsx("p",{className:"text-red-500 text-sm",children:i.name})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"partNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Part Number"}),A.jsx("input",{id:"partNumber",name:"partNumber",value:n.partNumber,onChange:l,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-blue-500 focus:border-blue-500",required:!0}),i.partNumber&&A.jsx("p",{className:"text-red-500 text-sm",children:i.partNumber})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Quantity"}),A.jsx("input",{id:"quantity",name:"quantity",type:"number",min:"0",value:n.quantity,onChange:l,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-blue-500 focus:border-blue-500",required:!0}),i.quantity&&A.jsx("p",{className:"text-red-500 text-sm",children:i.quantity})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"cost",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cost ($)"}),A.jsx("input",{id:"cost",name:"cost",type:"number",step:"0.01",min:"0",value:n.cost,onChange:l,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-blue-500 focus:border-blue-500",required:!0}),i.cost&&A.jsx("p",{className:"text-red-500 text-sm",children:i.cost})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"minStock",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Min Stock Level"}),A.jsx("input",{id:"minStock",name:"minStock",type:"number",min:"0",value:n.minStock,onChange:l,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-blue-500 focus:border-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"supplier",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Supplier"}),A.jsx("input",{id:"supplier",name:"supplier",value:n.supplier,onChange:l,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-blue-500 focus:border-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Storage Location"}),A.jsx("input",{id:"location",name:"location",value:n.location,onChange:l,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-blue-500 focus:border-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),A.jsx("textarea",{id:"description",name:"description",value:n.description,onChange:l,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-blue-500 focus:border-blue-500",rows:"3"})]}),A.jsxs("div",{className:"flex justify-end space-x-3",children:[A.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-900 dark:text-white rounded hover:bg-gray-400 dark:hover:bg-gray-500",children:"Cancel"}),A.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]})]})})}function boe(t,e){return J.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),J.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"}))}const Boe=J.forwardRef(boe),Coe=Boe;function _oe(t,e){return J.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),J.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const koe=J.forwardRef(_oe),Eoe=koe;function Ioe(t,e){return J.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),J.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}))}const Soe=J.forwardRef(Ioe),Noe=Soe;function Toe({data:t}){return t?A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[A.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900 p-4 rounded flex items-center",children:[A.jsx(Coe,{className:"h-8 w-8 text-blue-600 dark:text-blue-300 mr-3"}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Total Parts"}),A.jsx("p",{className:"text-2xl text-gray-900 dark:text-white",children:t.totalParts})]})]}),A.jsxs("div",{className:"bg-green-100 dark:bg-green-900 p-4 rounded flex items-center",children:[A.jsx(Eoe,{className:"h-8 w-8 text-green-600 dark:text-green-300 mr-3"}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Total Value"}),A.jsxs("p",{className:"text-2xl text-gray-900 dark:text-white",children:["$",t.totalValue.toFixed(2)]})]})]}),A.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900 p-4 rounded flex items-center",children:[A.jsx(Noe,{className:"h-8 w-8 text-yellow-600 dark:text-yellow-300 mr-3"}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Low Stock Items"}),A.jsx("p",{className:"text-2xl text-gray-900 dark:text-white",children:t.lowStock})]})]})]}):null}function joe(){xs();const{addPartToInvoice:t}=xl()||{},[e,r]=J.useState([]),[n,s]=J.useState(!0),[i,o]=J.useState(null),[a,l]=J.useState(!1),[c,u]=J.useState(null),[d,h]=J.useState(""),[f,m]=J.useState(null),v=J.useCallback(async()=>{try{if(s(!0),o(null),!Ss.currentUser)throw new Error("User not authenticated");const j=sa(tr,"users",Ss.currentUser.uid,"parts"),O=Rg(j,xD("status","!=","deleted")),T=(await D_(O)).docs.map(I=>({id:I.id,...I.data()}));r(T);const U=T.reduce((I,L)=>I+L.quantity*L.cost,0),R=T.filter(I=>I.quantity<I.minStock).length;m({totalParts:T.length,totalValue:U,lowStock:R}),R>0&&Ke.warn(`${R} parts are low on stock!`)}catch(j){console.error("Error fetching parts:",j),o("Failed to load parts. Please check your connection and try again."),Ke.error("Error loading parts")}finally{s(!1)}},[]);J.useEffect(()=>{v()},[v]);const _=async j=>{try{if(!Ss.currentUser)return;const O=sa(tr,"users",Ss.currentUser.uid,"parts");await Mg(O,{...j,createdAt:new Date,status:"active",stockHistory:[{date:new Date,change:j.quantity,note:"Initial stock"}]}),Ke.success("Part added successfully"),l(!1),v()}catch(O){console.error("Error adding part:",O),Ke.error("Failed to add part")}},x=async(j,O,P=0)=>{try{if(!Ss.currentUser)return;const T=Dr(tr,"users",Ss.currentUser.uid,"parts",j),U={...O,updatedAt:new Date};P!==0&&(U.stockHistory=[...O.stockHistory||[],{date:new Date,change:P,note:"Stock adjustment"}]),await pl(T,U),Ke.success("Part updated successfully"),u(null),v()}catch(T){console.error("Error updating part:",T),Ke.error("Failed to update part")}},b=async j=>{if(window.confirm("Are you sure? This will soft-delete the part."))try{if(!Ss.currentUser)return;const O=Dr(tr,"users",Ss.currentUser.uid,"parts",j);await pl(O,{status:"deleted",deletedAt:new Date}),Ke.success("Part deleted successfully"),v()}catch(O){console.error("Error deleting part:",O),Ke.error("Failed to delete part")}},E=j=>{t?(t(j),Ke.success("Part added to current invoice")):Ke.info("Invoice integration not set up yet")},N=e.filter(j=>{var O,P;return((O=j.name)==null?void 0:O.toLowerCase().includes(d.toLowerCase()))||((P=j.partNumber)==null?void 0:P.toLowerCase().includes(d.toLowerCase()))});return n?A.jsx(Mo,{}):i?A.jsxs("div",{className:"p-6",children:[A.jsx(ca,{message:i}),A.jsx("button",{onClick:v,className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded",children:"Retry"})]}):A.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Parts Inventory"}),A.jsxs("div",{children:[A.jsx("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-4 py-2 rounded mr-2 hover:bg-blue-700",children:"Add New Part"}),A.jsx(xoe,{data:N,filename:"parts_inventory.csv",className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Export CSV"})]})]}),A.jsx("input",{type:"text",placeholder:"Search by name or part number...",value:d,onChange:j=>h(j.target.value),className:"w-full p-2 mb-6 border rounded bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-white focus:ring-blue-500 focus:border-blue-500"}),f&&A.jsx(Toe,{data:f}),A.jsx(woe,{parts:N,onEdit:u,onDelete:b,onAddToInvoice:E}),a&&A.jsx(R3,{onSubmit:_,onCancel:()=>l(!1)}),c&&A.jsx(R3,{initialData:c,onSubmit:j=>x(c.id,j,j.quantity-c.quantity),onCancel:()=>u(null)})]})}function Foe(){const t=xs(),{user:e}=io(),[r,n]=J.useState([]),[s,i]=J.useState([]),[o,a]=J.useState(new Date),[l,c]=J.useState(!1),[u,d]=J.useState(!0),[h,f]=J.useState(null),[m,v]=J.useState({customerName:"",vehicleInfo:"",description:"",estimatedHours:"",hourlyRate:75});J.useEffect(()=>{const R=setInterval(()=>{a(new Date)},1e3);return()=>clearInterval(R)},[]);const _=J.useCallback(async()=>{if(e)try{d(!0),f(null);const R=sa(tr,"users",e.uid,"jobTimers"),I=Rg(R,Ex("createdAt","desc")),M=(await D_(I)).docs.map(Z=>{var ce,G,Y,ue;return{id:Z.id,...Z.data(),createdAt:(ce=Z.data().createdAt)==null?void 0:ce.toDate(),startTime:(G=Z.data().startTime)==null?void 0:G.toDate(),endTime:(Y=Z.data().endTime)==null?void 0:Y.toDate(),pausedTime:(ue=Z.data().pausedTime)==null?void 0:ue.toDate()}}),W=M.filter(Z=>Z.status==="active"||Z.status==="paused"),X=M.filter(Z=>Z.status==="completed");n(W),i(X)}catch(R){console.error("Error loading jobs:",R),f("Failed to load jobs"),Ke.error("Failed to load jobs")}finally{d(!1)}},[e]);J.useEffect(()=>{_()},[_]);const x=async R=>{if(e)try{await Mg(sa(tr,"users",e.uid,"jobTimers"),{...R,status:"active",startTime:ss(),totalTime:0,createdAt:ss(),userId:e.uid}),Ke.success("Job started successfully"),c(!1),v({customerName:"",vehicleInfo:"",description:"",estimatedHours:"",hourlyRate:75}),_()}catch(I){console.error("Error starting job:",I),Ke.error("Failed to start job")}},b=async R=>{if(e)try{const I=Dr(tr,"users",e.uid,"jobTimers",R);await pl(I,{status:"paused",pausedTime:ss()}),Ke.success("Job paused"),_()}catch(I){console.error("Error pausing job:",I),Ke.error("Failed to pause job")}},E=async R=>{if(e)try{const I=Dr(tr,"users",e.uid,"jobTimers",R);await pl(I,{status:"active",resumedTime:ss()}),Ke.success("Job resumed"),_()}catch(I){console.error("Error resuming job:",I),Ke.error("Failed to resume job")}},N=async R=>{if(e)try{const I=r.find(Z=>Z.id===R);if(!I)return;const M=Math.floor((new Date-I.startTime)/1e3),W=M/3600*I.hourlyRate,X=Dr(tr,"users",e.uid,"jobTimers",R);await pl(X,{status:"completed",endTime:ss(),totalTime:M,totalCost:parseFloat(W.toFixed(2))}),Ke.success("Job completed"),_()}catch(I){console.error("Error stopping job:",I),Ke.error("Failed to stop job")}},j=async R=>{if(e&&confirm("Are you sure you want to delete this job?"))try{const I=Dr(tr,"users",e.uid,"jobTimers",R);await Ix(I),Ke.success("Job deleted"),_()}catch(I){console.error("Error deleting job:",I),Ke.error("Failed to delete job")}},O=R=>{if(!R.startTime)return 0;const I=R.startTime,L=R.status==="completed"?R.endTime:o;return Math.floor((L-I)/1e3)},P=R=>{const I=Math.floor(R/3600),L=Math.floor(R%3600/60),M=R%60;return`${I.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}:${M.toString().padStart(2,"0")}`},T=R=>{if(R.preventDefault(),!m.customerName||!m.description){Ke.error("Please fill in required fields");return}x(m)},U=R=>{const I={customerName:R.customerName,vehicleInfo:R.vehicleInfo,description:R.description,laborHours:(R.totalTime/3600).toFixed(2),laborRate:R.hourlyRate,totalAmount:R.totalCost};t("/invoices/create",{state:{prefilledData:I}})};return u?A.jsx(Mo,{}):h?A.jsx(ca,{message:h}):A.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Job Timer"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Track time for jobs and projects"})]}),A.jsxs("button",{onClick:()=>c(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[A.jsx(dl,{size:20}),"Start New Job"]})]}),A.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 mb-8",children:r.map(R=>A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border-l-4 border-blue-500",children:[A.jsxs("div",{className:"flex justify-between items-start mb-4",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:R.customerName}),A.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:R.vehicleInfo})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:`w-3 h-3 rounded-full ${R.status==="active"?"bg-green-500":"bg-yellow-500"}`}),A.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 capitalize",children:R.status})]})]}),A.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:R.description}),A.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4",children:[A.jsx("div",{className:"text-2xl font-mono font-bold text-center text-gray-900 dark:text-white",children:P(O(R))}),A.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Rate: $",R.hourlyRate,"/hr"]})]}),A.jsxs("div",{className:"flex gap-2",children:[R.status==="active"?A.jsxs("button",{onClick:()=>b(R.id),className:"flex-1 bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[A.jsx(ese,{size:16}),"Pause"]}):A.jsxs("button",{onClick:()=>E(R.id),className:"flex-1 bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[A.jsx(tse,{size:16}),"Resume"]}),A.jsxs("button",{onClick:()=>N(R.id),className:"flex-1 bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[A.jsx(ose,{size:16}),"Stop"]})]})]},R.id))}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[A.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:A.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Completed Jobs"})}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full",children:[A.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Vehicle"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Description"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Time"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cost"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),A.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s.map(R=>{var I;return A.jsxs("tr",{children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:R.customerName})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:R.vehicleInfo})}),A.jsx("td",{className:"px-6 py-4",children:A.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:R.description})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsx("div",{className:"text-sm font-mono text-gray-900 dark:text-white",children:P(R.totalTime)})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",(I=R.totalCost)==null?void 0:I.toFixed(2)]})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:()=>U(R),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",title:"Create Invoice",children:A.jsx(ji,{size:16})}),A.jsx("button",{onClick:()=>j(R.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:"Delete Job",children:A.jsx(Mh,{size:16})})]})})]},R.id)})})]})})]}),l&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Start New Job"}),A.jsxs("form",{onSubmit:T,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Customer Name *"}),A.jsx("input",{type:"text",value:m.customerName,onChange:R=>v({...m,customerName:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Vehicle Info"}),A.jsx("input",{type:"text",value:m.vehicleInfo,onChange:R=>v({...m,vehicleInfo:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., 2020 Honda Civic"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Job Description *"}),A.jsx("textarea",{value:m.description,onChange:R=>v({...m,description:R.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Estimated Hours"}),A.jsx("input",{type:"number",step:"0.25",value:m.estimatedHours,onChange:R=>v({...m,estimatedHours:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Hourly Rate ($)"}),A.jsx("input",{type:"number",step:"0.01",value:m.hourlyRate,onChange:R=>v({...m,hourlyRate:parseFloat(R.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),A.jsxs("div",{className:"flex gap-3 pt-4",children:[A.jsx("button",{type:"submit",className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Start Job"}),A.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Cancel"})]})]})]})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function uy(t){return t+.5|0}const Su=(t,e,r)=>Math.max(Math.min(t,r),e);function a0(t){return Su(uy(t*2.55),0,255)}function $u(t){return Su(uy(t*255),0,255)}function qA(t){return Su(uy(t/2.55)/100,0,1)}function M3(t){return Su(uy(t*100),0,100)}const ka={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},NC=[..."0123456789ABCDEF"],Poe=t=>NC[t&15],Loe=t=>NC[(t&240)>>4]+NC[t&15],Pv=t=>(t&240)>>4===(t&15),Uoe=t=>Pv(t.r)&&Pv(t.g)&&Pv(t.b)&&Pv(t.a);function Doe(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&ka[t[1]]*17,g:255&ka[t[2]]*17,b:255&ka[t[3]]*17,a:e===5?ka[t[4]]*17:255}:(e===7||e===9)&&(r={r:ka[t[1]]<<4|ka[t[2]],g:ka[t[3]]<<4|ka[t[4]],b:ka[t[5]]<<4|ka[t[6]],a:e===9?ka[t[7]]<<4|ka[t[8]]:255})),r}const Roe=(t,e)=>t<255?e(t):"";function Moe(t){var e=Uoe(t)?Poe:Loe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Roe(t.a,e):void 0}const Qoe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function AQ(t,e,r){const n=e*Math.min(r,1-r),s=(i,o=(i+t/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function Ooe(t,e,r){const n=(s,i=(s+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function Voe(t,e,r){const n=AQ(t,1,.5);let s;for(e+r>1&&(s=1/(e+r),e*=s,r*=s),s=0;s<3;s++)n[s]*=1-e-r,n[s]+=e;return n}function Hoe(t,e,r,n,s){return t===s?(e-r)/n+(e<r?6:0):e===s?(r-t)/n+2:(t-e)/n+4}function kk(t){const r=t.r/255,n=t.g/255,s=t.b/255,i=Math.max(r,n,s),o=Math.min(r,n,s),a=(i+o)/2;let l,c,u;return i!==o&&(u=i-o,c=a>.5?u/(2-i-o):u/(i+o),l=Hoe(r,n,s,u,i),l=l*60+.5),[l|0,c||0,a]}function Ek(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map($u)}function Ik(t,e,r){return Ek(AQ,t,e,r)}function Koe(t,e,r){return Ek(Voe,t,e,r)}function zoe(t,e,r){return Ek(Ooe,t,e,r)}function cQ(t){return(t%360+360)%360}function Goe(t){const e=Qoe.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?a0(+e[5]):$u(+e[5]));const s=cQ(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=Koe(s,i,o):e[1]==="hsv"?n=zoe(s,i,o):n=Ik(s,i,o),{r:n[0],g:n[1],b:n[2],a:r}}function Woe(t,e){var r=kk(t);r[0]=cQ(r[0]+e),r=Ik(r),t.r=r[0],t.g=r[1],t.b=r[2]}function $oe(t){if(!t)return;const e=kk(t),r=e[0],n=M3(e[1]),s=M3(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${s}%, ${qA(t.a)})`:`hsl(${r}, ${n}%, ${s}%)`}const Q3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},O3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function qoe(){const t={},e=Object.keys(O3),r=Object.keys(Q3);let n,s,i,o,a;for(n=0;n<e.length;n++){for(o=a=e[n],s=0;s<r.length;s++)i=r[s],a=a.replace(i,Q3[i]);i=parseInt(O3[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let Lv;function Yoe(t){Lv||(Lv=qoe(),Lv.transparent=[0,0,0,0]);const e=Lv[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Xoe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Joe(t){const e=Xoe.exec(t);let r=255,n,s,i;if(e){if(e[7]!==n){const o=+e[7];r=e[8]?a0(o):Su(o*255,0,255)}return n=+e[1],s=+e[3],i=+e[5],n=255&(e[2]?a0(n):Su(n,0,255)),s=255&(e[4]?a0(s):Su(s,0,255)),i=255&(e[6]?a0(i):Su(i,0,255)),{r:n,g:s,b:i,a:r}}}function Zoe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${qA(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const iB=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Lf=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function eae(t,e,r){const n=Lf(qA(t.r)),s=Lf(qA(t.g)),i=Lf(qA(t.b));return{r:$u(iB(n+r*(Lf(qA(e.r))-n))),g:$u(iB(s+r*(Lf(qA(e.g))-s))),b:$u(iB(i+r*(Lf(qA(e.b))-i))),a:t.a+r*(e.a-t.a)}}function Uv(t,e,r){if(t){let n=kk(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=Ik(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function uQ(t,e){return t&&Object.assign(e||{},t)}function V3(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=$u(t[3]))):(e=uQ(t,{r:0,g:0,b:0,a:1}),e.a=$u(e.a)),e}function tae(t){return t.charAt(0)==="r"?Joe(t):Goe(t)}class Pm{constructor(e){if(e instanceof Pm)return e;const r=typeof e;let n;r==="object"?n=V3(e):r==="string"&&(n=Doe(e)||Yoe(e)||tae(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=uQ(this._rgb);return e&&(e.a=qA(e.a)),e}set rgb(e){this._rgb=V3(e)}rgbString(){return this._valid?Zoe(this._rgb):void 0}hexString(){return this._valid?Moe(this._rgb):void 0}hslString(){return this._valid?$oe(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,s=e.rgb;let i;const o=r===i?.5:r,a=2*o-1,l=n.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,n.r=255&c*n.r+i*s.r+.5,n.g=255&c*n.g+i*s.g+.5,n.b=255&c*n.b+i*s.b+.5,n.a=o*n.a+(1-o)*s.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=eae(this._rgb,e._rgb,r)),this}clone(){return new Pm(this.rgb)}alpha(e){return this._rgb.a=$u(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=uy(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Uv(this._rgb,2,e),this}darken(e){return Uv(this._rgb,2,-e),this}saturate(e){return Uv(this._rgb,1,e),this}desaturate(e){return Uv(this._rgb,1,-e),this}rotate(e){return Woe(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function KA(){}const rae=(()=>{let t=0;return()=>t++})();function Nr(t){return t==null}function bn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Tr(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Hs(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Zo(t,e){return Hs(t)?t:e}function xr(t,e){return typeof t>"u"?e:t}const nae=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,dQ=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function an(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function $r(t,e,r,n){let s,i,o;if(bn(t))if(i=t.length,n)for(s=i-1;s>=0;s--)e.call(r,t[s],s);else for(s=0;s<i;s++)e.call(r,t[s],s);else if(Tr(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(r,t[o[s]],o[s])}function Vx(t,e){let r,n,s,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(s=t[r],i=e[r],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Hx(t){if(bn(t))return t.map(Hx);if(Tr(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let s=0;for(;s<n;++s)e[r[s]]=Hx(t[r[s]]);return e}return t}function hQ(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function sae(t,e,r,n){if(!hQ(t))return;const s=e[t],i=r[t];Tr(s)&&Tr(i)?Lm(s,i,n):e[t]=Hx(i)}function Lm(t,e,r){const n=bn(e)?e:[e],s=n.length;if(!Tr(t))return t;r=r||{};const i=r.merger||sae;let o;for(let a=0;a<s;++a){if(o=n[a],!Tr(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)i(l[c],t,o,r)}return t}function Q0(t,e){return Lm(t,e,{merger:iae})}function iae(t,e,r){if(!hQ(t))return;const n=e[t],s=r[t];Tr(n)&&Tr(s)?Q0(n,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Hx(s))}const H3={"":t=>t,x:t=>t.x,y:t=>t.y};function oae(t){const e=t.split("."),r=[];let n="";for(const s of e)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function aae(t){const e=oae(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function Qh(t,e){return(H3[e]||(H3[e]=aae(e)))(t)}function Sk(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Um=t=>typeof t<"u",ld=t=>typeof t=="function",K3=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function lae(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const _n=Math.PI,Cn=2*_n,Aae=Cn+_n,Kx=Number.POSITIVE_INFINITY,cae=_n/180,As=_n/2,Ld=_n/4,z3=_n*2/3,Nu=Math.log10,uA=Math.sign;function O0(t,e,r){return Math.abs(t-e)<r}function G3(t){const e=Math.round(t);t=O0(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(Nu(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function uae(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((s,i)=>s-i).pop(),e}function dae(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Dm(t){return!dae(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function hae(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function fQ(t,e,r){let n,s,i;for(n=0,s=t.length;n<s;n++)i=t[n][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function eA(t){return t*(_n/180)}function Nk(t){return t*(180/_n)}function W3(t){if(!Hs(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function gQ(t,e){const r=e.x-t.x,n=e.y-t.y,s=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*_n&&(i+=Cn),{angle:i,distance:s}}function TC(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function fae(t,e){return(t-e+Aae)%Cn-_n}function cl(t){return(t%Cn+Cn)%Cn}function Rm(t,e,r,n){const s=cl(t),i=cl(e),o=cl(r),a=cl(i-s),l=cl(o-s),c=cl(s-i),u=cl(s-o);return s===i||s===o||n&&i===o||a>l&&c<u}function Ni(t,e,r){return Math.max(e,Math.min(r,t))}function gae(t){return Ni(t,-32768,32767)}function Tu(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function Tk(t,e,r){r=r||(o=>t[o]<e);let n=t.length-1,s=0,i;for(;n-s>1;)i=s+n>>1,r(i)?s=i:n=i;return{lo:s,hi:n}}const ih=(t,e,r,n)=>Tk(t,r,n?s=>{const i=t[s][e];return i<r||i===r&&t[s+1][e]===r}:s=>t[s][e]<r),pae=(t,e,r)=>Tk(t,r,n=>t[n][e]>=r);function mae(t,e,r){let n=0,s=t.length;for(;n<s&&t[n]<e;)n++;for(;s>n&&t[s-1]>r;)s--;return n>0||s<t.length?t.slice(n,s):t}const pQ=["push","pop","shift","splice","unshift"];function yae(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),pQ.forEach(r=>{const n="_onData"+Sk(r),s=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...i)}),o}})})}function $3(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,s=n.indexOf(e);s!==-1&&n.splice(s,1),!(n.length>0)&&(pQ.forEach(i=>{delete t[i]}),delete t._chartjs)}function mQ(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const yQ=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function vQ(t,e){let r=[],n=!1;return function(...s){r=s,n||(n=!0,yQ.call(window,()=>{n=!1,t.apply(e,r)}))}}function vae(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const jk=t=>t==="start"?"left":t==="end"?"right":"center",Ci=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,xae=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function wae(t,e,r){const n=e.length;let s=0,i=n;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:d,max:h,minDefined:f,maxDefined:m}=o.getUserBounds();if(f){if(s=Math.min(ih(l,u,d).lo,r?n:ih(e,u,o.getPixelForValue(d)).lo),c){const v=l.slice(0,s+1).reverse().findIndex(_=>!Nr(_[a.axis]));s-=Math.max(0,v)}s=Ni(s,0,n-1)}if(m){let v=Math.max(ih(l,o.axis,h,!0).hi+1,r?0:ih(e,u,o.getPixelForValue(h),!0).hi+1);if(c){const _=l.slice(v-1).findIndex(x=>!Nr(x[a.axis]));v+=Math.max(0,_)}i=Ni(v,s,n)-s}else i=n-s}return{start:s,count:i}}function bae(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,s={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=s,!0;const i=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,s),i}const Dv=t=>t===0||t===1,q3=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Cn/r)),Y3=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Cn/r)+1,V0={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*As)+1,easeOutSine:t=>Math.sin(t*As),easeInOutSine:t=>-.5*(Math.cos(_n*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Dv(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Dv(t)?t:q3(t,.075,.3),easeOutElastic:t=>Dv(t)?t:Y3(t,.075,.3),easeInOutElastic(t){return Dv(t)?t:t<.5?.5*q3(t*2,.1125,.45):.5+.5*Y3(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-V0.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?V0.easeInBounce(t*2)*.5:V0.easeOutBounce(t*2-1)*.5+.5};function Fk(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function X3(t){return Fk(t)?t:new Pm(t)}function oB(t){return Fk(t)?t:new Pm(t).saturate(.5).darken(.1).hexString()}const Bae=["x","y","borderWidth","radius","tension"],Cae=["color","borderColor","backgroundColor"];function _ae(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Cae},numbers:{type:"number",properties:Bae}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function kae(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const J3=new Map;function Eae(t,e){e=e||{};const r=t+JSON.stringify(e);let n=J3.get(r);return n||(n=new Intl.NumberFormat(t,e),J3.set(r,n)),n}function Zw(t,e,r){return Eae(e,r).format(t)}const xQ={values(t){return bn(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let s,i=t;if(r.length>1){const c=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=Iae(t,r)}const o=Nu(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Zw(t,n,l)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(Nu(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?xQ.numeric.call(this,t,e,r):""}};function Iae(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var e2={formatters:xQ};function Sae(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:e2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Oh=Object.create(null),jC=Object.create(null);function H0(t,e){if(!e)return t;const r=e.split(".");for(let n=0,s=r.length;n<s;++n){const i=r[n];t=t[i]||(t[i]=Object.create(null))}return t}function aB(t,e,r){return typeof e=="string"?Lm(H0(t,e),r):Lm(H0(t,""),e)}class Nae{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>oB(s.backgroundColor),this.hoverBorderColor=(n,s)=>oB(s.borderColor),this.hoverColor=(n,s)=>oB(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return aB(this,e,r)}get(e){return H0(this,e)}describe(e,r){return aB(jC,e,r)}override(e,r){return aB(Oh,e,r)}route(e,r,n,s){const i=H0(this,e),o=H0(this,n),a="_"+r;Object.defineProperties(i,{[a]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[a],c=o[s];return Tr(l)?Object.assign({},c,l):xr(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(r=>r(this))}}var Yn=new Nae({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[_ae,kae,Sae]);function Tae(t){return!t||Nr(t.size)||Nr(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function zx(t,e,r,n,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,r.push(s)),i>n&&(n=i),n}function jae(t,e,r,n){n=n||{};let s=n.data=n.data||{},i=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(s=n.data={},i=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let o=0;const a=r.length;let l,c,u,d,h;for(l=0;l<a;l++)if(d=r[l],d!=null&&!bn(d))o=zx(t,s,i,o,d);else if(bn(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!bn(h)&&(o=zx(t,s,i,o,h));t.restore();const f=i.length/2;if(f>r.length){for(l=0;l<f;l++)delete s[i[l]];i.splice(0,f)}return o}function Ud(t,e,r){const n=t.currentDevicePixelRatio,s=r!==0?Math.max(r/2,.5):0;return Math.round((e-s)*n)/n+s}function Z3(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function FC(t,e,r,n){wQ(t,e,r,n,null)}function wQ(t,e,r,n,s){let i,o,a,l,c,u,d,h;const f=e.pointStyle,m=e.rotation,v=e.radius;let _=(m||0)*cae;if(f&&typeof f=="object"&&(i=f.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(_),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),f){default:s?t.ellipse(r,n,s/2,v,0,0,Cn):t.arc(r,n,v,0,Cn),t.closePath();break;case"triangle":u=s?s/2:v,t.moveTo(r+Math.sin(_)*u,n-Math.cos(_)*v),_+=z3,t.lineTo(r+Math.sin(_)*u,n-Math.cos(_)*v),_+=z3,t.lineTo(r+Math.sin(_)*u,n-Math.cos(_)*v),t.closePath();break;case"rectRounded":c=v*.516,l=v-c,o=Math.cos(_+Ld)*l,d=Math.cos(_+Ld)*(s?s/2-c:l),a=Math.sin(_+Ld)*l,h=Math.sin(_+Ld)*(s?s/2-c:l),t.arc(r-d,n-a,c,_-_n,_-As),t.arc(r+h,n-o,c,_-As,_),t.arc(r+d,n+a,c,_,_+As),t.arc(r-h,n+o,c,_+As,_+_n),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*v,u=s?s/2:l,t.rect(r-u,n-l,2*u,2*l);break}_+=Ld;case"rectRot":d=Math.cos(_)*(s?s/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,h=Math.sin(_)*(s?s/2:v),t.moveTo(r-d,n-a),t.lineTo(r+h,n-o),t.lineTo(r+d,n+a),t.lineTo(r-h,n+o),t.closePath();break;case"crossRot":_+=Ld;case"cross":d=Math.cos(_)*(s?s/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,h=Math.sin(_)*(s?s/2:v),t.moveTo(r-d,n-a),t.lineTo(r+d,n+a),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o);break;case"star":d=Math.cos(_)*(s?s/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,h=Math.sin(_)*(s?s/2:v),t.moveTo(r-d,n-a),t.lineTo(r+d,n+a),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o),_+=Ld,d=Math.cos(_)*(s?s/2:v),o=Math.cos(_)*v,a=Math.sin(_)*v,h=Math.sin(_)*(s?s/2:v),t.moveTo(r-d,n-a),t.lineTo(r+d,n+a),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o);break;case"line":o=s?s/2:Math.cos(_)*v,a=Math.sin(_)*v,t.moveTo(r-o,n-a),t.lineTo(r+o,n+a);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(_)*(s?s/2:v),n+Math.sin(_)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function rc(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function Pk(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Lk(t){t.restore()}function Fae(t,e,r,n,s){if(!e)return t.lineTo(r.x,r.y);if(s==="middle"){const i=(e.x+r.x)/2;t.lineTo(i,e.y),t.lineTo(i,r.y)}else s==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function Pae(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function Lae(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Nr(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Uae(t,e,r,n,s){if(s.strikethrough||s.underline){const i=t.measureText(n),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=r-i.actualBoundingBoxAscent,c=r+i.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function Dae(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Vh(t,e,r,n,s,i={}){const o=bn(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,Lae(t,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&Dae(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Nr(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,r,n,i.maxWidth)),t.fillText(c,r,n,i.maxWidth),Uae(t,r,n,c,i),n+=Number(s.lineHeight);t.restore()}function Mm(t,e){const{x:r,y:n,w:s,h:i,radius:o}=e;t.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*_n,_n,!0),t.lineTo(r,n+i-o.bottomLeft),t.arc(r+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,_n,As,!0),t.lineTo(r+s-o.bottomRight,n+i),t.arc(r+s-o.bottomRight,n+i-o.bottomRight,o.bottomRight,As,0,!0),t.lineTo(r+s,n+o.topRight),t.arc(r+s-o.topRight,n+o.topRight,o.topRight,0,-As,!0),t.lineTo(r+o.topLeft,n)}const Rae=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Mae=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Qae(t,e){const r=(""+t).match(Rae);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const Oae=t=>+t||0;function Uk(t,e){const r={},n=Tr(e),s=n?Object.keys(e):e,i=Tr(t)?n?o=>xr(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)r[o]=Oae(i(o));return r}function bQ(t){return Uk(t,{top:"y",right:"x",bottom:"y",left:"x"})}function mh(t){return Uk(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Pi(t){const e=bQ(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Fs(t,e){t=t||{},e=e||Yn.font;let r=xr(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=xr(t.style,e.style);n&&!(""+n).match(Mae)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:xr(t.family,e.family),lineHeight:Qae(xr(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:xr(t.weight,e.weight),string:""};return s.string=Tae(s),s}function Rv(t,e,r,n){let s=!0,i,o,a;for(i=0,o=t.length;i<o;++i)if(a=t[i],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),s=!1),r!==void 0&&bn(a)&&(a=a[r%a.length],s=!1),a!==void 0))return n&&!s&&(n.cacheable=!1),a}function Vae(t,e,r){const{min:n,max:s}=t,i=dQ(e,(s-n)/2),o=(a,l)=>r&&a===0?0:a+l;return{min:o(n,-Math.abs(i)),max:o(s,i)}}function md(t,e){return Object.assign(Object.create(t),e)}function Dk(t,e=[""],r,n,s=()=>t[0]){const i=r||t;typeof n>"u"&&(n=kQ("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:s,override:a=>Dk([a,...t],e,i,n)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return CQ(a,l,()=>Yae(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return tj(a).includes(l)},ownKeys(a){return tj(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function Vg(t,e,r,n){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:BQ(t,n),setContext:i=>Vg(t,i,r,n),override:i=>Vg(t.override(i),e,r,n)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return CQ(i,o,()=>Kae(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function BQ(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:r,indexable:n,isScriptable:ld(r)?r:()=>r,isIndexable:ld(n)?n:()=>n}}const Hae=(t,e)=>t?t+Sk(e):e,Rk=(t,e)=>Tr(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function CQ(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function Kae(t,e,r){const{_proxy:n,_context:s,_subProxy:i,_descriptors:o}=t;let a=n[e];return ld(a)&&o.isScriptable(e)&&(a=zae(e,a,t,r)),bn(a)&&a.length&&(a=Gae(e,a,t,o.isIndexable)),Rk(e,a)&&(a=Vg(a,s,i&&i[e],o)),a}function zae(t,e,r,n){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=r;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||n);return a.delete(t),Rk(t,l)&&(l=Mk(s._scopes,s,t,l)),l}function Gae(t,e,r,n){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=r;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(Tr(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=Mk(c,s,t,u);e.push(Vg(d,i,o&&o[t],a))}}return e}function _Q(t,e,r){return ld(t)?t(e,r):t}const Wae=(t,e)=>t===!0?e:typeof t=="string"?Qh(e,t):void 0;function $ae(t,e,r,n,s){for(const i of e){const o=Wae(r,i);if(o){t.add(o);const a=_Q(o._fallback,r,s);if(typeof a<"u"&&a!==r&&a!==n)return a}else if(o===!1&&typeof n<"u"&&r!==n)return null}return!1}function Mk(t,e,r,n){const s=e._rootScopes,i=_Q(e._fallback,r,n),o=[...t,...s],a=new Set;a.add(n);let l=ej(a,o,r,i||r,n);return l===null||typeof i<"u"&&i!==r&&(l=ej(a,o,i,l,n),l===null)?!1:Dk(Array.from(a),[""],s,i,()=>qae(e,r,n))}function ej(t,e,r,n,s){for(;r;)r=$ae(t,e,r,n,s);return r}function qae(t,e,r){const n=t._getTarget();e in n||(n[e]={});const s=n[e];return bn(s)&&Tr(r)?r:s||{}}function Yae(t,e,r,n){let s;for(const i of e)if(s=kQ(Hae(i,t),r),typeof s<"u")return Rk(t,s)?Mk(r,n,t,s):s}function kQ(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function tj(t){let e=t._keys;return e||(e=t._keys=Xae(t._scopes)),e}function Xae(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(s=>!s.startsWith("_")))e.add(n);return Array.from(e)}const Jae=Number.EPSILON||1e-14,Hg=(t,e)=>e<t.length&&!t[e].skip&&t[e],EQ=t=>t==="x"?"y":"x";function Zae(t,e,r,n){const s=t.skip?e:t,i=e,o=r.skip?e:r,a=TC(i,s),l=TC(o,i);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=n*c,h=n*u;return{previous:{x:i.x-d*(o.x-s.x),y:i.y-d*(o.y-s.y)},next:{x:i.x+h*(o.x-s.x),y:i.y+h*(o.y-s.y)}}}function ele(t,e,r){const n=t.length;let s,i,o,a,l,c=Hg(t,0);for(let u=0;u<n-1;++u)if(l=c,c=Hg(t,u+1),!(!l||!c)){if(O0(e[u],0,Jae)){r[u]=r[u+1]=0;continue}s=r[u]/e[u],i=r[u+1]/e[u],a=Math.pow(s,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),r[u]=s*o*e[u],r[u+1]=i*o*e[u])}}function tle(t,e,r="x"){const n=EQ(r),s=t.length;let i,o,a,l=Hg(t,0);for(let c=0;c<s;++c){if(o=a,a=l,l=Hg(t,c+1),!a)continue;const u=a[r],d=a[n];o&&(i=(u-o[r])/3,a[`cp1${r}`]=u-i,a[`cp1${n}`]=d-i*e[c]),l&&(i=(l[r]-u)/3,a[`cp2${r}`]=u+i,a[`cp2${n}`]=d+i*e[c])}}function rle(t,e="x"){const r=EQ(e),n=t.length,s=Array(n).fill(0),i=Array(n);let o,a,l,c=Hg(t,0);for(o=0;o<n;++o)if(a=l,l=c,c=Hg(t,o+1),!!l){if(c){const u=c[e]-l[e];s[o]=u!==0?(c[r]-l[r])/u:0}i[o]=a?c?uA(s[o-1])!==uA(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}ele(t,s,i),tle(t,i,e)}function Mv(t,e,r){return Math.max(Math.min(t,r),e)}function nle(t,e){let r,n,s,i,o,a=rc(t[0],e);for(r=0,n=t.length;r<n;++r)o=i,i=a,a=r<n-1&&rc(t[r+1],e),i&&(s=t[r],o&&(s.cp1x=Mv(s.cp1x,e.left,e.right),s.cp1y=Mv(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=Mv(s.cp2x,e.left,e.right),s.cp2y=Mv(s.cp2y,e.top,e.bottom)))}function sle(t,e,r,n,s){let i,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")rle(t,s);else{let c=n?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],l=Zae(c,a,t[Math.min(i+1,o-(n?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&nle(t,r)}function Qk(){return typeof window<"u"&&typeof document<"u"}function Ok(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Gx(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const t2=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function ile(t,e){return t2(t).getPropertyValue(e)}const ole=["top","right","bottom","left"];function yh(t,e,r){const n={};r=r?"-"+r:"";for(let s=0;s<4;s++){const i=ole[s];n[i]=parseFloat(t[e+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const ale=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function lle(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:s,offsetY:i}=n;let o=!1,a,l;if(ale(s,i,t.target))a=s,l=i;else{const c=e.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Wd(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,s=t2(r),i=s.boxSizing==="border-box",o=yh(s,"padding"),a=yh(s,"border","width"),{x:l,y:c,box:u}=lle(t,r),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:f,height:m}=e;return i&&(f-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-d)/f*r.width/n),y:Math.round((c-h)/m*r.height/n)}}function Ale(t,e,r){let n,s;if(e===void 0||r===void 0){const i=t&&Ok(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const o=i.getBoundingClientRect(),a=t2(i),l=yh(a,"border","width"),c=yh(a,"padding");e=o.width-c.width-l.width,r=o.height-c.height-l.height,n=Gx(a.maxWidth,i,"clientWidth"),s=Gx(a.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:n||Kx,maxHeight:s||Kx}}const Qv=t=>Math.round(t*10)/10;function cle(t,e,r,n){const s=t2(t),i=yh(s,"margin"),o=Gx(s.maxWidth,t,"clientWidth")||Kx,a=Gx(s.maxHeight,t,"clientHeight")||Kx,l=Ale(t,e,r);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const h=yh(s,"border","width"),f=yh(s,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-i.width),u=Math.max(0,n?c/n:u-i.height),c=Qv(Math.min(c,o,l.maxWidth)),u=Qv(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Qv(c/2)),(e!==void 0||r!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=Qv(Math.floor(u*n))),{width:c,height:u}}function rj(t,e,r){const n=e||1,s=Math.floor(t.height*n),i=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=n,o.height=s,o.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const ule=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Qk()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function nj(t,e){const r=ile(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function $d(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function dle(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function hle(t,e,r,n){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=$d(t,s,r),a=$d(s,i,r),l=$d(i,e,r),c=$d(o,a,r),u=$d(a,l,r);return $d(c,u,r)}const fle=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},gle=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function yg(t,e,r){return t?fle(e,r):gle()}function IQ(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function SQ(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function NQ(t){return t==="angle"?{between:Rm,compare:fae,normalize:cl}:{between:Tu,compare:(e,r)=>e-r,normalize:e=>e}}function sj({start:t,end:e,count:r,loop:n,style:s}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:s}}function ple(t,e,r){const{property:n,start:s,end:i}=r,{between:o,normalize:a}=NQ(n),l=e.length;let{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&o(a(e[c%l][n]),s,i);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function mle(t,e,r){if(!r)return[t];const{property:n,start:s,end:i}=r,o=e.length,{compare:a,between:l,normalize:c}=NQ(n),{start:u,end:d,loop:h,style:f}=ple(t,e,r),m=[];let v=!1,_=null,x,b,E;const N=()=>l(s,E,x)&&a(s,E)!==0,j=()=>a(i,x)===0||l(i,E,x),O=()=>v||N(),P=()=>!v||j();for(let T=u,U=u;T<=d;++T)b=e[T%o],!b.skip&&(x=c(b[n]),x!==E&&(v=l(x,s,i),_===null&&O()&&(_=a(x,s)===0?T:U),_!==null&&P()&&(m.push(sj({start:_,end:T,loop:h,count:o,style:f})),_=null),U=T,E=x));return _!==null&&m.push(sj({start:_,end:d,loop:h,count:o,style:f})),m}function yle(t,e){const r=[],n=t.segments;for(let s=0;s<n.length;s++){const i=mle(n[s],t.points,e);i.length&&r.push(...i)}return r}function vle(t,e,r,n){let s=0,i=e-1;if(r&&!n)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,r&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function xle(t,e,r,n){const s=t.length,i=[];let o=e,a=t[e],l;for(l=e+1;l<=r;++l){const c=t[l%s];c.skip||c.stop?a.skip||(n=!1,i.push({start:e%s,end:(l-1)%s,loop:n}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&i.push({start:e%s,end:o%s,loop:n}),i}function wle(t,e){const r=t.points,n=t.options.spanGaps,s=r.length;if(!s)return[];const i=!!t._loop,{start:o,end:a}=vle(r,s,i,n);if(n===!0)return ij(t,[{start:o,end:a,loop:i}],r,e);const l=a<o?a+s:a,c=!!t._fullLoop&&o===0&&a===s-1;return ij(t,xle(r,o,l,c),r,e)}function ij(t,e,r,n){return!n||!n.setContext||!r?e:ble(t,e,r,n)}function ble(t,e,r,n){const s=t._chart.getContext(),i=oj(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=r.length,c=[];let u=i,d=e[0].start,h=d;function f(m,v,_,x){const b=a?-1:1;if(m!==v){for(m+=l;r[m%l].skip;)m-=b;for(;r[v%l].skip;)v+=b;m%l!==v%l&&(c.push({start:m%l,end:v%l,loop:_,style:x}),u=x,d=v%l)}}for(const m of e){d=a?d:m.start;let v=r[d%l],_;for(h=d+1;h<=m.end;h++){const x=r[h%l];_=oj(n.setContext(md(s,{type:"segment",p0:v,p1:x,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),Ble(_,u)&&f(d,h-1,m.loop,u),v=x,u=_}d<h-1&&f(d,h-1,m.loop,u)}return c}function oj(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Ble(t,e){if(!e)return!1;const r=[],n=function(s,i){return Fk(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(e,n)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Cle{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,s){const i=r.listeners[s],o=r.duration;i.forEach(a=>a({chart:e,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=yQ.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,n,e,"progress")),i.length||(n.running=!1,this._notify(s,n,e,"complete"),n.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var zA=new Cle;const aj="transparent",_le={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=X3(t||aj),s=n.valid&&X3(e||aj);return s&&s.valid?s.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class kle{constructor(e,r,n,s){const i=r[n];s=Rv([e.to,s,i,e.from]);const o=Rv([e.from,i,s]);this._active=!0,this._fn=e.fn||_le[e.type||typeof o],this._easing=V0[e.easing]||V0.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const s=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Rv([e.to,r,s,e.from]),this._from=Rv([e.from,s,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||r<n),!this._active){this._target[s]=a,this._notify(!0);return}if(r<0){this._target[s]=i;return}l=r/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][r]()}}class TQ{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Tr(e))return;const r=Object.keys(Yn.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!Tr(i))return;const o={};for(const a of r)o[a]=i[a];(bn(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!n.has(a))&&n.set(a,o)})})}_animateOptions(e,r){const n=r.options,s=Ile(e,n);if(!s)return[];const i=this._createAnimations(s,n);return n.$shared&&Ele(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,r){const n=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(r),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,r));continue}const u=r[c];let d=i[c];const h=n.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}i[c]=d=new kle(h,e,c,u),s.push(d)}return s}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return zA.add(this._chart,n),!0}}function Ele(t,e){const r=[],n=Object.keys(e);for(let s=0;s<n.length;s++){const i=t[n[s]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function Ile(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function lj(t,e){const r=t&&t.options||{},n=r.reverse,s=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:n?i:s,end:n?s:i}}function Sle(t,e,r){if(r===!1)return!1;const n=lj(t,r),s=lj(e,r);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function Nle(t){let e,r,n,s;return Tr(t)?(e=t.top,r=t.right,n=t.bottom,s=t.left):e=r=n=s=t,{top:e,right:r,bottom:n,left:s,disabled:t===!1}}function jQ(t,e){const r=[],n=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=n.length;s<i;++s)r.push(n[s].index);return r}function Aj(t,e,r,n={}){const s=t.keys,i=n.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===r){if(u=!0,n.all)continue;break}c=t.values[l],Hs(c)&&(i||e===0||uA(e)===uA(c))&&(e+=c)}return!u&&!n.all?0:e}function Tle(t,e){const{iScale:r,vScale:n}=e,s=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[s]:u,[i]:t[u]};return a}function lB(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function jle(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function Fle(t){const{min:e,max:r,minDefined:n,maxDefined:s}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:s?r:Number.POSITIVE_INFINITY}}function Ple(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function cj(t,e,r,n){for(const s of e.getMatchingVisibleMetas(n).reverse()){const i=t[s.index];if(r&&i>0||!r&&i<0)return s.index}return null}function uj(t,e){const{chart:r,_cachedMeta:n}=t,s=r._stacks||(r._stacks={}),{iScale:i,vScale:o,index:a}=n,l=i.axis,c=o.axis,u=jle(i,o,n),d=e.length;let h;for(let f=0;f<d;++f){const m=e[f],{[l]:v,[c]:_}=m,x=m._stacks||(m._stacks={});h=x[c]=Ple(s,u,v),h[a]=_,h._top=cj(h,o,!0,n.type),h._bottom=cj(h,o,!1,n.type);const b=h._visualValues||(h._visualValues={});b[a]=_}}function AB(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function Lle(t,e){return md(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Ule(t,e,r){return md(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Vp(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const cB=t=>t==="reset"||t==="none",dj=(t,e)=>e?t:Object.assign({},t),Dle=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:jQ(r,!0),values:null};class vh{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=lB(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Vp(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),s=(d,h,f,m)=>d==="x"?h:d==="r"?m:f,i=r.xAxisID=xr(n.xAxisID,AB(e,"x")),o=r.yAxisID=xr(n.yAxisID,AB(e,"y")),a=r.rAxisID=xr(n.rAxisID,AB(e,"r")),l=r.indexAxis,c=r.iAxisID=s(l,i,o,a),u=r.vAxisID=s(l,o,i,a);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(a),r.iScale=this.getScaleForId(c),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&$3(this._data,this),e._stacked&&Vp(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Tr(r)){const s=this._cachedMeta;this._data=Tle(r,s)}else if(n!==r){if(n){$3(n,this);const s=this._cachedMeta;Vp(s),s._parsed=[]}r&&Object.isExtensible(r)&&yae(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const i=r._stacked;r._stacked=lB(r.vScale,r),r.stack!==n.stack&&(s=!0,Vp(r),r.stack=n.stack),this._resyncElements(e),(s||i!==r._stacked)&&(uj(this,r._parsed),r._stacked=lB(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:s}=this,{iScale:i,_stacked:o}=n,a=i.axis;let l=e===0&&r===s.length?!0:n._sorted,c=e>0&&n._parsed[e-1],u,d,h;if(this._parsing===!1)n._parsed=s,n._sorted=!0,h=s;else{bn(s[e])?h=this.parseArrayData(n,s,e,r):Tr(s[e])?h=this.parseObjectData(n,s,e,r):h=this.parsePrimitiveData(n,s,e,r);const f=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<r;++u)n._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);n._sorted=l}o&&uj(this,h)}parsePrimitiveData(e,r,n,s){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,c=i.getLabels(),u=i===o,d=new Array(s);let h,f,m;for(h=0,f=s;h<f;++h)m=h+n,d[h]={[a]:u||i.parse(c[m],m),[l]:o.parse(r[m],m)};return d}parseArrayData(e,r,n,s){const{xScale:i,yScale:o}=e,a=new Array(s);let l,c,u,d;for(l=0,c=s;l<c;++l)u=l+n,d=r[u],a[l]={x:i.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,r,n,s){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,d,h,f;for(u=0,d=s;u<d;++u)h=u+n,f=r[h],c[u]={x:i.parse(Qh(f,a),h),y:o.parse(Qh(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const s=this.chart,i=this._cachedMeta,o=r[e.axis],a={keys:jQ(s,!0),values:r._stacks[e.axis]._visualValues};return Aj(a,o,i.index,{mode:n})}updateRangeFromParsed(e,r,n,s){const i=n[r.axis];let o=i===null?NaN:i;const a=s&&n._stacks[r.axis];s&&a&&(s.values=a,o=Aj(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){const n=this._cachedMeta,s=n._parsed,i=n._sorted&&e===n.iScale,o=s.length,a=this._getOtherScale(e),l=Dle(r,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=Fle(a);let h,f;function m(){f=s[h];const v=f[a.axis];return!Hs(f[e.axis])||u>v||d<v}for(h=0;h<o&&!(!m()&&(this.updateRangeFromParsed(c,e,f,l),i));++h);if(i){for(h=o-1;h>=0;--h)if(!m()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let s,i,o;for(s=0,i=r.length;s<i;++s)o=r[s][e.axis],Hs(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,s=r.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=Nle(xr(this.options.clip,Sle(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,s=n.data||[],i=r.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,i,a,l),u=a;u<a+l;++u){const d=s[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=Ule(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=Lle(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const s=r==="active",i=this._cachedDataOpts,o=e+"-"+r,a=i[o],l=this.enableOptionSharing&&Um(n);if(a)return dj(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Yn.elements[e]),m=()=>this.getContext(n,s,r),v=c.resolveNamedOptions(h,f,m,d);return v.$shared&&(v.$shared=l,i[o]=Object.freeze(dj(v,l))),v}_resolveAnimations(e,r,n){const s=this.chart,i=this._cachedDataOpts,o=`animation-${r}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,r),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,n,r))}const c=new TQ(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||cB(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),s=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(r,i)||i!==s;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:o}}updateElement(e,r,n,s){cB(s)?Object.assign(e,n):this._resolveAnimations(r,s).update(e,n)}updateSharedOptions(e,r,n){e&&!cB(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,s){e.active=s;const i=this.getStyle(r,s);this._resolveAnimations(r,n,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=n.length,i=r.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,r,n=!0){const s=this._cachedMeta,i=s.data,o=e+r;let a;const l=c=>{for(c.length+=r,a=c.length-1;a>=o;a--)c[a]=c[a-r]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,r),n&&this.updateElements(i,e,r,"reset")}updateElements(e,r,n,s){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(e,r);n._stacked&&Vp(n,s)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,s]=e;this[r](n,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}jt(vh,"defaults",{}),jt(vh,"datasetElementType",null),jt(vh,"dataElementType",null);function Rle(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let s=0,i=r.length;s<i;s++)n=n.concat(r[s].controller.getAllParsedValues(t));t._cache.$bar=mQ(n.sort((s,i)=>s-i))}return t._cache.$bar}function Mle(t){const e=t.iScale,r=Rle(e,t.type);let n=e._length,s,i,o,a;const l=()=>{o===32767||o===-32768||(Um(a)&&(n=Math.min(n,Math.abs(o-a)||n)),a=o)};for(s=0,i=r.length;s<i;++s)o=e.getPixelForValue(r[s]),l();for(a=void 0,s=0,i=e.ticks.length;s<i;++s)o=e.getPixelForTick(s),l();return n}function Qle(t,e,r,n){const s=r.barThickness;let i,o;return Nr(s)?(i=e.min*r.categoryPercentage,o=r.barPercentage):(i=s*n,o=1),{chunk:i/n,ratio:o,start:e.pixels[t]-i/2}}function Ole(t,e,r,n){const s=e.pixels,i=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=r.categoryPercentage;o===null&&(o=i-(a===null?e.end-e.start:a-i)),a===null&&(a=i+i-o);const c=i-(i-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/n,ratio:r.barPercentage,start:c}}function Vle(t,e,r,n){const s=r.parse(t[0],n),i=r.parse(t[1],n),o=Math.min(s,i),a=Math.max(s,i);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[r.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:i,min:o,max:a}}function FQ(t,e,r,n){return bn(t)?Vle(t,e,r,n):e[r.axis]=r.parse(t,n),e}function hj(t,e,r,n){const s=t.iScale,i=t.vScale,o=s.getLabels(),a=s===i,l=[];let c,u,d,h;for(c=r,u=r+n;c<u;++c)h=e[c],d={},d[s.axis]=a||s.parse(o[c],c),l.push(FQ(h,d,i,c));return l}function uB(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Hle(t,e,r){return t!==0?uA(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function Kle(t){let e,r,n,s,i;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(s="end",i="start"):(s="start",i="end"),{start:r,end:n,reverse:e,top:s,bottom:i}}function zle(t,e,r,n){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=Kle(t);s==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?s=c:(r._bottom||0)===n?s=u:(i[fj(u,o,a,l)]=!0,s=c)),i[fj(s,o,a,l)]=!0,t.borderSkipped=i}function fj(t,e,r,n){return n?(t=Gle(t,e,r),t=gj(t,r,e)):t=gj(t,e,r),t}function Gle(t,e,r){return t===e?r:t===r?e:t}function gj(t,e,r){return t==="start"?e:t==="end"?r:t}function Wle(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class E1 extends vh{parsePrimitiveData(e,r,n,s){return hj(e,r,n,s)}parseArrayData(e,r,n,s){return hj(e,r,n,s)}parseObjectData(e,r,n,s){const{iScale:i,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let h,f,m,v;for(h=n,f=n+s;h<f;++h)v=r[h],m={},m[i.axis]=i.parse(Qh(v,c),h),d.push(FQ(Qh(v,u),m,o,h));return d}updateRangeFromParsed(e,r,n,s){super.updateRangeFromParsed(e,r,n,s);const i=n._custom;i&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:s}=r,i=this.getParsed(e),o=i._custom,a=uB(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,s){const i=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(r,s);for(let f=r;f<r+n;f++){const m=this.getParsed(f),v=i||Nr(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),_=this._calculateBarIndexPixels(f,u),x=(m._stacks||{})[a.axis],b={horizontal:c,base:v.base,enableBorderRadius:!x||uB(m._custom)||o===x._top||o===x._bottom,x:c?v.head:_.center,y:c?_.center:v.head,height:c?_.size:Math.abs(v.size),width:c?Math.abs(v.size):_.size};h&&(b.options=d||this.resolveDataElementOptions(f,e[f].active?"active":s));const E=b.options||e[f].options;zle(b,E,x,o),Wle(b,E,u.ratio),this.updateElement(e[f],f,b,s)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,s=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=n.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(r),l=a&&a[n.axis],c=u=>{const d=u._parsed.find(f=>f[n.axis]===l),h=d&&d[u.vScale.axis];if(Nr(h)||isNaN(h))return!0};for(const u of s)if(!(r!==void 0&&c(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,r,n){const s=this._getStacks(e,n),i=r!==void 0?s.indexOf(r):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,s=[];let i,o;for(i=0,o=r.data.length;i<o;++i)s.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const a=e.barThickness;return{min:a||Mle(r),pixels:s,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:s},options:{base:i,minBarLength:o}}=this,a=i||0,l=this.getParsed(e),c=l._custom,u=uB(c);let d=l[r.axis],h=0,f=n?this.applyStack(r,l,n):d,m,v;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&uA(d)!==uA(c.barEnd)&&(h=0),h+=d);const _=!Nr(i)&&!u?i:h;let x=r.getPixelForValue(_);if(this.chart.getDataVisibility(e)?m=r.getPixelForValue(h+f):m=x,v=m-x,Math.abs(v)<o){v=Hle(v,r,a)*o,d===a&&(x-=v/2);const b=r.getPixelForDecimal(0),E=r.getPixelForDecimal(1),N=Math.min(b,E),j=Math.max(b,E);x=Math.max(Math.min(x,j),N),m=x+v,n&&!u&&(l._stacks[r.axis]._visualValues[s]=r.getValueForPixel(m)-r.getValueForPixel(x))}if(x===r.getPixelForValue(a)){const b=uA(v)*r.getLineWidthForValue(a)/2;x+=b,v-=b}return{size:v,base:x,head:m,center:m+v/2}}_calculateBarIndexPixels(e,r){const n=r.scale,s=this.options,i=s.skipNull,o=xr(s.maxBarThickness,1/0);let a,l;if(r.grouped){const c=i?this._getStackCount(e):r.stackCount,u=s.barThickness==="flex"?Ole(e,r,s,c):Qle(e,r,s,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(o,r.min*r.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,s=n.length;let i=0;for(;i<s;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}jt(E1,"id","bar"),jt(E1,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),jt(E1,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function $le(t,e,r){let n=1,s=1,i=0,o=0;if(e<Cn){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),f=(E,N,j)=>Rm(E,a,l,!0)?1:Math.max(N,N*r,j,j*r),m=(E,N,j)=>Rm(E,a,l,!0)?-1:Math.min(N,N*r,j,j*r),v=f(0,c,d),_=f(As,u,h),x=m(_n,c,d),b=m(_n+As,u,h);n=(v-x)/2,s=(_-b)/2,i=-(v+x)/2,o=-(_+b)/2}return{ratioX:n,ratioY:s,offsetX:i,offsetY:o}}class l0 extends vh{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=n;else{let i=l=>+n[l];if(Tr(n[e])){const{key:l="value"}=this._parsing;i=c=>+Qh(n[c],l)}let o,a;for(o=e,a=e+r;o<a;++o)s._parsed[o]=i(o)}}_getRotation(){return eA(this.options.rotation-90)}_getCircumference(){return eA(this.options.circumference)}_getRotationExtents(){let e=Cn,r=-Cn;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const s=this.chart.getDatasetMeta(n).controller,i=s._getRotation(),o=s._getCircumference();e=Math.min(e,i),r=Math.max(r,i+o)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,s=this._cachedMeta,i=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-o)/2,0),l=Math.min(nae(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:m,offsetY:v}=$le(d,u,l),_=(n.width-o)/h,x=(n.height-o)/f,b=Math.max(Math.min(_,x)/2,0),E=dQ(this.options.radius,b),N=Math.max(E*l,0),j=(E-N)/this._getVisibleDatasetWeightTotal();this.offsetX=m*E,this.offsetY=v*E,s.total=this.calculateTotal(),this.outerRadius=E-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*c,0),this.updateElements(i,0,i.length,e)}_circumference(e,r){const n=this.options,s=this._cachedMeta,i=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/Cn)}updateElements(e,r,n,s){const i=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,h=i&&c.animateScale,f=h?0:this.innerRadius,m=h?0:this.outerRadius,{sharedOptions:v,includeOptions:_}=this._getSharedOptions(r,s);let x=this._getRotation(),b;for(b=0;b<r;++b)x+=this._circumference(b,i);for(b=r;b<r+n;++b){const E=this._circumference(b,i),N=e[b],j={x:u+this.offsetX,y:d+this.offsetY,startAngle:x,endAngle:x+E,circumference:E,outerRadius:m,innerRadius:f};_&&(j.options=v||this.resolveDataElementOptions(b,N.active?"active":s)),x+=E,this.updateElement(N,b,j,s)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,s;for(s=0;s<r.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!r[s].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Cn*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,s=n.data.labels||[],i=Zw(r._parsed[e],n.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let r=0;const n=this.chart;let s,i,o,a,l;if(!e){for(s=0,i=n.data.datasets.length;s<i;++s)if(n.isDatasetVisible(s)){o=n.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,s=e.length;n<s;++n){const i=this.resolveDataElementOptions(n);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(xr(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}jt(l0,"id","doughnut"),jt(l0,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),jt(l0,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),jt(l0,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:s}}=e.legend.options;return r.labels.map((i,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class I1 extends vh{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:s=[],_dataset:i}=r,o=this.chart._animationsDisabled;let{start:a,count:l}=wae(r,s,o);this._drawStart=a,this._drawCount=l,bae(r)&&(a=0,l=s.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,r,n,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(r,s),h=o.axis,f=a.axis,{spanGaps:m,segment:v}=this.options,_=Dm(m)?m:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||i||s==="none",b=r+n,E=e.length;let N=r>0&&this.getParsed(r-1);for(let j=0;j<E;++j){const O=e[j],P=x?O:{};if(j<r||j>=b){P.skip=!0;continue}const T=this.getParsed(j),U=Nr(T[f]),R=P[h]=o.getPixelForValue(T[h],j),I=P[f]=i||U?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[f],j);P.skip=isNaN(R)||isNaN(I)||U,P.stop=j>0&&Math.abs(T[h]-N[h])>_,v&&(P.parsed=T,P.raw=c.data[j]),d&&(P.options=u||this.resolveDataElementOptions(j,O.active?"active":s)),x||this.updateElement(O,j,P,s),N=T}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,s=e.data||[];if(!s.length)return n;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}jt(I1,"id","line"),jt(I1,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),jt(I1,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Dd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Vk{constructor(e){jt(this,"options");this.options=e||{}}static override(e){Object.assign(Vk.prototype,e)}init(){}formats(){return Dd()}parse(){return Dd()}format(){return Dd()}add(){return Dd()}diff(){return Dd()}startOf(){return Dd()}endOf(){return Dd()}}var qle={_date:Vk};function Yle(t,e,r,n){const{controller:s,data:i,_sorted:o}=t,a=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const c=a._reversePixels?pae:ih;if(n){if(s._sharedOptions){const u=i[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const h=c(i,e,r-d),f=c(i,e,r+d);return{lo:h.lo,hi:f.hi}}}}else{const u=c(i,e,r);if(l){const{vScale:d}=s._cachedMeta,{_parsed:h}=t,f=h.slice(0,u.lo+1).reverse().findIndex(v=>!Nr(v[d.axis]));u.lo-=Math.max(0,f);const m=h.slice(u.hi).findIndex(v=>!Nr(v[d.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:i.length-1}}function dy(t,e,r,n,s){const i=t.getSortedVisibleDatasetMetas(),o=r[e];for(let a=0,l=i.length;a<l;++a){const{index:c,data:u}=i[a],{lo:d,hi:h}=Yle(i[a],e,o,s);for(let f=d;f<=h;++f){const m=u[f];m.skip||n(m,c,f)}}}function Xle(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,s){const i=e?Math.abs(n.x-s.x):0,o=r?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function dB(t,e,r,n,s){const i=[];return!s&&!t.isPointInArea(e)||dy(t,r,e,function(a,l,c){!s&&!rc(a,t.chartArea,0)||a.inRange(e.x,e.y,n)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function Jle(t,e,r,n){let s=[];function i(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:d}=gQ(o,{x:e.x,y:e.y});Rm(d,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return dy(t,r,e,i),s}function Zle(t,e,r,n,s,i){let o=[];const a=Xle(r);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,s);if(n&&!f)return;const m=u.getCenterPoint(s);if(!(!!i||t.isPointInArea(m))&&!f)return;const _=a(e,m);_<l?(o=[{element:u,datasetIndex:d,index:h}],l=_):_===l&&o.push({element:u,datasetIndex:d,index:h})}return dy(t,r,e,c),o}function hB(t,e,r,n,s,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!n?Jle(t,e,r,s):Zle(t,e,r,n,s,i)}function pj(t,e,r,n,s){const i=[],o=r==="x"?"inXRange":"inYRange";let a=!1;return dy(t,r,e,(l,c,u)=>{l[o]&&l[o](e[r],s)&&(i.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,s))}),n&&!a?[]:i}var eAe={evaluateInteractionItems:dy,modes:{index(t,e,r,n){const s=Wd(e,t),i=r.axis||"x",o=r.includeInvisible||!1,a=r.intersect?dB(t,s,i,n,o):hB(t,s,i,!1,n,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,r,n){const s=Wd(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;let a=r.intersect?dB(t,s,i,n,o):hB(t,s,i,!1,n,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,r,n){const s=Wd(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return dB(t,s,i,n,o)},nearest(t,e,r,n){const s=Wd(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return hB(t,s,i,r.intersect,n,o)},x(t,e,r,n){const s=Wd(e,t);return pj(t,s,"x",r.intersect,n)},y(t,e,r,n){const s=Wd(e,t);return pj(t,s,"y",r.intersect,n)}}};const PQ=["left","top","right","bottom"];function Hp(t,e){return t.filter(r=>r.pos===e)}function mj(t,e){return t.filter(r=>PQ.indexOf(r.pos)===-1&&r.box.axis===e)}function Kp(t,e){return t.sort((r,n)=>{const s=e?n:r,i=e?r:n;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function tAe(t){const e=[];let r,n,s,i,o,a;for(r=0,n=(t||[]).length;r<n;++r)s=t[r],{position:i,options:{stack:o,stackWeight:a=1}}=s,e.push({index:r,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return e}function rAe(t){const e={};for(const r of t){const{stack:n,pos:s,stackWeight:i}=r;if(!n||!PQ.includes(s))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function nAe(t,e){const r=rAe(t),{vBoxMaxWidth:n,hBoxMaxHeight:s}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,c=r[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*n:l&&e.availableWidth,a.height=s):(a.width=n,a.height=u?u*s:l&&e.availableHeight)}return r}function sAe(t){const e=tAe(t),r=Kp(e.filter(c=>c.box.fullSize),!0),n=Kp(Hp(e,"left"),!0),s=Kp(Hp(e,"right")),i=Kp(Hp(e,"top"),!0),o=Kp(Hp(e,"bottom")),a=mj(e,"x"),l=mj(e,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Hp(e,"chartArea"),vertical:n.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function yj(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function LQ(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function iAe(t,e,r,n){const{pos:s,box:i}=r,o=t.maxPadding;if(!Tr(s)){r.size&&(t[s]-=r.size);const d=n[r.stack]||{size:0,count:1};d.size=Math.max(d.size,r.horizontal?i.height:i.width),r.size=d.size/d.count,t[s]+=r.size}i.getPadding&&LQ(o,i.getPadding());const a=Math.max(0,e.outerWidth-yj(o,t,"left","right")),l=Math.max(0,e.outerHeight-yj(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,r.horizontal?{same:c,other:u}:{same:u,other:c}}function oAe(t){const e=t.maxPadding;function r(n){const s=Math.max(e[n]-t[n],0);return t[n]+=s,s}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function aAe(t,e){const r=e.maxPadding;function n(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],r[o])}),i}return n(t?["left","right"]:["top","bottom"])}function A0(t,e,r,n){const s=[];let i,o,a,l,c,u;for(i=0,o=t.length,c=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,aAe(a.horizontal,e));const{same:d,other:h}=iAe(e,r,a,n);c|=d&&s.length,u=u||h,l.fullSize||s.push(a)}return c&&A0(s,e,r,n)||u}function Ov(t,e,r,n,s){t.top=r,t.left=e,t.right=e+n,t.bottom=r+s,t.width=n,t.height=s}function vj(t,e,r,n){const s=r.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,c=n[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,h=c.size||l.height;Um(c.start)&&(o=c.start),l.fullSize?Ov(l,s.left,o,r.outerWidth-s.right-s.left,h):Ov(l,e.left+c.placed,o,d,h),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,h=c.size||l.width;Um(c.start)&&(i=c.start),l.fullSize?Ov(l,i,s.top,h,r.outerHeight-s.bottom-s.top):Ov(l,i,e.top+c.placed,h,d),c.start=i,c.placed+=d,i=l.right}}e.x=i,e.y=o}var Fa={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const s=Pi(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(r-s.height,0),a=sAe(t.boxes),l=a.vertical,c=a.horizontal;$r(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const u=l.reduce((v,_)=>_.box.options&&_.box.options.display===!1?v:v+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:r,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},s);LQ(h,Pi(n));const f=Object.assign({maxPadding:h,w:i,h:o,x:s.left,y:s.top},s),m=nAe(l.concat(c),d);A0(a.fullSize,f,d,m),A0(l,f,d,m),A0(c,f,d,m)&&A0(l,f,d,m),oAe(f),vj(a.leftAndTop,f,d,m),f.x+=f.w,f.y+=f.h,vj(a.rightAndBottom,f,d,m),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},$r(a.chartArea,v=>{const _=v.box;Object.assign(_,t.chartArea),_.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class UQ{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,s){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,s?Math.floor(r/s):n)}}isAttached(e){return!0}updateConfig(e){}}class lAe extends UQ{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const S1="$chartjs",AAe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xj=t=>t===null||t==="";function cAe(t,e){const r=t.style,n=t.getAttribute("height"),s=t.getAttribute("width");if(t[S1]={initial:{height:n,width:s,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",xj(s)){const i=nj(t,"width");i!==void 0&&(t.width=i)}if(xj(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=nj(t,"height");i!==void 0&&(t.height=i)}return t}const DQ=ule?{passive:!0}:!1;function uAe(t,e,r){t&&t.addEventListener(e,r,DQ)}function dAe(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,DQ)}function hAe(t,e){const r=AAe[t.type]||t.type,{x:n,y:s}=Wd(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:s!==void 0?s:null}}function Wx(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function fAe(t,e,r){const n=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Wx(a.addedNodes,n),o=o&&!Wx(a.removedNodes,n);o&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}function gAe(t,e,r){const n=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Wx(a.removedNodes,n),o=o&&!Wx(a.addedNodes,n);o&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}const Qm=new Map;let wj=0;function RQ(){const t=window.devicePixelRatio;t!==wj&&(wj=t,Qm.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function pAe(t,e){Qm.size||window.addEventListener("resize",RQ),Qm.set(t,e)}function mAe(t){Qm.delete(t),Qm.size||window.removeEventListener("resize",RQ)}function yAe(t,e,r){const n=t.canvas,s=n&&Ok(n);if(!s)return;const i=vQ((a,l)=>{const c=s.clientWidth;r(a,l),c<s.clientWidth&&r()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return o.observe(s),pAe(t,i),o}function fB(t,e,r){r&&r.disconnect(),e==="resize"&&mAe(t)}function vAe(t,e,r){const n=t.canvas,s=vQ(i=>{t.ctx!==null&&r(hAe(i,t))},t);return uAe(n,e,s),s}class xAe extends UQ{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(cAe(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[S1])return!1;const n=r[S1].initial;["height","width"].forEach(i=>{const o=n[i];Nr(o)?r.removeAttribute(i):r.setAttribute(i,o)});const s=n.style||{};return Object.keys(s).forEach(i=>{r.style[i]=s[i]}),r.width=r.width,delete r[S1],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const s=e.$proxies||(e.$proxies={}),o={attach:fAe,detach:gAe,resize:yAe}[r]||vAe;s[r]=o(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),s=n[r];if(!s)return;({attach:fB,detach:fB,resize:fB}[r]||dAe)(e,r,s),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,s){return cle(e,r,n,s)}isAttached(e){const r=e&&Ok(e);return!!(r&&r.isConnected)}}function wAe(t){return!Qk()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?lAe:xAe}var Yv;let Bc=(Yv=class{constructor(){jt(this,"x");jt(this,"y");jt(this,"active",!1);jt(this,"options");jt(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Dm(this.x)&&Dm(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const s={};return e.forEach(i=>{s[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),s}},jt(Yv,"defaults",{}),jt(Yv,"defaultRoutes"),Yv);function bAe(t,e){const r=t.options.ticks,n=BAe(t),s=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?_Ae(e):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>s)return kAe(e,c,i,o/s),c;const u=CAe(i,e,s);if(o>0){let d,h;const f=o>1?Math.round((l-a)/(o-1)):null;for(Vv(e,c,u,Nr(f)?0:a-f,a),d=0,h=o-1;d<h;d++)Vv(e,c,u,i[d],i[d+1]);return Vv(e,c,u,l,Nr(f)?e.length:l+f),c}return Vv(e,c,u),c}function BAe(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),s=t._maxLength/r;return Math.floor(Math.min(n,s))}function CAe(t,e,r){const n=EAe(t),s=e.length/r;if(!n)return Math.max(s,1);const i=uae(n);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function _Ae(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function kAe(t,e,r,n){let s=0,i=r[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=r[s*n])}function Vv(t,e,r,n,s){const i=xr(n,0),o=Math.min(xr(s,t.length),t.length);let a=0,l,c,u;for(r=Math.ceil(r),s&&(l=s-n,r=l/Math.floor(l/r)),u=i;u<0;)a++,u=Math.round(i+a*r);for(c=Math.max(i,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(i+a*r))}function EAe(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const IAe=t=>t==="left"?"right":t==="right"?"left":t,bj=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,Bj=(t,e)=>Math.min(e||t,t);function Cj(t,e){const r=[],n=t.length/e,s=t.length;let i=0;for(;i<s;i+=n)r.push(t[Math.floor(i)]);return r}function SAe(t,e,r){const n=t.ticks.length,s=Math.min(e,n-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(r&&(n===1?c=Math.max(l-i,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<i-a||l>o+a)))return l}function NAe(t,e){$r(t,r=>{const n=r.gc,s=n.length/2;let i;if(s>e){for(i=0;i<s;++i)delete r.data[n[i]];n.splice(0,s)}})}function zp(t){return t.drawTicks?t.tickLength:0}function _j(t,e){if(!t.display)return 0;const r=Fs(t.font,e),n=Pi(t.padding);return(bn(t.text)?t.text.length:1)*r.lineHeight+n.height}function TAe(t,e){return md(t,{scale:e,type:"scale"})}function jAe(t,e,r){return md(t,{tick:r,index:e,type:"tick"})}function FAe(t,e,r){let n=jk(t);return(r&&e!=="right"||!r&&e==="right")&&(n=IAe(n)),n}function PAe(t,e,r,n){const{top:s,left:i,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,f,m;const v=o-s,_=a-i;if(t.isHorizontal()){if(f=Ci(n,i,a),Tr(r)){const x=Object.keys(r)[0],b=r[x];m=u[x].getPixelForValue(b)+v-e}else r==="center"?m=(c.bottom+c.top)/2+v-e:m=bj(t,r,e);h=a-i}else{if(Tr(r)){const x=Object.keys(r)[0],b=r[x];f=u[x].getPixelForValue(b)-_+e}else r==="center"?f=(c.left+c.right)/2-_+e:f=bj(t,r,e);m=Ci(n,o,s),d=r==="left"?-As:As}return{titleX:f,titleY:m,maxWidth:h,rotation:d}}class Zh extends Bc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:s}=this;return e=Zo(e,Number.POSITIVE_INFINITY),r=Zo(r,Number.NEGATIVE_INFINITY),n=Zo(n,Number.POSITIVE_INFINITY),s=Zo(s,Number.NEGATIVE_INFINITY),{min:Zo(e,n),max:Zo(r,s),minDefined:Hs(e),maxDefined:Hs(r)}}getMinMax(e){let{min:r,max:n,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:r,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(r=Math.min(r,o.min)),i||(n=Math.max(n,o.max));return r=i&&r>n?n:r,n=s&&r>n?r:n,{min:Zo(r,Zo(n,r)),max:Zo(n,Zo(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){an(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Vae(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Cj(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=bAe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){an(this.options.afterUpdate,[this])}beforeSetDimensions(){an(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){an(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),an(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){an(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,s,i;for(n=0,s=e.length;n<s;n++)i=e[n],i.label=an(r.callback,[i.value,n,e],this)}afterTickToLabelConversion(){an(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){an(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=Bj(this.ticks.length,e.ticks.maxTicksLimit),s=r.minRotation||0,i=r.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!r.display||s>=i||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=Ni(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/n:f/(n-1),d+6>a&&(a=f/(n-(e.offset?.5:1)),l=this.maxHeight-zp(e.grid)-r.padding-_j(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),o=Nk(Math.min(Math.asin(Ni((u.highest.height+6)/a,-1,1)),Math.asin(Ni(l/c,-1,1))-Math.asin(Ni(h/c,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){an(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){an(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=_j(s,r.options.font);if(a?(e.width=this.maxWidth,e.height=zp(i)+l):(e.height=this.maxHeight,e.width=zp(i)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=n.padding*2,m=eA(this.labelRotation),v=Math.cos(m),_=Math.sin(m);if(a){const x=n.mirror?0:_*d.width+v*h.height;e.height=Math.min(this.maxHeight,e.height+x+f)}else{const x=n.mirror?0:v*d.width+_*h.height;e.width=Math.min(this.maxWidth,e.width+x+f)}this._calculatePadding(c,u,_,v)}}this._handleMargins(),a?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=s*e.width,f=n*r.height):(h=n*e.height,f=s*r.width):i==="start"?f=r.width:i==="end"?h=e.width:i!=="inner"&&(h=e.width/2,f=r.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=r.height/2,d=e.height/2;i==="start"?(u=0,d=e.height):i==="end"&&(u=r.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){an(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)Nr(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=Cj(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(r/Bj(r,n));let c=0,u=0,d,h,f,m,v,_,x,b,E,N,j;for(d=0;d<r;d+=l){if(m=e[d].label,v=this._resolveTickFontOptions(d),s.font=_=v.string,x=i[_]=i[_]||{data:{},gc:[]},b=v.lineHeight,E=N=0,!Nr(m)&&!bn(m))E=zx(s,x.data,x.gc,E,m),N=b;else if(bn(m))for(h=0,f=m.length;h<f;++h)j=m[h],!Nr(j)&&!bn(j)&&(E=zx(s,x.data,x.gc,E,j),N+=b);o.push(E),a.push(N),c=Math.max(E,c),u=Math.max(N,u)}NAe(i,r);const O=o.indexOf(c),P=a.indexOf(u),T=U=>({width:o[U]||0,height:a[U]||0});return{first:T(0),last:T(r-1),widest:T(O),highest:T(P),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return gae(this._alignToPixels?Ud(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=jAe(this.getContext(),e,n))}return this.$context||(this.$context=TAe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=eA(this.labelRotation),n=Math.abs(Math.cos(r)),s=Math.abs(Math.sin(r)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*n>a*s?a/n:l/s:l*s<a*n?l/n:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=zp(i),f=[],m=a.setContext(this.getContext()),v=m.display?m.width:0,_=v/2,x=function(Z){return Ud(n,Z,v)};let b,E,N,j,O,P,T,U,R,I,L,M;if(o==="top")b=x(this.bottom),P=this.bottom-h,U=b-_,I=x(e.top)+_,M=e.bottom;else if(o==="bottom")b=x(this.top),I=e.top,M=x(e.bottom)-_,P=b+_,U=this.top+h;else if(o==="left")b=x(this.right),O=this.right-h,T=b-_,R=x(e.left)+_,L=e.right;else if(o==="right")b=x(this.left),R=e.left,L=x(e.right)-_,O=b+_,T=this.left+h;else if(r==="x"){if(o==="center")b=x((e.top+e.bottom)/2+.5);else if(Tr(o)){const Z=Object.keys(o)[0],ce=o[Z];b=x(this.chart.scales[Z].getPixelForValue(ce))}I=e.top,M=e.bottom,P=b+_,U=P+h}else if(r==="y"){if(o==="center")b=x((e.left+e.right)/2);else if(Tr(o)){const Z=Object.keys(o)[0],ce=o[Z];b=x(this.chart.scales[Z].getPixelForValue(ce))}O=b-_,T=O-h,R=e.left,L=e.right}const W=xr(s.ticks.maxTicksLimit,d),X=Math.max(1,Math.ceil(d/W));for(E=0;E<d;E+=X){const Z=this.getContext(E),ce=i.setContext(Z),G=a.setContext(Z),Y=ce.lineWidth,ue=ce.color,ke=G.dash||[],K=G.dashOffset,se=ce.tickWidth,ae=ce.tickColor,he=ce.tickBorderDash||[],ye=ce.tickBorderDashOffset;N=SAe(this,E,l),N!==void 0&&(j=Ud(n,N,Y),c?O=T=R=L=j:P=U=I=M=j,f.push({tx1:O,ty1:P,tx2:T,ty2:U,x1:R,y1:I,x2:L,y2:M,width:Y,color:ue,borderDash:ke,borderDashOffset:K,tickWidth:se,tickColor:ae,tickBorderDash:he,tickBorderDashOffset:ye}))}return this._ticksLength=d,this._borderValue=b,f}_computeLabelItems(e){const r=this.axis,n=this.options,{position:s,ticks:i}=n,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=i,h=zp(n.grid),f=h+u,m=d?-u:f,v=-eA(this.labelRotation),_=[];let x,b,E,N,j,O,P,T,U,R,I,L,M="middle";if(s==="top")O=this.bottom-m,P=this._getXAxisLabelAlignment();else if(s==="bottom")O=this.top+m,P=this._getXAxisLabelAlignment();else if(s==="left"){const X=this._getYAxisLabelAlignment(h);P=X.textAlign,j=X.x}else if(s==="right"){const X=this._getYAxisLabelAlignment(h);P=X.textAlign,j=X.x}else if(r==="x"){if(s==="center")O=(e.top+e.bottom)/2+f;else if(Tr(s)){const X=Object.keys(s)[0],Z=s[X];O=this.chart.scales[X].getPixelForValue(Z)+f}P=this._getXAxisLabelAlignment()}else if(r==="y"){if(s==="center")j=(e.left+e.right)/2-f;else if(Tr(s)){const X=Object.keys(s)[0],Z=s[X];j=this.chart.scales[X].getPixelForValue(Z)}P=this._getYAxisLabelAlignment(h).textAlign}r==="y"&&(l==="start"?M="top":l==="end"&&(M="bottom"));const W=this._getLabelSizes();for(x=0,b=a.length;x<b;++x){E=a[x],N=E.label;const X=i.setContext(this.getContext(x));T=this.getPixelForTick(x)+i.labelOffset,U=this._resolveTickFontOptions(x),R=U.lineHeight,I=bn(N)?N.length:1;const Z=I/2,ce=X.color,G=X.textStrokeColor,Y=X.textStrokeWidth;let ue=P;o?(j=T,P==="inner"&&(x===b-1?ue=this.options.reverse?"left":"right":x===0?ue=this.options.reverse?"right":"left":ue="center"),s==="top"?c==="near"||v!==0?L=-I*R+R/2:c==="center"?L=-W.highest.height/2-Z*R+R:L=-W.highest.height+R/2:c==="near"||v!==0?L=R/2:c==="center"?L=W.highest.height/2-Z*R:L=W.highest.height-I*R,d&&(L*=-1),v!==0&&!X.showLabelBackdrop&&(j+=R/2*Math.sin(v))):(O=T,L=(1-I)*R/2);let ke;if(X.showLabelBackdrop){const K=Pi(X.backdropPadding),se=W.heights[x],ae=W.widths[x];let he=L-K.top,ye=0-K.left;switch(M){case"middle":he-=se/2;break;case"bottom":he-=se;break}switch(P){case"center":ye-=ae/2;break;case"right":ye-=ae;break;case"inner":x===b-1?ye-=ae:x>0&&(ye-=ae/2);break}ke={left:ye,top:he,width:ae+K.width,height:se+K.height,color:X.backdropColor}}_.push({label:N,font:U,textOffset:L,options:{rotation:v,color:ce,strokeColor:G,strokeWidth:Y,textAlign:ue,textBaseline:M,translation:[j,O],backdrop:ke}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-eA(this.labelRotation))return e==="top"?"left":"right";let s="center";return r.align==="start"?s="left":r.align==="end"?s="right":r.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let c,u;return r==="left"?s?(u=this.right+i,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):r==="right"?s?(u=this.left+i,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:s,width:i,height:o}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,s,i,o),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?r.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(r.display)for(i=0,o=s.length;i<o;++i){const l=s[i];r.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:s}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=Ud(e,this.left,o)-o/2,u=Ud(e,this.right,a)+a/2,d=h=l):(d=Ud(e,this.top,o)-o/2,h=Ud(e,this.bottom,a)+a/2,c=u=l),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(c,d),r.lineTo(u,h),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&Pk(n,s);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Vh(n,c,0,u,l,a)}s&&Lk(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:s}}=this;if(!n.display)return;const i=Fs(n.font),o=Pi(n.padding),a=n.align;let l=i.lineHeight/2;r==="bottom"||r==="center"||Tr(r)?(l+=o.bottom,bn(n.text)&&(l+=i.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=PAe(this,l,r,a);Vh(e,n.text,0,0,i,{color:n.color,maxWidth:d,rotation:h,textAlign:FAe(a,r,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=xr(e.grid&&e.grid.z,-1),s=xr(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Zh.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let i,o;for(i=0,o=r.length;i<o;++i){const a=r[i];a[n]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Fs(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Hv{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;DAe(r)&&(n=this.register(r));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,LAe(e,o,n),this.override&&Yn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,s=this.scope;n in r&&delete r[n],s&&n in Yn[s]&&(delete Yn[s][n],this.override&&delete Oh[n])}}function LAe(t,e,r){const n=Lm(Object.create(null),[r?Yn.get(r):{},Yn.get(e),t.defaults]);Yn.set(e,n),t.defaultRoutes&&UAe(e,t.defaultRoutes),t.descriptors&&Yn.describe(e,t.descriptors)}function UAe(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),s=n.pop(),i=[t].concat(n).join("."),o=e[r].split("."),a=o.pop(),l=o.join(".");Yn.route(i,s,l,a)})}function DAe(t){return"id"in t&&"defaults"in t}class RAe{constructor(){this.controllers=new Hv(vh,"datasets",!0),this.elements=new Hv(Bc,"elements"),this.plugins=new Hv(Object,"plugins"),this.scales=new Hv(Zh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(s=>{const i=n||this._getRegistryForType(s);n||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):$r(s,o=>{const a=n||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,r,n){const s=Sk(e);an(n["before"+s],[],n),r[e](n),an(n["after"+s],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const s=r.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return s}}var $l=new RAe;class MAe{constructor(){this._init=[]}notify(e,r,n,s){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,r,n);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,r,n,s){s=s||{};for(const i of e){const o=i.plugin,a=o[n],l=[r,s,i.options];if(an(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Nr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,s=xr(n.options&&n.options.plugins,{}),i=QAe(n);return s===!1&&!r?[]:VAe(e,i,s,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(r,n),e,"stop"),this._notify(s(n,r),e,"start")}}function QAe(t){const e={},r=[],n=Object.keys($l.plugins.items);for(let i=0;i<n.length;i++)r.push($l.getPlugin(n[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];r.indexOf(o)===-1&&(r.push(o),e[o.id]=!0)}return{plugins:r,localIds:e}}function OAe(t,e){return!e&&t===!1?null:t===!0?{}:t}function VAe(t,{plugins:e,localIds:r},n,s){const i=[],o=t.getContext();for(const a of e){const l=a.id,c=OAe(n[l],s);c!==null&&i.push({plugin:a,options:HAe(t.config,{plugin:a,local:r[l]},c,o)})}return i}function HAe(t,{plugin:e,local:r},n,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return r&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function PC(t,e){const r=Yn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function KAe(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function zAe(t,e){return t===e?"_index_":"_value_"}function kj(t){if(t==="x"||t==="y"||t==="r")return t}function GAe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function LC(t,...e){if(kj(t))return t;for(const r of e){const n=r.axis||GAe(r.position)||t.length>1&&kj(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Ej(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function WAe(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return Ej(t,"x",r[0])||Ej(t,"y",r[0])}return{}}function $Ae(t,e){const r=Oh[t.type]||{scales:{}},n=e.scales||{},s=PC(t.type,e),i=Object.create(null);return Object.keys(n).forEach(o=>{const a=n[o];if(!Tr(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=LC(o,a,WAe(o,t),Yn.scales[a.type]),c=zAe(l,s),u=r.scales||{};i[o]=Q0(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||PC(a,e),u=(Oh[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=KAe(d,l),f=o[h+"AxisID"]||h;i[f]=i[f]||Object.create(null),Q0(i[f],[{axis:h},n[f],u[d]])})}),Object.keys(i).forEach(o=>{const a=i[o];Q0(a,[Yn.scales[a.type],Yn.scale])}),i}function MQ(t){const e=t.options||(t.options={});e.plugins=xr(e.plugins,{}),e.scales=$Ae(t,e)}function QQ(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function qAe(t){return t=t||{},t.data=QQ(t.data),MQ(t),t}const Ij=new Map,OQ=new Set;function Kv(t,e){let r=Ij.get(t);return r||(r=e(),Ij.set(t,r),OQ.add(r)),r}const Gp=(t,e,r)=>{const n=Qh(e,r);n!==void 0&&t.add(n)};class YAe{constructor(e){this._config=qAe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=QQ(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),MQ(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Kv(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Kv(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Kv(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return Kv(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let s=n.get(e);return(!s||r)&&(s=new Map,n.set(e,s)),s}getOptionScopes(e,r,n){const{options:s,type:i}=this,o=this._cachedScopes(e,n),a=o.get(r);if(a)return a;const l=new Set;r.forEach(u=>{e&&(l.add(e),u.forEach(d=>Gp(l,e,d))),u.forEach(d=>Gp(l,s,d)),u.forEach(d=>Gp(l,Oh[i]||{},d)),u.forEach(d=>Gp(l,Yn,d)),u.forEach(d=>Gp(l,jC,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),OQ.has(r)&&o.set(r,c),c}chartOptionScopes(){const{options:e,type:r}=this;return[e,Oh[r]||{},Yn.datasets[r]||{},{type:r},Yn,jC]}resolveNamedOptions(e,r,n,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=Sj(this._resolverCache,e,s);let l=o;if(JAe(o,r)){i.$shared=!1,n=ld(n)?n():n;const c=this.createResolver(e,n,a);l=Vg(o,n,c)}for(const c of r)i[c]=l[c];return i}createResolver(e,r,n=[""],s){const{resolver:i}=Sj(this._resolverCache,e,n);return Tr(r)?Vg(i,r,void 0,s):i}}function Sj(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const s=r.join();let i=n.get(s);return i||(i={resolver:Dk(e,r),subPrefixes:r.filter(a=>!a.toLowerCase().includes("hover"))},n.set(s,i)),i}const XAe=t=>Tr(t)&&Object.getOwnPropertyNames(t).some(e=>ld(t[e]));function JAe(t,e){const{isScriptable:r,isIndexable:n}=BQ(t);for(const s of e){const i=r(s),o=n(s),a=(o||i)&&t[s];if(i&&(ld(a)||XAe(a))||o&&bn(a))return!0}return!1}var ZAe="4.4.8";const ece=["top","bottom","left","right","chartArea"];function Nj(t,e){return t==="top"||t==="bottom"||ece.indexOf(t)===-1&&e==="x"}function Tj(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function jj(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),an(r&&r.onComplete,[t],e)}function tce(t){const e=t.chart,r=e.options.animation;an(r&&r.onProgress,[t],e)}function VQ(t){return Qk()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const N1={},Fj=t=>{const e=VQ(t);return Object.values(N1).filter(r=>r.canvas===e).pop()};function rce(t,e,r){const n=Object.keys(t);for(const s of n){const i=+s;if(i>=e){const o=t[s];delete t[s],(r>0||i>e)&&(t[i+r]=o)}}}function nce(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}function zv(t,e,r){return t.options.clip?t[r]:e[r]}function sce(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:zv(r,e,"left"),right:zv(r,e,"right"),top:zv(n,e,"top"),bottom:zv(n,e,"bottom")}:e}var cu;let r2=(cu=class{static register(...e){$l.add(...e),Pj()}static unregister(...e){$l.remove(...e),Pj()}constructor(e,r){const n=this.config=new YAe(r),s=VQ(e),i=Fj(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||wAe(s)),this.platform.updateConfig(n);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=rae(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new MAe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=vae(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],N1[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}zA.listen(this,"complete",jj),zA.listen(this,"progress",tce),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:s,_aspectRatio:i}=this;return Nr(e)?r&&i?i:s?n/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return $l}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rj(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Z3(this.canvas,this.ctx),this}stop(){return zA.stop(this),this}resize(e,r){zA.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,s=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,r,i),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,rj(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),an(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};$r(r,(n,s)=>{n.id=s})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,s=Object.keys(n).reduce((o,a)=>(o[a]=!1,o),{});let i=[];r&&(i=i.concat(Object.keys(r).map(o=>{const a=r[o],l=LC(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),$r(i,o=>{const a=o.options,l=a.id,c=LC(l,a),u=xr(a.type,o.dtype);(a.position===void 0||Nj(a.position,c)!==Nj(o.dposition))&&(a.position=o.dposition),s[l]=!0;let d=null;if(l in n&&n[l].type===u)d=n[l];else{const h=$l.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),n[d.id]=d}d.init(a,e)}),$r(s,(o,a)=>{o||delete n[a]}),$r(n,o=>{Fa.configure(this,o,o.options),Fa.addBox(this,o)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((s,i)=>s.index-i.index),n>r){for(let s=r;s<n;++s)this._destroyDatasetMeta(s);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(Tj("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,s)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=r.length;n<s;n++){const i=r[n];let o=this.getDatasetMeta(n);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=a,o.indexAxis=i.indexAxis||PC(a,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=$l.getController(a),{datasetElementType:c,dataElementType:u}=Yn.datasets[a];Object.assign(l,{dataElementType:$l.getElement(u),datasetElementType:c&&$l.getElement(c)}),o.controller=new l(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){$r(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!s&&i.indexOf(d)===-1;d.buildOrUpdateElements(h),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),s||$r(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Tj("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){$r(this.scales,e=>{Fa.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!K3(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:i}of r){const o=n==="_removeElements"?-i:i;rce(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=n(0);for(let i=1;i<r;i++)if(!K3(s,n(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Fa.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],$r(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,ld(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),s={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(zA.has(this)?this.attached&&!zA.running(this)&&zA.start(this):(this.draw(),jj({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let s,i;for(s=0,i=r.length;s<i;++s){const o=r[s];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n=e._clip,s=!n.disabled,i=sce(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&Pk(r,{left:n.left===!1?0:i.left-n.left,right:n.right===!1?this.width:i.right+n.right,top:n.top===!1?0:i.top-n.top,bottom:n.bottom===!1?this.height:i.bottom+n.bottom}),e.controller.draw(),s&&Lk(r),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return rc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,s){const i=eAe.modes[r];return typeof i=="function"?i(this,e,n,s):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let s=n.filter(i=>i&&i._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=md(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const s=n?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);Um(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(i,{visible:n}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),zA.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Z3(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete N1[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(i,o)=>{r.addEventListener(this,i,o),e[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};$r(this.options.events,i=>n(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(l,c)=>{r.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(r.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),n("attach",a)},r.isAttached(this.canvas)?a():o()}unbindEvents(){$r(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},$r(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const s=n?"set":"remove";let i,o,a,l;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!Vx(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const s=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=i(r,e),a=n?e:i(e,r);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const i=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(i||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:s=[],options:i}=this,o=r,a=this._getActiveElements(e,s,n,o),l=lae(e),c=nce(e,this._lastEvent,n,l);n&&(this._lastEvent=null,an(i.onHover,[e,a,this],this),l&&an(i.onClick,[e,a,this],this));const u=!Vx(a,s);return(u||r)&&(this._active=a,this._updateHoverStyles(a,s,r)),this._lastEvent=c,u}_getActiveElements(e,r,n,s){if(e.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},jt(cu,"defaults",Yn),jt(cu,"instances",N1),jt(cu,"overrides",Oh),jt(cu,"registry",$l),jt(cu,"version",ZAe),jt(cu,"getChart",Fj),cu);function Pj(){return $r(r2.instances,t=>t._plugins.invalidate())}function ice(t,e,r){const{startAngle:n,pixelMargin:s,x:i,y:o,outerRadius:a,innerRadius:l}=e;let c=s/a;t.beginPath(),t.arc(i,o,a,n-c,r+c),l>s?(c=s/l,t.arc(i,o,l,r+c,n-c,!0)):t.arc(i,o,s,r+As,n-As),t.closePath(),t.clip()}function oce(t){return Uk(t,["outerStart","outerEnd","innerStart","innerEnd"])}function ace(t,e,r,n){const s=oce(t.options.borderRadius),i=(r-e)/2,o=Math.min(i,n*e/2),a=l=>{const c=(r-Math.min(i,l))*n/2;return Ni(l,0,Math.min(i,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Ni(s.innerStart,0,o),innerEnd:Ni(s.innerEnd,0,o)}}function Uf(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function $x(t,e,r,n,s,i){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+n+r-c,0),h=u>0?u+n+r+c:0;let f=0;const m=s-l;if(n){const X=u>0?u-n:0,Z=d>0?d-n:0,ce=(X+Z)/2,G=ce!==0?m*ce/(ce+n):m;f=(m-G)/2}const v=Math.max(.001,m*d-r/_n)/d,_=(m-v)/2,x=l+_+f,b=s-_-f,{outerStart:E,outerEnd:N,innerStart:j,innerEnd:O}=ace(e,h,d,b-x),P=d-E,T=d-N,U=x+E/P,R=b-N/T,I=h+j,L=h+O,M=x+j/I,W=b-O/L;if(t.beginPath(),i){const X=(U+R)/2;if(t.arc(o,a,d,U,X),t.arc(o,a,d,X,R),N>0){const Y=Uf(T,R,o,a);t.arc(Y.x,Y.y,N,R,b+As)}const Z=Uf(L,b,o,a);if(t.lineTo(Z.x,Z.y),O>0){const Y=Uf(L,W,o,a);t.arc(Y.x,Y.y,O,b+As,W+Math.PI)}const ce=(b-O/h+(x+j/h))/2;if(t.arc(o,a,h,b-O/h,ce,!0),t.arc(o,a,h,ce,x+j/h,!0),j>0){const Y=Uf(I,M,o,a);t.arc(Y.x,Y.y,j,M+Math.PI,x-As)}const G=Uf(P,x,o,a);if(t.lineTo(G.x,G.y),E>0){const Y=Uf(P,U,o,a);t.arc(Y.x,Y.y,E,x-As,U)}}else{t.moveTo(o,a);const X=Math.cos(U)*d+o,Z=Math.sin(U)*d+a;t.lineTo(X,Z);const ce=Math.cos(R)*d+o,G=Math.sin(R)*d+a;t.lineTo(ce,G)}t.closePath()}function lce(t,e,r,n,s){const{fullCircles:i,startAngle:o,circumference:a}=e;let l=e.endAngle;if(i){$x(t,e,r,n,l,s);for(let c=0;c<i;++c)t.fill();isNaN(a)||(l=o+(a%Cn||Cn))}return $x(t,e,r,n,l,s),t.fill(),l}function Ace(t,e,r,n,s){const{fullCircles:i,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let m=e.endAngle;if(i){$x(t,e,r,n,m,s);for(let v=0;v<i;++v)t.stroke();isNaN(a)||(m=o+(a%Cn||Cn))}f&&ice(t,e,m),i||($x(t,e,r,n,m,s),t.stroke())}class c0 extends Bc{constructor(r){super();jt(this,"circumference");jt(this,"endAngle");jt(this,"fullCircles");jt(this,"innerRadius");jt(this,"outerRadius");jt(this,"pixelMargin");jt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,s){const i=this.getProps(["x","y"],s),{angle:o,distance:a}=gQ(i,{x:r,y:n}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),f=(this.options.spacing+this.options.borderWidth)/2,m=xr(h,c-l),v=Rm(o,l,c)&&l!==c,_=m>=Cn||v,x=Tu(a,u+f,d+f);return _&&x}getCenterPoint(r){const{x:n,y:s,startAngle:i,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:c,spacing:u}=this.options,d=(i+o)/2,h=(a+l+u+c)/2;return{x:n+Math.cos(d)*h,y:s+Math.sin(d)*h}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:s}=this,i=(n.offset||0)/4,o=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>Cn?Math.floor(s/Cn):0,s===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const l=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min(_n,s||0)),u=i*c;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,lce(r,this,u,o,a),Ace(r,this,u,o,a),r.restore()}}jt(c0,"id","arc"),jt(c0,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),jt(c0,"defaultRoutes",{backgroundColor:"backgroundColor"}),jt(c0,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function HQ(t,e,r=e){t.lineCap=xr(r.borderCapStyle,e.borderCapStyle),t.setLineDash(xr(r.borderDash,e.borderDash)),t.lineDashOffset=xr(r.borderDashOffset,e.borderDashOffset),t.lineJoin=xr(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=xr(r.borderWidth,e.borderWidth),t.strokeStyle=xr(r.borderColor,e.borderColor)}function cce(t,e,r){t.lineTo(r.x,r.y)}function uce(t){return t.stepped?Fae:t.tension||t.cubicInterpolationMode==="monotone"?Pae:cce}function KQ(t,e,r={}){const n=t.length,{start:s=0,end:i=n-1}=r,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(i,a),u=s<o&&i<o||s>a&&i>a;return{count:n,start:l,loop:e.loop,ilen:c<l&&!u?n+c-l:c-l}}function dce(t,e,r,n){const{points:s,options:i}=e,{count:o,start:a,loop:l,ilen:c}=KQ(s,r,n),u=uce(i);let{move:d=!0,reverse:h}=n||{},f,m,v;for(f=0;f<=c;++f)m=s[(a+(h?c-f:f))%o],!m.skip&&(d?(t.moveTo(m.x,m.y),d=!1):u(t,v,m,h,i.stepped),v=m);return l&&(m=s[(a+(h?c:0))%o],u(t,v,m,h,i.stepped)),!!l}function hce(t,e,r,n){const s=e.points,{count:i,start:o,ilen:a}=KQ(s,r,n),{move:l=!0,reverse:c}=n||{};let u=0,d=0,h,f,m,v,_,x;const b=N=>(o+(c?a-N:N))%i,E=()=>{v!==_&&(t.lineTo(u,_),t.lineTo(u,v),t.lineTo(u,x))};for(l&&(f=s[b(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=s[b(h)],f.skip)continue;const N=f.x,j=f.y,O=N|0;O===m?(j<v?v=j:j>_&&(_=j),u=(d*u+N)/++d):(E(),t.lineTo(N,j),m=O,d=0,v=_=j),x=j}E()}function UC(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?hce:dce}function fce(t){return t.stepped?dle:t.tension||t.cubicInterpolationMode==="monotone"?hle:$d}function gce(t,e,r,n){let s=e._path;s||(s=e._path=new Path2D,e.path(s,r,n)&&s.closePath()),HQ(t,e.options),t.stroke(s)}function pce(t,e,r,n){const{segments:s,options:i}=e,o=UC(e);for(const a of s)HQ(t,i,a.style),t.beginPath(),o(t,e,a,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const mce=typeof Path2D=="function";function yce(t,e,r,n){mce&&!e.options.segment?gce(t,e,r,n):pce(t,e,r,n)}class u0 extends Bc{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;sle(this._points,n,e,s,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=wle(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,s=e[r],i=this.points,o=yle(this,{property:r,start:s,end:s});if(!o.length)return;const a=[],l=fce(n);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:h}=o[c],f=i[d],m=i[h];if(f===m){a.push(f);continue}const v=Math.abs((s-f[r])/(m[r]-f[r])),_=l(f,m,v,n.stepped);_[r]=e[r],a.push(_)}return a.length===1?a[0]:a}pathSegment(e,r,n){return UC(this)(e,this,r,n)}path(e,r,n){const s=this.segments,i=UC(this);let o=this._loop;r=r||0,n=n||this.points.length-r;for(const a of s)o&=i(e,this,a,{start:r,end:r+n-1});return!!o}draw(e,r,n,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),yce(e,this,n,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}jt(u0,"id","line"),jt(u0,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),jt(u0,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),jt(u0,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Lj(t,e,r,n){const s=t.options,{[r]:i}=t.getProps([r],n);return Math.abs(e-i)<s.radius+s.hitRadius}class T1 extends Bc{constructor(r){super();jt(this,"parsed");jt(this,"skip");jt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,s){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(r-o,2)+Math.pow(n-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,n){return Lj(this,r,"x",n)}inYRange(r,n){return Lj(this,r,"y",n)}getCenterPoint(r){const{x:n,y:s}=this.getProps(["x","y"],r);return{x:n,y:s}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const s=n&&r.borderWidth||0;return(n+s)*2}draw(r,n){const s=this.options;this.skip||s.radius<.1||!rc(this,n,this.size(s)/2)||(r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.fillStyle=s.backgroundColor,FC(r,s,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}jt(T1,"id","point"),jt(T1,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),jt(T1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function zQ(t,e){const{x:r,y:n,base:s,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(r,s),l=Math.max(r,s),c=n-d,u=n+d):(d=i/2,a=r-d,l=r+d,c=Math.min(n,s),u=Math.max(n,s)),{left:a,top:c,right:l,bottom:u}}function ju(t,e,r,n){return t?0:Ni(e,r,n)}function vce(t,e,r){const n=t.options.borderWidth,s=t.borderSkipped,i=bQ(n);return{t:ju(s.top,i.top,0,r),r:ju(s.right,i.right,0,e),b:ju(s.bottom,i.bottom,0,r),l:ju(s.left,i.left,0,e)}}function xce(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=mh(s),o=Math.min(e,r),a=t.borderSkipped,l=n||Tr(s);return{topLeft:ju(!l||a.top||a.left,i.topLeft,0,o),topRight:ju(!l||a.top||a.right,i.topRight,0,o),bottomLeft:ju(!l||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:ju(!l||a.bottom||a.right,i.bottomRight,0,o)}}function wce(t){const e=zQ(t),r=e.right-e.left,n=e.bottom-e.top,s=vce(t,r/2,n/2),i=xce(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:r-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function gB(t,e,r,n){const s=e===null,i=r===null,a=t&&!(s&&i)&&zQ(t,n);return a&&(s||Tu(e,a.left,a.right))&&(i||Tu(r,a.top,a.bottom))}function bce(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Bce(t,e){t.rect(e.x,e.y,e.w,e.h)}function pB(t,e,r={}){const n=t.x!==r.x?-e:0,s=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-n,o=(t.y+t.h!==r.y+r.h?e:0)-s;return{x:t.x+n,y:t.y+s,w:t.w+i,h:t.h+o,radius:t.radius}}class j1 extends Bc{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:s}}=this,{inner:i,outer:o}=wce(this),a=bce(o.radius)?Mm:Bce;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),a(e,pB(o,r,i)),e.clip(),a(e,pB(i,-r,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,pB(i,r)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,r,n){return gB(this,e,r,n)}inXRange(e,r){return gB(this,e,null,r)}inYRange(e,r){return gB(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+s)/2:r,y:i?n:(n+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}jt(j1,"id","bar"),jt(j1,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),jt(j1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Uj=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},Cce=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Dj extends Bc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=an(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,s)=>e.sort(n,s,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,s=Fs(n.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Uj(n,i);let c,u;r.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,i,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,s){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let d=e;i.textAlign="left",i.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((m,v)=>{const _=n+r/2+i.measureText(m.text).width;(v===0||c[c.length-1]+_+2*a>o)&&(d+=u,c[c.length-(v>0?0:1)]=0,f+=u,h++),l[v]={left:0,top:f,row:h,width:_,height:s},c[c.length-1]+=_+a}),d}_fitCols(e,r,n,s){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,h=0,f=0,m=0,v=0;return this.legendItems.forEach((_,x)=>{const{itemWidth:b,itemHeight:E}=_ce(n,r,i,_,s);x>0&&f+E+2*a>u&&(d+=h+a,c.push({width:h,height:f}),m+=h+a,v++,h=f=0),l[x]={left:m,top:f,col:v,width:b,height:E},h=Math.max(h,b),f+=E+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:s},rtl:i}}=this,o=yg(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ci(n,this.left+s,this.right-this.lineWidths[a]);for(const c of r)a!==c.row&&(a=c.row,l=Ci(n,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=Ci(n,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of r)c.col!==a&&(a=c.col,l=Ci(n,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Pk(e,this),this._draw(),Lk(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:s}=this,{align:i,labels:o}=e,a=Yn.color,l=yg(e.rtl,this.left,this.width),c=Fs(o.font),{padding:u}=o,d=c.size,h=d/2;let f;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:m,boxHeight:v,itemHeight:_}=Uj(o,d),x=function(O,P,T){if(isNaN(m)||m<=0||isNaN(v)||v<0)return;s.save();const U=xr(T.lineWidth,1);if(s.fillStyle=xr(T.fillStyle,a),s.lineCap=xr(T.lineCap,"butt"),s.lineDashOffset=xr(T.lineDashOffset,0),s.lineJoin=xr(T.lineJoin,"miter"),s.lineWidth=U,s.strokeStyle=xr(T.strokeStyle,a),s.setLineDash(xr(T.lineDash,[])),o.usePointStyle){const R={radius:v*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:U},I=l.xPlus(O,m/2),L=P+h;wQ(s,R,I,L,o.pointStyleWidth&&m)}else{const R=P+Math.max((d-v)/2,0),I=l.leftForLtr(O,m),L=mh(T.borderRadius);s.beginPath(),Object.values(L).some(M=>M!==0)?Mm(s,{x:I,y:R,w:m,h:v,radius:L}):s.rect(I,R,m,v),s.fill(),U!==0&&s.stroke()}s.restore()},b=function(O,P,T){Vh(s,T.text,O,P+_/2,c,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},E=this.isHorizontal(),N=this._computeTitleHeight();E?f={x:Ci(i,this.left+u,this.right-n[0]),y:this.top+u+N,line:0}:f={x:this.left+u,y:Ci(i,this.top+N+u,this.bottom-r[0].height),line:0},IQ(this.ctx,e.textDirection);const j=_+u;this.legendItems.forEach((O,P)=>{s.strokeStyle=O.fontColor,s.fillStyle=O.fontColor;const T=s.measureText(O.text).width,U=l.textAlign(O.textAlign||(O.textAlign=o.textAlign)),R=m+h+T;let I=f.x,L=f.y;l.setWidth(this.width),E?P>0&&I+R+u>this.right&&(L=f.y+=j,f.line++,I=f.x=Ci(i,this.left+u,this.right-n[f.line])):P>0&&L+j>this.bottom&&(I=f.x=I+r[f.line].width+u,f.line++,L=f.y=Ci(i,this.top+N+u,this.bottom-r[f.line].height));const M=l.x(I);if(x(M,L,O),I=xae(U,I+m+h,E?I+R:this.right,e.rtl),b(l.x(I),L,O),E)f.x+=R+u;else if(typeof O.text!="string"){const W=c.lineHeight;f.y+=GQ(O,W)+u}else f.y+=j}),SQ(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=Fs(r.font),s=Pi(r.padding);if(!r.display)return;const i=yg(e.rtl,this.left,this.width),o=this.ctx,a=r.position,l=n.size/2,c=s.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=Ci(e.align,d,this.right-h);else{const m=this.columnSizes.reduce((v,_)=>Math.max(v,_.height),0);u=c+Ci(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const f=Ci(a,d,d+h);o.textAlign=i.textAlign(jk(a)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,Vh(o,r.text,f,u,n)}_computeTitleHeight(){const e=this.options.title,r=Fs(e.font),n=Pi(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,s,i;if(Tu(e,this.left,this.right)&&Tu(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(s=i[n],Tu(e,s.left,s.left+s.width)&&Tu(r,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!Ice(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=Cce(s,n);s&&!i&&an(r.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!i&&an(r.onHover,[e,n,this],this)}else n&&an(r.onClick,[e,n,this],this)}}function _ce(t,e,r,n,s){const i=kce(n,t,e,r),o=Ece(s,n,e.lineHeight);return{itemWidth:i,itemHeight:o}}function kce(t,e,r,n){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),e+r.size/2+n.measureText(s).width}function Ece(t,e,r){let n=t;return typeof e.text!="string"&&(n=GQ(e,r)),n}function GQ(t,e){const r=t.text?t.text.length:0;return e*r}function Ice(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Sce={id:"legend",_element:Dj,start(t,e,r){const n=t.legend=new Dj({ctx:t.ctx,options:r,chart:t});Fa.configure(t,n,r),Fa.addBox(t,n)},stop(t){Fa.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;Fa.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,s=r.chart;s.isDatasetVisible(n)?(s.hide(n),e.hidden=!0):(s.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(r?0:void 0),u=Pi(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class WQ extends Bc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const s=bn(n.text)?n.text.length:1;this._padding=Pi(n.padding);const i=s*Fs(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:s,right:i,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=Ci(a,n,i),d=r+e,c=i-n):(o.position==="left"?(u=n+e,d=Ci(a,s,r),l=_n*-.5):(u=i-e,d=Ci(a,r,s),l=_n*.5),c=s-r),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=Fs(r.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(i);Vh(e,r.text,0,0,n,{color:r.color,maxWidth:l,rotation:c,textAlign:jk(r.align),textBaseline:"middle",translation:[o,a]})}}function Nce(t,e){const r=new WQ({ctx:t.ctx,options:e,chart:t});Fa.configure(t,r,e),Fa.addBox(t,r),t.titleBlock=r}var Tce={id:"title",_element:WQ,start(t,e,r){Nce(t,r)},stop(t){const e=t.titleBlock;Fa.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;Fa.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const d0={average(t){if(!t.length)return!1;let e,r,n=new Set,s=0,i=0;for(e=0,r=t.length;e<r;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),s+=l.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=TC(e,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();r=l.x,n=l.y}return{x:r,y:n}}};function Gl(t,e){return e&&(bn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function GA(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function jce(t,e){const{element:r,datasetIndex:n,index:s}=e,i=t.getDatasetMeta(n).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[n].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:n,element:r}}function Rj(t,e){const r=t.chart.ctx,{body:n,footer:s,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=Fs(e.bodyFont),c=Fs(e.titleFont),u=Fs(e.footerFont),d=i.length,h=s.length,f=n.length,m=Pi(e.padding);let v=m.height,_=0,x=n.reduce((N,j)=>N+j.before.length+j.lines.length+j.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,d&&(v+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),x){const N=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=f*N+(x-f)*l.lineHeight+(x-1)*e.bodySpacing}h&&(v+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let b=0;const E=function(N){_=Math.max(_,r.measureText(N).width+b)};return r.save(),r.font=c.string,$r(t.title,E),r.font=l.string,$r(t.beforeBody.concat(t.afterBody),E),b=e.displayColors?o+2+e.boxPadding:0,$r(n,N=>{$r(N.before,E),$r(N.lines,E),$r(N.after,E)}),b=0,r.font=u.string,$r(t.footer,E),r.restore(),_+=m.width,{width:_,height:v}}function Fce(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function Pce(t,e,r,n){const{x:s,width:i}=n,o=r.caretSize+r.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function Lce(t,e,r,n){const{x:s,width:i}=r,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return n==="center"?c=s<=(a+l)/2?"left":"right":s<=i/2?c="left":s>=o-i/2&&(c="right"),Pce(c,t,e,r)&&(c="center"),c}function Mj(t,e,r){const n=r.yAlign||e.yAlign||Fce(t,r);return{xAlign:r.xAlign||e.xAlign||Lce(t,e,r,n),yAlign:n}}function Uce(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function Dce(t,e,r){let{y:n,height:s}=t;return e==="top"?n+=r:e==="bottom"?n-=s+r:n-=s/2,n}function Qj(t,e,r,n){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=r,c=s+i,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=mh(o);let m=Uce(e,a);const v=Dce(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,h)+s:a==="right"&&(m+=Math.max(d,f)+s),{x:Ni(m,0,n.width-e.width),y:Ni(v,0,n.height-e.height)}}function Gv(t,e,r){const n=Pi(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function Oj(t){return Gl([],GA(t))}function Rce(t,e,r){return md(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function Vj(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const $Q={beforeTitle:KA,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:KA,beforeBody:KA,beforeLabel:KA,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return Nr(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:KA,afterBody:KA,beforeFooter:KA,footer:KA,afterFooter:KA};function Io(t,e,r,n){const s=t[e].call(r,n);return typeof s>"u"?$Q[e].call(r,n):s}class DC extends Bc{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&r.options.animation&&n.animations,i=new TQ(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Rce(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,s=Io(n,"beforeTitle",this,e),i=Io(n,"title",this,e),o=Io(n,"afterTitle",this,e);let a=[];return a=Gl(a,GA(s)),a=Gl(a,GA(i)),a=Gl(a,GA(o)),a}getBeforeBody(e,r){return Oj(Io(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,s=[];return $r(e,i=>{const o={before:[],lines:[],after:[]},a=Vj(n,i);Gl(o.before,GA(Io(a,"beforeLabel",this,i))),Gl(o.lines,Io(a,"label",this,i)),Gl(o.after,GA(Io(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,r){return Oj(Io(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,s=Io(n,"beforeFooter",this,e),i=Io(n,"footer",this,e),o=Io(n,"afterFooter",this,e);let a=[];return a=Gl(a,GA(s)),a=Gl(a,GA(i)),a=Gl(a,GA(o)),a}_createItems(e){const r=this._active,n=this.chart.data,s=[],i=[],o=[];let a=[],l,c;for(l=0,c=r.length;l<c;++l)a.push(jce(this.chart,r[l]));return e.filter&&(a=a.filter((u,d,h)=>e.filter(u,d,h,n))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,n))),$r(a,u=>{const d=Vj(e.callbacks,u);s.push(Io(d,"labelColor",this,u)),i.push(Io(d,"labelPointStyle",this,u)),o.push(Io(d,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,r){const n=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=d0[n.position].call(this,s,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const l=this._size=Rj(this,n),c=Object.assign({},a,l),u=Mj(this.chart,n,c),d=Qj(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,s){const i=this.getCaretPosition(e,n,s);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,n){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=mh(a),{x:h,y:f}=e,{width:m,height:v}=r;let _,x,b,E,N,j;return i==="center"?(N=f+v/2,s==="left"?(_=h,x=_-o,E=N+o,j=N-o):(_=h+m,x=_+o,E=N-o,j=N+o),b=_):(s==="left"?x=h+Math.max(l,u)+o:s==="right"?x=h+m-Math.max(c,d)-o:x=this.caretX,i==="top"?(E=f,N=E-o,_=x-o,b=x+o):(E=f+v,N=E+o,_=x+o,b=x-o),j=E),{x1:_,x2:x,x3:b,y1:E,y2:N,y3:j}}drawTitle(e,r,n){const s=this.title,i=s.length;let o,a,l;if(i){const c=yg(n.rtl,this.x,this.width);for(e.x=Gv(this,n.titleAlign,n),r.textAlign=c.textAlign(n.titleAlign),r.textBaseline="middle",o=Fs(n.titleFont),a=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,l=0;l<i;++l)r.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,r,n,s,i){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=i,u=Fs(i.bodyFont),d=Gv(this,"left",i),h=s.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,m=r.y+f;if(i.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=s.leftForLtr(h,c)+c/2,x=m+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,FC(e,v,_,x),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,FC(e,v,_,x)}else{e.lineWidth=Tr(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=s.leftForLtr(h,c),_=s.leftForLtr(s.xPlus(h,1),c-2),x=mh(o.borderRadius);Object.values(x).some(b=>b!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Mm(e,{x:v,y:m,w:c,h:l,radius:x}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Mm(e,{x:_,y:m+1,w:c-2,h:l-2,radius:x}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(v,m,c,l),e.strokeRect(v,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(_,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=n,d=Fs(n.bodyFont);let h=d.lineHeight,f=0;const m=yg(n.rtl,this.x,this.width),v=function(T){r.fillText(T,m.x(e.x+f),e.y+h/2),e.y+=h+i},_=m.textAlign(o);let x,b,E,N,j,O,P;for(r.textAlign=o,r.textBaseline="middle",r.font=d.string,e.x=Gv(this,_,n),r.fillStyle=n.bodyColor,$r(this.beforeBody,v),f=a&&_!=="right"?o==="center"?c/2+u:c+2+u:0,N=0,O=s.length;N<O;++N){for(x=s[N],b=this.labelTextColors[N],r.fillStyle=b,$r(x.before,v),E=x.lines,a&&E.length&&(this._drawColorBox(r,e,N,m,n),h=Math.max(d.lineHeight,l)),j=0,P=E.length;j<P;++j)v(E[j]),h=d.lineHeight;$r(x.after,v)}f=0,h=d.lineHeight,$r(this.afterBody,v),e.y-=i}drawFooter(e,r,n){const s=this.footer,i=s.length;let o,a;if(i){const l=yg(n.rtl,this.x,this.width);for(e.x=Gv(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=l.textAlign(n.footerAlign),r.textBaseline="middle",o=Fs(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,a=0;a<i;++a)r.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,r,n,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=n,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:m}=mh(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(a+d,l),o==="top"&&this.drawCaret(e,r,n,s),r.lineTo(a+c-h,l),r.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&i==="right"&&this.drawCaret(e,r,n,s),r.lineTo(a+c,l+u-m),r.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(e,r,n,s),r.lineTo(a+f,l+u),r.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&i==="left"&&this.drawCaret(e,r,n,s),r.lineTo(a,l+d),r.quadraticCurveTo(a,l,a+d,l),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,s=n&&n.x,i=n&&n.y;if(s||i){const o=d0[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Rj(this,e),l=Object.assign({},o,this._size),c=Mj(r,e,l),u=Qj(e,l,c,r);(s._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Pi(r.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,s,r),IQ(e,r.textDirection),i.y+=o.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),SQ(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!Vx(n,s),o=this._positionChanged(s,r);(i||o)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,r,n),a=this._positionChanged(o,e),l=r||!Vx(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),l}_getActiveElements(e,r,n,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return r.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,r){const{caretX:n,caretY:s,options:i}=this,o=d0[i.position].call(this,e,r);return o!==!1&&(n!==o.x||s!==o.y)}}jt(DC,"positioners",d0);var Mce={id:"tooltip",_element:DC,positioners:d0,afterInit(t,e,r){r&&(t.tooltip=new DC({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:$Q},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Qce=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function Oce(t,e,r,n){const s=t.indexOf(e);if(s===-1)return Qce(t,e,r,n);const i=t.lastIndexOf(e);return s!==i?r:s}const Vce=(t,e)=>t===null?null:Ni(Math.round(t),0,e);function Hj(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class RC extends Zh{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:s,label:i}of r)n[s]===i&&n.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(Nr(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:Oce(n,e,xr(r,e),this._addedLabels),Vce(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,s=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=r;o++)s.push({value:o});return s}getLabelForValue(e){return Hj.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}jt(RC,"id","category"),jt(RC,"defaults",{ticks:{callback:Hj}});function Hce(t,e){const r=[],{bounds:s,step:i,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=i||1,m=u-1,{min:v,max:_}=e,x=!Nr(o),b=!Nr(a),E=!Nr(c),N=(_-v)/(d+1);let j=G3((_-v)/m/f)*f,O,P,T,U;if(j<1e-14&&!x&&!b)return[{value:v},{value:_}];U=Math.ceil(_/j)-Math.floor(v/j),U>m&&(j=G3(U*j/m/f)*f),Nr(l)||(O=Math.pow(10,l),j=Math.ceil(j*O)/O),s==="ticks"?(P=Math.floor(v/j)*j,T=Math.ceil(_/j)*j):(P=v,T=_),x&&b&&i&&hae((a-o)/i,j/1e3)?(U=Math.round(Math.min((a-o)/j,u)),j=(a-o)/U,P=o,T=a):E?(P=x?o:P,T=b?a:T,U=c-1,j=(T-P)/U):(U=(T-P)/j,O0(U,Math.round(U),j/1e3)?U=Math.round(U):U=Math.ceil(U));const R=Math.max(W3(j),W3(P));O=Math.pow(10,Nr(l)?R:l),P=Math.round(P*O)/O,T=Math.round(T*O)/O;let I=0;for(x&&(h&&P!==o?(r.push({value:o}),P<o&&I++,O0(Math.round((P+I*j)*O)/O,o,Kj(o,N,t))&&I++):P<o&&I++);I<U;++I){const L=Math.round((P+I*j)*O)/O;if(b&&L>a)break;r.push({value:L})}return b&&h&&T!==a?r.length&&O0(r[r.length-1].value,a,Kj(a,N,t))?r[r.length-1].value=a:r.push({value:a}):(!b||T===a)&&r.push({value:T}),r}function Kj(t,e,{horizontal:r,minRotation:n}){const s=eA(n),i=(r?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class qx extends Zh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return Nr(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this;const o=l=>s=r?s:l,a=l=>i=n?i:l;if(e){const l=uA(s),c=uA(i);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),r=r||11),r&&(s=Math.min(r,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,o=Hce(s,i);return e.bounds==="ticks"&&fQ(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const s=(n-r)/Math.max(e.length-1,1)/2;r-=s,n+=s}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return Zw(e,this.chart.options.locale,this.options.ticks.format)}}class MC extends qx{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Hs(e)?e:0,this.max=Hs(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=eA(this.options.ticks.minRotation),s=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}jt(MC,"id","linear"),jt(MC,"defaults",{ticks:{callback:e2.formatters.numeric}});const Om=t=>Math.floor(Nu(t)),Rd=(t,e)=>Math.pow(10,Om(t)+e);function zj(t){return t/Math.pow(10,Om(t))===1}function Gj(t,e,r){const n=Math.pow(10,r),s=Math.floor(t/n);return Math.ceil(e/n)-s}function Kce(t,e){const r=e-t;let n=Om(r);for(;Gj(t,e,n)>10;)n++;for(;Gj(t,e,n)<10;)n--;return Math.min(n,Om(t))}function zce(t,{min:e,max:r}){e=Zo(t.min,e);const n=[],s=Om(e);let i=Kce(e,r),o=i<0?Math.pow(10,Math.abs(i)):1;const a=Math.pow(10,i),l=s>i?Math.pow(10,s):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,i)),h=Zo(t.min,Math.round((l+u+d*Math.pow(10,i))*o)/o);for(;h<r;)n.push({value:h,major:zj(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(i++,d=2,o=i>=0?1:o),h=Math.round((l+u+d*Math.pow(10,i))*o)/o;const f=Zo(t.max,h);return n.push({value:f,major:zj(f),significand:d}),n}class Wj extends Zh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=qx.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return Hs(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Hs(e)?Math.max(0,e):null,this.max=Hs(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Hs(this._userMin)&&(this.min=e===Rd(this.min,0)?Rd(this.min,-1):Rd(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,s=this.max;const i=a=>n=e?n:a,o=a=>s=r?s:a;n===s&&(n<=0?(i(1),o(10)):(i(Rd(n,-1)),o(Rd(s,1)))),n<=0&&i(Rd(s,-1)),s<=0&&o(Rd(n,1)),this.min=n,this.max=s}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=zce(r,this);return e.bounds==="ticks"&&fQ(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Zw(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Nu(e),this._valueRange=Nu(this.max)-Nu(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Nu(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}jt(Wj,"id","logarithmic"),jt(Wj,"defaults",{ticks:{callback:e2.formatters.logarithmic,major:{enabled:!0}}});function QC(t){const e=t.ticks;if(e.display&&t.display){const r=Pi(e.backdropPadding);return xr(e.font&&e.font.size,Yn.font.size)+r.height}return 0}function Gce(t,e,r){return r=bn(r)?r:[r],{w:jae(t,e.string,r),h:r.length*e.lineHeight}}function $j(t,e,r,n,s){return t===n||t===s?{start:e-r/2,end:e+r/2}:t<n||t>s?{start:e-r,end:e}:{start:e,end:e+r}}function Wce(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],s=[],i=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?_n/i:0;for(let l=0;l<i;l++){const c=o.setContext(t.getPointLabelContext(l));s[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+s[l],a),d=Fs(c.font),h=Gce(t.ctx,d,t._pointLabels[l]);n[l]=h;const f=cl(t.getIndexAngle(l)+a),m=Math.round(Nk(f)),v=$j(m,u.x,h.w,0,180),_=$j(m,u.y,h.h,90,270);$ce(r,e,f,v,_)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=Xce(t,n,s)}function $ce(t,e,r,n,s){const i=Math.abs(Math.sin(r)),o=Math.abs(Math.cos(r));let a=0,l=0;n.start<e.l?(a=(e.l-n.start)/i,t.l=Math.min(t.l,e.l-a)):n.end>e.r&&(a=(n.end-e.r)/i,t.r=Math.max(t.r,e.r+a)),s.start<e.t?(l=(e.t-s.start)/o,t.t=Math.min(t.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function qce(t,e,r){const n=t.drawingArea,{extra:s,additionalAngle:i,padding:o,size:a}=r,l=t.getPointPosition(e,n+s+o,i),c=Math.round(Nk(cl(l.angle+As))),u=eue(l.y,a.h,c),d=Jce(c),h=Zce(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function Yce(t,e){if(!e)return!0;const{left:r,top:n,right:s,bottom:i}=t;return!(rc({x:r,y:n},e)||rc({x:r,y:i},e)||rc({x:s,y:n},e)||rc({x:s,y:i},e))}function Xce(t,e,r){const n=[],s=t._pointLabels.length,i=t.options,{centerPointLabels:o,display:a}=i.pointLabels,l={extra:QC(i)/2,additionalAngle:o?_n/s:0};let c;for(let u=0;u<s;u++){l.padding=r[u],l.size=e[u];const d=qce(t,u,l);n.push(d),a==="auto"&&(d.visible=Yce(d,c),d.visible&&(c=d))}return n}function Jce(t){return t===0||t===180?"center":t<180?"left":"right"}function Zce(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function eue(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function tue(t,e,r){const{left:n,top:s,right:i,bottom:o}=r,{backdropColor:a}=e;if(!Nr(a)){const l=mh(e.borderRadius),c=Pi(e.backdropPadding);t.fillStyle=a;const u=n-c.left,d=s-c.top,h=i-n+c.width,f=o-s+c.height;Object.values(l).some(m=>m!==0)?(t.beginPath(),Mm(t,{x:u,y:d,w:h,h:f,radius:l}),t.fill()):t.fillRect(u,d,h,f)}}function rue(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let s=e-1;s>=0;s--){const i=t._pointLabelItems[s];if(!i.visible)continue;const o=n.setContext(t.getPointLabelContext(s));tue(r,o,i);const a=Fs(o.font),{x:l,y:c,textAlign:u}=i;Vh(r,t._pointLabels[s],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function qQ(t,e,r,n){const{ctx:s}=t;if(r)s.arc(t.xCenter,t.yCenter,e,0,Cn);else{let i=t.getPointPosition(0,e);s.moveTo(i.x,i.y);for(let o=1;o<n;o++)i=t.getPointPosition(o,e),s.lineTo(i.x,i.y)}}function nue(t,e,r,n,s){const i=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!n||!a||!l||r<0||(i.save(),i.strokeStyle=a,i.lineWidth=l,i.setLineDash(s.dash||[]),i.lineDashOffset=s.dashOffset,i.beginPath(),qQ(t,r,o,n),i.closePath(),i.stroke(),i.restore())}function sue(t,e,r){return md(t,{label:r,index:e,type:"pointLabel"})}class Wv extends qx{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Pi(QC(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=Hs(e)&&!isNaN(e)?e:0,this.max=Hs(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/QC(this.options))}generateTickLabels(e){qx.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const s=an(this.options.pointLabels.callback,[r,n],this);return s||s===0?s:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?Wce(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,s){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,s))}getIndexAngle(e){const r=Cn/(this._pointLabels.length||1),n=this.options.startAngle||0;return cl(e*r+eA(n))}getDistanceFromCenterForValue(e){if(Nr(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(Nr(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return sue(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const s=this.getIndexAngle(e)-As+n;return{x:Math.cos(s)*r+this.xCenter,y:Math.sin(s)*r+this.yCenter,angle:s}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:s,bottom:i}=this._pointLabelItems[e];return{left:r,top:n,right:s,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),qQ(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:s,border:i}=r,o=this._pointLabels.length;let a,l,c;if(r.pointLabels.display&&rue(this,o),s.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(d),f=s.setContext(h),m=i.setContext(h);nue(this,f,l,o,m)}}),n.display){for(e.save(),a=o-1;a>=0;a--){const u=n.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const s=this.getIndexAngle(0);let i,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!r.reverse)return;const c=n.setContext(this.getContext(l)),u=Fs(c.font);if(i=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=Pi(c.backdropPadding);e.fillRect(-o/2-d.left,-i-u.size/2-d.top,o+d.width,u.size+d.height)}Vh(e,a.label,0,-i,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}jt(Wv,"id","radialLinear"),jt(Wv,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:e2.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),jt(Wv,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),jt(Wv,"descriptors",{angleLines:{_fallback:"grid"}});const n2={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},To=Object.keys(n2);function qj(t,e){return t-e}function Yj(t,e){if(Nr(e))return null;const r=t._adapter,{parser:n,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),Hs(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(s&&(o=s==="week"&&(Dm(i)||i===!0)?r.startOf(o,"isoWeek",i):r.startOf(o,s)),+o)}function Xj(t,e,r,n){const s=To.length;for(let i=To.indexOf(t);i<s-1;++i){const o=n2[To[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-e)/(a*o.size))<=n)return To[i]}return To[s-1]}function iue(t,e,r,n,s){for(let i=To.length-1;i>=To.indexOf(r);i--){const o=To[i];if(n2[o].common&&t._adapter.diff(s,n,o)>=e-1)return o}return To[r?To.indexOf(r):0]}function oue(t){for(let e=To.indexOf(t)+1,r=To.length;e<r;++e)if(n2[To[e]].common)return To[e]}function Jj(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:s}=Tk(r,e),i=r[n]>=e?r[n]:r[s];t[i]=!0}}function aue(t,e,r,n){const s=t._adapter,i=+s.startOf(e[0].value,n),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,n))l=r[a],l>=0&&(e[l].major=!0);return e}function Zj(t,e,r){const n=[],s={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],s[a]=o,n.push({value:a,major:!1});return i===0||!r?n:aue(t,n,s,r)}class Yx extends Zh{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),s=this._adapter=new qle._date(e.adapters.date);s.init(r),Q0(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:Yj(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Hs(s)&&!isNaN(s)?s:+r.startOf(Date.now(),n),i=Hs(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=mae(s,i,o);return this._unit=r.unit||(n.autoSkip?Xj(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):iue(this,a.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:oue(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),Zj(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?r=1-s:r=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;r=Ni(r,0,o),n=Ni(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,s=this.options,i=s.time,o=i.unit||Xj(i.minUnit,r,n,this._getLabelCapacity(r)),a=xr(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=Dm(l)||l===!0,u={};let d=r,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(n,r,o)>1e5*a)throw new Error(r+" and "+n+" are too far apart with stepSize of "+a+" "+o);const m=s.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<n;h=+e.add(h,a,o),f++)Jj(u,h,m);return(h===n||s.bounds==="ticks"||f===1)&&Jj(u,h,m),Object.keys(u).sort(qj).map(v=>+v)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const s=this.options.time.displayFormats,i=this._unit,o=r||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,r,n,s){const i=this.options,o=i.ticks.callback;if(o)return an(o,[e,r,n],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],h=n[r],f=c&&d&&h&&h.major;return this._adapter.format(e,s||(f?d:u))}generateTickLabels(e){let r,n,s;for(r=0,n=e.length;r<n;++r)s=e[r],s.label=this._tickFormatFunction(s.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,s=eA(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:n*i+a*o,h:n*o+a*i}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,s=n[r.unit]||n.millisecond,i=this._tickFormatFunction(e,0,Zj(this,[e],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,n=s.length;r<n;++r)e=e.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const s=this.getLabels();for(r=0,n=s.length;r<n;++r)e.push(Yj(this,s[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return mQ(e.sort(qj))}}jt(Yx,"id","time"),jt(Yx,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function $v(t,e,r){let n=0,s=t.length-1,i,o,a,l;r?(e>=t[n].pos&&e<=t[s].pos&&({lo:n,hi:s}=ih(t,"pos",e)),{pos:i,time:a}=t[n],{pos:o,time:l}=t[s]):(e>=t[n].time&&e<=t[s].time&&({lo:n,hi:s}=ih(t,"time",e)),{time:i,pos:a}=t[n],{time:o,pos:l}=t[s]);const c=o-i;return c?a+(l-a)*(e-i)/c:a}class eF extends Yx{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=$v(r,this.min),this._tableRange=$v(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,s=[],i=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=r&&c<=n&&s.push(c);if(s.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return($v(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return $v(this._table,n*this._tableRange+this._minPos,!0)}}jt(eF,"id","timeseries"),jt(eF,"defaults",Yx.defaults);const YQ="label";function tF(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function lue(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function XQ(t,e){t.labels=e}function JQ(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:YQ;const n=[];t.datasets=e.map(s=>{const i=t.datasets.find(o=>o[r]===s[r]);return!i||!s.data||n.includes(i)?{...s}:(n.push(i),Object.assign(i,s),i)})}function Aue(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:YQ;const r={labels:[],datasets:[]};return XQ(r,t.labels),JQ(r,t.datasets,e),r}function cue(t,e){const{height:r=150,width:n=300,redraw:s=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...h}=t,f=J.useRef(null),m=J.useRef(null),v=()=>{f.current&&(m.current=new r2(f.current,{type:o,data:Aue(a,i),options:l&&{...l},plugins:c}),tF(e,m.current))},_=()=>{tF(e,null),m.current&&(m.current.destroy(),m.current=null)};return J.useEffect(()=>{!s&&m.current&&l&&lue(m.current,l)},[s,l]),J.useEffect(()=>{!s&&m.current&&XQ(m.current.config.data,a.labels)},[s,a.labels]),J.useEffect(()=>{!s&&m.current&&a.datasets&&JQ(m.current.config.data,a.datasets,i)},[s,a.datasets]),J.useEffect(()=>{m.current&&(s?(_(),setTimeout(v)):m.current.update(d))},[s,l,a.labels,a.datasets,d]),J.useEffect(()=>{m.current&&(_(),setTimeout(v))},[o]),J.useEffect(()=>(v(),()=>_()),[]),fr.createElement("canvas",{ref:f,role:"img",height:r,width:n,...h},u)}const uue=J.forwardRef(cue);function Hk(t,e){return r2.register(e),J.forwardRef((r,n)=>fr.createElement(uue,{...r,ref:n,type:t}))}const rF=Hk("line",I1),due=Hk("bar",E1),hue=Hk("doughnut",l0);r2.register(RC,MC,T1,u0,j1,Tce,Mce,Sce,c0);function fue(){const t=xs(),{invoices:e,loading:r,error:n}=xl(),{customers:s,loading:i,error:o}=bc(),[a,l]=J.useState("12months"),c=r||i,u=n||o,d=J.useMemo(()=>{if(!e||!s)return null;const m=new Date,v=()=>{switch(a){case"3months":return{start:Mp(m,3),end:m};case"6months":return{start:Mp(m,6),end:m};case"12months":return{start:Mp(m,12),end:m};default:return{start:Mp(m,12),end:m}}},{start:_,end:x}=v(),b=e.filter(G=>{const Y=new Date(G.createdAt);return Une(Y,{start:_,end:x})}),E={},N=[];for(let G=parseInt(a.replace("months",""));G>=0;G--){const Y=Mp(m,G),ue=qr(Y,"MMM yyyy");N.push(ue),E[ue]={revenue:0,invoices:0,customers:new Set,paid:0,pending:0,overdue:0}}b.forEach(G=>{var ue;const Y=qr(new Date(G.createdAt),"MMM yyyy");E[Y]&&(E[Y].revenue+=G.totalAmount||0,E[Y].invoices++,(ue=G.customer)!=null&&ue.id&&E[Y].customers.add(G.customer.id),E[Y][G.status]=(E[Y][G.status]||0)+1)}),Object.keys(E).forEach(G=>{E[G].customers=E[G].customers.size});const j={paid:b.filter(G=>G.status==="paid").length,pending:b.filter(G=>G.status==="pending").length,overdue:b.filter(G=>G.status==="overdue").length,draft:b.filter(G=>G.status==="draft").length},O={};b.forEach(G=>{var ke,K;const Y=(ke=G.customer)==null?void 0:ke.id,ue=((K=G.customer)==null?void 0:K.name)||G.customerName||"Unknown";Y&&(O[Y]||(O[Y]={name:ue,revenue:0,invoices:0}),O[Y].revenue+=G.totalAmount||0,O[Y].invoices++)});const P=Object.values(O).sort((G,Y)=>Y.revenue-G.revenue).slice(0,5),T=b.reduce((G,Y)=>G+(Y.totalAmount||0),0),U=b.length>0?T/b.length:0,R=b.length,I=new Set(b.map(G=>{var Y;return(Y=G.customer)==null?void 0:Y.id}).filter(Boolean)).size,L=Math.floor(b.length/2),M=b.slice(0,L),W=b.slice(L),X=M.reduce((G,Y)=>G+(Y.totalAmount||0),0),Z=W.reduce((G,Y)=>G+(Y.totalAmount||0),0),ce=X>0?(Z-X)/X*100:0;return{monthlyData:E,months:N,statusCounts:j,topCustomers:P,totalRevenue:T,avgInvoiceValue:U,totalInvoices:R,uniqueCustomers:I,revenueGrowth:ce,collectionRate:j.paid/(j.paid+j.pending+j.overdue)*100||0,overdueRate:j.overdue/R*100||0}},[e,s,a]),h=J.useMemo(()=>{if(!d)return null;const{monthlyData:m,months:v,statusCounts:_}=d,x={labels:v,datasets:[{label:"Monthly Revenue",data:v.map(j=>m[j].revenue),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0}]},b={labels:v,datasets:[{label:"Monthly Invoices",data:v.map(j=>m[j].invoices),backgroundColor:"rgba(34, 197, 94, 0.8)",borderColor:"rgb(34, 197, 94)",borderWidth:1}]},E={labels:v,datasets:[{label:"Active Customers",data:v.map(j=>m[j].customers),borderColor:"rgb(168, 85, 247)",backgroundColor:"rgba(168, 85, 247, 0.1)",tension:.4,fill:!0}]},N={labels:["Paid","Pending","Overdue","Draft"],datasets:[{data:[_.paid,_.pending,_.overdue,_.draft],backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(251, 191, 36, 0.8)","rgba(239, 68, 68, 0.8)","rgba(156, 163, 175, 0.8)"],borderColor:["rgb(34, 197, 94)","rgb(251, 191, 36)","rgb(239, 68, 68)","rgb(156, 163, 175)"],borderWidth:2}]};return{revenue:x,invoices:b,customers:E,status:N}},[d]),f=()=>{if(!d)return;const m={timeRange:a,generatedAt:new Date().toISOString(),metrics:d},v="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(m,null,2)),_=document.createElement("a");_.setAttribute("href",v),_.setAttribute("download",`analytics-report-${qr(new Date,"yyyy-MM-dd")}.json`),document.body.appendChild(_),_.click(),_.remove()};return c?A.jsx("div",{className:"flex items-center justify-center min-h-96",children:A.jsx(Mo,{size:"lg"})}):u?A.jsx(ca,{message:u,onRetry:()=>window.location.reload()}):d?A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Analytics"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Insights into your business performance"})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsxs("select",{value:a,onChange:m=>l(m.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[A.jsx("option",{value:"3months",children:"Last 3 Months"}),A.jsx("option",{value:"6months",children:"Last 6 Months"}),A.jsx("option",{value:"12months",children:"Last 12 Months"})]}),A.jsxs("button",{onClick:f,className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors",children:[A.jsx(sd,{size:16}),"Export Report"]})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Revenue"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:is(d.totalRevenue)}),A.jsxs("div",{className:"flex items-center mt-1",children:[d.revenueGrowth>0?A.jsx(Nm,{className:"text-green-500 mr-1",size:14}):A.jsx(kM,{className:"text-red-500 mr-1",size:14}),A.jsxs("span",{className:`text-sm ${d.revenueGrowth>0?"text-green-600":"text-red-600"}`,children:[d.revenueGrowth.toFixed(1),"%"]})]})]}),A.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-full",children:A.jsx(Vs,{className:"text-blue-600 dark:text-blue-400",size:24})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Invoices"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:d.totalInvoices}),A.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Avg: ",is(d.avgInvoiceValue)]})]}),A.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-full",children:A.jsx(ji,{className:"text-green-600 dark:text-green-400",size:24})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Customers"}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:d.uniqueCustomers}),A.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Collection: ",d.collectionRate.toFixed(1),"%"]})]}),A.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-full",children:A.jsx(ase,{className:"text-purple-600 dark:text-purple-400",size:24})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Overdue Rate"}),A.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:[d.overdueRate.toFixed(1),"%"]}),A.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[d.statusCounts.overdue," overdue"]})]}),A.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900 rounded-full",children:A.jsx(Xh,{className:"text-red-600 dark:text-red-400",size:24})})]})})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Revenue Trend"}),A.jsx("div",{className:"h-64",children:A.jsx(rF,{data:h.revenue,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{callback:function(m){return"$"+m.toLocaleString()}}}},plugins:{legend:{display:!1}}}})})]}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Invoice Status"}),A.jsx("div",{className:"h-64",children:A.jsx(hue,{data:h.status,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})]}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Monthly Invoices"}),A.jsx("div",{className:"h-64",children:A.jsx(due,{data:h.invoices,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}},plugins:{legend:{display:!1}}}})})]}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Customer Activity"}),A.jsx("div",{className:"h-64",children:A.jsx(rF,{data:h.customers,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}},plugins:{legend:{display:!1}}}})})]})]}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Top Customers"}),A.jsx("div",{className:"space-y-3",children:d.topCustomers.map((m,v)=>A.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-medium mr-3",children:m.name.charAt(0).toUpperCase()}),A.jsxs("div",{children:[A.jsx("button",{onClick:()=>t(`/customers/${m.id}`),className:"font-medium text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors text-left",children:m.name}),A.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[m.invoices," invoices"]})]})]}),A.jsx("div",{className:"text-right",children:A.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:is(m.revenue)})})]},v))})]})]}):A.jsxs("div",{className:"text-center py-12",children:[A.jsx(ji,{className:"mx-auto mb-4 text-gray-400",size:48}),A.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No data available"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Create some invoices to see analytics"})]})}class gue{constructor(){this.cachedSettings=null,this.settingsLastFetched=0}async getSettingsDoc(e=!1){try{const r=Ss.currentUser;if(!r)return console.log("No user logged in when fetching settings"),null;const n=Dr(tr,"users",r.uid,"settings","userSettings");if(!e&&this.cachedSettings&&Date.now()-this.settingsLastFetched<3e5)return console.log("Returning cached settings"),this.cachedSettings;const s=await hA(n);if(s.exists()){const i=s.data(),o=this.processTimestamps(i);return this.cachedSettings=o,this.settingsLastFetched=Date.now(),console.log("Settings loaded from Firestore"),o}else{console.log("Initializing new settings"),await this.initializeUserDocuments();const i=await hA(n);if(i.exists()){const o=i.data();return this.cachedSettings=o,this.settingsLastFetched=Date.now(),o}return null}}catch(r){return console.error("Error fetching settings:",r),r.code==="permission-denied"&&Ke.error("Permission denied - check account permissions"),this.cachedSettings||null}}processTimestamps(e){if(!e)return e;const r={...e};return Object.keys(r).forEach(n=>{r[n]&&typeof r[n].toDate=="function"?r[n]=r[n].toDate().toISOString():r[n]&&typeof r[n]=="object"&&(r[n]=this.processTimestamps(r[n]))}),r}async updateSettingsDocument(e){try{const r=Ss.currentUser;if(!r)return console.log("No user logged in for update"),!1;const n=Dr(tr,"users",r.uid,"settings","userSettings"),s={...e,updatedAt:ss()};return console.log("Updating settings with:",s),await Uh(n,s,{merge:!0}),console.log("Settings updated successfully"),this.cachedSettings={...this.cachedSettings,...e,updatedAt:new Date().toISOString()},this.settingsLastFetched=Date.now(),!0}catch(r){return console.error("Error updating settings:",r),this.handleFirestoreError(r),!1}}handleFirestoreError(e){Ke.error(`Firestore error: ${e.message||"Unknown"}`)}async initializeUserDocuments(){const e=Ss.currentUser;if(!e)return;const r=Dr(tr,"users",e.uid,"settings","userSettings");await Uh(r,{createdAt:ss()},{merge:!0})}}const mB=new gue;function pue({mode:t="display",onUpdate:e}){const{user:r}=io(),[n,s]=J.useState({name:"",address:"",phone:"",email:"",website:"",taxId:"",licenseNumber:""}),[i,o]=J.useState(t==="edit"),[a,l]=J.useState(!0),[c,u]=J.useState(!1);J.useEffect(()=>{r&&(async()=>{try{const v=Dr(tr,"users",r.uid,"settings","business"),_=await hA(v);_.exists()?s(_.data()):s(x=>({...x,name:r.displayName||"",email:r.email||""}))}catch(v){console.error("Error fetching business info:",v)}finally{l(!1)}})()},[r]);const d=async()=>{try{const m=Dr(tr,"users",r.uid,"settings","business"),v=await hA(m);v.exists()&&s(v.data())}catch(m){console.error("Error fetching business info:",m)}},h=async()=>{if(!n.name||!n.email){Ke.error("Business name and email are required");return}u(!0);try{const m=Dr(tr,"users",r.uid,"settings","business");await Uh(m,{...n,updatedAt:new Date().toISOString()}),Ke.success("Business information updated successfully"),o(!1),e&&e(n)}catch(m){console.error("Error saving business info:",m),Ke.error("Error saving business information")}finally{u(!1)}},f=()=>{o(!1),d()};return a?A.jsxs("div",{className:"animate-pulse",children:[A.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),A.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-1"}),A.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-2/3"})]}):t==="display"&&!i?A.jsxs("div",{className:"space-y-2",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[A.jsx(gC,{className:"w-5 h-5"}),n.name||"Business Name"]}),A.jsx("button",{onClick:()=>o(!0),className:"p-1 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:A.jsx(gc,{className:"w-4 h-4"})})]}),A.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[n.address&&A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(bk,{className:"w-4 h-4"}),A.jsx("span",{children:n.address})]}),n.phone&&A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Rh,{className:"w-4 h-4"}),A.jsx("span",{children:n.phone})]}),n.email&&A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(pc,{className:"w-4 h-4"}),A.jsx("span",{children:n.email})]}),n.website&&A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Xne,{className:"w-4 h-4"}),A.jsx("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:n.website})]}),n.taxId&&A.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Tax ID: ",n.taxId]}),n.licenseNumber&&A.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:["License: ",n.licenseNumber]})]})]}):A.jsxs("div",{className:"space-y-4",children:[A.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[A.jsx(gC,{className:"w-5 h-5"}),"Business Information"]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Business Name *"}),A.jsx("input",{type:"text",value:n.name,onChange:m=>s({...n,name:m.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Your Business Name"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email *"}),A.jsx("input",{type:"email",value:n.email,onChange:m=>s({...n,email:m.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"business@example.com"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone"}),A.jsx("input",{type:"tel",value:n.phone,onChange:m=>s({...n,phone:m.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"(555) 123-4567"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Website"}),A.jsx("input",{type:"url",value:n.website,onChange:m=>s({...n,website:m.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"https://example.com"})]}),A.jsxs("div",{className:"md:col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),A.jsx("textarea",{value:n.address,onChange:m=>s({...n,address:m.target.value}),rows:2,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"123 Main St, City, State, ZIP"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tax ID"}),A.jsx("input",{type:"text",value:n.taxId,onChange:m=>s({...n,taxId:m.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"12-3456789"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"License Number"}),A.jsx("input",{type:"text",value:n.licenseNumber,onChange:m=>s({...n,licenseNumber:m.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"LIC-123456"})]})]}),A.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[A.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[A.jsx(Tm,{className:"w-4 h-4"}),"Cancel"]}),A.jsxs("button",{onClick:h,disabled:c,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors font-medium disabled:opacity-50",children:[A.jsx(BM,{className:"w-4 h-4"}),c?"Saving...":"Save"]})]})]})}function mue(){const{user:t}=io(),{theme:e,toggleTheme:r}=fM(),[n,s]=J.useState({theme:"light",notifications:!0,emailAlerts:!0,businessName:"",address:"",phone:"",email:"",taxRate:0,currency:"USD"}),[i,o]=J.useState(!0),[a,l]=J.useState(null),[c,u]=J.useState(!1);J.useEffect(()=>{(async()=>{try{o(!0);const m=await mB.getSettingsDoc();m&&s(v=>({...v,...m}))}catch(m){console.error("Error loading settings:",m),l("Failed to load settings"),Ke.error("Failed to load settings")}finally{o(!1)}})()},[]);const d=f=>{const{name:m,value:v,type:_,checked:x}=f.target;s(b=>({...b,[m]:_==="checkbox"?x:v}))},h=async()=>{if(!t){Ke.error("No user logged in");return}u(!0);try{if(n.taxRate<0||n.taxRate>100)throw new Error("Tax rate must be between 0 and 100");if(typeof mB.updateSettingsDocument!="function")throw new Error("Update method not available - check service import");if(await mB.updateSettingsDocument(n))Ke.success("Settings saved successfully");else throw new Error("Save operation failed")}catch(f){console.error("Error saving settings:",f),Ke.error(f.message||"Failed to save settings")}finally{u(!1)}};return i?A.jsx(Mo,{}):a?A.jsx("div",{className:"p-6 text-red-500",children:a}):A.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[A.jsxs("h1",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white flex items-center",children:[A.jsx(A3,{className:"mr-2"})," Settings"]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:A.jsx(pue,{mode:"edit"})}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[A.jsxs("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white flex items-center",children:[A.jsx(SM,{className:"mr-2"})," General"]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Business Name"}),A.jsx("input",{name:"businessName",value:n.businessName,onChange:d,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Address"}),A.jsx("input",{name:"address",value:n.address,onChange:d,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone"}),A.jsx("input",{name:"phone",value:n.phone,onChange:d,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),A.jsx("input",{name:"email",value:n.email,onChange:d,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]})]}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[A.jsxs("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white flex items-center",children:[A.jsx(fse,{className:"mr-2"})," Notifications"]}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("label",{className:"flex items-center",children:[A.jsx("input",{name:"notifications",type:"checkbox",checked:n.notifications,onChange:d,className:"mr-2"}),"Enable Notifications"]}),A.jsxs("label",{className:"flex items-center",children:[A.jsx("input",{name:"emailAlerts",type:"checkbox",checked:n.emailAlerts,onChange:d,className:"mr-2"}),"Email Alerts"]})]})]}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[A.jsxs("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white flex items-center",children:[A.jsx(Bse,{className:"mr-2"})," Appearance"]}),A.jsxs("button",{onClick:r,className:"flex items-center p-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:[e==="dark"?A.jsx(_se,{className:"mr-2"}):A.jsx(bse,{className:"mr-2"}),"Toggle ",e==="dark"?"Light":"Dark"," Mode"]})]}),A.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[A.jsxs("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white flex items-center",children:[A.jsx(A3,{className:"mr-2"})," Billing"]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tax Rate (%)"}),A.jsx("input",{name:"taxRate",type:"number",value:n.taxRate,onChange:d,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Currency"}),A.jsxs("select",{name:"currency",value:n.currency,onChange:d,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[A.jsx("option",{value:"USD",children:"USD"}),A.jsx("option",{value:"EUR",children:"EUR"}),A.jsx("option",{value:"GBP",children:"GBP"})]})]})]})]})]}),A.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[A.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:[A.jsx(kse,{className:"mr-2"})," Cancel"]}),A.jsxs("button",{onClick:h,disabled:c,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:[A.jsx(IM,{className:"mr-2"}),c?"Saving...":"Save Settings"]})]})]})}const ZQ=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t);function yue(){const[t,e]=J.useState(""),[r,n]=J.useState(""),[s,i]=J.useState(""),[o,a]=J.useState(!1),[l,c]=J.useState(!1),[u,d]=J.useState(!1),h=xs(),f=async m=>{if(m.preventDefault(),!ZQ(t)){i("Please enter a valid email address");return}if(!r||r.length<6){i("Password must be at least 6 characters");return}a(!0),i("");try{(await kz(Ss,t,r)).user&&(u?localStorage.setItem("rememberedEmail",t):localStorage.removeItem("rememberedEmail"),Ke.success("Welcome back!"),h("/"))}catch(v){switch(console.error("Login error:",v),v.code){case"auth/user-not-found":i("No account found with this email");break;case"auth/wrong-password":i("Incorrect password");break;case"auth/too-many-requests":i("Too many attempts. Please try again later");break;default:i("Login failed. Please try again.")}Ke.error("Login failed")}finally{a(!1)}};return fr.useEffect(()=>{const m=localStorage.getItem("rememberedEmail");m&&(e(m),d(!0))},[]),A.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-gray-50 to-gray-100 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 flex items-center justify-center p-4 md:p-6",children:A.jsxs("div",{className:"w-full max-w-md",children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"WrenchTrack"}),A.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Welcome back to your workshop management"})]}),A.jsxs("form",{onSubmit:f,className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 space-y-6",children:[A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:A.jsx(pc,{className:"h-5 w-5 text-gray-400"})}),A.jsx("input",{type:"email",placeholder:"Enter your email",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent",value:t,onChange:m=>e(m.target.value),disabled:o})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:A.jsx(pC,{className:"h-5 w-5 text-gray-400"})}),A.jsx("input",{type:l?"text":"password",placeholder:"Enter your password",className:"w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent",value:r,onChange:m=>n(m.target.value),disabled:o}),A.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?A.jsx(fC,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}):A.jsx(id,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"})})]})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("input",{type:"checkbox",id:"remember-me",checked:u,onChange:m=>d(m.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),A.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Remember me"})]}),A.jsx(_u,{to:"/forgot-password",className:"text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:"Forgot password?"})]}),s&&A.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[A.jsx(xk,{className:"h-5 w-5 flex-shrink-0"}),A.jsx("p",{className:"text-sm",children:s})]}),A.jsx("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?A.jsxs(A.Fragment,{children:[A.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),A.jsx("span",{children:"Logging in..."})]}):A.jsxs(A.Fragment,{children:[A.jsx(Jne,{className:"h-5 w-5"}),A.jsx("span",{children:"Log In"})]})})]}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-0 flex items-center",children:A.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),A.jsx("div",{className:"relative flex justify-center text-sm",children:A.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Don't have an account?"})})]}),A.jsxs(_u,{to:"/register",className:"w-full flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors",children:[A.jsx(EM,{className:"h-5 w-5"}),A.jsx("span",{children:"Create Account"})]})]}),A.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600 dark:text-gray-400",children:["By logging in, you agree to our"," ",A.jsx(_u,{to:"/terms",className:"text-blue-600 dark:text-blue-400 hover:text-blue-500",children:"Terms of Service"})," ","and"," ",A.jsx(_u,{to:"/privacy",className:"text-blue-600 dark:text-blue-400 hover:text-blue-500",children:"Privacy Policy"})]})]})})}function vue(){const[t,e]=J.useState(""),[r,n]=J.useState(""),[s,i]=J.useState(""),[o,a]=J.useState(""),[l,c]=J.useState(!1),[u,d]=J.useState(!1),[h,f]=J.useState(!1),m=xs(),v=async x=>{try{await Uh(Dr(tr,"users",x),{businessInfo:{name:"",address:"",city:"",state:"",zip:"",phone:"",email:"",website:"",taxId:""},preferences:{currency:"USD",dateFormat:"MM/DD/YYYY",timezone:"America/New_York",defaultInvoiceTitle:"Invoice",invoiceTerms:"Net 30",invoiceNotes:"Thank you for your business!"},notifications:{emailNotifications:!0,smsNotifications:!1,invoiceReminders:!0,marketingEmails:!1},security:{twoFactorEnabled:!1,passwordLastChanged:new Date().toISOString()},subscription:{plan:"Free",billingCycle:"Monthly",nextBillingDate:"N/A",paymentMethod:"None"},createdAt:new Date,updatedAt:new Date}),await Uh(Dr(tr,"users",x,"settings","userSettings"),{theme:"dark",avatar:"",businessInfo:{name:"",address:"",city:"",state:"",zip:"",phone:"",email:"",website:"",taxId:""},preferences:{currency:"USD",dateFormat:"MM/DD/YYYY",timezone:"America/New_York",defaultInvoiceTitle:"Invoice",invoiceTerms:"Net 30",invoiceNotes:"Thank you for your business!"},notifications:{emailNotifications:!0,smsNotifications:!1,invoiceReminders:!0,marketingEmails:!1},security:{twoFactorEnabled:!1,passwordLastChanged:"Never"},subscription:{plan:"Free",billingCycle:"Monthly",nextBillingDate:"N/A",paymentMethod:"None"},createdAt:new Date,updatedAt:new Date,updatedBy:t||""})}catch(b){throw console.error("Error initializing user documents:",b),b}},_=async x=>{if(x.preventDefault(),!ZQ(t)){a("Please enter a valid email address");return}if(!r||r.length<6){a("Password must be at least 6 characters");return}if(r!==s){a("Passwords do not match");return}c(!0),a("");try{const b=await _z(Ss,t,r);b.user&&(await v(b.user.uid),Ke.success("Account created successfully!"),m("/"))}catch(b){switch(console.error("Registration error:",b),b.code){case"auth/email-already-in-use":a("An account with this email already exists");break;case"auth/invalid-email":a("Invalid email address");break;default:a("Could not create account. Please try again.")}Ke.error("Registration failed")}finally{c(!1)}};return A.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-gray-50 to-gray-100 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 flex items-center justify-center p-4 md:p-6",children:A.jsxs("div",{className:"w-full max-w-md",children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"WrenchTrack"}),A.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Create your workshop management account"})]}),A.jsxs("form",{onSubmit:_,className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 space-y-6",children:[A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:A.jsx(pc,{className:"h-5 w-5 text-gray-400"})}),A.jsx("input",{type:"email",placeholder:"Enter your email",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent",value:t,onChange:x=>e(x.target.value),disabled:l})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:A.jsx(pC,{className:"h-5 w-5 text-gray-400"})}),A.jsx("input",{type:u?"text":"password",placeholder:"Create a password",className:"w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent",value:r,onChange:x=>n(x.target.value),disabled:l}),A.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u?A.jsx(fC,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}):A.jsx(id,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"})})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Password"}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:A.jsx(pC,{className:"h-5 w-5 text-gray-400"})}),A.jsx("input",{type:h?"text":"password",placeholder:"Confirm your password",className:"w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent",value:s,onChange:x=>i(x.target.value),disabled:l}),A.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:h?A.jsx(fC,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}):A.jsx(id,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"})})]})]}),o&&A.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[A.jsx(xk,{className:"h-5 w-5 flex-shrink-0"}),A.jsx("p",{className:"text-sm",children:o})]}),A.jsx("button",{type:"submit",disabled:l,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?A.jsxs(A.Fragment,{children:[A.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),A.jsx("span",{children:"Creating Account..."})]}):A.jsxs(A.Fragment,{children:[A.jsx(EM,{className:"h-5 w-5"}),A.jsx("span",{children:"Create Account"})]})})]}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-0 flex items-center",children:A.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),A.jsx("div",{className:"relative flex justify-center text-sm",children:A.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Already have an account?"})})]}),A.jsx(_u,{to:"/login",className:"w-full flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors",children:"Log In Instead"})]}),A.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600 dark:text-gray-400",children:["By creating an account, you agree to our"," ",A.jsx(_u,{to:"/terms",className:"text-blue-600 dark:text-blue-400 hover:text-blue-500",children:"Terms of Service"})," ","and"," ",A.jsx(_u,{to:"/privacy",className:"text-blue-600 dark:text-blue-400 hover:text-blue-500",children:"Privacy Policy"})]})]})})}function xue(){const t=xs(),[e,r]=J.useState(""),[n,s]=J.useState(!1),i=async o=>{if(o.preventDefault(),!e.trim()){Ke.error("Please enter your email address");return}try{s(!0),await Cz(Ss,e),Ke.success("Password reset link sent! Check your email inbox."),setTimeout(()=>t("/login"),2e3)}catch(a){console.error("Error sending reset email:",a);let l="Failed to send reset email";a.code==="auth/user-not-found"?l="No account found with this email address":a.code==="auth/invalid-email"&&(l="Invalid email address"),Ke.error(l)}finally{s(!1)}};return A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:A.jsxs("div",{className:"max-w-md w-full space-y-8 p-6 bg-white dark:bg-gray-800 rounded-xl shadow-md",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Reset Password"}),A.jsx("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Enter your email address and we'll send you a link to reset your password."})]}),A.jsxs("form",{className:"mt-8 space-y-6",onSubmit:i,children:[A.jsx("div",{className:"rounded-md shadow-sm -space-y-px",children:A.jsxs("div",{children:[A.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),A.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:o=>r(o.target.value),className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white dark:bg-gray-700 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Email address"})]})}),A.jsxs("div",{className:"flex flex-col space-y-3",children:[A.jsx("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 disabled:cursor-not-allowed",children:n?"Sending...":"Send Reset Link"}),A.jsx("button",{type:"button",onClick:()=>t("/login"),disabled:n,className:"group relative w-full flex justify-center py-2 px-4 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-70 disabled:cursor-not-allowed",children:"Back to Login"})]})]})]})})}function wue({children:t}){const{user:e}=io();return e?t:A.jsx(R4,{to:"/login",replace:!0})}function yB({children:t}){const{user:e}=io();return e?A.jsx(R4,{to:"/",replace:!0}):t}function bue(){const{loading:t}=io();return t?A.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:A.jsx(Mo,{})}):A.jsx(VV,{children:A.jsxs(PV,{children:[A.jsx(zn,{path:"/login",element:A.jsx(yB,{children:A.jsx(yue,{})})}),A.jsx(zn,{path:"/register",element:A.jsx(yB,{children:A.jsx(vue,{})})}),A.jsx(zn,{path:"/forgot-password",element:A.jsx(yB,{children:A.jsx(xue,{})})}),A.jsxs(zn,{path:"/",element:A.jsx(wue,{children:A.jsx(dse,{})}),children:[A.jsx(zn,{index:!0,element:A.jsx(Fse,{})}),A.jsx(zn,{path:"invoices",element:A.jsx(Mse,{})}),A.jsx(zn,{path:"invoices/create",element:A.jsx(L3,{})}),A.jsx(zn,{path:"invoices/:id/edit",element:A.jsx(L3,{})}),A.jsx(zn,{path:"invoices/:id",element:A.jsx(zie,{})}),A.jsx(zn,{path:"customers",element:A.jsx($ie,{})}),A.jsx(zn,{path:"customers/:id",element:A.jsx(qie,{})}),A.jsx(zn,{path:"user-profile",element:A.jsx(Yie,{})}),A.jsx(zn,{path:"payment",element:A.jsx(Jie,{})}),A.jsx(zn,{path:"vehicles",element:A.jsx(Zie,{})}),A.jsx(zn,{path:"vehicle-service-records",element:A.jsx(noe,{})}),A.jsx(zn,{path:"records",element:A.jsx(soe,{})}),A.jsx(zn,{path:"parts",element:A.jsx(joe,{})}),A.jsx(zn,{path:"jobs",element:A.jsx(Foe,{})}),A.jsx(zn,{path:"analytics",element:A.jsx(fue,{})}),A.jsx(zn,{path:"settings",element:A.jsx(mue,{})})]}),A.jsx(zn,{path:"*",element:A.jsx(R4,{to:"/",replace:!0})})]})})}const Bue=()=>A.jsx(z5,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"});vB.createRoot(document.getElementById("root")).render(A.jsx(fr.StrictMode,{children:A.jsx(fre,{children:A.jsx($Y,{children:A.jsx(mre,{children:A.jsx(pre,{children:A.jsx(gre,{children:A.jsxs(Xie,{children:[A.jsx(bue,{}),A.jsx(Bue,{})]})})})})})})}));export{Qr as _,Wp as c,nF as g,Vie as r};
