var hD=Object.defineProperty;var fD=(t,e,n)=>e in t?hD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var rn=(t,e,n)=>(fD(t,typeof e!="symbol"?e+"":e,n),n);function aT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function b1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function pD(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var AT={exports:{}},B1={},lT={exports:{}},Dn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm=Symbol.for("react.element"),gD=Symbol.for("react.portal"),mD=Symbol.for("react.fragment"),yD=Symbol.for("react.strict_mode"),vD=Symbol.for("react.profiler"),wD=Symbol.for("react.provider"),xD=Symbol.for("react.context"),bD=Symbol.for("react.forward_ref"),BD=Symbol.for("react.suspense"),_D=Symbol.for("react.memo"),CD=Symbol.for("react.lazy"),RC=Symbol.iterator;function ED(t){return t===null||typeof t!="object"?null:(t=RC&&t[RC]||t["@@iterator"],typeof t=="function"?t:null)}var cT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uT=Object.assign,dT={};function qf(t,e,n){this.props=t,this.context=e,this.refs=dT,this.updater=n||cT}qf.prototype.isReactComponent={};qf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hT(){}hT.prototype=qf.prototype;function CB(t,e,n){this.props=t,this.context=e,this.refs=dT,this.updater=n||cT}var EB=CB.prototype=new hT;EB.constructor=CB;uT(EB,qf.prototype);EB.isPureReactComponent=!0;var DC=Array.isArray,fT=Object.prototype.hasOwnProperty,IB={current:null},pT={key:!0,ref:!0,__self:!0,__source:!0};function gT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)fT.call(e,r)&&!pT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var A=Array(a),l=0;l<a;l++)A[l]=arguments[l+2];s.children=A}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Sm,type:t,key:i,ref:o,props:s,_owner:IB.current}}function ID(t,e){return{$$typeof:Sm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function SB(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sm}function SD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var QC=/\/+/g;function f2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SD(""+t.key):e.toString(36)}function Ly(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Sm:case gD:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+f2(o,0):r,DC(s)?(n="",t!=null&&(n=t.replace(QC,"$&/")+"/"),Ly(s,e,n,"",function(l){return l})):s!=null&&(SB(s)&&(s=ID(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(QC,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",DC(t))for(var a=0;a<t.length;a++){i=t[a];var A=r+f2(i,a);o+=Ly(i,e,n,A,s)}else if(A=ED(t),typeof A=="function")for(t=A.call(t),a=0;!(i=t.next()).done;)i=i.value,A=r+f2(i,a++),o+=Ly(i,e,n,A,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Q0(t,e,n){if(t==null)return t;var r=[],s=0;return Ly(t,r,"","",function(i){return e.call(n,i,s++)}),r}function FD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zi={current:null},Py={transition:null},TD={ReactCurrentDispatcher:Zi,ReactCurrentBatchConfig:Py,ReactCurrentOwner:IB};function mT(){throw Error("act(...) is not supported in production builds of React.")}Dn.Children={map:Q0,forEach:function(t,e,n){Q0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Q0(t,function(){e++}),e},toArray:function(t){return Q0(t,function(e){return e})||[]},only:function(t){if(!SB(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Dn.Component=qf;Dn.Fragment=mD;Dn.Profiler=vD;Dn.PureComponent=CB;Dn.StrictMode=yD;Dn.Suspense=BD;Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TD;Dn.act=mT;Dn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=IB.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(A in e)fT.call(e,A)&&!pT.hasOwnProperty(A)&&(r[A]=e[A]===void 0&&a!==void 0?a[A]:e[A])}var A=arguments.length-2;if(A===1)r.children=n;else if(1<A){a=Array(A);for(var l=0;l<A;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Sm,type:t.type,key:s,ref:i,props:r,_owner:o}};Dn.createContext=function(t){return t={$$typeof:xD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wD,_context:t},t.Consumer=t};Dn.createElement=gT;Dn.createFactory=function(t){var e=gT.bind(null,t);return e.type=t,e};Dn.createRef=function(){return{current:null}};Dn.forwardRef=function(t){return{$$typeof:bD,render:t}};Dn.isValidElement=SB;Dn.lazy=function(t){return{$$typeof:CD,_payload:{_status:-1,_result:t},_init:FD}};Dn.memo=function(t,e){return{$$typeof:_D,type:t,compare:e===void 0?null:e}};Dn.startTransition=function(t){var e=Py.transition;Py.transition={};try{t()}finally{Py.transition=e}};Dn.unstable_act=mT;Dn.useCallback=function(t,e){return Zi.current.useCallback(t,e)};Dn.useContext=function(t){return Zi.current.useContext(t)};Dn.useDebugValue=function(){};Dn.useDeferredValue=function(t){return Zi.current.useDeferredValue(t)};Dn.useEffect=function(t,e){return Zi.current.useEffect(t,e)};Dn.useId=function(){return Zi.current.useId()};Dn.useImperativeHandle=function(t,e,n){return Zi.current.useImperativeHandle(t,e,n)};Dn.useInsertionEffect=function(t,e){return Zi.current.useInsertionEffect(t,e)};Dn.useLayoutEffect=function(t,e){return Zi.current.useLayoutEffect(t,e)};Dn.useMemo=function(t,e){return Zi.current.useMemo(t,e)};Dn.useReducer=function(t,e,n){return Zi.current.useReducer(t,e,n)};Dn.useRef=function(t){return Zi.current.useRef(t)};Dn.useState=function(t){return Zi.current.useState(t)};Dn.useSyncExternalStore=function(t,e,n){return Zi.current.useSyncExternalStore(t,e,n)};Dn.useTransition=function(){return Zi.current.useTransition()};Dn.version="18.3.1";lT.exports=Dn;var ee=lT.exports;const Tn=b1(ee),ND=aT({__proto__:null,default:Tn},[ee]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kD=ee,LD=Symbol.for("react.element"),PD=Symbol.for("react.fragment"),jD=Object.prototype.hasOwnProperty,UD=kD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RD={key:!0,ref:!0,__self:!0,__source:!0};function yT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)jD.call(e,r)&&!RD.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:LD,type:t,key:i,ref:o,props:s,_owner:UD.current}}B1.Fragment=PD;B1.jsx=yT;B1.jsxs=yT;AT.exports=B1;var h=AT.exports,Sx={},vT={exports:{}},oa={},wT={exports:{}},xT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(se,me){var ve=se.length;se.push(me);e:for(;0<ve;){var Ve=ve-1>>>1,z=se[Ve];if(0<s(z,me))se[Ve]=me,se[ve]=z,ve=Ve;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var me=se[0],ve=se.pop();if(ve!==me){se[0]=ve;e:for(var Ve=0,z=se.length,J=z>>>1;Ve<J;){var ie=2*(Ve+1)-1,ce=se[ie],ge=ie+1,we=se[ge];if(0>s(ce,ve))ge<z&&0>s(we,ce)?(se[Ve]=we,se[ge]=ve,Ve=ge):(se[Ve]=ce,se[ie]=ve,Ve=ie);else if(ge<z&&0>s(we,ve))se[Ve]=we,se[ge]=ve,Ve=ge;else break e}}return me}function s(se,me){var ve=se.sortIndex-me.sortIndex;return ve!==0?ve:se.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var A=[],l=[],c=1,u=null,f=3,d=!1,B=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(se){for(var me=n(l);me!==null;){if(me.callback===null)r(l);else if(me.startTime<=se)r(l),me.sortIndex=me.expirationTime,e(A,me);else break;me=n(l)}}function R(se){if(b=!1,S(se),!B)if(n(A)!==null)B=!0,oe(P);else{var me=n(l);me!==null&&pe(R,me.startTime-se)}}function P(se,me){B=!1,b&&(b=!1,v(I),I=-1),d=!0;var ve=f;try{for(S(me),u=n(A);u!==null&&(!(u.expirationTime>me)||se&&!L());){var Ve=u.callback;if(typeof Ve=="function"){u.callback=null,f=u.priorityLevel;var z=Ve(u.expirationTime<=me);me=t.unstable_now(),typeof z=="function"?u.callback=z:u===n(A)&&r(A),S(me)}else r(A);u=n(A)}if(u!==null)var J=!0;else{var ie=n(l);ie!==null&&pe(R,ie.startTime-me),J=!1}return J}finally{u=null,f=ve,d=!1}}var Q=!1,T=null,I=-1,O=5,M=-1;function L(){return!(t.unstable_now()-M<O)}function j(){if(T!==null){var se=t.unstable_now();M=se;var me=!0;try{me=T(!0,se)}finally{me?k():(Q=!1,T=null)}}else Q=!1}var k;if(typeof C=="function")k=function(){C(j)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,re=$.port2;$.port1.onmessage=j,k=function(){re.postMessage(null)}}else k=function(){E(j,0)};function oe(se){T=se,Q||(Q=!0,k())}function pe(se,me){I=E(function(){se(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){B||d||(B=!0,oe(P))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(A)},t.unstable_next=function(se){switch(f){case 1:case 2:case 3:var me=3;break;default:me=f}var ve=f;f=me;try{return se()}finally{f=ve}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,me){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ve=f;f=se;try{return me()}finally{f=ve}},t.unstable_scheduleCallback=function(se,me,ve){var Ve=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ve+ve:Ve):ve=Ve,se){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ve+z,se={id:c++,callback:me,priorityLevel:se,startTime:ve,expirationTime:z,sortIndex:-1},ve>Ve?(se.sortIndex=ve,e(l,se),n(A)===null&&se===n(l)&&(b?(v(I),I=-1):b=!0,pe(R,ve-Ve))):(se.sortIndex=z,e(A,se),B||d||(B=!0,oe(P))),se},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(se){var me=f;return function(){var ve=f;f=me;try{return se.apply(this,arguments)}finally{f=ve}}}})(xT);wT.exports=xT;var DD=wT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QD=ee,ra=DD;function ht(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bT=new Set,Qg={};function rh(t,e){If(t,e),If(t+"Capture",e)}function If(t,e){for(Qg[t]=e,t=0;t<e.length;t++)bT.add(e[t])}var Ol=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fx=Object.prototype.hasOwnProperty,OD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OC={},MC={};function MD(t){return Fx.call(MC,t)?!0:Fx.call(OC,t)?!1:OD.test(t)?MC[t]=!0:(OC[t]=!0,!1)}function HD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VD(t,e,n,r){if(e===null||typeof e>"u"||HD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function eo(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ui={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ui[t]=new eo(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ui[e]=new eo(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ui[t]=new eo(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ui[t]=new eo(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ui[t]=new eo(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ui[t]=new eo(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ui[t]=new eo(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ui[t]=new eo(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ui[t]=new eo(t,5,!1,t.toLowerCase(),null,!1,!1)});var FB=/[\-:]([a-z])/g;function TB(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(FB,TB);ui[e]=new eo(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(FB,TB);ui[e]=new eo(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(FB,TB);ui[e]=new eo(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ui[t]=new eo(t,1,!1,t.toLowerCase(),null,!1,!1)});ui.xlinkHref=new eo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ui[t]=new eo(t,1,!1,t.toLowerCase(),null,!0,!0)});function NB(t,e,n,r){var s=ui.hasOwnProperty(e)?ui[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VD(e,n,s,r)&&(n=null),r||s===null?MD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $l=QD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O0=Symbol.for("react.element"),ef=Symbol.for("react.portal"),tf=Symbol.for("react.fragment"),kB=Symbol.for("react.strict_mode"),Tx=Symbol.for("react.profiler"),BT=Symbol.for("react.provider"),_T=Symbol.for("react.context"),LB=Symbol.for("react.forward_ref"),Nx=Symbol.for("react.suspense"),kx=Symbol.for("react.suspense_list"),PB=Symbol.for("react.memo"),Qc=Symbol.for("react.lazy"),CT=Symbol.for("react.offscreen"),HC=Symbol.iterator;function Bp(t){return t===null||typeof t!="object"?null:(t=HC&&t[HC]||t["@@iterator"],typeof t=="function"?t:null)}var ts=Object.assign,p2;function Wp(t){if(p2===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);p2=e&&e[1]||""}return`
`+p2+t}var g2=!1;function m2(t,e){if(!t||g2)return"";g2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var A=`
`+s[o].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=o&&0<=a);break}}}finally{g2=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wp(t):""}function KD(t){switch(t.tag){case 5:return Wp(t.type);case 16:return Wp("Lazy");case 13:return Wp("Suspense");case 19:return Wp("SuspenseList");case 0:case 2:case 15:return t=m2(t.type,!1),t;case 11:return t=m2(t.type.render,!1),t;case 1:return t=m2(t.type,!0),t;default:return""}}function Lx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tf:return"Fragment";case ef:return"Portal";case Tx:return"Profiler";case kB:return"StrictMode";case Nx:return"Suspense";case kx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _T:return(t.displayName||"Context")+".Consumer";case BT:return(t._context.displayName||"Context")+".Provider";case LB:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case PB:return e=t.displayName||null,e!==null?e:Lx(t.type)||"Memo";case Qc:e=t._payload,t=t._init;try{return Lx(t(e))}catch{}}return null}function zD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lx(e);case 8:return e===kB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ET(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GD(t){var e=ET(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function M0(t){t._valueTracker||(t._valueTracker=GD(t))}function IT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ET(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Px(t,e){var n=e.checked;return ts({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function VC(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=wu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ST(t,e){e=e.checked,e!=null&&NB(t,"checked",e,!1)}function jx(t,e){ST(t,e);var n=wu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ux(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ux(t,e.type,wu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function KC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ux(t,e,n){(e!=="number"||dv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $p=Array.isArray;function pf(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+wu(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Rx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ht(91));return ts({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ht(92));if($p(n)){if(1<n.length)throw Error(ht(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wu(n)}}function FT(t,e){var n=wu(e.value),r=wu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function GC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function TT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?TT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var H0,NT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(H0=H0||document.createElement("div"),H0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=H0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Og(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WD=["Webkit","ms","Moz","O"];Object.keys(cg).forEach(function(t){WD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cg[e]=cg[t]})});function kT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cg.hasOwnProperty(t)&&cg[t]?(""+e).trim():e+"px"}function LT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=kT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var $D=ts({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qx(t,e){if(e){if($D[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ht(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ht(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ht(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ht(62))}}function Ox(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mx=null;function jB(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hx=null,gf=null,mf=null;function WC(t){if(t=Nm(t)){if(typeof Hx!="function")throw Error(ht(280));var e=t.stateNode;e&&(e=S1(e),Hx(t.stateNode,t.type,e))}}function PT(t){gf?mf?mf.push(t):mf=[t]:gf=t}function jT(){if(gf){var t=gf,e=mf;if(mf=gf=null,WC(t),e)for(t=0;t<e.length;t++)WC(e[t])}}function UT(t,e){return t(e)}function RT(){}var y2=!1;function DT(t,e,n){if(y2)return t(e,n);y2=!0;try{return UT(t,e,n)}finally{y2=!1,(gf!==null||mf!==null)&&(RT(),jT())}}function Mg(t,e){var n=t.stateNode;if(n===null)return null;var r=S1(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ht(231,e,typeof n));return n}var Vx=!1;if(Ol)try{var _p={};Object.defineProperty(_p,"passive",{get:function(){Vx=!0}}),window.addEventListener("test",_p,_p),window.removeEventListener("test",_p,_p)}catch{Vx=!1}function qD(t,e,n,r,s,i,o,a,A){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var ug=!1,hv=null,fv=!1,Kx=null,YD={onError:function(t){ug=!0,hv=t}};function XD(t,e,n,r,s,i,o,a,A){ug=!1,hv=null,qD.apply(YD,arguments)}function JD(t,e,n,r,s,i,o,a,A){if(XD.apply(this,arguments),ug){if(ug){var l=hv;ug=!1,hv=null}else throw Error(ht(198));fv||(fv=!0,Kx=l)}}function sh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function QT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $C(t){if(sh(t)!==t)throw Error(ht(188))}function ZD(t){var e=t.alternate;if(!e){if(e=sh(t),e===null)throw Error(ht(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return $C(s),t;if(i===r)return $C(s),e;i=i.sibling}throw Error(ht(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(ht(189))}}if(n.alternate!==r)throw Error(ht(190))}if(n.tag!==3)throw Error(ht(188));return n.stateNode.current===n?t:e}function OT(t){return t=ZD(t),t!==null?MT(t):null}function MT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=MT(t);if(e!==null)return e;t=t.sibling}return null}var HT=ra.unstable_scheduleCallback,qC=ra.unstable_cancelCallback,e6=ra.unstable_shouldYield,t6=ra.unstable_requestPaint,hs=ra.unstable_now,n6=ra.unstable_getCurrentPriorityLevel,UB=ra.unstable_ImmediatePriority,VT=ra.unstable_UserBlockingPriority,pv=ra.unstable_NormalPriority,r6=ra.unstable_LowPriority,KT=ra.unstable_IdlePriority,_1=null,DA=null;function s6(t){if(DA&&typeof DA.onCommitFiberRoot=="function")try{DA.onCommitFiberRoot(_1,t,void 0,(t.current.flags&128)===128)}catch{}}var rA=Math.clz32?Math.clz32:a6,i6=Math.log,o6=Math.LN2;function a6(t){return t>>>=0,t===0?32:31-(i6(t)/o6|0)|0}var V0=64,K0=4194304;function qp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gv(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=qp(a):(i&=o,i!==0&&(r=qp(i)))}else o=n&~s,o!==0?r=qp(o):i!==0&&(r=qp(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rA(e),s=1<<n,r|=t[n],e&=~s;return r}function A6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-rA(i),a=1<<o,A=s[o];A===-1?(!(a&n)||a&r)&&(s[o]=A6(a,e)):A<=e&&(t.expiredLanes|=a),i&=~a}}function zx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zT(){var t=V0;return V0<<=1,!(V0&4194240)&&(V0=64),t}function v2(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rA(e),t[e]=n}function c6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-rA(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function RB(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rA(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var gr=0;function GT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var WT,DB,$T,qT,YT,Gx=!1,z0=[],iu=null,ou=null,au=null,Hg=new Map,Vg=new Map,Mc=[],u6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function YC(t,e){switch(t){case"focusin":case"focusout":iu=null;break;case"dragenter":case"dragleave":ou=null;break;case"mouseover":case"mouseout":au=null;break;case"pointerover":case"pointerout":Hg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vg.delete(e.pointerId)}}function Cp(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Nm(e),e!==null&&DB(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function d6(t,e,n,r,s){switch(e){case"focusin":return iu=Cp(iu,t,e,n,r,s),!0;case"dragenter":return ou=Cp(ou,t,e,n,r,s),!0;case"mouseover":return au=Cp(au,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Hg.set(i,Cp(Hg.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Vg.set(i,Cp(Vg.get(i)||null,t,e,n,r,s)),!0}return!1}function XT(t){var e=md(t.target);if(e!==null){var n=sh(e);if(n!==null){if(e=n.tag,e===13){if(e=QT(n),e!==null){t.blockedOn=e,YT(t.priority,function(){$T(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mx=r,n.target.dispatchEvent(r),Mx=null}else return e=Nm(n),e!==null&&DB(e),t.blockedOn=n,!1;e.shift()}return!0}function XC(t,e,n){jy(t)&&n.delete(e)}function h6(){Gx=!1,iu!==null&&jy(iu)&&(iu=null),ou!==null&&jy(ou)&&(ou=null),au!==null&&jy(au)&&(au=null),Hg.forEach(XC),Vg.forEach(XC)}function Ep(t,e){t.blockedOn===e&&(t.blockedOn=null,Gx||(Gx=!0,ra.unstable_scheduleCallback(ra.unstable_NormalPriority,h6)))}function Kg(t){function e(s){return Ep(s,t)}if(0<z0.length){Ep(z0[0],t);for(var n=1;n<z0.length;n++){var r=z0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(iu!==null&&Ep(iu,t),ou!==null&&Ep(ou,t),au!==null&&Ep(au,t),Hg.forEach(e),Vg.forEach(e),n=0;n<Mc.length;n++)r=Mc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mc.length&&(n=Mc[0],n.blockedOn===null);)XT(n),n.blockedOn===null&&Mc.shift()}var yf=$l.ReactCurrentBatchConfig,mv=!0;function f6(t,e,n,r){var s=gr,i=yf.transition;yf.transition=null;try{gr=1,QB(t,e,n,r)}finally{gr=s,yf.transition=i}}function p6(t,e,n,r){var s=gr,i=yf.transition;yf.transition=null;try{gr=4,QB(t,e,n,r)}finally{gr=s,yf.transition=i}}function QB(t,e,n,r){if(mv){var s=Wx(t,e,n,r);if(s===null)F2(t,e,r,yv,n),YC(t,r);else if(d6(s,t,e,n,r))r.stopPropagation();else if(YC(t,r),e&4&&-1<u6.indexOf(t)){for(;s!==null;){var i=Nm(s);if(i!==null&&WT(i),i=Wx(t,e,n,r),i===null&&F2(t,e,r,yv,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else F2(t,e,r,null,n)}}var yv=null;function Wx(t,e,n,r){if(yv=null,t=jB(r),t=md(t),t!==null)if(e=sh(t),e===null)t=null;else if(n=e.tag,n===13){if(t=QT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yv=t,null}function JT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(n6()){case UB:return 1;case VT:return 4;case pv:case r6:return 16;case KT:return 536870912;default:return 16}default:return 16}}var qc=null,OB=null,Uy=null;function ZT(){if(Uy)return Uy;var t,e=OB,n=e.length,r,s="value"in qc?qc.value:qc.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Uy=s.slice(t,1<r?1-r:void 0)}function Ry(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function G0(){return!0}function JC(){return!1}function aa(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?G0:JC,this.isPropagationStopped=JC,this}return ts(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=G0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=G0)},persist:function(){},isPersistent:G0}),e}var Yf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},MB=aa(Yf),Tm=ts({},Yf,{view:0,detail:0}),g6=aa(Tm),w2,x2,Ip,C1=ts({},Tm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:HB,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ip&&(Ip&&t.type==="mousemove"?(w2=t.screenX-Ip.screenX,x2=t.screenY-Ip.screenY):x2=w2=0,Ip=t),w2)},movementY:function(t){return"movementY"in t?t.movementY:x2}}),ZC=aa(C1),m6=ts({},C1,{dataTransfer:0}),y6=aa(m6),v6=ts({},Tm,{relatedTarget:0}),b2=aa(v6),w6=ts({},Yf,{animationName:0,elapsedTime:0,pseudoElement:0}),x6=aa(w6),b6=ts({},Yf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),B6=aa(b6),_6=ts({},Yf,{data:0}),eE=aa(_6),C6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=I6[t])?!!e[t]:!1}function HB(){return S6}var F6=ts({},Tm,{key:function(t){if(t.key){var e=C6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ry(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?E6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:HB,charCode:function(t){return t.type==="keypress"?Ry(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ry(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),T6=aa(F6),N6=ts({},C1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tE=aa(N6),k6=ts({},Tm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:HB}),L6=aa(k6),P6=ts({},Yf,{propertyName:0,elapsedTime:0,pseudoElement:0}),j6=aa(P6),U6=ts({},C1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),R6=aa(U6),D6=[9,13,27,32],VB=Ol&&"CompositionEvent"in window,dg=null;Ol&&"documentMode"in document&&(dg=document.documentMode);var Q6=Ol&&"TextEvent"in window&&!dg,eN=Ol&&(!VB||dg&&8<dg&&11>=dg),nE=String.fromCharCode(32),rE=!1;function tN(t,e){switch(t){case"keyup":return D6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nf=!1;function O6(t,e){switch(t){case"compositionend":return nN(e);case"keypress":return e.which!==32?null:(rE=!0,nE);case"textInput":return t=e.data,t===nE&&rE?null:t;default:return null}}function M6(t,e){if(nf)return t==="compositionend"||!VB&&tN(t,e)?(t=ZT(),Uy=OB=qc=null,nf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eN&&e.locale!=="ko"?null:e.data;default:return null}}var H6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!H6[t.type]:e==="textarea"}function rN(t,e,n,r){PT(r),e=vv(e,"onChange"),0<e.length&&(n=new MB("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hg=null,zg=null;function V6(t){fN(t,0)}function E1(t){var e=of(t);if(IT(e))return t}function K6(t,e){if(t==="change")return e}var sN=!1;if(Ol){var B2;if(Ol){var _2="oninput"in document;if(!_2){var iE=document.createElement("div");iE.setAttribute("oninput","return;"),_2=typeof iE.oninput=="function"}B2=_2}else B2=!1;sN=B2&&(!document.documentMode||9<document.documentMode)}function oE(){hg&&(hg.detachEvent("onpropertychange",iN),zg=hg=null)}function iN(t){if(t.propertyName==="value"&&E1(zg)){var e=[];rN(e,zg,t,jB(t)),DT(V6,e)}}function z6(t,e,n){t==="focusin"?(oE(),hg=e,zg=n,hg.attachEvent("onpropertychange",iN)):t==="focusout"&&oE()}function G6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return E1(zg)}function W6(t,e){if(t==="click")return E1(e)}function $6(t,e){if(t==="input"||t==="change")return E1(e)}function q6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var iA=typeof Object.is=="function"?Object.is:q6;function Gg(t,e){if(iA(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Fx.call(e,s)||!iA(t[s],e[s]))return!1}return!0}function aE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function AE(t,e){var n=aE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=aE(n)}}function oN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aN(){for(var t=window,e=dv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dv(t.document)}return e}function KB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Y6(t){var e=aN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&oN(n.ownerDocument.documentElement,n)){if(r!==null&&KB(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=AE(n,i);var o=AE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var X6=Ol&&"documentMode"in document&&11>=document.documentMode,rf=null,$x=null,fg=null,qx=!1;function lE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qx||rf==null||rf!==dv(r)||(r=rf,"selectionStart"in r&&KB(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fg&&Gg(fg,r)||(fg=r,r=vv($x,"onSelect"),0<r.length&&(e=new MB("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rf)))}function W0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sf={animationend:W0("Animation","AnimationEnd"),animationiteration:W0("Animation","AnimationIteration"),animationstart:W0("Animation","AnimationStart"),transitionend:W0("Transition","TransitionEnd")},C2={},AN={};Ol&&(AN=document.createElement("div").style,"AnimationEvent"in window||(delete sf.animationend.animation,delete sf.animationiteration.animation,delete sf.animationstart.animation),"TransitionEvent"in window||delete sf.transitionend.transition);function I1(t){if(C2[t])return C2[t];if(!sf[t])return t;var e=sf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in AN)return C2[t]=e[n];return t}var lN=I1("animationend"),cN=I1("animationiteration"),uN=I1("animationstart"),dN=I1("transitionend"),hN=new Map,cE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fu(t,e){hN.set(t,e),rh(e,[t])}for(var E2=0;E2<cE.length;E2++){var I2=cE[E2],J6=I2.toLowerCase(),Z6=I2[0].toUpperCase()+I2.slice(1);Fu(J6,"on"+Z6)}Fu(lN,"onAnimationEnd");Fu(cN,"onAnimationIteration");Fu(uN,"onAnimationStart");Fu("dblclick","onDoubleClick");Fu("focusin","onFocus");Fu("focusout","onBlur");Fu(dN,"onTransitionEnd");If("onMouseEnter",["mouseout","mouseover"]);If("onMouseLeave",["mouseout","mouseover"]);If("onPointerEnter",["pointerout","pointerover"]);If("onPointerLeave",["pointerout","pointerover"]);rh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rh("onBeforeInput",["compositionend","keypress","textInput","paste"]);rh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yp));function uE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JD(r,e,void 0,t),t.currentTarget=null}function fN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],A=a.instance,l=a.currentTarget;if(a=a.listener,A!==i&&s.isPropagationStopped())break e;uE(s,a,l),i=A}else for(o=0;o<r.length;o++){if(a=r[o],A=a.instance,l=a.currentTarget,a=a.listener,A!==i&&s.isPropagationStopped())break e;uE(s,a,l),i=A}}}if(fv)throw t=Kx,fv=!1,Kx=null,t}function Nr(t,e){var n=e[eb];n===void 0&&(n=e[eb]=new Set);var r=t+"__bubble";n.has(r)||(pN(e,t,2,!1),n.add(r))}function S2(t,e,n){var r=0;e&&(r|=4),pN(n,t,r,e)}var $0="_reactListening"+Math.random().toString(36).slice(2);function Wg(t){if(!t[$0]){t[$0]=!0,bT.forEach(function(n){n!=="selectionchange"&&(eQ.has(n)||S2(n,!1,t),S2(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$0]||(e[$0]=!0,S2("selectionchange",!1,e))}}function pN(t,e,n,r){switch(JT(e)){case 1:var s=f6;break;case 4:s=p6;break;default:s=QB}n=s.bind(null,e,n,t),s=void 0,!Vx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function F2(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var A=o.tag;if((A===3||A===4)&&(A=o.stateNode.containerInfo,A===s||A.nodeType===8&&A.parentNode===s))return;o=o.return}for(;a!==null;){if(o=md(a),o===null)return;if(A=o.tag,A===5||A===6){r=i=o;continue e}a=a.parentNode}}r=r.return}DT(function(){var l=i,c=jB(n),u=[];e:{var f=hN.get(t);if(f!==void 0){var d=MB,B=t;switch(t){case"keypress":if(Ry(n)===0)break e;case"keydown":case"keyup":d=T6;break;case"focusin":B="focus",d=b2;break;case"focusout":B="blur",d=b2;break;case"beforeblur":case"afterblur":d=b2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=ZC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=y6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=L6;break;case lN:case cN:case uN:d=x6;break;case dN:d=j6;break;case"scroll":d=g6;break;case"wheel":d=R6;break;case"copy":case"cut":case"paste":d=B6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=tE}var b=(e&4)!==0,E=!b&&t==="scroll",v=b?f!==null?f+"Capture":null:f;b=[];for(var C=l,S;C!==null;){S=C;var R=S.stateNode;if(S.tag===5&&R!==null&&(S=R,v!==null&&(R=Mg(C,v),R!=null&&b.push($g(C,R,S)))),E)break;C=C.return}0<b.length&&(f=new d(f,B,null,n,c),u.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&n!==Mx&&(B=n.relatedTarget||n.fromElement)&&(md(B)||B[Ml]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(B=n.relatedTarget||n.toElement,d=l,B=B?md(B):null,B!==null&&(E=sh(B),B!==E||B.tag!==5&&B.tag!==6)&&(B=null)):(d=null,B=l),d!==B)){if(b=ZC,R="onMouseLeave",v="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(b=tE,R="onPointerLeave",v="onPointerEnter",C="pointer"),E=d==null?f:of(d),S=B==null?f:of(B),f=new b(R,C+"leave",d,n,c),f.target=E,f.relatedTarget=S,R=null,md(c)===l&&(b=new b(v,C+"enter",B,n,c),b.target=S,b.relatedTarget=E,R=b),E=R,d&&B)t:{for(b=d,v=B,C=0,S=b;S;S=Dh(S))C++;for(S=0,R=v;R;R=Dh(R))S++;for(;0<C-S;)b=Dh(b),C--;for(;0<S-C;)v=Dh(v),S--;for(;C--;){if(b===v||v!==null&&b===v.alternate)break t;b=Dh(b),v=Dh(v)}b=null}else b=null;d!==null&&dE(u,f,d,b,!1),B!==null&&E!==null&&dE(u,E,B,b,!0)}}e:{if(f=l?of(l):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var P=K6;else if(sE(f))if(sN)P=$6;else{P=G6;var Q=z6}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=W6);if(P&&(P=P(t,l))){rN(u,P,n,c);break e}Q&&Q(t,f,l),t==="focusout"&&(Q=f._wrapperState)&&Q.controlled&&f.type==="number"&&Ux(f,"number",f.value)}switch(Q=l?of(l):window,t){case"focusin":(sE(Q)||Q.contentEditable==="true")&&(rf=Q,$x=l,fg=null);break;case"focusout":fg=$x=rf=null;break;case"mousedown":qx=!0;break;case"contextmenu":case"mouseup":case"dragend":qx=!1,lE(u,n,c);break;case"selectionchange":if(X6)break;case"keydown":case"keyup":lE(u,n,c)}var T;if(VB)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else nf?tN(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(eN&&n.locale!=="ko"&&(nf||I!=="onCompositionStart"?I==="onCompositionEnd"&&nf&&(T=ZT()):(qc=c,OB="value"in qc?qc.value:qc.textContent,nf=!0)),Q=vv(l,I),0<Q.length&&(I=new eE(I,t,null,n,c),u.push({event:I,listeners:Q}),T?I.data=T:(T=nN(n),T!==null&&(I.data=T)))),(T=Q6?O6(t,n):M6(t,n))&&(l=vv(l,"onBeforeInput"),0<l.length&&(c=new eE("onBeforeInput","beforeinput",null,n,c),u.push({event:c,listeners:l}),c.data=T))}fN(u,e)})}function $g(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vv(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Mg(t,n),i!=null&&r.unshift($g(t,i,s)),i=Mg(t,e),i!=null&&r.push($g(t,i,s))),t=t.return}return r}function Dh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,A=a.alternate,l=a.stateNode;if(A!==null&&A===r)break;a.tag===5&&l!==null&&(a=l,s?(A=Mg(n,i),A!=null&&o.unshift($g(n,A,a))):s||(A=Mg(n,i),A!=null&&o.push($g(n,A,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tQ=/\r\n?/g,nQ=/\u0000|\uFFFD/g;function hE(t){return(typeof t=="string"?t:""+t).replace(tQ,`
`).replace(nQ,"")}function q0(t,e,n){if(e=hE(e),hE(t)!==e&&n)throw Error(ht(425))}function wv(){}var Yx=null,Xx=null;function Jx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zx=typeof setTimeout=="function"?setTimeout:void 0,rQ=typeof clearTimeout=="function"?clearTimeout:void 0,fE=typeof Promise=="function"?Promise:void 0,sQ=typeof queueMicrotask=="function"?queueMicrotask:typeof fE<"u"?function(t){return fE.resolve(null).then(t).catch(iQ)}:Zx;function iQ(t){setTimeout(function(){throw t})}function T2(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Kg(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Kg(e)}function Au(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xf=Math.random().toString(36).slice(2),LA="__reactFiber$"+Xf,qg="__reactProps$"+Xf,Ml="__reactContainer$"+Xf,eb="__reactEvents$"+Xf,oQ="__reactListeners$"+Xf,aQ="__reactHandles$"+Xf;function md(t){var e=t[LA];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ml]||n[LA]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pE(t);t!==null;){if(n=t[LA])return n;t=pE(t)}return e}t=n,n=t.parentNode}return null}function Nm(t){return t=t[LA]||t[Ml],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function of(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ht(33))}function S1(t){return t[qg]||null}var tb=[],af=-1;function Tu(t){return{current:t}}function Lr(t){0>af||(t.current=tb[af],tb[af]=null,af--)}function Er(t,e){af++,tb[af]=t.current,t.current=e}var xu={},Li=Tu(xu),Fo=Tu(!1),Ud=xu;function Sf(t,e){var n=t.type.contextTypes;if(!n)return xu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function To(t){return t=t.childContextTypes,t!=null}function xv(){Lr(Fo),Lr(Li)}function gE(t,e,n){if(Li.current!==xu)throw Error(ht(168));Er(Li,e),Er(Fo,n)}function gN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ht(108,zD(t)||"Unknown",s));return ts({},n,r)}function bv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xu,Ud=Li.current,Er(Li,t),Er(Fo,Fo.current),!0}function mE(t,e,n){var r=t.stateNode;if(!r)throw Error(ht(169));n?(t=gN(t,e,Ud),r.__reactInternalMemoizedMergedChildContext=t,Lr(Fo),Lr(Li),Er(Li,t)):Lr(Fo),Er(Fo,n)}var Cl=null,F1=!1,N2=!1;function mN(t){Cl===null?Cl=[t]:Cl.push(t)}function AQ(t){F1=!0,mN(t)}function Nu(){if(!N2&&Cl!==null){N2=!0;var t=0,e=gr;try{var n=Cl;for(gr=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cl=null,F1=!1}catch(s){throw Cl!==null&&(Cl=Cl.slice(t+1)),HT(UB,Nu),s}finally{gr=e,N2=!1}}return null}var Af=[],lf=0,Bv=null,_v=0,ya=[],va=0,Rd=null,Sl=1,Fl="";function rd(t,e){Af[lf++]=_v,Af[lf++]=Bv,Bv=t,_v=e}function yN(t,e,n){ya[va++]=Sl,ya[va++]=Fl,ya[va++]=Rd,Rd=t;var r=Sl;t=Fl;var s=32-rA(r)-1;r&=~(1<<s),n+=1;var i=32-rA(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Sl=1<<32-rA(e)+s|n<<s|r,Fl=i+t}else Sl=1<<i|n<<s|r,Fl=t}function zB(t){t.return!==null&&(rd(t,1),yN(t,1,0))}function GB(t){for(;t===Bv;)Bv=Af[--lf],Af[lf]=null,_v=Af[--lf],Af[lf]=null;for(;t===Rd;)Rd=ya[--va],ya[va]=null,Fl=ya[--va],ya[va]=null,Sl=ya[--va],ya[va]=null}var na=null,Yo=null,Kr=!1,tA=null;function vN(t,e){var n=xa(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function yE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,na=t,Yo=Au(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,na=t,Yo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Rd!==null?{id:Sl,overflow:Fl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xa(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,na=t,Yo=null,!0):!1;default:return!1}}function nb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rb(t){if(Kr){var e=Yo;if(e){var n=e;if(!yE(t,e)){if(nb(t))throw Error(ht(418));e=Au(n.nextSibling);var r=na;e&&yE(t,e)?vN(r,n):(t.flags=t.flags&-4097|2,Kr=!1,na=t)}}else{if(nb(t))throw Error(ht(418));t.flags=t.flags&-4097|2,Kr=!1,na=t}}}function vE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;na=t}function Y0(t){if(t!==na)return!1;if(!Kr)return vE(t),Kr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jx(t.type,t.memoizedProps)),e&&(e=Yo)){if(nb(t))throw wN(),Error(ht(418));for(;e;)vN(t,e),e=Au(e.nextSibling)}if(vE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ht(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yo=Au(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yo=null}}else Yo=na?Au(t.stateNode.nextSibling):null;return!0}function wN(){for(var t=Yo;t;)t=Au(t.nextSibling)}function Ff(){Yo=na=null,Kr=!1}function WB(t){tA===null?tA=[t]:tA.push(t)}var lQ=$l.ReactCurrentBatchConfig;function Sp(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ht(309));var r=n.stateNode}if(!r)throw Error(ht(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ht(284));if(!n._owner)throw Error(ht(290,t))}return t}function X0(t,e){throw t=Object.prototype.toString.call(e),Error(ht(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wE(t){var e=t._init;return e(t._payload)}function xN(t){function e(v,C){if(t){var S=v.deletions;S===null?(v.deletions=[C],v.flags|=16):S.push(C)}}function n(v,C){if(!t)return null;for(;C!==null;)e(v,C),C=C.sibling;return null}function r(v,C){for(v=new Map;C!==null;)C.key!==null?v.set(C.key,C):v.set(C.index,C),C=C.sibling;return v}function s(v,C){return v=du(v,C),v.index=0,v.sibling=null,v}function i(v,C,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<C?(v.flags|=2,C):S):(v.flags|=2,C)):(v.flags|=1048576,C)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,C,S,R){return C===null||C.tag!==6?(C=D2(S,v.mode,R),C.return=v,C):(C=s(C,S),C.return=v,C)}function A(v,C,S,R){var P=S.type;return P===tf?c(v,C,S.props.children,R,S.key):C!==null&&(C.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Qc&&wE(P)===C.type)?(R=s(C,S.props),R.ref=Sp(v,C,S),R.return=v,R):(R=Ky(S.type,S.key,S.props,null,v.mode,R),R.ref=Sp(v,C,S),R.return=v,R)}function l(v,C,S,R){return C===null||C.tag!==4||C.stateNode.containerInfo!==S.containerInfo||C.stateNode.implementation!==S.implementation?(C=Q2(S,v.mode,R),C.return=v,C):(C=s(C,S.children||[]),C.return=v,C)}function c(v,C,S,R,P){return C===null||C.tag!==7?(C=Ed(S,v.mode,R,P),C.return=v,C):(C=s(C,S),C.return=v,C)}function u(v,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return C=D2(""+C,v.mode,S),C.return=v,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case O0:return S=Ky(C.type,C.key,C.props,null,v.mode,S),S.ref=Sp(v,null,C),S.return=v,S;case ef:return C=Q2(C,v.mode,S),C.return=v,C;case Qc:var R=C._init;return u(v,R(C._payload),S)}if($p(C)||Bp(C))return C=Ed(C,v.mode,S,null),C.return=v,C;X0(v,C)}return null}function f(v,C,S,R){var P=C!==null?C.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return P!==null?null:a(v,C,""+S,R);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case O0:return S.key===P?A(v,C,S,R):null;case ef:return S.key===P?l(v,C,S,R):null;case Qc:return P=S._init,f(v,C,P(S._payload),R)}if($p(S)||Bp(S))return P!==null?null:c(v,C,S,R,null);X0(v,S)}return null}function d(v,C,S,R,P){if(typeof R=="string"&&R!==""||typeof R=="number")return v=v.get(S)||null,a(C,v,""+R,P);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case O0:return v=v.get(R.key===null?S:R.key)||null,A(C,v,R,P);case ef:return v=v.get(R.key===null?S:R.key)||null,l(C,v,R,P);case Qc:var Q=R._init;return d(v,C,S,Q(R._payload),P)}if($p(R)||Bp(R))return v=v.get(S)||null,c(C,v,R,P,null);X0(C,R)}return null}function B(v,C,S,R){for(var P=null,Q=null,T=C,I=C=0,O=null;T!==null&&I<S.length;I++){T.index>I?(O=T,T=null):O=T.sibling;var M=f(v,T,S[I],R);if(M===null){T===null&&(T=O);break}t&&T&&M.alternate===null&&e(v,T),C=i(M,C,I),Q===null?P=M:Q.sibling=M,Q=M,T=O}if(I===S.length)return n(v,T),Kr&&rd(v,I),P;if(T===null){for(;I<S.length;I++)T=u(v,S[I],R),T!==null&&(C=i(T,C,I),Q===null?P=T:Q.sibling=T,Q=T);return Kr&&rd(v,I),P}for(T=r(v,T);I<S.length;I++)O=d(T,v,I,S[I],R),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?I:O.key),C=i(O,C,I),Q===null?P=O:Q.sibling=O,Q=O);return t&&T.forEach(function(L){return e(v,L)}),Kr&&rd(v,I),P}function b(v,C,S,R){var P=Bp(S);if(typeof P!="function")throw Error(ht(150));if(S=P.call(S),S==null)throw Error(ht(151));for(var Q=P=null,T=C,I=C=0,O=null,M=S.next();T!==null&&!M.done;I++,M=S.next()){T.index>I?(O=T,T=null):O=T.sibling;var L=f(v,T,M.value,R);if(L===null){T===null&&(T=O);break}t&&T&&L.alternate===null&&e(v,T),C=i(L,C,I),Q===null?P=L:Q.sibling=L,Q=L,T=O}if(M.done)return n(v,T),Kr&&rd(v,I),P;if(T===null){for(;!M.done;I++,M=S.next())M=u(v,M.value,R),M!==null&&(C=i(M,C,I),Q===null?P=M:Q.sibling=M,Q=M);return Kr&&rd(v,I),P}for(T=r(v,T);!M.done;I++,M=S.next())M=d(T,v,I,M.value,R),M!==null&&(t&&M.alternate!==null&&T.delete(M.key===null?I:M.key),C=i(M,C,I),Q===null?P=M:Q.sibling=M,Q=M);return t&&T.forEach(function(j){return e(v,j)}),Kr&&rd(v,I),P}function E(v,C,S,R){if(typeof S=="object"&&S!==null&&S.type===tf&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case O0:e:{for(var P=S.key,Q=C;Q!==null;){if(Q.key===P){if(P=S.type,P===tf){if(Q.tag===7){n(v,Q.sibling),C=s(Q,S.props.children),C.return=v,v=C;break e}}else if(Q.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Qc&&wE(P)===Q.type){n(v,Q.sibling),C=s(Q,S.props),C.ref=Sp(v,Q,S),C.return=v,v=C;break e}n(v,Q);break}else e(v,Q);Q=Q.sibling}S.type===tf?(C=Ed(S.props.children,v.mode,R,S.key),C.return=v,v=C):(R=Ky(S.type,S.key,S.props,null,v.mode,R),R.ref=Sp(v,C,S),R.return=v,v=R)}return o(v);case ef:e:{for(Q=S.key;C!==null;){if(C.key===Q)if(C.tag===4&&C.stateNode.containerInfo===S.containerInfo&&C.stateNode.implementation===S.implementation){n(v,C.sibling),C=s(C,S.children||[]),C.return=v,v=C;break e}else{n(v,C);break}else e(v,C);C=C.sibling}C=Q2(S,v.mode,R),C.return=v,v=C}return o(v);case Qc:return Q=S._init,E(v,C,Q(S._payload),R)}if($p(S))return B(v,C,S,R);if(Bp(S))return b(v,C,S,R);X0(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,C!==null&&C.tag===6?(n(v,C.sibling),C=s(C,S),C.return=v,v=C):(n(v,C),C=D2(S,v.mode,R),C.return=v,v=C),o(v)):n(v,C)}return E}var Tf=xN(!0),bN=xN(!1),Cv=Tu(null),Ev=null,cf=null,$B=null;function qB(){$B=cf=Ev=null}function YB(t){var e=Cv.current;Lr(Cv),t._currentValue=e}function sb(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vf(t,e){Ev=t,$B=cf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Eo=!0),t.firstContext=null)}function Sa(t){var e=t._currentValue;if($B!==t)if(t={context:t,memoizedValue:e,next:null},cf===null){if(Ev===null)throw Error(ht(308));cf=t,Ev.dependencies={lanes:0,firstContext:t}}else cf=cf.next=t;return e}var yd=null;function XB(t){yd===null?yd=[t]:yd.push(t)}function BN(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,XB(e)):(n.next=s.next,s.next=n),e.interleaved=n,Hl(t,r)}function Hl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Oc=!1;function JB(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _N(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ul(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,qn&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Hl(t,n)}return s=r.interleaved,s===null?(e.next=e,XB(r)):(e.next=s.next,s.next=e),r.interleaved=e,Hl(t,n)}function Dy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,RB(t,n)}}function xE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Iv(t,e,n,r){var s=t.updateQueue;Oc=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var A=a,l=A.next;A.next=null,o===null?i=l:o.next=l,o=A;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=A))}if(i!==null){var u=s.baseState;o=0,c=l=A=null,a=i;do{var f=a.lane,d=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var B=t,b=a;switch(f=e,d=n,b.tag){case 1:if(B=b.payload,typeof B=="function"){u=B.call(d,u,f);break e}u=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=b.payload,f=typeof B=="function"?B.call(d,u,f):B,f==null)break e;u=ts({},u,f);break e;case 2:Oc=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=d,A=u):c=c.next=d,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(c===null&&(A=u),s.baseState=A,s.firstBaseUpdate=l,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Qd|=o,t.lanes=o,t.memoizedState=u}}function bE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ht(191,s));s.call(r)}}}var km={},QA=Tu(km),Yg=Tu(km),Xg=Tu(km);function vd(t){if(t===km)throw Error(ht(174));return t}function ZB(t,e){switch(Er(Xg,e),Er(Yg,t),Er(QA,km),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dx(e,t)}Lr(QA),Er(QA,e)}function Nf(){Lr(QA),Lr(Yg),Lr(Xg)}function CN(t){vd(Xg.current);var e=vd(QA.current),n=Dx(e,t.type);e!==n&&(Er(Yg,t),Er(QA,n))}function e5(t){Yg.current===t&&(Lr(QA),Lr(Yg))}var Jr=Tu(0);function Sv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var k2=[];function t5(){for(var t=0;t<k2.length;t++)k2[t]._workInProgressVersionPrimary=null;k2.length=0}var Qy=$l.ReactCurrentDispatcher,L2=$l.ReactCurrentBatchConfig,Dd=0,es=null,Us=null,qs=null,Fv=!1,pg=!1,Jg=0,cQ=0;function wi(){throw Error(ht(321))}function n5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!iA(t[n],e[n]))return!1;return!0}function r5(t,e,n,r,s,i){if(Dd=i,es=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qy.current=t===null||t.memoizedState===null?fQ:pQ,t=n(r,s),pg){i=0;do{if(pg=!1,Jg=0,25<=i)throw Error(ht(301));i+=1,qs=Us=null,e.updateQueue=null,Qy.current=gQ,t=n(r,s)}while(pg)}if(Qy.current=Tv,e=Us!==null&&Us.next!==null,Dd=0,qs=Us=es=null,Fv=!1,e)throw Error(ht(300));return t}function s5(){var t=Jg!==0;return Jg=0,t}function NA(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qs===null?es.memoizedState=qs=t:qs=qs.next=t,qs}function Fa(){if(Us===null){var t=es.alternate;t=t!==null?t.memoizedState:null}else t=Us.next;var e=qs===null?es.memoizedState:qs.next;if(e!==null)qs=e,Us=t;else{if(t===null)throw Error(ht(310));Us=t,t={memoizedState:Us.memoizedState,baseState:Us.baseState,baseQueue:Us.baseQueue,queue:Us.queue,next:null},qs===null?es.memoizedState=qs=t:qs=qs.next=t}return qs}function Zg(t,e){return typeof e=="function"?e(t):e}function P2(t){var e=Fa(),n=e.queue;if(n===null)throw Error(ht(311));n.lastRenderedReducer=t;var r=Us,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,A=null,l=i;do{var c=l.lane;if((Dd&c)===c)A!==null&&(A=A.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var u={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};A===null?(a=A=u,o=r):A=A.next=u,es.lanes|=c,Qd|=c}l=l.next}while(l!==null&&l!==i);A===null?o=r:A.next=a,iA(r,e.memoizedState)||(Eo=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=A,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,es.lanes|=i,Qd|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function j2(t){var e=Fa(),n=e.queue;if(n===null)throw Error(ht(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);iA(i,e.memoizedState)||(Eo=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function EN(){}function IN(t,e){var n=es,r=Fa(),s=e(),i=!iA(r.memoizedState,s);if(i&&(r.memoizedState=s,Eo=!0),r=r.queue,i5(TN.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||qs!==null&&qs.memoizedState.tag&1){if(n.flags|=2048,em(9,FN.bind(null,n,r,s,e),void 0,null),Xs===null)throw Error(ht(349));Dd&30||SN(n,e,s)}return s}function SN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=es.updateQueue,e===null?(e={lastEffect:null,stores:null},es.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function FN(t,e,n,r){e.value=n,e.getSnapshot=r,NN(e)&&kN(t)}function TN(t,e,n){return n(function(){NN(e)&&kN(t)})}function NN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!iA(t,n)}catch{return!0}}function kN(t){var e=Hl(t,1);e!==null&&sA(e,t,1,-1)}function BE(t){var e=NA();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zg,lastRenderedState:t},e.queue=t,t=t.dispatch=hQ.bind(null,es,t),[e.memoizedState,t]}function em(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=es.updateQueue,e===null?(e={lastEffect:null,stores:null},es.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function LN(){return Fa().memoizedState}function Oy(t,e,n,r){var s=NA();es.flags|=t,s.memoizedState=em(1|e,n,void 0,r===void 0?null:r)}function T1(t,e,n,r){var s=Fa();r=r===void 0?null:r;var i=void 0;if(Us!==null){var o=Us.memoizedState;if(i=o.destroy,r!==null&&n5(r,o.deps)){s.memoizedState=em(e,n,i,r);return}}es.flags|=t,s.memoizedState=em(1|e,n,i,r)}function _E(t,e){return Oy(8390656,8,t,e)}function i5(t,e){return T1(2048,8,t,e)}function PN(t,e){return T1(4,2,t,e)}function jN(t,e){return T1(4,4,t,e)}function UN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function RN(t,e,n){return n=n!=null?n.concat([t]):null,T1(4,4,UN.bind(null,e,t),n)}function o5(){}function DN(t,e){var n=Fa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&n5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function QN(t,e){var n=Fa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&n5(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ON(t,e,n){return Dd&21?(iA(n,e)||(n=zT(),es.lanes|=n,Qd|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Eo=!0),t.memoizedState=n)}function uQ(t,e){var n=gr;gr=n!==0&&4>n?n:4,t(!0);var r=L2.transition;L2.transition={};try{t(!1),e()}finally{gr=n,L2.transition=r}}function MN(){return Fa().memoizedState}function dQ(t,e,n){var r=uu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},HN(t))VN(e,n);else if(n=BN(t,e,n,r),n!==null){var s=Yi();sA(n,t,r,s),KN(n,e,r)}}function hQ(t,e,n){var r=uu(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(HN(t))VN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,iA(a,o)){var A=e.interleaved;A===null?(s.next=s,XB(e)):(s.next=A.next,A.next=s),e.interleaved=s;return}}catch{}finally{}n=BN(t,e,s,r),n!==null&&(s=Yi(),sA(n,t,r,s),KN(n,e,r))}}function HN(t){var e=t.alternate;return t===es||e!==null&&e===es}function VN(t,e){pg=Fv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function KN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,RB(t,n)}}var Tv={readContext:Sa,useCallback:wi,useContext:wi,useEffect:wi,useImperativeHandle:wi,useInsertionEffect:wi,useLayoutEffect:wi,useMemo:wi,useReducer:wi,useRef:wi,useState:wi,useDebugValue:wi,useDeferredValue:wi,useTransition:wi,useMutableSource:wi,useSyncExternalStore:wi,useId:wi,unstable_isNewReconciler:!1},fQ={readContext:Sa,useCallback:function(t,e){return NA().memoizedState=[t,e===void 0?null:e],t},useContext:Sa,useEffect:_E,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Oy(4194308,4,UN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Oy(4194308,4,t,e)},useInsertionEffect:function(t,e){return Oy(4,2,t,e)},useMemo:function(t,e){var n=NA();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=NA();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dQ.bind(null,es,t),[r.memoizedState,t]},useRef:function(t){var e=NA();return t={current:t},e.memoizedState=t},useState:BE,useDebugValue:o5,useDeferredValue:function(t){return NA().memoizedState=t},useTransition:function(){var t=BE(!1),e=t[0];return t=uQ.bind(null,t[1]),NA().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=es,s=NA();if(Kr){if(n===void 0)throw Error(ht(407));n=n()}else{if(n=e(),Xs===null)throw Error(ht(349));Dd&30||SN(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,_E(TN.bind(null,r,i,t),[t]),r.flags|=2048,em(9,FN.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=NA(),e=Xs.identifierPrefix;if(Kr){var n=Fl,r=Sl;n=(r&~(1<<32-rA(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Jg++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cQ++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pQ={readContext:Sa,useCallback:DN,useContext:Sa,useEffect:i5,useImperativeHandle:RN,useInsertionEffect:PN,useLayoutEffect:jN,useMemo:QN,useReducer:P2,useRef:LN,useState:function(){return P2(Zg)},useDebugValue:o5,useDeferredValue:function(t){var e=Fa();return ON(e,Us.memoizedState,t)},useTransition:function(){var t=P2(Zg)[0],e=Fa().memoizedState;return[t,e]},useMutableSource:EN,useSyncExternalStore:IN,useId:MN,unstable_isNewReconciler:!1},gQ={readContext:Sa,useCallback:DN,useContext:Sa,useEffect:i5,useImperativeHandle:RN,useInsertionEffect:PN,useLayoutEffect:jN,useMemo:QN,useReducer:j2,useRef:LN,useState:function(){return j2(Zg)},useDebugValue:o5,useDeferredValue:function(t){var e=Fa();return Us===null?e.memoizedState=t:ON(e,Us.memoizedState,t)},useTransition:function(){var t=j2(Zg)[0],e=Fa().memoizedState;return[t,e]},useMutableSource:EN,useSyncExternalStore:IN,useId:MN,unstable_isNewReconciler:!1};function qa(t,e){if(t&&t.defaultProps){e=ts({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ib(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ts({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var N1={isMounted:function(t){return(t=t._reactInternals)?sh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yi(),s=uu(t),i=Ul(r,s);i.payload=e,n!=null&&(i.callback=n),e=lu(t,i,s),e!==null&&(sA(e,t,s,r),Dy(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yi(),s=uu(t),i=Ul(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=lu(t,i,s),e!==null&&(sA(e,t,s,r),Dy(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yi(),r=uu(t),s=Ul(n,r);s.tag=2,e!=null&&(s.callback=e),e=lu(t,s,r),e!==null&&(sA(e,t,r,n),Dy(e,t,r))}};function CE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Gg(n,r)||!Gg(s,i):!0}function zN(t,e,n){var r=!1,s=xu,i=e.contextType;return typeof i=="object"&&i!==null?i=Sa(i):(s=To(e)?Ud:Li.current,r=e.contextTypes,i=(r=r!=null)?Sf(t,s):xu),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=N1,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function EE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&N1.enqueueReplaceState(e,e.state,null)}function ob(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},JB(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Sa(i):(i=To(e)?Ud:Li.current,s.context=Sf(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ib(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&N1.enqueueReplaceState(s,s.state,null),Iv(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function kf(t,e){try{var n="",r=e;do n+=KD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function U2(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ab(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var mQ=typeof WeakMap=="function"?WeakMap:Map;function GN(t,e,n){n=Ul(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kv||(kv=!0,mb=r),ab(t,e)},n}function WN(t,e,n){n=Ul(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ab(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ab(t,e),typeof r!="function"&&(cu===null?cu=new Set([this]):cu.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function IE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new mQ;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=NQ.bind(null,t,e,n),e.then(t,t))}function SE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function FE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ul(-1,1),e.tag=2,lu(n,e,1))),n.lanes|=1),t)}var yQ=$l.ReactCurrentOwner,Eo=!1;function $i(t,e,n,r){e.child=t===null?bN(e,null,n,r):Tf(e,t.child,n,r)}function TE(t,e,n,r,s){n=n.render;var i=e.ref;return vf(e,s),r=r5(t,e,n,r,i,s),n=s5(),t!==null&&!Eo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vl(t,e,s)):(Kr&&n&&zB(e),e.flags|=1,$i(t,e,r,s),e.child)}function NE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!f5(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,$N(t,e,i,r,s)):(t=Ky(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Gg,n(o,r)&&t.ref===e.ref)return Vl(t,e,s)}return e.flags|=1,t=du(i,r),t.ref=e.ref,t.return=e,e.child=t}function $N(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Gg(i,r)&&t.ref===e.ref)if(Eo=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Eo=!0);else return e.lanes=t.lanes,Vl(t,e,s)}return Ab(t,e,n,r,s)}function qN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Er(df,$o),$o|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Er(df,$o),$o|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Er(df,$o),$o|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Er(df,$o),$o|=r;return $i(t,e,s,n),e.child}function YN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ab(t,e,n,r,s){var i=To(n)?Ud:Li.current;return i=Sf(e,i),vf(e,s),n=r5(t,e,n,r,i,s),r=s5(),t!==null&&!Eo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vl(t,e,s)):(Kr&&r&&zB(e),e.flags|=1,$i(t,e,n,s),e.child)}function kE(t,e,n,r,s){if(To(n)){var i=!0;bv(e)}else i=!1;if(vf(e,s),e.stateNode===null)My(t,e),zN(e,n,r),ob(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var A=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Sa(l):(l=To(n)?Ud:Li.current,l=Sf(e,l));var c=n.getDerivedStateFromProps,u=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||A!==l)&&EE(e,o,r,l),Oc=!1;var f=e.memoizedState;o.state=f,Iv(e,r,o,s),A=e.memoizedState,a!==r||f!==A||Fo.current||Oc?(typeof c=="function"&&(ib(e,n,c,r),A=e.memoizedState),(a=Oc||CE(e,n,a,r,f,A,l))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_N(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:qa(e.type,a),o.props=l,u=e.pendingProps,f=o.context,A=n.contextType,typeof A=="object"&&A!==null?A=Sa(A):(A=To(n)?Ud:Li.current,A=Sf(e,A));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==u||f!==A)&&EE(e,o,r,A),Oc=!1,f=e.memoizedState,o.state=f,Iv(e,r,o,s);var B=e.memoizedState;a!==u||f!==B||Fo.current||Oc?(typeof d=="function"&&(ib(e,n,d,r),B=e.memoizedState),(l=Oc||CE(e,n,l,r,f,B,A)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,B,A),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,B,A)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=B),o.props=r,o.state=B,o.context=A,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return lb(t,e,n,r,i,s)}function lb(t,e,n,r,s,i){YN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&mE(e,n,!1),Vl(t,e,i);r=e.stateNode,yQ.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Tf(e,t.child,null,i),e.child=Tf(e,null,a,i)):$i(t,e,a,i),e.memoizedState=r.state,s&&mE(e,n,!0),e.child}function XN(t){var e=t.stateNode;e.pendingContext?gE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gE(t,e.context,!1),ZB(t,e.containerInfo)}function LE(t,e,n,r,s){return Ff(),WB(s),e.flags|=256,$i(t,e,n,r),e.child}var cb={dehydrated:null,treeContext:null,retryLane:0};function ub(t){return{baseLanes:t,cachePool:null,transitions:null}}function JN(t,e,n){var r=e.pendingProps,s=Jr.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Er(Jr,s&1),t===null)return rb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=P1(o,r,0,null),t=Ed(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ub(n),e.memoizedState=cb,t):a5(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return vQ(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var A={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=A,e.deletions=null):(r=du(s,A),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=du(a,i):(i=Ed(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ub(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=cb,r}return i=t.child,t=i.sibling,r=du(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function a5(t,e){return e=P1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function J0(t,e,n,r){return r!==null&&WB(r),Tf(e,t.child,null,n),t=a5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vQ(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=U2(Error(ht(422))),J0(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=P1({mode:"visible",children:r.children},s,0,null),i=Ed(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Tf(e,t.child,null,o),e.child.memoizedState=ub(o),e.memoizedState=cb,i);if(!(e.mode&1))return J0(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(ht(419)),r=U2(i,r,void 0),J0(t,e,o,r)}if(a=(o&t.childLanes)!==0,Eo||a){if(r=Xs,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Hl(t,s),sA(r,t,s,-1))}return h5(),r=U2(Error(ht(421))),J0(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=kQ.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Yo=Au(s.nextSibling),na=e,Kr=!0,tA=null,t!==null&&(ya[va++]=Sl,ya[va++]=Fl,ya[va++]=Rd,Sl=t.id,Fl=t.overflow,Rd=e),e=a5(e,r.children),e.flags|=4096,e)}function PE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sb(t.return,e,n)}function R2(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ZN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($i(t,e,r.children,n),r=Jr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&PE(t,n,e);else if(t.tag===19)PE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Er(Jr,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Sv(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),R2(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Sv(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}R2(e,!0,n,null,i);break;case"together":R2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function My(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qd|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ht(153));if(e.child!==null){for(t=e.child,n=du(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=du(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wQ(t,e,n){switch(e.tag){case 3:XN(e),Ff();break;case 5:CN(e);break;case 1:To(e.type)&&bv(e);break;case 4:ZB(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Er(Cv,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Er(Jr,Jr.current&1),e.flags|=128,null):n&e.child.childLanes?JN(t,e,n):(Er(Jr,Jr.current&1),t=Vl(t,e,n),t!==null?t.sibling:null);Er(Jr,Jr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ZN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Er(Jr,Jr.current),r)break;return null;case 22:case 23:return e.lanes=0,qN(t,e,n)}return Vl(t,e,n)}var ek,db,tk,nk;ek=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};db=function(){};tk=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,vd(QA.current);var i=null;switch(n){case"input":s=Px(t,s),r=Px(t,r),i=[];break;case"select":s=ts({},s,{value:void 0}),r=ts({},r,{value:void 0}),i=[];break;case"textarea":s=Rx(t,s),r=Rx(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wv)}Qx(n,r);var o;n=null;for(l in s)if(!r.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Qg.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var A=r[l];if(a=s!=null?s[l]:void 0,r.hasOwnProperty(l)&&A!==a&&(A!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||A&&A.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in A)A.hasOwnProperty(o)&&a[o]!==A[o]&&(n||(n={}),n[o]=A[o])}else n||(i||(i=[]),i.push(l,n)),n=A;else l==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,a=a?a.__html:void 0,A!=null&&a!==A&&(i=i||[]).push(l,A)):l==="children"?typeof A!="string"&&typeof A!="number"||(i=i||[]).push(l,""+A):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Qg.hasOwnProperty(l)?(A!=null&&l==="onScroll"&&Nr("scroll",t),i||a===A||(i=[])):(i=i||[]).push(l,A))}n&&(i=i||[]).push("style",n);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};nk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fp(t,e){if(!Kr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xQ(t,e,n){var r=e.pendingProps;switch(GB(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xi(e),null;case 1:return To(e.type)&&xv(),xi(e),null;case 3:return r=e.stateNode,Nf(),Lr(Fo),Lr(Li),t5(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Y0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tA!==null&&(wb(tA),tA=null))),db(t,e),xi(e),null;case 5:e5(e);var s=vd(Xg.current);if(n=e.type,t!==null&&e.stateNode!=null)tk(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ht(166));return xi(e),null}if(t=vd(QA.current),Y0(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[LA]=e,r[qg]=i,t=(e.mode&1)!==0,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(s=0;s<Yp.length;s++)Nr(Yp[s],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":VC(r,i),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Nr("invalid",r);break;case"textarea":zC(r,i),Nr("invalid",r)}Qx(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&q0(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&q0(r.textContent,a,t),s=["children",""+a]):Qg.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Nr("scroll",r)}switch(n){case"input":M0(r),KC(r,i,!0);break;case"textarea":M0(r),GC(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=wv)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=TT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[LA]=e,t[qg]=r,ek(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ox(n,r),n){case"dialog":Nr("cancel",t),Nr("close",t),s=r;break;case"iframe":case"object":case"embed":Nr("load",t),s=r;break;case"video":case"audio":for(s=0;s<Yp.length;s++)Nr(Yp[s],t);s=r;break;case"source":Nr("error",t),s=r;break;case"img":case"image":case"link":Nr("error",t),Nr("load",t),s=r;break;case"details":Nr("toggle",t),s=r;break;case"input":VC(t,r),s=Px(t,r),Nr("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ts({},r,{value:void 0}),Nr("invalid",t);break;case"textarea":zC(t,r),s=Rx(t,r),Nr("invalid",t);break;default:s=r}Qx(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var A=a[i];i==="style"?LT(t,A):i==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&NT(t,A)):i==="children"?typeof A=="string"?(n!=="textarea"||A!=="")&&Og(t,A):typeof A=="number"&&Og(t,""+A):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qg.hasOwnProperty(i)?A!=null&&i==="onScroll"&&Nr("scroll",t):A!=null&&NB(t,i,A,o))}switch(n){case"input":M0(t),KC(t,r,!1);break;case"textarea":M0(t),GC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+wu(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?pf(t,!!r.multiple,i,!1):r.defaultValue!=null&&pf(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=wv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xi(e),null;case 6:if(t&&e.stateNode!=null)nk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ht(166));if(n=vd(Xg.current),vd(QA.current),Y0(e)){if(r=e.stateNode,n=e.memoizedProps,r[LA]=e,(i=r.nodeValue!==n)&&(t=na,t!==null))switch(t.tag){case 3:q0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&q0(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[LA]=e,e.stateNode=r}return xi(e),null;case 13:if(Lr(Jr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Kr&&Yo!==null&&e.mode&1&&!(e.flags&128))wN(),Ff(),e.flags|=98560,i=!1;else if(i=Y0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ht(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ht(317));i[LA]=e}else Ff(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xi(e),i=!1}else tA!==null&&(wb(tA),tA=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Jr.current&1?Ds===0&&(Ds=3):h5())),e.updateQueue!==null&&(e.flags|=4),xi(e),null);case 4:return Nf(),db(t,e),t===null&&Wg(e.stateNode.containerInfo),xi(e),null;case 10:return YB(e.type._context),xi(e),null;case 17:return To(e.type)&&xv(),xi(e),null;case 19:if(Lr(Jr),i=e.memoizedState,i===null)return xi(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Fp(i,!1);else{if(Ds!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Sv(t),o!==null){for(e.flags|=128,Fp(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Er(Jr,Jr.current&1|2),e.child}t=t.sibling}i.tail!==null&&hs()>Lf&&(e.flags|=128,r=!0,Fp(i,!1),e.lanes=4194304)}else{if(!r)if(t=Sv(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fp(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Kr)return xi(e),null}else 2*hs()-i.renderingStartTime>Lf&&n!==1073741824&&(e.flags|=128,r=!0,Fp(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=hs(),e.sibling=null,n=Jr.current,Er(Jr,r?n&1|2:n&1),e):(xi(e),null);case 22:case 23:return d5(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$o&1073741824&&(xi(e),e.subtreeFlags&6&&(e.flags|=8192)):xi(e),null;case 24:return null;case 25:return null}throw Error(ht(156,e.tag))}function bQ(t,e){switch(GB(e),e.tag){case 1:return To(e.type)&&xv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Nf(),Lr(Fo),Lr(Li),t5(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return e5(e),null;case 13:if(Lr(Jr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ht(340));Ff()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Lr(Jr),null;case 4:return Nf(),null;case 10:return YB(e.type._context),null;case 22:case 23:return d5(),null;case 24:return null;default:return null}}var Z0=!1,Si=!1,BQ=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function uf(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ss(t,e,r)}else n.current=null}function hb(t,e,n){try{n()}catch(r){ss(t,e,r)}}var jE=!1;function _Q(t,e){if(Yx=mv,t=aN(),KB(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,A=-1,l=0,c=0,u=t,f=null;t:for(;;){for(var d;u!==n||s!==0&&u.nodeType!==3||(a=o+s),u!==i||r!==0&&u.nodeType!==3||(A=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(d=u.firstChild)!==null;)f=u,u=d;for(;;){if(u===t)break t;if(f===n&&++l===s&&(a=o),f===i&&++c===r&&(A=o),(d=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=d}n=a===-1||A===-1?null:{start:a,end:A}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xx={focusedElem:t,selectionRange:n},mv=!1,Ht=e;Ht!==null;)if(e=Ht,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ht=t;else for(;Ht!==null;){e=Ht;try{var B=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var b=B.memoizedProps,E=B.memoizedState,v=e.stateNode,C=v.getSnapshotBeforeUpdate(e.elementType===e.type?b:qa(e.type,b),E);v.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ht(163))}}catch(R){ss(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,Ht=t;break}Ht=e.return}return B=jE,jE=!1,B}function gg(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&hb(e,n,i)}s=s.next}while(s!==r)}}function k1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rk(t){var e=t.alternate;e!==null&&(t.alternate=null,rk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[LA],delete e[qg],delete e[eb],delete e[oQ],delete e[aQ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sk(t){return t.tag===5||t.tag===3||t.tag===4}function UE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wv));else if(r!==4&&(t=t.child,t!==null))for(pb(t,e,n),t=t.sibling;t!==null;)pb(t,e,n),t=t.sibling}function gb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gb(t,e,n),t=t.sibling;t!==null;)gb(t,e,n),t=t.sibling}var ai=null,Xa=!1;function Tc(t,e,n){for(n=n.child;n!==null;)ik(t,e,n),n=n.sibling}function ik(t,e,n){if(DA&&typeof DA.onCommitFiberUnmount=="function")try{DA.onCommitFiberUnmount(_1,n)}catch{}switch(n.tag){case 5:Si||uf(n,e);case 6:var r=ai,s=Xa;ai=null,Tc(t,e,n),ai=r,Xa=s,ai!==null&&(Xa?(t=ai,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ai.removeChild(n.stateNode));break;case 18:ai!==null&&(Xa?(t=ai,n=n.stateNode,t.nodeType===8?T2(t.parentNode,n):t.nodeType===1&&T2(t,n),Kg(t)):T2(ai,n.stateNode));break;case 4:r=ai,s=Xa,ai=n.stateNode.containerInfo,Xa=!0,Tc(t,e,n),ai=r,Xa=s;break;case 0:case 11:case 14:case 15:if(!Si&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&hb(n,e,o),s=s.next}while(s!==r)}Tc(t,e,n);break;case 1:if(!Si&&(uf(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ss(n,e,a)}Tc(t,e,n);break;case 21:Tc(t,e,n);break;case 22:n.mode&1?(Si=(r=Si)||n.memoizedState!==null,Tc(t,e,n),Si=r):Tc(t,e,n);break;default:Tc(t,e,n)}}function RE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new BQ),e.forEach(function(r){var s=LQ.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ga(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ai=a.stateNode,Xa=!1;break e;case 3:ai=a.stateNode.containerInfo,Xa=!0;break e;case 4:ai=a.stateNode.containerInfo,Xa=!0;break e}a=a.return}if(ai===null)throw Error(ht(160));ik(i,o,s),ai=null,Xa=!1;var A=s.alternate;A!==null&&(A.return=null),s.return=null}catch(l){ss(s,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ok(e,t),e=e.sibling}function ok(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ga(e,t),SA(t),r&4){try{gg(3,t,t.return),k1(3,t)}catch(b){ss(t,t.return,b)}try{gg(5,t,t.return)}catch(b){ss(t,t.return,b)}}break;case 1:Ga(e,t),SA(t),r&512&&n!==null&&uf(n,n.return);break;case 5:if(Ga(e,t),SA(t),r&512&&n!==null&&uf(n,n.return),t.flags&32){var s=t.stateNode;try{Og(s,"")}catch(b){ss(t,t.return,b)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&ST(s,i),Ox(a,o);var l=Ox(a,i);for(o=0;o<A.length;o+=2){var c=A[o],u=A[o+1];c==="style"?LT(s,u):c==="dangerouslySetInnerHTML"?NT(s,u):c==="children"?Og(s,u):NB(s,c,u,l)}switch(a){case"input":jx(s,i);break;case"textarea":FT(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var d=i.value;d!=null?pf(s,!!i.multiple,d,!1):f!==!!i.multiple&&(i.defaultValue!=null?pf(s,!!i.multiple,i.defaultValue,!0):pf(s,!!i.multiple,i.multiple?[]:"",!1))}s[qg]=i}catch(b){ss(t,t.return,b)}}break;case 6:if(Ga(e,t),SA(t),r&4){if(t.stateNode===null)throw Error(ht(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(b){ss(t,t.return,b)}}break;case 3:if(Ga(e,t),SA(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Kg(e.containerInfo)}catch(b){ss(t,t.return,b)}break;case 4:Ga(e,t),SA(t);break;case 13:Ga(e,t),SA(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(c5=hs())),r&4&&RE(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Si=(l=Si)||c,Ga(e,t),Si=l):Ga(e,t),SA(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(Ht=t,c=t.child;c!==null;){for(u=Ht=c;Ht!==null;){switch(f=Ht,d=f.child,f.tag){case 0:case 11:case 14:case 15:gg(4,f,f.return);break;case 1:uf(f,f.return);var B=f.stateNode;if(typeof B.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,B.props=e.memoizedProps,B.state=e.memoizedState,B.componentWillUnmount()}catch(b){ss(r,n,b)}}break;case 5:uf(f,f.return);break;case 22:if(f.memoizedState!==null){QE(u);continue}}d!==null?(d.return=f,Ht=d):QE(u)}c=c.sibling}e:for(c=null,u=t;;){if(u.tag===5){if(c===null){c=u;try{s=u.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=u.stateNode,A=u.memoizedProps.style,o=A!=null&&A.hasOwnProperty("display")?A.display:null,a.style.display=kT("display",o))}catch(b){ss(t,t.return,b)}}}else if(u.tag===6){if(c===null)try{u.stateNode.nodeValue=l?"":u.memoizedProps}catch(b){ss(t,t.return,b)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;c===u&&(c=null),u=u.return}c===u&&(c=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Ga(e,t),SA(t),r&4&&RE(t);break;case 21:break;default:Ga(e,t),SA(t)}}function SA(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sk(n)){var r=n;break e}n=n.return}throw Error(ht(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Og(s,""),r.flags&=-33);var i=UE(t);gb(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=UE(t);pb(t,a,o);break;default:throw Error(ht(161))}}catch(A){ss(t,t.return,A)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CQ(t,e,n){Ht=t,ak(t)}function ak(t,e,n){for(var r=(t.mode&1)!==0;Ht!==null;){var s=Ht,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Z0;if(!o){var a=s.alternate,A=a!==null&&a.memoizedState!==null||Si;a=Z0;var l=Si;if(Z0=o,(Si=A)&&!l)for(Ht=s;Ht!==null;)o=Ht,A=o.child,o.tag===22&&o.memoizedState!==null?OE(s):A!==null?(A.return=o,Ht=A):OE(s);for(;i!==null;)Ht=i,ak(i),i=i.sibling;Ht=s,Z0=a,Si=l}DE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ht=i):DE(t)}}function DE(t){for(;Ht!==null;){var e=Ht;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Si||k1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Si)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:qa(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&bE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var A=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&n.focus();break;case"img":A.src&&(n.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var u=c.dehydrated;u!==null&&Kg(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ht(163))}Si||e.flags&512&&fb(e)}catch(f){ss(e,e.return,f)}}if(e===t){Ht=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ht=n;break}Ht=e.return}}function QE(t){for(;Ht!==null;){var e=Ht;if(e===t){Ht=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ht=n;break}Ht=e.return}}function OE(t){for(;Ht!==null;){var e=Ht;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{k1(4,e)}catch(A){ss(e,n,A)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(A){ss(e,s,A)}}var i=e.return;try{fb(e)}catch(A){ss(e,i,A)}break;case 5:var o=e.return;try{fb(e)}catch(A){ss(e,o,A)}}}catch(A){ss(e,e.return,A)}if(e===t){Ht=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ht=a;break}Ht=e.return}}var EQ=Math.ceil,Nv=$l.ReactCurrentDispatcher,A5=$l.ReactCurrentOwner,_a=$l.ReactCurrentBatchConfig,qn=0,Xs=null,_s=null,ci=0,$o=0,df=Tu(0),Ds=0,tm=null,Qd=0,L1=0,l5=0,mg=null,_o=null,c5=0,Lf=1/0,_l=null,kv=!1,mb=null,cu=null,ey=!1,Yc=null,Lv=0,yg=0,yb=null,Hy=-1,Vy=0;function Yi(){return qn&6?hs():Hy!==-1?Hy:Hy=hs()}function uu(t){return t.mode&1?qn&2&&ci!==0?ci&-ci:lQ.transition!==null?(Vy===0&&(Vy=zT()),Vy):(t=gr,t!==0||(t=window.event,t=t===void 0?16:JT(t.type)),t):1}function sA(t,e,n,r){if(50<yg)throw yg=0,yb=null,Error(ht(185));Fm(t,n,r),(!(qn&2)||t!==Xs)&&(t===Xs&&(!(qn&2)&&(L1|=n),Ds===4&&Hc(t,ci)),No(t,r),n===1&&qn===0&&!(e.mode&1)&&(Lf=hs()+500,F1&&Nu()))}function No(t,e){var n=t.callbackNode;l6(t,e);var r=gv(t,t===Xs?ci:0);if(r===0)n!==null&&qC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qC(n),e===1)t.tag===0?AQ(ME.bind(null,t)):mN(ME.bind(null,t)),sQ(function(){!(qn&6)&&Nu()}),n=null;else{switch(GT(r)){case 1:n=UB;break;case 4:n=VT;break;case 16:n=pv;break;case 536870912:n=KT;break;default:n=pv}n=pk(n,Ak.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ak(t,e){if(Hy=-1,Vy=0,qn&6)throw Error(ht(327));var n=t.callbackNode;if(wf()&&t.callbackNode!==n)return null;var r=gv(t,t===Xs?ci:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pv(t,r);else{e=r;var s=qn;qn|=2;var i=ck();(Xs!==t||ci!==e)&&(_l=null,Lf=hs()+500,Cd(t,e));do try{FQ();break}catch(a){lk(t,a)}while(1);qB(),Nv.current=i,qn=s,_s!==null?e=0:(Xs=null,ci=0,e=Ds)}if(e!==0){if(e===2&&(s=zx(t),s!==0&&(r=s,e=vb(t,s))),e===1)throw n=tm,Cd(t,0),Hc(t,r),No(t,hs()),n;if(e===6)Hc(t,r);else{if(s=t.current.alternate,!(r&30)&&!IQ(s)&&(e=Pv(t,r),e===2&&(i=zx(t),i!==0&&(r=i,e=vb(t,i))),e===1))throw n=tm,Cd(t,0),Hc(t,r),No(t,hs()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ht(345));case 2:sd(t,_o,_l);break;case 3:if(Hc(t,r),(r&130023424)===r&&(e=c5+500-hs(),10<e)){if(gv(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Yi(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Zx(sd.bind(null,t,_o,_l),e);break}sd(t,_o,_l);break;case 4:if(Hc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-rA(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=hs()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EQ(r/1960))-r,10<r){t.timeoutHandle=Zx(sd.bind(null,t,_o,_l),r);break}sd(t,_o,_l);break;case 5:sd(t,_o,_l);break;default:throw Error(ht(329))}}}return No(t,hs()),t.callbackNode===n?Ak.bind(null,t):null}function vb(t,e){var n=mg;return t.current.memoizedState.isDehydrated&&(Cd(t,e).flags|=256),t=Pv(t,e),t!==2&&(e=_o,_o=n,e!==null&&wb(e)),t}function wb(t){_o===null?_o=t:_o.push.apply(_o,t)}function IQ(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!iA(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hc(t,e){for(e&=~l5,e&=~L1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rA(e),r=1<<n;t[n]=-1,e&=~r}}function ME(t){if(qn&6)throw Error(ht(327));wf();var e=gv(t,0);if(!(e&1))return No(t,hs()),null;var n=Pv(t,e);if(t.tag!==0&&n===2){var r=zx(t);r!==0&&(e=r,n=vb(t,r))}if(n===1)throw n=tm,Cd(t,0),Hc(t,e),No(t,hs()),n;if(n===6)throw Error(ht(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,sd(t,_o,_l),No(t,hs()),null}function u5(t,e){var n=qn;qn|=1;try{return t(e)}finally{qn=n,qn===0&&(Lf=hs()+500,F1&&Nu())}}function Od(t){Yc!==null&&Yc.tag===0&&!(qn&6)&&wf();var e=qn;qn|=1;var n=_a.transition,r=gr;try{if(_a.transition=null,gr=1,t)return t()}finally{gr=r,_a.transition=n,qn=e,!(qn&6)&&Nu()}}function d5(){$o=df.current,Lr(df)}function Cd(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rQ(n)),_s!==null)for(n=_s.return;n!==null;){var r=n;switch(GB(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xv();break;case 3:Nf(),Lr(Fo),Lr(Li),t5();break;case 5:e5(r);break;case 4:Nf();break;case 13:Lr(Jr);break;case 19:Lr(Jr);break;case 10:YB(r.type._context);break;case 22:case 23:d5()}n=n.return}if(Xs=t,_s=t=du(t.current,null),ci=$o=e,Ds=0,tm=null,l5=L1=Qd=0,_o=mg=null,yd!==null){for(e=0;e<yd.length;e++)if(n=yd[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}yd=null}return t}function lk(t,e){do{var n=_s;try{if(qB(),Qy.current=Tv,Fv){for(var r=es.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Fv=!1}if(Dd=0,qs=Us=es=null,pg=!1,Jg=0,A5.current=null,n===null||n.return===null){Ds=1,tm=e,_s=null;break}e:{var i=t,o=n.return,a=n,A=e;if(e=ci,a.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var l=A,c=a,u=c.tag;if(!(c.mode&1)&&(u===0||u===11||u===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=SE(o);if(d!==null){d.flags&=-257,FE(d,o,a,i,e),d.mode&1&&IE(i,l,e),e=d,A=l;var B=e.updateQueue;if(B===null){var b=new Set;b.add(A),e.updateQueue=b}else B.add(A);break e}else{if(!(e&1)){IE(i,l,e),h5();break e}A=Error(ht(426))}}else if(Kr&&a.mode&1){var E=SE(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),FE(E,o,a,i,e),WB(kf(A,a));break e}}i=A=kf(A,a),Ds!==4&&(Ds=2),mg===null?mg=[i]:mg.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=GN(i,A,e);xE(i,v);break e;case 1:a=A;var C=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof C.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(cu===null||!cu.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=WN(i,a,e);xE(i,R);break e}}i=i.return}while(i!==null)}dk(n)}catch(P){e=P,_s===n&&n!==null&&(_s=n=n.return);continue}break}while(1)}function ck(){var t=Nv.current;return Nv.current=Tv,t===null?Tv:t}function h5(){(Ds===0||Ds===3||Ds===2)&&(Ds=4),Xs===null||!(Qd&268435455)&&!(L1&268435455)||Hc(Xs,ci)}function Pv(t,e){var n=qn;qn|=2;var r=ck();(Xs!==t||ci!==e)&&(_l=null,Cd(t,e));do try{SQ();break}catch(s){lk(t,s)}while(1);if(qB(),qn=n,Nv.current=r,_s!==null)throw Error(ht(261));return Xs=null,ci=0,Ds}function SQ(){for(;_s!==null;)uk(_s)}function FQ(){for(;_s!==null&&!e6();)uk(_s)}function uk(t){var e=fk(t.alternate,t,$o);t.memoizedProps=t.pendingProps,e===null?dk(t):_s=e,A5.current=null}function dk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bQ(n,e),n!==null){n.flags&=32767,_s=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ds=6,_s=null;return}}else if(n=xQ(n,e,$o),n!==null){_s=n;return}if(e=e.sibling,e!==null){_s=e;return}_s=e=t}while(e!==null);Ds===0&&(Ds=5)}function sd(t,e,n){var r=gr,s=_a.transition;try{_a.transition=null,gr=1,TQ(t,e,n,r)}finally{_a.transition=s,gr=r}return null}function TQ(t,e,n,r){do wf();while(Yc!==null);if(qn&6)throw Error(ht(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ht(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(c6(t,i),t===Xs&&(_s=Xs=null,ci=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ey||(ey=!0,pk(pv,function(){return wf(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=_a.transition,_a.transition=null;var o=gr;gr=1;var a=qn;qn|=4,A5.current=null,_Q(t,n),ok(n,t),Y6(Xx),mv=!!Yx,Xx=Yx=null,t.current=n,CQ(n),t6(),qn=a,gr=o,_a.transition=i}else t.current=n;if(ey&&(ey=!1,Yc=t,Lv=s),i=t.pendingLanes,i===0&&(cu=null),s6(n.stateNode),No(t,hs()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(kv)throw kv=!1,t=mb,mb=null,t;return Lv&1&&t.tag!==0&&wf(),i=t.pendingLanes,i&1?t===yb?yg++:(yg=0,yb=t):yg=0,Nu(),null}function wf(){if(Yc!==null){var t=GT(Lv),e=_a.transition,n=gr;try{if(_a.transition=null,gr=16>t?16:t,Yc===null)var r=!1;else{if(t=Yc,Yc=null,Lv=0,qn&6)throw Error(ht(331));var s=qn;for(qn|=4,Ht=t.current;Ht!==null;){var i=Ht,o=i.child;if(Ht.flags&16){var a=i.deletions;if(a!==null){for(var A=0;A<a.length;A++){var l=a[A];for(Ht=l;Ht!==null;){var c=Ht;switch(c.tag){case 0:case 11:case 15:gg(8,c,i)}var u=c.child;if(u!==null)u.return=c,Ht=u;else for(;Ht!==null;){c=Ht;var f=c.sibling,d=c.return;if(rk(c),c===l){Ht=null;break}if(f!==null){f.return=d,Ht=f;break}Ht=d}}}var B=i.alternate;if(B!==null){var b=B.child;if(b!==null){B.child=null;do{var E=b.sibling;b.sibling=null,b=E}while(b!==null)}}Ht=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ht=o;else e:for(;Ht!==null;){if(i=Ht,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gg(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Ht=v;break e}Ht=i.return}}var C=t.current;for(Ht=C;Ht!==null;){o=Ht;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Ht=S;else e:for(o=C;Ht!==null;){if(a=Ht,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:k1(9,a)}}catch(P){ss(a,a.return,P)}if(a===o){Ht=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,Ht=R;break e}Ht=a.return}}if(qn=s,Nu(),DA&&typeof DA.onPostCommitFiberRoot=="function")try{DA.onPostCommitFiberRoot(_1,t)}catch{}r=!0}return r}finally{gr=n,_a.transition=e}}return!1}function HE(t,e,n){e=kf(n,e),e=GN(t,e,1),t=lu(t,e,1),e=Yi(),t!==null&&(Fm(t,1,e),No(t,e))}function ss(t,e,n){if(t.tag===3)HE(t,t,n);else for(;e!==null;){if(e.tag===3){HE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cu===null||!cu.has(r))){t=kf(n,t),t=WN(e,t,1),e=lu(e,t,1),t=Yi(),e!==null&&(Fm(e,1,t),No(e,t));break}}e=e.return}}function NQ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yi(),t.pingedLanes|=t.suspendedLanes&n,Xs===t&&(ci&n)===n&&(Ds===4||Ds===3&&(ci&130023424)===ci&&500>hs()-c5?Cd(t,0):l5|=n),No(t,e)}function hk(t,e){e===0&&(t.mode&1?(e=K0,K0<<=1,!(K0&130023424)&&(K0=4194304)):e=1);var n=Yi();t=Hl(t,e),t!==null&&(Fm(t,e,n),No(t,n))}function kQ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hk(t,n)}function LQ(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ht(314))}r!==null&&r.delete(e),hk(t,n)}var fk;fk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fo.current)Eo=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Eo=!1,wQ(t,e,n);Eo=!!(t.flags&131072)}else Eo=!1,Kr&&e.flags&1048576&&yN(e,_v,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;My(t,e),t=e.pendingProps;var s=Sf(e,Li.current);vf(e,n),s=r5(null,e,r,t,s,n);var i=s5();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,To(r)?(i=!0,bv(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,JB(e),s.updater=N1,e.stateNode=s,s._reactInternals=e,ob(e,r,t,n),e=lb(null,e,r,!0,i,n)):(e.tag=0,Kr&&i&&zB(e),$i(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(My(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=jQ(r),t=qa(r,t),s){case 0:e=Ab(null,e,r,t,n);break e;case 1:e=kE(null,e,r,t,n);break e;case 11:e=TE(null,e,r,t,n);break e;case 14:e=NE(null,e,r,qa(r.type,t),n);break e}throw Error(ht(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qa(r,s),Ab(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qa(r,s),kE(t,e,r,s,n);case 3:e:{if(XN(e),t===null)throw Error(ht(387));r=e.pendingProps,i=e.memoizedState,s=i.element,_N(t,e),Iv(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=kf(Error(ht(423)),e),e=LE(t,e,r,n,s);break e}else if(r!==s){s=kf(Error(ht(424)),e),e=LE(t,e,r,n,s);break e}else for(Yo=Au(e.stateNode.containerInfo.firstChild),na=e,Kr=!0,tA=null,n=bN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ff(),r===s){e=Vl(t,e,n);break e}$i(t,e,r,n)}e=e.child}return e;case 5:return CN(e),t===null&&rb(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Jx(r,s)?o=null:i!==null&&Jx(r,i)&&(e.flags|=32),YN(t,e),$i(t,e,o,n),e.child;case 6:return t===null&&rb(e),null;case 13:return JN(t,e,n);case 4:return ZB(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Tf(e,null,r,n):$i(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qa(r,s),TE(t,e,r,s,n);case 7:return $i(t,e,e.pendingProps,n),e.child;case 8:return $i(t,e,e.pendingProps.children,n),e.child;case 12:return $i(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Er(Cv,r._currentValue),r._currentValue=o,i!==null)if(iA(i.value,o)){if(i.children===s.children&&!Fo.current){e=Vl(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var A=a.firstContext;A!==null;){if(A.context===r){if(i.tag===1){A=Ul(-1,n&-n),A.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?A.next=A:(A.next=c.next,c.next=A),l.pending=A}}i.lanes|=n,A=i.alternate,A!==null&&(A.lanes|=n),sb(i.return,n,e),a.lanes|=n;break}A=A.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ht(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),sb(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$i(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,vf(e,n),s=Sa(s),r=r(s),e.flags|=1,$i(t,e,r,n),e.child;case 14:return r=e.type,s=qa(r,e.pendingProps),s=qa(r.type,s),NE(t,e,r,s,n);case 15:return $N(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qa(r,s),My(t,e),e.tag=1,To(r)?(t=!0,bv(e)):t=!1,vf(e,n),zN(e,r,s),ob(e,r,s,n),lb(null,e,r,!0,t,n);case 19:return ZN(t,e,n);case 22:return qN(t,e,n)}throw Error(ht(156,e.tag))};function pk(t,e){return HT(t,e)}function PQ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xa(t,e,n,r){return new PQ(t,e,n,r)}function f5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jQ(t){if(typeof t=="function")return f5(t)?1:0;if(t!=null){if(t=t.$$typeof,t===LB)return 11;if(t===PB)return 14}return 2}function du(t,e){var n=t.alternate;return n===null?(n=xa(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ky(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")f5(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case tf:return Ed(n.children,s,i,e);case kB:o=8,s|=8;break;case Tx:return t=xa(12,n,e,s|2),t.elementType=Tx,t.lanes=i,t;case Nx:return t=xa(13,n,e,s),t.elementType=Nx,t.lanes=i,t;case kx:return t=xa(19,n,e,s),t.elementType=kx,t.lanes=i,t;case CT:return P1(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BT:o=10;break e;case _T:o=9;break e;case LB:o=11;break e;case PB:o=14;break e;case Qc:o=16,r=null;break e}throw Error(ht(130,t==null?t:typeof t,""))}return e=xa(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ed(t,e,n,r){return t=xa(7,t,r,e),t.lanes=n,t}function P1(t,e,n,r){return t=xa(22,t,r,e),t.elementType=CT,t.lanes=n,t.stateNode={isHidden:!1},t}function D2(t,e,n){return t=xa(6,t,null,e),t.lanes=n,t}function Q2(t,e,n){return e=xa(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UQ(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=v2(0),this.expirationTimes=v2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=v2(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function p5(t,e,n,r,s,i,o,a,A){return t=new UQ(t,e,n,a,A),e===1?(e=1,i===!0&&(e|=8)):e=0,i=xa(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},JB(i),t}function RQ(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ef,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gk(t){if(!t)return xu;t=t._reactInternals;e:{if(sh(t)!==t||t.tag!==1)throw Error(ht(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(To(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ht(171))}if(t.tag===1){var n=t.type;if(To(n))return gN(t,n,e)}return e}function mk(t,e,n,r,s,i,o,a,A){return t=p5(n,r,!0,t,s,i,o,a,A),t.context=gk(null),n=t.current,r=Yi(),s=uu(n),i=Ul(r,s),i.callback=e??null,lu(n,i,s),t.current.lanes=s,Fm(t,s,r),No(t,r),t}function j1(t,e,n,r){var s=e.current,i=Yi(),o=uu(s);return n=gk(n),e.context===null?e.context=n:e.pendingContext=n,e=Ul(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=lu(s,e,o),t!==null&&(sA(t,s,o,i),Dy(t,s,o)),o}function jv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function VE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function g5(t,e){VE(t,e),(t=t.alternate)&&VE(t,e)}function DQ(){return null}var yk=typeof reportError=="function"?reportError:function(t){console.error(t)};function m5(t){this._internalRoot=t}U1.prototype.render=m5.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ht(409));j1(t,e,null,null)};U1.prototype.unmount=m5.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Od(function(){j1(null,t,null,null)}),e[Ml]=null}};function U1(t){this._internalRoot=t}U1.prototype.unstable_scheduleHydration=function(t){if(t){var e=qT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mc.length&&e!==0&&e<Mc[n].priority;n++);Mc.splice(n,0,t),n===0&&XT(t)}};function y5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function R1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function KE(){}function QQ(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var l=jv(o);i.call(l)}}var o=mk(e,r,t,0,null,!1,!1,"",KE);return t._reactRootContainer=o,t[Ml]=o.current,Wg(t.nodeType===8?t.parentNode:t),Od(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var l=jv(A);a.call(l)}}var A=p5(t,0,!1,null,null,!1,!1,"",KE);return t._reactRootContainer=A,t[Ml]=A.current,Wg(t.nodeType===8?t.parentNode:t),Od(function(){j1(e,A,n,r)}),A}function D1(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var A=jv(o);a.call(A)}}j1(e,o,t,s)}else o=QQ(n,e,t,s,r);return jv(o)}WT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qp(e.pendingLanes);n!==0&&(RB(e,n|1),No(e,hs()),!(qn&6)&&(Lf=hs()+500,Nu()))}break;case 13:Od(function(){var r=Hl(t,1);if(r!==null){var s=Yi();sA(r,t,1,s)}}),g5(t,1)}};DB=function(t){if(t.tag===13){var e=Hl(t,134217728);if(e!==null){var n=Yi();sA(e,t,134217728,n)}g5(t,134217728)}};$T=function(t){if(t.tag===13){var e=uu(t),n=Hl(t,e);if(n!==null){var r=Yi();sA(n,t,e,r)}g5(t,e)}};qT=function(){return gr};YT=function(t,e){var n=gr;try{return gr=t,e()}finally{gr=n}};Hx=function(t,e,n){switch(e){case"input":if(jx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=S1(r);if(!s)throw Error(ht(90));IT(r),jx(r,s)}}}break;case"textarea":FT(t,n);break;case"select":e=n.value,e!=null&&pf(t,!!n.multiple,e,!1)}};UT=u5;RT=Od;var OQ={usingClientEntryPoint:!1,Events:[Nm,of,S1,PT,jT,u5]},Tp={findFiberByHostInstance:md,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MQ={bundleType:Tp.bundleType,version:Tp.version,rendererPackageName:Tp.rendererPackageName,rendererConfig:Tp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$l.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=OT(t),t===null?null:t.stateNode},findFiberByHostInstance:Tp.findFiberByHostInstance||DQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ty=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ty.isDisabled&&ty.supportsFiber)try{_1=ty.inject(MQ),DA=ty}catch{}}oa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OQ;oa.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y5(e))throw Error(ht(200));return RQ(t,e,null,n)};oa.createRoot=function(t,e){if(!y5(t))throw Error(ht(299));var n=!1,r="",s=yk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=p5(t,1,!1,null,null,n,!1,r,s),t[Ml]=e.current,Wg(t.nodeType===8?t.parentNode:t),new m5(e)};oa.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ht(188)):(t=Object.keys(t).join(","),Error(ht(268,t)));return t=OT(e),t=t===null?null:t.stateNode,t};oa.flushSync=function(t){return Od(t)};oa.hydrate=function(t,e,n){if(!R1(e))throw Error(ht(200));return D1(null,t,e,!0,n)};oa.hydrateRoot=function(t,e,n){if(!y5(t))throw Error(ht(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=yk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=mk(e,null,t,1,n??null,s,!1,i,o),t[Ml]=e.current,Wg(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new U1(e)};oa.render=function(t,e,n){if(!R1(e))throw Error(ht(200));return D1(null,t,e,!1,n)};oa.unmountComponentAtNode=function(t){if(!R1(t))throw Error(ht(40));return t._reactRootContainer?(Od(function(){D1(null,null,t,!1,function(){t._reactRootContainer=null,t[Ml]=null})}),!0):!1};oa.unstable_batchedUpdates=u5;oa.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!R1(n))throw Error(ht(200));if(t==null||t._reactInternals===void 0)throw Error(ht(38));return D1(t,e,n,!1,r)};oa.version="18.3.1-next-f1338f8080-20240426";function vk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vk)}catch(t){console.error(t)}}vk(),vT.exports=oa;var v5=vT.exports;const HQ=b1(v5),VQ=aT({__proto__:null,default:HQ},[v5]);var zE=v5;Sx.createRoot=zE.createRoot,Sx.hydrateRoot=zE.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hr(){return Hr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hr.apply(this,arguments)}var ds;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ds||(ds={}));const GE="popstate";function KQ(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return nm("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Md(s)}return GQ(e,n,null,t)}function Un(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zQ(){return Math.random().toString(36).substr(2,8)}function WE(t,e){return{usr:t.state,key:t.key,idx:e}}function nm(t,e,n,r){return n===void 0&&(n=null),Hr({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ql(e):e,{state:n,key:e&&e.key||r||zQ()})}function Md(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ql(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function GQ(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ds.Pop,A=null,l=c();l==null&&(l=0,o.replaceState(Hr({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function u(){a=ds.Pop;let E=c(),v=E==null?null:E-l;l=E,A&&A({action:a,location:b.location,delta:v})}function f(E,v){a=ds.Push;let C=nm(b.location,E,v);n&&n(C,E),l=c()+1;let S=WE(C,l),R=b.createHref(C);try{o.pushState(S,"",R)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(R)}i&&A&&A({action:a,location:b.location,delta:1})}function d(E,v){a=ds.Replace;let C=nm(b.location,E,v);n&&n(C,E),l=c();let S=WE(C,l),R=b.createHref(C);o.replaceState(S,"",R),i&&A&&A({action:a,location:b.location,delta:0})}function B(E){let v=s.location.origin!=="null"?s.location.origin:s.location.href,C=typeof E=="string"?E:Md(E);return C=C.replace(/ $/,"%20"),Un(v,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,v)}let b={get action(){return a},get location(){return t(s,o)},listen(E){if(A)throw new Error("A history only accepts one active listener");return s.addEventListener(GE,u),A=E,()=>{s.removeEventListener(GE,u),A=null}},createHref(E){return e(s,E)},createURL:B,encodeLocation(E){let v=B(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:d,go(E){return o.go(E)}};return b}var dr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dr||(dr={}));const WQ=new Set(["lazy","caseSensitive","path","id","index","children"]);function $Q(t){return t.index===!0}function Uv(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(Un(s.index!==!0||!s.children,"Cannot specify children on an index route"),Un(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),$Q(s)){let A=Hr({},s,e(s),{id:a});return r[a]=A,A}else{let A=Hr({},s,e(s),{id:a,children:void 0});return r[a]=A,s.children&&(A.children=Uv(s.children,e,o,r)),A}})}function ud(t,e,n){return n===void 0&&(n="/"),zy(t,e,n,!1)}function zy(t,e,n,r){let s=typeof e=="string"?ql(e):e,i=Jf(s.pathname||"/",n);if(i==null)return null;let o=wk(t);YQ(o);let a=null;for(let A=0;a==null&&A<o.length;++A){let l=aO(i);a=iO(o[A],l,r)}return a}function qQ(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function wk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let A={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};A.relativePath.startsWith("/")&&(Un(A.relativePath.startsWith(r),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(r.length));let l=Rl([r,A.relativePath]),c=n.concat(A);i.children&&i.children.length>0&&(Un(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),wk(i.children,e,c,l)),!(i.path==null&&!i.index)&&e.push({path:l,score:rO(l,i.index),routesMeta:c})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let A of xk(i.path))s(i,o,A)}),e}function xk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=xk(r.join("/")),a=[];return a.push(...o.map(A=>A===""?i:[i,A].join("/"))),s&&a.push(...o),a.map(A=>t.startsWith("/")&&A===""?"/":A)}function YQ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XQ=/^:[\w-]+$/,JQ=3,ZQ=2,eO=1,tO=10,nO=-2,$E=t=>t==="*";function rO(t,e){let n=t.split("/"),r=n.length;return n.some($E)&&(r+=nO),e&&(r+=ZQ),n.filter(s=>!$E(s)).reduce((s,i)=>s+(XQ.test(i)?JQ:i===""?eO:tO),r)}function sO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function iO(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let A=r[a],l=a===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=qE({path:A.relativePath,caseSensitive:A.caseSensitive,end:l},c),f=A.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=qE({path:A.relativePath,caseSensitive:A.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),o.push({params:s,pathname:Rl([i,u.pathname]),pathnameBase:cO(Rl([i,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(i=Rl([i,u.pathnameBase]))}return o}function qE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=oO(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((l,c,u)=>{let{paramName:f,isOptional:d}=c;if(f==="*"){let b=a[u]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const B=a[u];return d&&!B?l[f]=void 0:l[f]=(B||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:t}}function oO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Pf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,A)=>(r.push({paramName:a,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function aO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Jf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function AO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ql(t):t;return{pathname:n?n.startsWith("/")?n:lO(n,e):e,search:uO(r),hash:dO(s)}}function lO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function O2(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Q1(t,e){let n=bk(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function O1(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ql(t):(s=Hr({},t),Un(!s.pathname||!s.pathname.includes("?"),O2("?","pathname","search",s)),Un(!s.pathname||!s.pathname.includes("#"),O2("#","pathname","hash",s)),Un(!s.search||!s.search.includes("#"),O2("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let u=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),u-=1;s.pathname=f.join("/")}a=u>=0?e[u]:"/"}let A=AO(s,a),l=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!A.pathname.endsWith("/")&&(l||c)&&(A.pathname+="/"),A}const Rl=t=>t.join("/").replace(/\/\/+/g,"/"),cO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Rv{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function rm(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Bk=["post","put","patch","delete"],hO=new Set(Bk),fO=["get",...Bk],pO=new Set(fO),gO=new Set([301,302,303,307,308]),mO=new Set([307,308]),M2={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Np={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},w5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vO=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),_k="remix-router-transitions";function wO(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Un(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let ye=t.detectErrorBoundary;s=Te=>({hasErrorBoundary:ye(Te)})}else s=vO;let i={},o=Uv(t.routes,s,void 0,i),a,A=t.basename||"/",l=t.dataStrategy||_O,c=t.patchRoutesOnNavigation,u=Hr({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,d=new Set,B=null,b=null,E=null,v=t.hydrationData!=null,C=ud(o,t.history.location,A),S=!1,R=null;if(C==null&&!c){let ye=bo(404,{pathname:t.history.location.pathname}),{matches:Te,route:je}=o4(o);C=Te,R={[je.id]:ye}}C&&!t.hydrationData&&yn(C,o,t.history.location.pathname).active&&(C=null);let P;if(C)if(C.some(ye=>ye.route.lazy))P=!1;else if(!C.some(ye=>ye.route.loader))P=!0;else if(u.v7_partialHydration){let ye=t.hydrationData?t.hydrationData.loaderData:null,Te=t.hydrationData?t.hydrationData.errors:null;if(Te){let je=C.findIndex(Re=>Te[Re.route.id]!==void 0);P=C.slice(0,je+1).every(Re=>!bb(Re.route,ye,Te))}else P=C.every(je=>!bb(je.route,ye,Te))}else P=t.hydrationData!=null;else if(P=!1,C=[],u.v7_partialHydration){let ye=yn(null,o,t.history.location.pathname);ye.active&&ye.matches&&(S=!0,C=ye.matches)}let Q,T={historyAction:t.history.action,location:t.history.location,matches:C,initialized:P,navigation:M2,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||R,fetchers:new Map,blockers:new Map},I=ds.Pop,O=!1,M,L=!1,j=new Map,k=null,$=!1,re=!1,oe=[],pe=new Set,se=new Map,me=0,ve=-1,Ve=new Map,z=new Set,J=new Map,ie=new Map,ce=new Set,ge=new Map,we=new Map,ue;function fe(){if(f=t.history.listen(ye=>{let{action:Te,location:je,delta:Re}=ye;if(ue){ue(),ue=void 0;return}Pf(we.size===0||Re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let it=En({currentLocation:T.location,nextLocation:je,historyAction:Te});if(it&&Re!=null){let Tt=new Promise(Dt=>{ue=Dt});t.history.go(Re*-1),Sr(it,{state:"blocked",location:je,proceed(){Sr(it,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),Tt.then(()=>t.history.go(Re))},reset(){let Dt=new Map(T.blockers);Dt.set(it,Np),Ke({blockers:Dt})}});return}return de(Te,je)}),n){DO(e,j);let ye=()=>QO(e,j);e.addEventListener("pagehide",ye),k=()=>e.removeEventListener("pagehide",ye)}return T.initialized||de(ds.Pop,T.location,{initialHydration:!0}),Q}function Ue(){f&&f(),k&&k(),d.clear(),M&&M.abort(),T.fetchers.forEach((ye,Te)=>Le(Te)),T.blockers.forEach((ye,Te)=>hn(Te))}function He(ye){return d.add(ye),()=>d.delete(ye)}function Ke(ye,Te){Te===void 0&&(Te={}),T=Hr({},T,ye);let je=[],Re=[];u.v7_fetcherPersist&&T.fetchers.forEach((it,Tt)=>{it.state==="idle"&&(ce.has(Tt)?Re.push(Tt):je.push(Tt))}),ce.forEach(it=>{!T.fetchers.has(it)&&!se.has(it)&&Re.push(it)}),[...d].forEach(it=>it(T,{deletedFetchers:Re,viewTransitionOpts:Te.viewTransitionOpts,flushSync:Te.flushSync===!0})),u.v7_fetcherPersist?(je.forEach(it=>T.fetchers.delete(it)),Re.forEach(it=>Le(it))):Re.forEach(it=>ce.delete(it))}function Je(ye,Te,je){var Re,it;let{flushSync:Tt}=je===void 0?{}:je,Dt=T.actionData!=null&&T.navigation.formMethod!=null&&Ja(T.navigation.formMethod)&&T.navigation.state==="loading"&&((Re=ye.state)==null?void 0:Re._isRedirect)!==!0,Bt;Te.actionData?Object.keys(Te.actionData).length>0?Bt=Te.actionData:Bt=null:Dt?Bt=T.actionData:Bt=null;let Ct=Te.loaderData?s4(T.loaderData,Te.loaderData,Te.matches||[],Te.errors):T.loaderData,yt=T.blockers;yt.size>0&&(yt=new Map(yt),yt.forEach((sn,Nn)=>yt.set(Nn,Np)));let Nt=O===!0||T.navigation.formMethod!=null&&Ja(T.navigation.formMethod)&&((it=ye.state)==null?void 0:it._isRedirect)!==!0;a&&(o=a,a=void 0),$||I===ds.Pop||(I===ds.Push?t.history.push(ye,ye.state):I===ds.Replace&&t.history.replace(ye,ye.state));let en;if(I===ds.Pop){let sn=j.get(T.location.pathname);sn&&sn.has(ye.pathname)?en={currentLocation:T.location,nextLocation:ye}:j.has(ye.pathname)&&(en={currentLocation:ye,nextLocation:T.location})}else if(L){let sn=j.get(T.location.pathname);sn?sn.add(ye.pathname):(sn=new Set([ye.pathname]),j.set(T.location.pathname,sn)),en={currentLocation:T.location,nextLocation:ye}}Ke(Hr({},Te,{actionData:Bt,loaderData:Ct,historyAction:I,location:ye,initialized:!0,navigation:M2,revalidation:"idle",restoreScrollPosition:wn(ye,Te.matches||T.matches),preventScrollReset:Nt,blockers:yt}),{viewTransitionOpts:en,flushSync:Tt===!0}),I=ds.Pop,O=!1,L=!1,$=!1,re=!1,oe=[]}async function ft(ye,Te){if(typeof ye=="number"){t.history.go(ye);return}let je=xb(T.location,T.matches,A,u.v7_prependBasename,ye,u.v7_relativeSplatPath,Te==null?void 0:Te.fromRouteId,Te==null?void 0:Te.relative),{path:Re,submission:it,error:Tt}=YE(u.v7_normalizeFormMethod,!1,je,Te),Dt=T.location,Bt=nm(T.location,Re,Te&&Te.state);Bt=Hr({},Bt,t.history.encodeLocation(Bt));let Ct=Te&&Te.replace!=null?Te.replace:void 0,yt=ds.Push;Ct===!0?yt=ds.Replace:Ct===!1||it!=null&&Ja(it.formMethod)&&it.formAction===T.location.pathname+T.location.search&&(yt=ds.Replace);let Nt=Te&&"preventScrollReset"in Te?Te.preventScrollReset===!0:void 0,en=(Te&&Te.flushSync)===!0,sn=En({currentLocation:Dt,nextLocation:Bt,historyAction:yt});if(sn){Sr(sn,{state:"blocked",location:Bt,proceed(){Sr(sn,{state:"proceeding",proceed:void 0,reset:void 0,location:Bt}),ft(ye,Te)},reset(){let Nn=new Map(T.blockers);Nn.set(sn,Np),Ke({blockers:Nn})}});return}return await de(yt,Bt,{submission:it,pendingError:Tt,preventScrollReset:Nt,replace:Te&&Te.replace,enableViewTransition:Te&&Te.viewTransition,flushSync:en})}function Oe(){if($t(),Ke({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){de(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}de(I||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:L===!0})}}async function de(ye,Te,je){M&&M.abort(),M=null,I=ye,$=(je&&je.startUninterruptedRevalidation)===!0,xt(T.location,T.matches),O=(je&&je.preventScrollReset)===!0,L=(je&&je.enableViewTransition)===!0;let Re=a||o,it=je&&je.overrideNavigation,Tt=je!=null&&je.initialHydration&&T.matches&&T.matches.length>0&&!S?T.matches:ud(Re,Te,A),Dt=(je&&je.flushSync)===!0;if(Tt&&T.initialized&&!re&&TO(T.location,Te)&&!(je&&je.submission&&Ja(je.submission.formMethod))){Je(Te,{matches:Tt},{flushSync:Dt});return}let Bt=yn(Tt,Re,Te.pathname);if(Bt.active&&Bt.matches&&(Tt=Bt.matches),!Tt){let{error:In,notFoundMatches:Bn,route:Mn}=Fr(Te.pathname);Je(Te,{matches:Bn,loaderData:{},errors:{[Mn.id]:In}},{flushSync:Dt});return}M=new AbortController;let Ct=Qh(t.history,Te,M.signal,je&&je.submission),yt;if(je&&je.pendingError)yt=[dd(Tt).route.id,{type:dr.error,error:je.pendingError}];else if(je&&je.submission&&Ja(je.submission.formMethod)){let In=await Et(Ct,Te,je.submission,Tt,Bt.active,{replace:je.replace,flushSync:Dt});if(In.shortCircuited)return;if(In.pendingActionResult){let[Bn,Mn]=In.pendingActionResult;if(qo(Mn)&&rm(Mn.error)&&Mn.error.status===404){M=null,Je(Te,{matches:In.matches,loaderData:{},errors:{[Bn]:Mn.error}});return}}Tt=In.matches||Tt,yt=In.pendingActionResult,it=H2(Te,je.submission),Dt=!1,Bt.active=!1,Ct=Qh(t.history,Ct.url,Ct.signal)}let{shortCircuited:Nt,matches:en,loaderData:sn,errors:Nn}=await At(Ct,Te,Tt,Bt.active,it,je&&je.submission,je&&je.fetcherSubmission,je&&je.replace,je&&je.initialHydration===!0,Dt,yt);Nt||(M=null,Je(Te,Hr({matches:en||Tt},i4(yt),{loaderData:sn,errors:Nn})))}async function Et(ye,Te,je,Re,it,Tt){Tt===void 0&&(Tt={}),$t();let Dt=UO(Te,je);if(Ke({navigation:Dt},{flushSync:Tt.flushSync===!0}),it){let yt=await wr(Re,Te.pathname,ye.signal);if(yt.type==="aborted")return{shortCircuited:!0};if(yt.type==="error"){let Nt=dd(yt.partialMatches).route.id;return{matches:yt.partialMatches,pendingActionResult:[Nt,{type:dr.error,error:yt.error}]}}else if(yt.matches)Re=yt.matches;else{let{notFoundMatches:Nt,error:en,route:sn}=Fr(Te.pathname);return{matches:Nt,pendingActionResult:[sn.id,{type:dr.error,error:en}]}}}let Bt,Ct=Xp(Re,Te);if(!Ct.route.action&&!Ct.route.lazy)Bt={type:dr.error,error:bo(405,{method:ye.method,pathname:Te.pathname,routeId:Ct.route.id})};else if(Bt=(await Mt("action",T,ye,[Ct],Re,null))[Ct.route.id],ye.signal.aborted)return{shortCircuited:!0};if(wd(Bt)){let yt;return Tt&&Tt.replace!=null?yt=Tt.replace:yt=t4(Bt.response.headers.get("Location"),new URL(ye.url),A)===T.location.pathname+T.location.search,await Kt(ye,Bt,!0,{submission:je,replace:yt}),{shortCircuited:!0}}if(Xc(Bt))throw bo(400,{type:"defer-action"});if(qo(Bt)){let yt=dd(Re,Ct.route.id);return(Tt&&Tt.replace)!==!0&&(I=ds.Push),{matches:Re,pendingActionResult:[yt.route.id,Bt]}}return{matches:Re,pendingActionResult:[Ct.route.id,Bt]}}async function At(ye,Te,je,Re,it,Tt,Dt,Bt,Ct,yt,Nt){let en=it||H2(Te,Tt),sn=Tt||Dt||A4(en),Nn=!$&&(!u.v7_partialHydration||!Ct);if(Re){if(Nn){let rr=Ge(Nt);Ke(Hr({navigation:en},rr!==void 0?{actionData:rr}:{}),{flushSync:yt})}let xn=await wr(je,Te.pathname,ye.signal);if(xn.type==="aborted")return{shortCircuited:!0};if(xn.type==="error"){let rr=dd(xn.partialMatches).route.id;return{matches:xn.partialMatches,loaderData:{},errors:{[rr]:xn.error}}}else if(xn.matches)je=xn.matches;else{let{error:rr,notFoundMatches:ji,route:ys}=Fr(Te.pathname);return{matches:ji,loaderData:{},errors:{[ys.id]:rr}}}}let In=a||o,[Bn,Mn]=JE(t.history,T,je,sn,Te,u.v7_partialHydration&&Ct===!0,u.v7_skipActionErrorRevalidation,re,oe,pe,ce,J,z,In,A,Nt);if(nn(xn=>!(je&&je.some(rr=>rr.route.id===xn))||Bn&&Bn.some(rr=>rr.route.id===xn)),ve=++me,Bn.length===0&&Mn.length===0){let xn=vt();return Je(Te,Hr({matches:je,loaderData:{},errors:Nt&&qo(Nt[1])?{[Nt[0]]:Nt[1].error}:null},i4(Nt),xn?{fetchers:new Map(T.fetchers)}:{}),{flushSync:yt}),{shortCircuited:!0}}if(Nn){let xn={};if(!Re){xn.navigation=en;let rr=Ge(Nt);rr!==void 0&&(xn.actionData=rr)}Mn.length>0&&(xn.fetchers=lt(Mn)),Ke(xn,{flushSync:yt})}Mn.forEach(xn=>{Xe(xn.key),xn.controller&&se.set(xn.key,xn.controller)});let Ss=()=>Mn.forEach(xn=>Xe(xn.key));M&&M.signal.addEventListener("abort",Ss);let{loaderResults:Zs,fetcherResults:Fs}=await Jt(T,je,Bn,Mn,ye);if(ye.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",Ss),Mn.forEach(xn=>se.delete(xn.key));let Vs=ny(Zs);if(Vs)return await Kt(ye,Vs.result,!0,{replace:Bt}),{shortCircuited:!0};if(Vs=ny(Fs),Vs)return z.add(Vs.key),await Kt(ye,Vs.result,!0,{replace:Bt}),{shortCircuited:!0};let{loaderData:to,errors:as}=r4(T,je,Zs,Nt,Mn,Fs,ge);ge.forEach((xn,rr)=>{xn.subscribe(ji=>{(ji||xn.done)&&ge.delete(rr)})}),u.v7_partialHydration&&Ct&&T.errors&&(as=Hr({},T.errors,as));let Ts=vt(),Ns=Zt(ve),As=Ts||Ns||Mn.length>0;return Hr({matches:je,loaderData:to,errors:as},As?{fetchers:new Map(T.fetchers)}:{})}function Ge(ye){if(ye&&!qo(ye[1]))return{[ye[0]]:ye[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function lt(ye){return ye.forEach(Te=>{let je=T.fetchers.get(Te.key),Re=kp(void 0,je?je.data:void 0);T.fetchers.set(Te.key,Re)}),new Map(T.fetchers)}function pt(ye,Te,je,Re){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Xe(ye);let it=(Re&&Re.flushSync)===!0,Tt=a||o,Dt=xb(T.location,T.matches,A,u.v7_prependBasename,je,u.v7_relativeSplatPath,Te,Re==null?void 0:Re.relative),Bt=ud(Tt,Dt,A),Ct=yn(Bt,Tt,Dt);if(Ct.active&&Ct.matches&&(Bt=Ct.matches),!Bt){Rt(ye,Te,bo(404,{pathname:Dt}),{flushSync:it});return}let{path:yt,submission:Nt,error:en}=YE(u.v7_normalizeFormMethod,!0,Dt,Re);if(en){Rt(ye,Te,en,{flushSync:it});return}let sn=Xp(Bt,yt),Nn=(Re&&Re.preventScrollReset)===!0;if(Nt&&Ja(Nt.formMethod)){dt(ye,Te,yt,sn,Bt,Ct.active,it,Nn,Nt);return}J.set(ye,{routeId:Te,path:yt}),Ut(ye,Te,yt,sn,Bt,Ct.active,it,Nn,Nt)}async function dt(ye,Te,je,Re,it,Tt,Dt,Bt,Ct){$t(),J.delete(ye);function yt(Gn){if(!Gn.route.action&&!Gn.route.lazy){let Hn=bo(405,{method:Ct.formMethod,pathname:je,routeId:Te});return Rt(ye,Te,Hn,{flushSync:Dt}),!0}return!1}if(!Tt&&yt(Re))return;let Nt=T.fetchers.get(ye);St(ye,RO(Ct,Nt),{flushSync:Dt});let en=new AbortController,sn=Qh(t.history,je,en.signal,Ct);if(Tt){let Gn=await wr(it,new URL(sn.url).pathname,sn.signal,ye);if(Gn.type==="aborted")return;if(Gn.type==="error"){Rt(ye,Te,Gn.error,{flushSync:Dt});return}else if(Gn.matches){if(it=Gn.matches,Re=Xp(it,je),yt(Re))return}else{Rt(ye,Te,bo(404,{pathname:je}),{flushSync:Dt});return}}se.set(ye,en);let Nn=me,Bn=(await Mt("action",T,sn,[Re],it,ye))[Re.route.id];if(sn.signal.aborted){se.get(ye)===en&&se.delete(ye);return}if(u.v7_fetcherPersist&&ce.has(ye)){if(wd(Bn)||qo(Bn)){St(ye,Dc(void 0));return}}else{if(wd(Bn))if(se.delete(ye),ve>Nn){St(ye,Dc(void 0));return}else return z.add(ye),St(ye,kp(Ct)),Kt(sn,Bn,!1,{fetcherSubmission:Ct,preventScrollReset:Bt});if(qo(Bn)){Rt(ye,Te,Bn.error);return}}if(Xc(Bn))throw bo(400,{type:"defer-action"});let Mn=T.navigation.location||T.location,Ss=Qh(t.history,Mn,en.signal),Zs=a||o,Fs=T.navigation.state!=="idle"?ud(Zs,T.navigation.location,A):T.matches;Un(Fs,"Didn't find any matches after fetcher action");let Vs=++me;Ve.set(ye,Vs);let to=kp(Ct,Bn.data);T.fetchers.set(ye,to);let[as,Ts]=JE(t.history,T,Fs,Ct,Mn,!1,u.v7_skipActionErrorRevalidation,re,oe,pe,ce,J,z,Zs,A,[Re.route.id,Bn]);Ts.filter(Gn=>Gn.key!==ye).forEach(Gn=>{let Hn=Gn.key,jo=T.fetchers.get(Hn),Ta=kp(void 0,jo?jo.data:void 0);T.fetchers.set(Hn,Ta),Xe(Hn),Gn.controller&&se.set(Hn,Gn.controller)}),Ke({fetchers:new Map(T.fetchers)});let Ns=()=>Ts.forEach(Gn=>Xe(Gn.key));en.signal.addEventListener("abort",Ns);let{loaderResults:As,fetcherResults:xn}=await Jt(T,Fs,as,Ts,Ss);if(en.signal.aborted)return;en.signal.removeEventListener("abort",Ns),Ve.delete(ye),se.delete(ye),Ts.forEach(Gn=>se.delete(Gn.key));let rr=ny(As);if(rr)return Kt(Ss,rr.result,!1,{preventScrollReset:Bt});if(rr=ny(xn),rr)return z.add(rr.key),Kt(Ss,rr.result,!1,{preventScrollReset:Bt});let{loaderData:ji,errors:ys}=r4(T,Fs,As,void 0,Ts,xn,ge);if(T.fetchers.has(ye)){let Gn=Dc(Bn.data);T.fetchers.set(ye,Gn)}Zt(Vs),T.navigation.state==="loading"&&Vs>ve?(Un(I,"Expected pending action"),M&&M.abort(),Je(T.navigation.location,{matches:Fs,loaderData:ji,errors:ys,fetchers:new Map(T.fetchers)})):(Ke({errors:ys,loaderData:s4(T.loaderData,ji,Fs,ys),fetchers:new Map(T.fetchers)}),re=!1)}async function Ut(ye,Te,je,Re,it,Tt,Dt,Bt,Ct){let yt=T.fetchers.get(ye);St(ye,kp(Ct,yt?yt.data:void 0),{flushSync:Dt});let Nt=new AbortController,en=Qh(t.history,je,Nt.signal);if(Tt){let Bn=await wr(it,new URL(en.url).pathname,en.signal,ye);if(Bn.type==="aborted")return;if(Bn.type==="error"){Rt(ye,Te,Bn.error,{flushSync:Dt});return}else if(Bn.matches)it=Bn.matches,Re=Xp(it,je);else{Rt(ye,Te,bo(404,{pathname:je}),{flushSync:Dt});return}}se.set(ye,Nt);let sn=me,In=(await Mt("loader",T,en,[Re],it,ye))[Re.route.id];if(Xc(In)&&(In=await x5(In,en.signal,!0)||In),se.get(ye)===Nt&&se.delete(ye),!en.signal.aborted){if(ce.has(ye)){St(ye,Dc(void 0));return}if(wd(In))if(ve>sn){St(ye,Dc(void 0));return}else{z.add(ye),await Kt(en,In,!1,{preventScrollReset:Bt});return}if(qo(In)){Rt(ye,Te,In.error);return}Un(!Xc(In),"Unhandled fetcher deferred data"),St(ye,Dc(In.data))}}async function Kt(ye,Te,je,Re){let{submission:it,fetcherSubmission:Tt,preventScrollReset:Dt,replace:Bt}=Re===void 0?{}:Re;Te.response.headers.has("X-Remix-Revalidate")&&(re=!0);let Ct=Te.response.headers.get("Location");Un(Ct,"Expected a Location header on the redirect Response"),Ct=t4(Ct,new URL(ye.url),A);let yt=nm(T.location,Ct,{_isRedirect:!0});if(n){let Bn=!1;if(Te.response.headers.has("X-Remix-Reload-Document"))Bn=!0;else if(w5.test(Ct)){const Mn=t.history.createURL(Ct);Bn=Mn.origin!==e.location.origin||Jf(Mn.pathname,A)==null}if(Bn){Bt?e.location.replace(Ct):e.location.assign(Ct);return}}M=null;let Nt=Bt===!0||Te.response.headers.has("X-Remix-Replace")?ds.Replace:ds.Push,{formMethod:en,formAction:sn,formEncType:Nn}=T.navigation;!it&&!Tt&&en&&sn&&Nn&&(it=A4(T.navigation));let In=it||Tt;if(mO.has(Te.response.status)&&In&&Ja(In.formMethod))await de(Nt,yt,{submission:Hr({},In,{formAction:Ct}),preventScrollReset:Dt||O,enableViewTransition:je?L:void 0});else{let Bn=H2(yt,it);await de(Nt,yt,{overrideNavigation:Bn,fetcherSubmission:Tt,preventScrollReset:Dt||O,enableViewTransition:je?L:void 0})}}async function Mt(ye,Te,je,Re,it,Tt){let Dt,Bt={};try{Dt=await CO(l,ye,Te,je,Re,it,Tt,i,s)}catch(Ct){return Re.forEach(yt=>{Bt[yt.route.id]={type:dr.error,error:Ct}}),Bt}for(let[Ct,yt]of Object.entries(Dt))if(NO(yt)){let Nt=yt.result;Bt[Ct]={type:dr.redirect,response:SO(Nt,je,Ct,it,A,u.v7_relativeSplatPath)}}else Bt[Ct]=await IO(yt);return Bt}async function Jt(ye,Te,je,Re,it){let Tt=ye.matches,Dt=Mt("loader",ye,it,je,Te,null),Bt=Promise.all(Re.map(async Nt=>{if(Nt.matches&&Nt.match&&Nt.controller){let sn=(await Mt("loader",ye,Qh(t.history,Nt.path,Nt.controller.signal),[Nt.match],Nt.matches,Nt.key))[Nt.match.route.id];return{[Nt.key]:sn}}else return Promise.resolve({[Nt.key]:{type:dr.error,error:bo(404,{pathname:Nt.path})}})})),Ct=await Dt,yt=(await Bt).reduce((Nt,en)=>Object.assign(Nt,en),{});return await Promise.all([PO(Te,Ct,it.signal,Tt,ye.loaderData),jO(Te,yt,Re)]),{loaderResults:Ct,fetcherResults:yt}}function $t(){re=!0,oe.push(...nn()),J.forEach((ye,Te)=>{se.has(Te)&&pe.add(Te),Xe(Te)})}function St(ye,Te,je){je===void 0&&(je={}),T.fetchers.set(ye,Te),Ke({fetchers:new Map(T.fetchers)},{flushSync:(je&&je.flushSync)===!0})}function Rt(ye,Te,je,Re){Re===void 0&&(Re={});let it=dd(T.matches,Te);Le(ye),Ke({errors:{[it.route.id]:je},fetchers:new Map(T.fetchers)},{flushSync:(Re&&Re.flushSync)===!0})}function ke(ye){return ie.set(ye,(ie.get(ye)||0)+1),ce.has(ye)&&ce.delete(ye),T.fetchers.get(ye)||yO}function Le(ye){let Te=T.fetchers.get(ye);se.has(ye)&&!(Te&&Te.state==="loading"&&Ve.has(ye))&&Xe(ye),J.delete(ye),Ve.delete(ye),z.delete(ye),u.v7_fetcherPersist&&ce.delete(ye),pe.delete(ye),T.fetchers.delete(ye)}function nt(ye){let Te=(ie.get(ye)||0)-1;Te<=0?(ie.delete(ye),ce.add(ye),u.v7_fetcherPersist||Le(ye)):ie.set(ye,Te),Ke({fetchers:new Map(T.fetchers)})}function Xe(ye){let Te=se.get(ye);Te&&(Te.abort(),se.delete(ye))}function Ot(ye){for(let Te of ye){let je=ke(Te),Re=Dc(je.data);T.fetchers.set(Te,Re)}}function vt(){let ye=[],Te=!1;for(let je of z){let Re=T.fetchers.get(je);Un(Re,"Expected fetcher: "+je),Re.state==="loading"&&(z.delete(je),ye.push(je),Te=!0)}return Ot(ye),Te}function Zt(ye){let Te=[];for(let[je,Re]of Ve)if(Re<ye){let it=T.fetchers.get(je);Un(it,"Expected fetcher: "+je),it.state==="loading"&&(Xe(je),Ve.delete(je),Te.push(je))}return Ot(Te),Te.length>0}function vr(ye,Te){let je=T.blockers.get(ye)||Np;return we.get(ye)!==Te&&we.set(ye,Te),je}function hn(ye){T.blockers.delete(ye),we.delete(ye)}function Sr(ye,Te){let je=T.blockers.get(ye)||Np;Un(je.state==="unblocked"&&Te.state==="blocked"||je.state==="blocked"&&Te.state==="blocked"||je.state==="blocked"&&Te.state==="proceeding"||je.state==="blocked"&&Te.state==="unblocked"||je.state==="proceeding"&&Te.state==="unblocked","Invalid blocker state transition: "+je.state+" -> "+Te.state);let Re=new Map(T.blockers);Re.set(ye,Te),Ke({blockers:Re})}function En(ye){let{currentLocation:Te,nextLocation:je,historyAction:Re}=ye;if(we.size===0)return;we.size>1&&Pf(!1,"A router only supports one blocker at a time");let it=Array.from(we.entries()),[Tt,Dt]=it[it.length-1],Bt=T.blockers.get(Tt);if(!(Bt&&Bt.state==="proceeding")&&Dt({currentLocation:Te,nextLocation:je,historyAction:Re}))return Tt}function Fr(ye){let Te=bo(404,{pathname:ye}),je=a||o,{matches:Re,route:it}=o4(je);return nn(),{notFoundMatches:Re,route:it,error:Te}}function nn(ye){let Te=[];return ge.forEach((je,Re)=>{(!ye||ye(Re))&&(je.cancel(),Te.push(Re),ge.delete(Re))}),Te}function mt(ye,Te,je){if(B=ye,E=Te,b=je||null,!v&&T.navigation===M2){v=!0;let Re=wn(T.location,T.matches);Re!=null&&Ke({restoreScrollPosition:Re})}return()=>{B=null,E=null,b=null}}function ct(ye,Te){return b&&b(ye,Te.map(Re=>qQ(Re,T.loaderData)))||ye.key}function xt(ye,Te){if(B&&E){let je=ct(ye,Te);B[je]=E()}}function wn(ye,Te){if(B){let je=ct(ye,Te),Re=B[je];if(typeof Re=="number")return Re}return null}function yn(ye,Te,je){if(c)if(ye){if(Object.keys(ye[0].params).length>0)return{active:!0,matches:zy(Te,je,A,!0)}}else return{active:!0,matches:zy(Te,je,A,!0)||[]};return{active:!1,matches:null}}async function wr(ye,Te,je,Re){if(!c)return{type:"success",matches:ye};let it=ye;for(;;){let Tt=a==null,Dt=a||o,Bt=i;try{await c({signal:je,path:Te,matches:it,fetcherKey:Re,patch:(Nt,en)=>{je.aborted||e4(Nt,en,Dt,Bt,s)}})}catch(Nt){return{type:"error",error:Nt,partialMatches:it}}finally{Tt&&!je.aborted&&(o=[...o])}if(je.aborted)return{type:"aborted"};let Ct=ud(Dt,Te,A);if(Ct)return{type:"success",matches:Ct};let yt=zy(Dt,Te,A,!0);if(!yt||it.length===yt.length&&it.every((Nt,en)=>Nt.route.id===yt[en].route.id))return{type:"success",matches:null};it=yt}}function jr(ye){i={},a=Uv(ye,s,void 0,i)}function Wt(ye,Te){let je=a==null;e4(ye,Te,a||o,i,s),je&&(o=[...o],Ke({}))}return Q={get basename(){return A},get future(){return u},get state(){return T},get routes(){return o},get window(){return e},initialize:fe,subscribe:He,enableScrollRestoration:mt,navigate:ft,fetch:pt,revalidate:Oe,createHref:ye=>t.history.createHref(ye),encodeLocation:ye=>t.history.encodeLocation(ye),getFetcher:ke,deleteFetcher:nt,dispose:Ue,getBlocker:vr,deleteBlocker:hn,patchRoutes:Wt,_internalFetchControllers:se,_internalActiveDeferreds:ge,_internalSetRoutes:jr},Q}function xO(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function xb(t,e,n,r,s,i,o,a){let A,l;if(o){A=[];for(let u of e)if(A.push(u),u.route.id===o){l=u;break}}else A=e,l=e[e.length-1];let c=O1(s||".",Q1(A,i),Jf(t.pathname,n)||t.pathname,a==="path");if(s==null&&(c.search=t.search,c.hash=t.hash),(s==null||s===""||s===".")&&l){let u=b5(c.search);if(l.route.index&&!u)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&u){let f=new URLSearchParams(c.search),d=f.getAll("index");f.delete("index"),d.filter(b=>b).forEach(b=>f.append("index",b));let B=f.toString();c.search=B?"?"+B:""}}return r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Rl([n,c.pathname])),Md(c)}function YE(t,e,n,r){if(!r||!xO(r))return{path:n};if(r.formMethod&&!LO(r.formMethod))return{path:n,error:bo(405,{method:r.formMethod})};let s=()=>({path:n,error:bo(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=Ik(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ja(o))return s();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((d,B)=>{let[b,E]=B;return""+d+b+"="+E+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Ja(o))return s();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return s()}}}Un(typeof FormData=="function","FormData is not available in this environment");let A,l;if(r.formData)A=Bb(r.formData),l=r.formData;else if(r.body instanceof FormData)A=Bb(r.body),l=r.body;else if(r.body instanceof URLSearchParams)A=r.body,l=n4(A);else if(r.body==null)A=new URLSearchParams,l=new FormData;else try{A=new URLSearchParams(r.body),l=n4(A)}catch{return s()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Ja(c.formMethod))return{path:n,submission:c};let u=ql(n);return e&&u.search&&b5(u.search)&&A.append("index",""),u.search="?"+A,{path:Md(u),submission:c}}function XE(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(s=>s.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function JE(t,e,n,r,s,i,o,a,A,l,c,u,f,d,B,b){let E=b?qo(b[1])?b[1].error:b[1].data:void 0,v=t.createURL(e.location),C=t.createURL(s),S=n;i&&e.errors?S=XE(n,Object.keys(e.errors)[0],!0):b&&qo(b[1])&&(S=XE(n,b[0]));let R=b?b[1].statusCode:void 0,P=o&&R&&R>=400,Q=S.filter((I,O)=>{let{route:M}=I;if(M.lazy)return!0;if(M.loader==null)return!1;if(i)return bb(M,e.loaderData,e.errors);if(bO(e.loaderData,e.matches[O],I)||A.some(k=>k===I.route.id))return!0;let L=e.matches[O],j=I;return ZE(I,Hr({currentUrl:v,currentParams:L.params,nextUrl:C,nextParams:j.params},r,{actionResult:E,actionStatus:R,defaultShouldRevalidate:P?!1:a||v.pathname+v.search===C.pathname+C.search||v.search!==C.search||Ck(L,j)}))}),T=[];return u.forEach((I,O)=>{if(i||!n.some($=>$.route.id===I.routeId)||c.has(O))return;let M=ud(d,I.path,B);if(!M){T.push({key:O,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(O),j=Xp(M,I.path),k=!1;f.has(O)?k=!1:l.has(O)?(l.delete(O),k=!0):L&&L.state!=="idle"&&L.data===void 0?k=a:k=ZE(j,Hr({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:C,nextParams:n[n.length-1].params},r,{actionResult:E,actionStatus:R,defaultShouldRevalidate:P?!1:a})),k&&T.push({key:O,routeId:I.routeId,path:I.path,matches:M,match:j,controller:new AbortController})}),[Q,T]}function bb(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,s=n!=null&&n[t.id]!==void 0;return!r&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!s}function bO(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function Ck(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function ZE(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function e4(t,e,n,r,s){var i;let o;if(t){let l=r[t];Un(l,"No route found to patch children into: routeId = "+t),l.children||(l.children=[]),o=l.children}else o=n;let a=e.filter(l=>!o.some(c=>Ek(l,c))),A=Uv(a,s,[t||"_","patch",String(((i=o)==null?void 0:i.length)||"0")],r);o.push(...A)}function Ek(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var s;return(s=e.children)==null?void 0:s.some(i=>Ek(n,i))}):!1}async function BO(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];Un(s,"No route found in manifest");let i={};for(let o in r){let A=s[o]!==void 0&&o!=="hasErrorBoundary";Pf(!A,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!A&&!WQ.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,Hr({},e(s),{lazy:void 0}))}async function _O(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function CO(t,e,n,r,s,i,o,a,A,l){let c=i.map(d=>d.route.lazy?BO(d.route,A,a):void 0),u=i.map((d,B)=>{let b=c[B],E=s.some(C=>C.route.id===d.route.id);return Hr({},d,{shouldLoad:E,resolve:async C=>(C&&r.method==="GET"&&(d.route.lazy||d.route.loader)&&(E=!0),E?EO(e,r,d,b,C,l):Promise.resolve({type:dr.data,result:void 0}))})}),f=await t({matches:u,request:r,params:i[0].params,fetcherKey:o,context:l});try{await Promise.all(c)}catch{}return f}async function EO(t,e,n,r,s,i){let o,a,A=l=>{let c,u=new Promise((B,b)=>c=b);a=()=>c(),e.signal.addEventListener("abort",a);let f=B=>typeof l!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):l({request:e,params:n.params,context:i},...B!==void 0?[B]:[]),d=(async()=>{try{return{type:"data",result:await(s?s(b=>f(b)):f())}}catch(B){return{type:"error",result:B}}})();return Promise.race([d,u])};try{let l=n.route[t];if(r)if(l){let c,[u]=await Promise.all([A(l).catch(f=>{c=f}),r]);if(c!==void 0)throw c;o=u}else if(await r,l=n.route[t],l)o=await A(l);else if(t==="action"){let c=new URL(e.url),u=c.pathname+c.search;throw bo(405,{method:e.method,pathname:u,routeId:n.route.id})}else return{type:dr.data,result:void 0};else if(l)o=await A(l);else{let c=new URL(e.url),u=c.pathname+c.search;throw bo(404,{pathname:u})}Un(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(l){return{type:dr.error,result:l}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function IO(t){let{result:e,type:n}=t;if(Sk(e)){let u;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(f){return{type:dr.error,error:f}}return n===dr.error?{type:dr.error,error:new Rv(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:dr.data,data:u,statusCode:e.status,headers:e.headers}}if(n===dr.error){if(a4(e)){var r,s;if(e.data instanceof Error){var i,o;return{type:dr.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:dr.error,error:new Rv(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:rm(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:dr.error,error:e,statusCode:rm(e)?e.status:void 0}}if(kO(e)){var a,A;return{type:dr.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((A=e.init)==null?void 0:A.headers)&&new Headers(e.init.headers)}}if(a4(e)){var l,c;return{type:dr.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:dr.data,data:e}}function SO(t,e,n,r,s,i){let o=t.headers.get("Location");if(Un(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!w5.test(o)){let a=r.slice(0,r.findIndex(A=>A.route.id===n)+1);o=xb(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function t4(t,e,n){if(w5.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=Jf(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function Qh(t,e,n,r){let s=t.createURL(Ik(e)).toString(),i={signal:n};if(r&&Ja(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=Bb(r.formData):i.body=r.formData}return new Request(s,i)}function Bb(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function n4(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function FO(t,e,n,r,s){let i={},o=null,a,A=!1,l={},c=n&&qo(n[1])?n[1].error:void 0;return t.forEach(u=>{if(!(u.route.id in e))return;let f=u.route.id,d=e[f];if(Un(!wd(d),"Cannot handle redirect results in processLoaderData"),qo(d)){let B=d.error;if(c!==void 0&&(B=c,c=void 0),o=o||{},s)o[f]=B;else{let b=dd(t,f);o[b.route.id]==null&&(o[b.route.id]=B)}i[f]=void 0,A||(A=!0,a=rm(d.error)?d.error.status:500),d.headers&&(l[f]=d.headers)}else Xc(d)?(r.set(f,d.deferredData),i[f]=d.deferredData.data,d.statusCode!=null&&d.statusCode!==200&&!A&&(a=d.statusCode),d.headers&&(l[f]=d.headers)):(i[f]=d.data,d.statusCode&&d.statusCode!==200&&!A&&(a=d.statusCode),d.headers&&(l[f]=d.headers))}),c!==void 0&&n&&(o={[n[0]]:c},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:l}}function r4(t,e,n,r,s,i,o){let{loaderData:a,errors:A}=FO(e,n,r,o,!1);return s.forEach(l=>{let{key:c,match:u,controller:f}=l,d=i[c];if(Un(d,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(qo(d)){let B=dd(t.matches,u==null?void 0:u.route.id);A&&A[B.route.id]||(A=Hr({},A,{[B.route.id]:d.error})),t.fetchers.delete(c)}else if(wd(d))Un(!1,"Unhandled fetcher revalidation redirect");else if(Xc(d))Un(!1,"Unhandled fetcher deferred data");else{let B=Dc(d.data);t.fetchers.set(c,B)}}),{loaderData:a,errors:A}}function s4(t,e,n,r){let s=Hr({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function i4(t){return t?qo(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function dd(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function o4(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function bo(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",A="Unknown @remix-run/router error";return t===400?(a="Bad Request",s&&n&&r?A="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?A="defer() is not supported in actions":i==="invalid-body"&&(A="Unable to encode submission body")):t===403?(a="Forbidden",A='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",A='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?A="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(A='Invalid request method "'+s.toUpperCase()+'"')),new Rv(t||500,a,new Error(A),!0)}function ny(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(wd(s))return{key:r,result:s}}}function Ik(t){let e=typeof t=="string"?ql(t):t;return Md(Hr({},e,{hash:""}))}function TO(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function NO(t){return Sk(t.result)&&gO.has(t.result.status)}function Xc(t){return t.type===dr.deferred}function qo(t){return t.type===dr.error}function wd(t){return(t&&t.type)===dr.redirect}function a4(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function kO(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Sk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function LO(t){return pO.has(t.toLowerCase())}function Ja(t){return hO.has(t.toLowerCase())}async function PO(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,A]=i[o],l=t.find(f=>(f==null?void 0:f.route.id)===a);if(!l)continue;let c=r.find(f=>f.route.id===l.route.id),u=c!=null&&!Ck(c,l)&&(s&&s[l.route.id])!==void 0;Xc(A)&&u&&await x5(A,n,!1).then(f=>{f&&(e[a]=f)})}}async function jO(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=e[s];t.find(l=>(l==null?void 0:l.route.id)===i)&&Xc(a)&&(Un(o,"Expected an AbortController for revalidating fetcher deferred result"),await x5(a,o.signal,!0).then(l=>{l&&(e[s]=l)}))}}async function x5(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:dr.data,data:t.deferredData.unwrappedData}}catch(s){return{type:dr.error,error:s}}return{type:dr.data,data:t.deferredData.data}}}function b5(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Xp(t,e){let n=typeof e=="string"?ql(e).search:e.search;if(t[t.length-1].route.index&&b5(n||""))return t[t.length-1];let r=bk(t);return r[r.length-1]}function A4(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function H2(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function UO(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function kp(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function RO(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Dc(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function DO(t,e){try{let n=t.sessionStorage.getItem(_k);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function QO(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(_k,JSON.stringify(n))}catch(r){Pf(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sm(){return sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sm.apply(this,arguments)}const M1=ee.createContext(null),Fk=ee.createContext(null),ku=ee.createContext(null),H1=ee.createContext(null),Yl=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),Tk=ee.createContext(null);function OO(t,e){let{relative:n}=e===void 0?{}:e;Zf()||Un(!1);let{basename:r,navigator:s}=ee.useContext(ku),{hash:i,pathname:o,search:a}=Lk(t,{relative:n}),A=o;return r!=="/"&&(A=o==="/"?r:Rl([r,o])),s.createHref({pathname:A,search:a,hash:i})}function Zf(){return ee.useContext(H1)!=null}function Lm(){return Zf()||Un(!1),ee.useContext(H1).location}function Nk(t){ee.useContext(ku).static||ee.useLayoutEffect(t)}function ko(){let{isDataRoute:t}=ee.useContext(Yl);return t?JO():MO()}function MO(){Zf()||Un(!1);let t=ee.useContext(M1),{basename:e,future:n,navigator:r}=ee.useContext(ku),{matches:s}=ee.useContext(Yl),{pathname:i}=Lm(),o=JSON.stringify(Q1(s,n.v7_relativeSplatPath)),a=ee.useRef(!1);return Nk(()=>{a.current=!0}),ee.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let u=O1(l,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Rl([e,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[e,r,o,i,t])}function kk(){let{matches:t}=ee.useContext(Yl),e=t[t.length-1];return e?e.params:{}}function Lk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=ee.useContext(ku),{matches:s}=ee.useContext(Yl),{pathname:i}=Lm(),o=JSON.stringify(Q1(s,r.v7_relativeSplatPath));return ee.useMemo(()=>O1(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function HO(t,e,n,r){Zf()||Un(!1);let{navigator:s}=ee.useContext(ku),{matches:i}=ee.useContext(Yl),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let A=o?o.pathnameBase:"/";o&&o.route;let l=Lm(),c;if(e){var u;let E=typeof e=="string"?ql(e):e;A==="/"||(u=E.pathname)!=null&&u.startsWith(A)||Un(!1),c=E}else c=l;let f=c.pathname||"/",d=f;if(A!=="/"){let E=A.replace(/^\//,"").split("/");d="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let B=ud(t,{pathname:d}),b=WO(B&&B.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Rl([A,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?A:Rl([A,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&b?ee.createElement(H1.Provider,{value:{location:sm({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ds.Pop}},b):b}function VO(){let t=XO(),e=rm(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),n?ee.createElement("pre",{style:s},n):null,i)}const KO=ee.createElement(VO,null);class zO extends ee.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ee.createElement(Yl.Provider,{value:this.props.routeContext},ee.createElement(Tk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GO(t){let{routeContext:e,match:n,children:r}=t,s=ee.useContext(M1);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),ee.createElement(Yl.Provider,{value:e},r)}function WO(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);c>=0||Un(!1),o=o.slice(0,Math.min(o.length,c+1))}let A=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let u=o[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:f,errors:d}=n,B=u.route.loader&&f[u.route.id]===void 0&&(!d||d[u.route.id]===void 0);if(u.route.lazy||B){A=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,u,f)=>{let d,B=!1,b=null,E=null;n&&(d=a&&u.route.id?a[u.route.id]:void 0,b=u.route.errorElement||KO,A&&(l<0&&f===0?(ZO("route-fallback",!1),B=!0,E=null):l===f&&(B=!0,E=u.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),C=()=>{let S;return d?S=b:B?S=E:u.route.Component?S=ee.createElement(u.route.Component,null):u.route.element?S=u.route.element:S=c,ee.createElement(GO,{match:u,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:S})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?ee.createElement(zO,{location:n.location,revalidation:n.revalidation,component:b,error:d,children:C(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):C()},null)}var Pk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Pk||{}),Dv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Dv||{});function $O(t){let e=ee.useContext(M1);return e||Un(!1),e}function qO(t){let e=ee.useContext(Fk);return e||Un(!1),e}function YO(t){let e=ee.useContext(Yl);return e||Un(!1),e}function jk(t){let e=YO(),n=e.matches[e.matches.length-1];return n.route.id||Un(!1),n.route.id}function XO(){var t;let e=ee.useContext(Tk),n=qO(Dv.UseRouteError),r=jk(Dv.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function JO(){let{router:t}=$O(Pk.UseNavigateStable),e=jk(Dv.UseNavigateStable),n=ee.useRef(!1);return Nk(()=>{n.current=!0}),ee.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,sm({fromRouteId:e},i)))},[t,e])}const l4={};function ZO(t,e,n){!e&&!l4[t]&&(l4[t]=!0)}function eM(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function B5(t){let{to:e,replace:n,state:r,relative:s}=t;Zf()||Un(!1);let{future:i,static:o}=ee.useContext(ku),{matches:a}=ee.useContext(Yl),{pathname:A}=Lm(),l=ko(),c=O1(e,Q1(a,i.v7_relativeSplatPath),A,s==="path"),u=JSON.stringify(c);return ee.useEffect(()=>l(JSON.parse(u),{replace:n,state:r,relative:s}),[l,u,s,n,r]),null}function tM(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ds.Pop,navigator:i,static:o=!1,future:a}=t;Zf()&&Un(!1);let A=e.replace(/^\/*/,"/"),l=ee.useMemo(()=>({basename:A,navigator:i,static:o,future:sm({v7_relativeSplatPath:!1},a)}),[A,a,i,o]);typeof r=="string"&&(r=ql(r));let{pathname:c="/",search:u="",hash:f="",state:d=null,key:B="default"}=r,b=ee.useMemo(()=>{let E=Jf(c,A);return E==null?null:{location:{pathname:E,search:u,hash:f,state:d,key:B},navigationType:s}},[A,c,u,f,d,B,s]);return b==null?null:ee.createElement(ku.Provider,{value:l},ee.createElement(H1.Provider,{children:n,value:b}))}new Promise(()=>{});function nM(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:ee.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:ee.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:ee.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function im(){return im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},im.apply(this,arguments)}function rM(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function sM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iM(t,e){return t.button===0&&(!e||e==="_self")&&!sM(t)}const oM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aM="6";try{window.__reactRouterVersion=aM}catch{}function Uk(t,e){return wO({basename:e==null?void 0:e.basename,future:im({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:KQ({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||AM(),routes:t,mapRouteProperties:nM,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function AM(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=im({},e,{errors:lM(e.errors)})),e}function lM(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new Rv(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const cM=ee.createContext({isTransitioning:!1}),uM=ee.createContext(new Map),dM="startTransition",c4=ND[dM],hM="flushSync",u4=VQ[hM];function fM(t){c4?c4(t):t()}function Lp(t){u4?u4(t):t()}let pM=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Rk(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=ee.useState(n.state),[o,a]=ee.useState(),[A,l]=ee.useState({isTransitioning:!1}),[c,u]=ee.useState(),[f,d]=ee.useState(),[B,b]=ee.useState(),E=ee.useRef(new Map),{v7_startTransition:v}=r||{},C=ee.useCallback(I=>{v?fM(I):I()},[v]),S=ee.useCallback((I,O)=>{let{deletedFetchers:M,flushSync:L,viewTransitionOpts:j}=O;I.fetchers.forEach(($,re)=>{$.data!==void 0&&E.current.set(re,$.data)}),M.forEach($=>E.current.delete($));let k=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!j||k){L?Lp(()=>i(I)):C(()=>i(I));return}if(L){Lp(()=>{f&&(c&&c.resolve(),f.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation})});let $=n.window.document.startViewTransition(()=>{Lp(()=>i(I))});$.finished.finally(()=>{Lp(()=>{u(void 0),d(void 0),a(void 0),l({isTransitioning:!1})})}),Lp(()=>d($));return}f?(c&&c.resolve(),f.skipTransition(),b({state:I,currentLocation:j.currentLocation,nextLocation:j.nextLocation})):(a(I),l({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}))},[n.window,f,c,E,C]);ee.useLayoutEffect(()=>n.subscribe(S),[n,S]),ee.useEffect(()=>{A.isTransitioning&&!A.flushSync&&u(new pM)},[A]),ee.useEffect(()=>{if(c&&o&&n.window){let I=o,O=c.promise,M=n.window.document.startViewTransition(async()=>{C(()=>i(I)),await O});M.finished.finally(()=>{u(void 0),d(void 0),a(void 0),l({isTransitioning:!1})}),d(M)}},[C,o,c,n.window]),ee.useEffect(()=>{c&&o&&s.location.key===o.location.key&&c.resolve()},[c,f,s.location,o]),ee.useEffect(()=>{!A.isTransitioning&&B&&(a(B.state),l({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}),b(void 0))},[A.isTransitioning,B]),ee.useEffect(()=>{},[]);let R=ee.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:I=>n.navigate(I),push:(I,O,M)=>n.navigate(I,{state:O,preventScrollReset:M==null?void 0:M.preventScrollReset}),replace:(I,O,M)=>n.navigate(I,{replace:!0,state:O,preventScrollReset:M==null?void 0:M.preventScrollReset})}),[n]),P=n.basename||"/",Q=ee.useMemo(()=>({router:n,navigator:R,static:!1,basename:P}),[n,R,P]),T=ee.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return ee.useEffect(()=>eM(r,n.future),[r,n.future]),ee.createElement(ee.Fragment,null,ee.createElement(M1.Provider,{value:Q},ee.createElement(Fk.Provider,{value:s},ee.createElement(uM.Provider,{value:E.current},ee.createElement(cM.Provider,{value:A},ee.createElement(tM,{basename:P,location:s.location,navigationType:s.historyAction,navigator:R,future:T},s.initialized||n.future.v7_partialHydration?ee.createElement(gM,{routes:n.routes,future:n.future,state:s}):e))))),null)}const gM=ee.memo(mM);function mM(t){let{routes:e,future:n,state:r}=t;return HO(e,void 0,r,n)}const yM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xd=ee.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:A,to:l,preventScrollReset:c,viewTransition:u}=e,f=rM(e,oM),{basename:d}=ee.useContext(ku),B,b=!1;if(typeof l=="string"&&vM.test(l)&&(B=l,yM))try{let S=new URL(window.location.href),R=l.startsWith("//")?new URL(S.protocol+l):new URL(l),P=Jf(R.pathname,d);R.origin===S.origin&&P!=null?l=P+R.search+R.hash:b=!0}catch{}let E=OO(l,{relative:s}),v=wM(l,{replace:o,state:a,target:A,preventScrollReset:c,relative:s,viewTransition:u});function C(S){r&&r(S),S.defaultPrevented||v(S)}return ee.createElement("a",im({},f,{href:B||E,onClick:b||i?r:C,ref:n,target:A}))});var d4;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(d4||(d4={}));var h4;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(h4||(h4={}));function wM(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,A=ko(),l=Lm(),c=Lk(t,{relative:o});return ee.useCallback(u=>{if(iM(u,n)){u.preventDefault();let f=r!==void 0?r:Md(l)===Md(c);A(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[l,A,c,r,s,n,t,i,o,a])}function Dk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Dk(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Jc(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Dk(t))&&(r&&(r+=" "),r+=e);return r}const vg=t=>typeof t=="number"&&!isNaN(t),Hd=t=>typeof t=="string",Io=t=>typeof t=="function",Gy=t=>Hd(t)||Io(t)?t:null,V2=t=>ee.isValidElement(t)||Hd(t)||Io(t)||vg(t);function xM(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function V1(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:i=300}=t;return function(o){let{children:a,position:A,preventExitTransition:l,done:c,nodeRef:u,isIn:f}=o;const d=r?`${e}--${A}`:e,B=r?`${n}--${A}`:n,b=ee.useRef(0);return ee.useLayoutEffect(()=>{const E=u.current,v=d.split(" "),C=S=>{S.target===u.current&&(E.dispatchEvent(new Event("d")),E.removeEventListener("animationend",C),E.removeEventListener("animationcancel",C),b.current===0&&S.type!=="animationcancel"&&E.classList.remove(...v))};E.classList.add(...v),E.addEventListener("animationend",C),E.addEventListener("animationcancel",C)},[]),ee.useEffect(()=>{const E=u.current,v=()=>{E.removeEventListener("animationend",v),s?xM(E,c,i):c()};f||(l?v():(b.current=1,E.className+=` ${B}`,E.addEventListener("animationend",v)))},[f]),Tn.createElement(Tn.Fragment,null,a)}}function f4(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const ma={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},ry=t=>{let{theme:e,type:n,...r}=t;return Tn.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},K2={info:function(t){return Tn.createElement(ry,{...t},Tn.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Tn.createElement(ry,{...t},Tn.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Tn.createElement(ry,{...t},Tn.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Tn.createElement(ry,{...t},Tn.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Tn.createElement("div",{className:"Toastify__spinner"})}};function bM(t){const[,e]=ee.useReducer(d=>d+1,0),[n,r]=ee.useState([]),s=ee.useRef(null),i=ee.useRef(new Map).current,o=d=>n.indexOf(d)!==-1,a=ee.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:d=>i.get(d)}).current;function A(d){let{containerId:B}=d;const{limit:b}=a.props;!b||B&&a.containerId!==B||(a.count-=a.queue.length,a.queue=[])}function l(d){r(B=>d==null?[]:B.filter(b=>b!==d))}function c(){const{toastContent:d,toastProps:B,staleId:b}=a.queue.shift();f(d,B,b)}function u(d,B){let{delay:b,staleId:E,...v}=B;if(!V2(d)||function(j){return!s.current||a.props.enableMultiContainer&&j.containerId!==a.props.containerId||i.has(j.toastId)&&j.updateId==null}(v))return;const{toastId:C,updateId:S,data:R}=v,{props:P}=a,Q=()=>l(C),T=S==null;T&&a.count++;const I={...P,style:P.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(v).filter(j=>{let[k,$]=j;return $!=null})),toastId:C,updateId:S,data:R,closeToast:Q,isIn:!1,className:Gy(v.className||P.toastClassName),bodyClassName:Gy(v.bodyClassName||P.bodyClassName),progressClassName:Gy(v.progressClassName||P.progressClassName),autoClose:!v.isLoading&&(O=v.autoClose,M=P.autoClose,O===!1||vg(O)&&O>0?O:M),deleteToast(){const j=f4(i.get(C),"removed");i.delete(C),ma.emit(4,j);const k=a.queue.length;if(a.count=C==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),k>0){const $=C==null?a.props.limit:1;if(k===1||$===1)a.displayedToast++,c();else{const re=$>k?k:$;a.displayedToast=re;for(let oe=0;oe<re;oe++)c()}}else e()}};var O,M;I.iconOut=function(j){let{theme:k,type:$,isLoading:re,icon:oe}=j,pe=null;const se={theme:k,type:$};return oe===!1||(Io(oe)?pe=oe(se):ee.isValidElement(oe)?pe=ee.cloneElement(oe,se):Hd(oe)||vg(oe)?pe=oe:re?pe=K2.spinner():(me=>me in K2)($)&&(pe=K2[$](se))),pe}(I),Io(v.onOpen)&&(I.onOpen=v.onOpen),Io(v.onClose)&&(I.onClose=v.onClose),I.closeButton=P.closeButton,v.closeButton===!1||V2(v.closeButton)?I.closeButton=v.closeButton:v.closeButton===!0&&(I.closeButton=!V2(P.closeButton)||P.closeButton);let L=d;ee.isValidElement(d)&&!Hd(d.type)?L=ee.cloneElement(d,{closeToast:Q,toastProps:I,data:R}):Io(d)&&(L=d({closeToast:Q,toastProps:I,data:R})),P.limit&&P.limit>0&&a.count>P.limit&&T?a.queue.push({toastContent:L,toastProps:I,staleId:E}):vg(b)?setTimeout(()=>{f(L,I,E)},b):f(L,I,E)}function f(d,B,b){const{toastId:E}=B;b&&i.delete(b);const v={content:d,props:B};i.set(E,v),r(C=>[...C,E].filter(S=>S!==b)),ma.emit(4,f4(v,v.props.updateId==null?"added":"updated"))}return ee.useEffect(()=>(a.containerId=t.containerId,ma.cancelEmit(3).on(0,u).on(1,d=>s.current&&l(d)).on(5,A).emit(2,a),()=>{i.clear(),ma.emit(3,a)}),[]),ee.useEffect(()=>{a.props=t,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(d){const B=new Map,b=Array.from(i.values());return t.newestOnTop&&b.reverse(),b.forEach(E=>{const{position:v}=E.props;B.has(v)||B.set(v,[]),B.get(v).push(E)}),Array.from(B,E=>d(E[0],E[1]))},containerRef:s,isToastActive:o}}function p4(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function g4(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function BM(t){const[e,n]=ee.useState(!1),[r,s]=ee.useState(!1),i=ee.useRef(null),o=ee.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=ee.useRef(t),{autoClose:A,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:f}=t;function d(R){if(t.draggable){R.nativeEvent.type==="touchstart"&&R.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",C),document.addEventListener("touchmove",v),document.addEventListener("touchend",C);const P=i.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=P.getBoundingClientRect(),P.style.transition="",o.x=p4(R.nativeEvent),o.y=g4(R.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=P.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=P.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function B(R){if(o.boundingRect){const{top:P,bottom:Q,left:T,right:I}=o.boundingRect;R.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=T&&o.x<=I&&o.y>=P&&o.y<=Q?E():b()}}function b(){n(!0)}function E(){n(!1)}function v(R){const P=i.current;o.canDrag&&P&&(o.didMove=!0,e&&E(),o.x=p4(R),o.y=g4(R),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),P.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,P.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function C(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",C),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",C);const R=i.current;if(o.canDrag&&o.didMove&&R){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),void t.closeToast();R.style.transition="transform 0.2s, opacity 0.2s",R.style.transform=`translate${t.draggableDirection}(0)`,R.style.opacity="1"}}ee.useEffect(()=>{a.current=t}),ee.useEffect(()=>(i.current&&i.current.addEventListener("d",b,{once:!0}),Io(t.onOpen)&&t.onOpen(ee.isValidElement(t.children)&&t.children.props),()=>{const R=a.current;Io(R.onClose)&&R.onClose(ee.isValidElement(R.children)&&R.children.props)}),[]),ee.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||E(),window.addEventListener("focus",b),window.addEventListener("blur",E)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",b),window.removeEventListener("blur",E))}),[t.pauseOnFocusLoss]);const S={onMouseDown:d,onTouchStart:d,onMouseUp:B,onTouchEnd:B};return A&&l&&(S.onMouseEnter=E,S.onMouseLeave=b),f&&(S.onClick=R=>{u&&u(R),o.canCloseOnClick&&c()}),{playToast:b,pauseToast:E,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:S}}function Qk(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return Tn.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:s=>{s.stopPropagation(),e(s)},"aria-label":r},Tn.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Tn.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function _M(t){let{delay:e,isRunning:n,closeToast:r,type:s="default",hide:i,className:o,style:a,controlledProgress:A,progress:l,rtl:c,isIn:u,theme:f}=t;const d=i||A&&l===0,B={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:d?0:1};A&&(B.transform=`scaleX(${l})`);const b=Jc("Toastify__progress-bar",A?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":c}),E=Io(o)?o({rtl:c,type:s,defaultClassName:b}):Jc(b,o);return Tn.createElement("div",{role:"progressbar","aria-hidden":d?"true":"false","aria-label":"notification timer",className:E,style:B,[A&&l>=1?"onTransitionEnd":"onAnimationEnd"]:A&&l<1?null:()=>{u&&r()}})}const CM=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s}=BM(t),{closeButton:i,children:o,autoClose:a,onClick:A,type:l,hideProgressBar:c,closeToast:u,transition:f,position:d,className:B,style:b,bodyClassName:E,bodyStyle:v,progressClassName:C,progressStyle:S,updateId:R,role:P,progress:Q,rtl:T,toastId:I,deleteToast:O,isIn:M,isLoading:L,iconOut:j,closeOnClick:k,theme:$}=t,re=Jc("Toastify__toast",`Toastify__toast-theme--${$}`,`Toastify__toast--${l}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":k}),oe=Io(B)?B({rtl:T,position:d,type:l,defaultClassName:re}):Jc(re,B),pe=!!Q||!a,se={closeToast:u,type:l,theme:$};let me=null;return i===!1||(me=Io(i)?i(se):ee.isValidElement(i)?ee.cloneElement(i,se):Qk(se)),Tn.createElement(f,{isIn:M,done:O,position:d,preventExitTransition:n,nodeRef:r},Tn.createElement("div",{id:I,onClick:A,className:oe,...s,style:b,ref:r},Tn.createElement("div",{...M&&{role:P},className:Io(E)?E({type:l}):Jc("Toastify__toast-body",E),style:v},j!=null&&Tn.createElement("div",{className:Jc("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!L})},j),Tn.createElement("div",null,o)),me,Tn.createElement(_M,{...R&&!pe?{key:`pb-${R}`}:{},rtl:T,theme:$,delay:a,isRunning:e,isIn:M,closeToast:u,hide:c,type:l,style:S,className:C,controlledProgress:pe,progress:Q||0})))},K1=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},EM=V1(K1("bounce",!0));V1(K1("slide",!0));V1(K1("zoom"));V1(K1("flip"));const Qv=ee.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:s}=bM(t),{className:i,style:o,rtl:a,containerId:A}=t;function l(c){const u=Jc("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":a});return Io(i)?i({position:c,rtl:a,defaultClassName:u}):Jc(u,Gy(i))}return ee.useEffect(()=>{e&&(e.current=r.current)},[]),Tn.createElement("div",{ref:r,className:"Toastify",id:A},n((c,u)=>{const f=u.length?{...o}:{...o,pointerEvents:"none"};return Tn.createElement("div",{className:l(c),style:f,key:`container-${c}`},u.map((d,B)=>{let{content:b,props:E}=d;return Tn.createElement(CM,{...E,isIn:s(E.toastId),style:{...E.style,"--nth":B+1,"--len":u.length},key:`toast-${E.key}`},b)}))}))});Qv.displayName="ToastContainer",Qv.defaultProps={position:"top-right",transition:EM,autoClose:5e3,closeButton:Qk,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let z2,id=new Map,Jp=[],IM=1;function Ok(){return""+IM++}function SM(t){return t&&(Hd(t.toastId)||vg(t.toastId))?t.toastId:Ok()}function wg(t,e){return id.size>0?ma.emit(0,t,e):Jp.push({content:t,options:e}),e.toastId}function Ov(t,e){return{...e,type:e&&e.type||t,toastId:SM(e)}}function sy(t){return(e,n)=>wg(e,Ov(t,n))}function $e(t,e){return wg(t,Ov("default",e))}$e.loading=(t,e)=>wg(t,Ov("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),$e.promise=function(t,e,n){let r,{pending:s,error:i,success:o}=e;s&&(r=Hd(s)?$e.loading(s,n):$e.loading(s.render,{...n,...s}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},A=(c,u,f)=>{if(u==null)return void $e.dismiss(r);const d={type:c,...a,...n,data:f},B=Hd(u)?{render:u}:u;return r?$e.update(r,{...d,...B}):$e(B.render,{...d,...B}),f},l=Io(t)?t():t;return l.then(c=>A("success",o,c)).catch(c=>A("error",i,c)),l},$e.success=sy("success"),$e.info=sy("info"),$e.error=sy("error"),$e.warning=sy("warning"),$e.warn=$e.warning,$e.dark=(t,e)=>wg(t,Ov("default",{theme:"dark",...e})),$e.dismiss=t=>{id.size>0?ma.emit(1,t):Jp=Jp.filter(e=>t!=null&&e.options.toastId!==t)},$e.clearWaitingQueue=function(t){return t===void 0&&(t={}),ma.emit(5,t)},$e.isActive=t=>{let e=!1;return id.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},$e.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(r,s){let{containerId:i}=s;const o=id.get(i||z2);return o&&o.getToast(r)}(t,e);if(n){const{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:Ok()};i.toastId!==t&&(i.staleId=t);const o=i.render||s;delete i.render,wg(o,i)}},0)},$e.done=t=>{$e.update(t,{progress:1})},$e.onChange=t=>(ma.on(4,t),()=>{ma.off(4,t)}),$e.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},$e.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},ma.on(2,t=>{z2=t.containerId||t,id.set(z2,t),Jp.forEach(e=>{ma.emit(0,e.content,e.options)}),Jp=[]}).on(3,t=>{id.delete(t.containerId||t),id.size===0&&ma.off(0).off(1).off(5)});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},FM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],A=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(A>>10)),e[r++]=String.fromCharCode(56320+(A&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Hk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,A=s+2<t.length,l=A?t[s+2]:0,c=i>>2,u=(i&3)<<4|a>>4;let f=(a&15)<<2|l>>6,d=l&63;A||(d=64,o||(f=64)),r.push(n[c],n[u],n[f],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Mk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const l=s<t.length?n[t.charAt(s)]:64;++s;const u=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||l==null||u==null)throw new TM;const f=i<<2|a>>4;if(r.push(f),l!==64){const d=a<<4&240|l>>2;if(r.push(d),u!==64){const B=l<<6&192|u;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NM=function(t){const e=Mk(t);return Hk.encodeByteArray(e,!0)},Mv=function(t){return NM(t).replace(/\./g,"")},Vk=function(t){try{return Hk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=()=>kM().__FIREBASE_DEFAULTS__,PM=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Vk(t[1]);return e&&JSON.parse(e)},z1=()=>{try{return LM()||PM()||jM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Kk=t=>{var e,n;return(n=(e=z1())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zk=t=>{const e=Kk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Gk=()=>{var t;return(t=z1())===null||t===void 0?void 0:t.config},Wk=t=>{var e;return(e=z1())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Mv(JSON.stringify(n)),Mv(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Os())}function DM(){var t;const e=(t=z1())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HM(){const t=Os();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qk(){return!DM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yk(){try{return typeof indexedDB=="object"}catch{return!1}}function VM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM="FirebaseError";class qA extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KM,Object.setPrototypeOf(this,qA.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pm.prototype.create)}}class Pm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?zM(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new qA(s,a,r)}}function zM(t,e){return t.replace(GM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const GM=/\{\$([^}]+)}/g;function WM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hv(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(m4(i)&&m4(o)){if(!Hv(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function m4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zp(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function eg(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function $M(t,e){const n=new qM(t,e);return n.subscribe.bind(n)}class qM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=G2),s.error===void 0&&(s.error=G2),s.complete===void 0&&(s.complete=G2);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function G2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(t){return t&&t._delegate?t._delegate:t}class bu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZM(e))try{this.getOrInitializeService({instanceIdentifier:od})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=od){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=od){return this.instances.has(e)}getOptions(e=od){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=od){return this.component?this.component.multipleInstances?e:od:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JM(t){return t===od?void 0:t}function ZM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new XM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qn||(Qn={}));const t8={debug:Qn.DEBUG,verbose:Qn.VERBOSE,info:Qn.INFO,warn:Qn.WARN,error:Qn.ERROR,silent:Qn.SILENT},n8=Qn.INFO,r8={[Qn.DEBUG]:"log",[Qn.VERBOSE]:"log",[Qn.INFO]:"info",[Qn.WARN]:"warn",[Qn.ERROR]:"error"},s8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=r8[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _5{constructor(e){this.name=e,this._logLevel=n8,this._logHandler=s8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qn.DEBUG,...e),this._logHandler(this,Qn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qn.VERBOSE,...e),this._logHandler(this,Qn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qn.INFO,...e),this._logHandler(this,Qn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qn.WARN,...e),this._logHandler(this,Qn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qn.ERROR,...e),this._logHandler(this,Qn.ERROR,...e)}}const i8=(t,e)=>e.some(n=>t instanceof n);let y4,v4;function o8(){return y4||(y4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a8(){return v4||(v4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xk=new WeakMap,_b=new WeakMap,Jk=new WeakMap,W2=new WeakMap,C5=new WeakMap;function A8(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(hu(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Xk.set(n,t)}).catch(()=>{}),C5.set(e,t),e}function l8(t){if(_b.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});_b.set(t,e)}let Cb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _b.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function c8(t){Cb=t(Cb)}function u8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($2(this),e,...n);return Jk.set(r,e.sort?e.sort():[e]),hu(r)}:a8().includes(t)?function(...e){return t.apply($2(this),e),hu(Xk.get(this))}:function(...e){return hu(t.apply($2(this),e))}}function d8(t){return typeof t=="function"?u8(t):(t instanceof IDBTransaction&&l8(t),i8(t,o8())?new Proxy(t,Cb):t)}function hu(t){if(t instanceof IDBRequest)return A8(t);if(W2.has(t))return W2.get(t);const e=d8(t);return e!==t&&(W2.set(t,e),C5.set(e,t)),e}const $2=t=>C5.get(t);function h8(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=hu(o);return r&&o.addEventListener("upgradeneeded",A=>{r(hu(o.result),A.oldVersion,A.newVersion,hu(o.transaction),A)}),n&&o.addEventListener("blocked",A=>n(A.oldVersion,A.newVersion,A)),a.then(A=>{i&&A.addEventListener("close",()=>i()),s&&A.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const f8=["get","getKey","getAll","getAllKeys","count"],p8=["put","add","delete","clear"],q2=new Map;function w4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(q2.get(e))return q2.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=p8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||f8.includes(n)))return;const i=async function(o,...a){const A=this.transaction(o,s?"readwrite":"readonly");let l=A.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&A.done]))[0]};return q2.set(e,i),i}c8(t=>({...t,get:(e,n,r)=>w4(e,n)||t.get(e,n,r),has:(e,n)=>!!w4(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function m8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Eb="@firebase/app",x4="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=new _5("@firebase/app"),y8="@firebase/app-compat",v8="@firebase/analytics-compat",w8="@firebase/analytics",x8="@firebase/app-check-compat",b8="@firebase/app-check",B8="@firebase/auth",_8="@firebase/auth-compat",C8="@firebase/database",E8="@firebase/data-connect",I8="@firebase/database-compat",S8="@firebase/functions",F8="@firebase/functions-compat",T8="@firebase/installations",N8="@firebase/installations-compat",k8="@firebase/messaging",L8="@firebase/messaging-compat",P8="@firebase/performance",j8="@firebase/performance-compat",U8="@firebase/remote-config",R8="@firebase/remote-config-compat",D8="@firebase/storage",Q8="@firebase/storage-compat",O8="@firebase/firestore",M8="@firebase/vertexai-preview",H8="@firebase/firestore-compat",V8="firebase",K8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="[DEFAULT]",z8={[Eb]:"fire-core",[y8]:"fire-core-compat",[w8]:"fire-analytics",[v8]:"fire-analytics-compat",[b8]:"fire-app-check",[x8]:"fire-app-check-compat",[B8]:"fire-auth",[_8]:"fire-auth-compat",[C8]:"fire-rtdb",[E8]:"fire-data-connect",[I8]:"fire-rtdb-compat",[S8]:"fire-fn",[F8]:"fire-fn-compat",[T8]:"fire-iid",[N8]:"fire-iid-compat",[k8]:"fire-fcm",[L8]:"fire-fcm-compat",[P8]:"fire-perf",[j8]:"fire-perf-compat",[U8]:"fire-rc",[R8]:"fire-rc-compat",[D8]:"fire-gcs",[Q8]:"fire-gcs-compat",[O8]:"fire-fst",[H8]:"fire-fst-compat",[M8]:"fire-vertex","fire-js":"fire-js",[V8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map,G8=new Map,Sb=new Map;function b4(t,e){try{t.container.addComponent(e)}catch(n){Kl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vd(t){const e=t.name;if(Sb.has(e))return Kl.debug(`There were multiple attempts to register component ${e}.`),!1;Sb.set(e,t);for(const n of Vv.values())b4(n,t);for(const n of G8.values())b4(n,t);return!0}function G1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function PA(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fu=new Pm("app","Firebase",W8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=K8;function Zk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ib,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw fu.create("bad-app-name",{appName:String(s)});if(n||(n=Gk()),!n)throw fu.create("no-options");const i=Vv.get(s);if(i){if(Hv(n,i.options)&&Hv(r,i.config))return i;throw fu.create("duplicate-app",{appName:s})}const o=new e8(s);for(const A of Sb.values())o.addComponent(A);const a=new $8(n,r,o);return Vv.set(s,a),a}function E5(t=Ib){const e=Vv.get(t);if(!e&&t===Ib&&Gk())return Zk();if(!e)throw fu.create("no-app",{appName:t});return e}function OA(t,e,n){var r;let s=(r=z8[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kl.warn(a.join(" "));return}Vd(new bu(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8="firebase-heartbeat-database",Y8=1,om="firebase-heartbeat-store";let Y2=null;function e3(){return Y2||(Y2=h8(q8,Y8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(om)}catch(n){console.warn(n)}}}}).catch(t=>{throw fu.create("idb-open",{originalErrorMessage:t.message})})),Y2}async function X8(t){try{const n=(await e3()).transaction(om),r=await n.objectStore(om).get(t3(t));return await n.done,r}catch(e){if(e instanceof qA)Kl.warn(e.message);else{const n=fu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kl.warn(n.message)}}}async function B4(t,e){try{const r=(await e3()).transaction(om,"readwrite");await r.objectStore(om).put(e,t3(t)),await r.done}catch(n){if(n instanceof qA)Kl.warn(n.message);else{const r=fu.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kl.warn(r.message)}}}function t3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8=1024,Z8=30*24*60*60*1e3;class e7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new n7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=_4();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Z8}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Kl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_4(),{heartbeatsToSend:r,unsentEntries:s}=t7(this._heartbeatsCache.heartbeats),i=Mv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Kl.warn(n),""}}}function _4(){return new Date().toISOString().substring(0,10)}function t7(t,e=J8){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),C4(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),C4(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class n7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yk()?VM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await X8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return B4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return B4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function C4(t){return Mv(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t){Vd(new bu("platform-logger",e=>new g8(e),"PRIVATE")),Vd(new bu("heartbeat",e=>new e7(e),"PRIVATE")),OA(Eb,x4,t),OA(Eb,x4,"esm2017"),OA("fire-js","")}r7("");var s7="firebase",i7="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */OA(s7,i7,"app");function I5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function n3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const o7=n3,r3=new Pm("auth","Firebase",n3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=new _5("@firebase/auth");function a7(t,...e){Kv.logLevel<=Qn.WARN&&Kv.warn(`Auth (${ih}): ${t}`,...e)}function Wy(t,...e){Kv.logLevel<=Qn.ERROR&&Kv.error(`Auth (${ih}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t,...e){throw S5(t,...e)}function MA(t,...e){return S5(t,...e)}function s3(t,e,n){const r=Object.assign(Object.assign({},o7()),{[e]:n});return new Pm("auth","Firebase",r).create(e,{appName:t.name})}function Dl(t){return s3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S5(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return r3.create(t,...e)}function dn(t,e,...n){if(!t)throw S5(e,...n)}function Tl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wy(e),new Error(e)}function zl(t,e){t||Tl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function A7(){return E4()==="http:"||E4()==="https:"}function E4(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A7()||OM()||"connection"in navigator)?navigator.onLine:!0}function c7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.shortDelay=e,this.longDelay=n,zl(n>e,"Short delay should be less than long delay!"),this.isMobile=RM()||MM()}get(){return l7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t,e){zl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7=new Um(3e4,6e4);function Xl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Jl(t,e,n,r,s={}){return o3(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=jm(Object.assign({key:t.config.apiKey},o)).slice(1),A=await t._getAdditionalHeaders();A["Content-Type"]="application/json",t.languageCode&&(A["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:A},i);return QM()||(l.referrerPolicy="no-referrer"),i3.fetch()(a3(t,t.config.apiHost,n,a),l)})}async function o3(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},u7),e);try{const s=new f7(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw iy(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[A,l]=a.split(" : ");if(A==="FEDERATED_USER_ID_ALREADY_LINKED")throw iy(t,"credential-already-in-use",o);if(A==="EMAIL_EXISTS")throw iy(t,"email-already-in-use",o);if(A==="USER_DISABLED")throw iy(t,"user-disabled",o);const c=r[A]||A.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw s3(t,c,l);oA(t,c)}}catch(s){if(s instanceof qA)throw s;oA(t,"network-request-failed",{message:String(s)})}}async function Rm(t,e,n,r,s={}){const i=await Jl(t,e,n,r,s);return"mfaPendingCredential"in i&&oA(t,"multi-factor-auth-required",{_serverResponse:i}),i}function a3(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?F5(t.config,s):`${t.config.apiScheme}://${s}`}function h7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class f7{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(MA(this.auth,"network-request-failed")),d7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function iy(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=MA(t,e,r);return s.customData._tokenResponse=n,s}function I4(t){return t!==void 0&&t.enterprise!==void 0}class p7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return h7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function g7(t,e){return Jl(t,"GET","/v2/recaptchaConfig",Xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m7(t,e){return Jl(t,"POST","/v1/accounts:delete",e)}async function A3(t,e){return Jl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function y7(t,e=!1){const n=Ms(t),r=await n.getIdToken(e),s=T5(r);dn(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:xg(X2(s.auth_time)),issuedAtTime:xg(X2(s.iat)),expirationTime:xg(X2(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function X2(t){return Number(t)*1e3}function T5(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wy("JWT malformed, contained fewer than 3 sections"),null;try{const s=Vk(n);return s?JSON.parse(s):(Wy("Failed to decode base64 JWT payload"),null)}catch(s){return Wy("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function S4(t){const e=T5(t);return dn(e,"internal-error"),dn(typeof e.exp<"u","internal-error"),dn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function am(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qA&&v7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function v7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xg(this.lastLoginAt),this.creationTime=xg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zv(t){var e;const n=t.auth,r=await t.getIdToken(),s=await am(t,A3(n,{idToken:r}));dn(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?l3(i.providerUserInfo):[],a=b7(t.providerData,o),A=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=A?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Tb(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function x7(t){const e=Ms(t);await zv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function b7(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function l3(t){return t.map(e=>{var{providerId:n}=e,r=I5(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B7(t,e){const n=await o3(t,{},async()=>{const r=jm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=a3(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",i3.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _7(t,e){return Jl(t,"POST","/v2/accounts:revokeToken",Xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){dn(e.idToken,"internal-error"),dn(typeof e.idToken<"u","internal-error"),dn(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){dn(e.length!==0,"internal-error");const n=S4(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(dn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await B7(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new xf;return r&&(dn(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(dn(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(dn(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xf,this.toJSON())}_performRefresh(){return Tl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t,e){dn(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Nl{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=I5(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new w7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Tb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await am(this,this.stsTokenManager.getToken(this.auth,e));return dn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return y7(this,e)}reload(){return x7(this)}_assign(e){this!==e&&(dn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Nl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){dn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(PA(this.auth.app))return Promise.reject(Dl(this.auth));const e=await this.getIdToken();return await am(this,m7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,A,l,c;const u=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,d=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,B=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(A=n._redirectEventId)!==null&&A!==void 0?A:void 0,v=(l=n.createdAt)!==null&&l!==void 0?l:void 0,C=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:R,isAnonymous:P,providerData:Q,stsTokenManager:T}=n;dn(S&&T,e,"internal-error");const I=xf.fromJSON(this.name,T);dn(typeof S=="string",e,"internal-error"),Nc(u,e.name),Nc(f,e.name),dn(typeof R=="boolean",e,"internal-error"),dn(typeof P=="boolean",e,"internal-error"),Nc(d,e.name),Nc(B,e.name),Nc(b,e.name),Nc(E,e.name),Nc(v,e.name),Nc(C,e.name);const O=new Nl({uid:S,auth:e,email:f,emailVerified:R,displayName:u,isAnonymous:P,photoURL:B,phoneNumber:d,tenantId:b,stsTokenManager:I,createdAt:v,lastLoginAt:C});return Q&&Array.isArray(Q)&&(O.providerData=Q.map(M=>Object.assign({},M))),E&&(O._redirectEventId=E),O}static async _fromIdTokenResponse(e,n,r=!1){const s=new xf;s.updateFromServerResponse(n);const i=new Nl({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await zv(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];dn(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?l3(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new xf;a.updateFromIdToken(r);const A=new Nl({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Tb(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(A,l),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=new Map;function kl(t){zl(t instanceof Function,"Expected a class definition");let e=F4.get(t);return e?(zl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,F4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}c3.type="NONE";const T4=c3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t,e,n){return`firebase:${t}:${e}:${n}`}class bf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=$y(this.userKey,s.apiKey,i),this.fullPersistenceKey=$y("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Nl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bf(kl(T4),e,r);const s=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=s[0]||kl(T4);const o=$y(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const u=Nl._fromJSON(e,c);l!==i&&(a=u),i=l;break}}catch{}const A=s.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!A.length?new bf(i,e,r):(i=A[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==i)try{await l._remove(o)}catch{}})),new bf(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(g3(e))return"Blackberry";if(m3(e))return"Webos";if(d3(e))return"Safari";if((e.includes("chrome/")||h3(e))&&!e.includes("edge/"))return"Chrome";if(p3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function u3(t=Os()){return/firefox\//i.test(t)}function d3(t=Os()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h3(t=Os()){return/crios\//i.test(t)}function f3(t=Os()){return/iemobile/i.test(t)}function p3(t=Os()){return/android/i.test(t)}function g3(t=Os()){return/blackberry/i.test(t)}function m3(t=Os()){return/webos/i.test(t)}function N5(t=Os()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function C7(t=Os()){var e;return N5(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function E7(){return HM()&&document.documentMode===10}function y3(t=Os()){return N5(t)||p3(t)||m3(t)||g3(t)||/windows phone/i.test(t)||f3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t,e=[]){let n;switch(t){case"Browser":n=N4(Os());break;case"Worker":n=`${N4(Os())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ih}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const A=e(i);o(A)}catch(A){a(A)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S7(t,e={}){return Jl(t,"GET","/v2/passwordPolicy",Xl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7=6;class T7{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:F7,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const A={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,A),this.validatePasswordCharacterOptions(e,A),A.isValid&&(A.isValid=(n=A.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),A.isValid&&(A.isValid=(r=A.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),A.isValid&&(A.isValid=(s=A.containsLowercaseLetter)!==null&&s!==void 0?s:!0),A.isValid&&(A.isValid=(i=A.containsUppercaseLetter)!==null&&i!==void 0?i:!0),A.isValid&&(A.isValid=(o=A.containsNumericCharacter)!==null&&o!==void 0?o:!0),A.isValid&&(A.isValid=(a=A.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),A}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k4(this),this.idTokenSubscription=new k4(this),this.beforeStateQueue=new I7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=r3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=kl(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await bf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await A3(this,{idToken:e}),r=await Nl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(PA(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,A=await this.tryRedirectSignIn(e);(!o||o===a)&&(A!=null&&A.user)&&(s=A.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return dn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zv(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=c7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(PA(this.app))return Promise.reject(Dl(this));const n=e?Ms(e):null;return n&&dn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&dn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return PA(this.app)?Promise.reject(Dl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return PA(this.app)?Promise.reject(Dl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await S7(this),n=new T7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&kl(e)||this._popupRedirectResolver;dn(n,this,"argument-error"),this.redirectPersistenceManager=await bf.create(this,[kl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(dn(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const A=e.addObserver(n,r,s);return()=>{o=!0,A()}}else{const A=e.addObserver(n);return()=>{o=!0,A()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return dn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&a7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Lu(t){return Ms(t)}class k4{constructor(e){this.auth=e,this.observer=null,this.addObserver=$M(n=>this.observer=n)}get next(){return dn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k7(t){W1=t}function w3(t){return W1.loadJS(t)}function L7(){return W1.recaptchaEnterpriseScript}function P7(){return W1.gapiScript}function j7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const U7="recaptcha-enterprise",R7="NO_RECAPTCHA";class D7{constructor(e){this.type=U7,this.auth=Lu(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{g7(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(A=>{if(A.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new p7(A);return i.tenantId==null?i._agentRecaptchaConfig=l:i._tenantRecaptchaConfigs[i.tenantId]=l,o(l.siteKey)}}).catch(A=>{a(A)})})}function s(i,o,a){const A=window.grecaptcha;I4(A)?A.enterprise.ready(()=>{A.enterprise.execute(i,{action:e}).then(l=>{o(l)}).catch(()=>{o(R7)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&I4(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let A=L7();A.length!==0&&(A+=a),w3(A).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function L4(t,e,n,r=!1){const s=new D7(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Gv(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await L4(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await L4(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(t,e){const n=G1(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Hv(i,e??{}))return s;oA(s,"already-initialized")}return n.initialize({options:e})}function O7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(kl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function M7(t,e,n){const r=Lu(t);dn(r._canInitEmulator,r,"emulator-config-failed"),dn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=x3(e),{host:o,port:a}=H7(e),A=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${A}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||V7()}function x3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function H7(t){const e=x3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:P4(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:P4(o)}}}function P4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function V7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Tl("not implemented")}_getIdTokenResponse(e){return Tl("not implemented")}_linkToIdToken(e,n){return Tl("not implemented")}_getReauthenticationResolver(e){return Tl("not implemented")}}async function K7(t,e){return Jl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z7(t,e){return Rm(t,"POST","/v1/accounts:signInWithPassword",Xl(t,e))}async function G7(t,e){return Jl(t,"POST","/v1/accounts:sendOobCode",Xl(t,e))}async function W7(t,e){return G7(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $7(t,e){return Rm(t,"POST","/v1/accounts:signInWithEmailLink",Xl(t,e))}async function q7(t,e){return Rm(t,"POST","/v1/accounts:signInWithEmailLink",Xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am extends k5{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Am(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Am(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gv(e,n,"signInWithPassword",z7);case"emailLink":return $7(e,{email:this._email,oobCode:this._password});default:oA(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gv(e,r,"signUpPassword",K7);case"emailLink":return q7(e,{idToken:n,email:this._email,oobCode:this._password});default:oA(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bf(t,e){return Rm(t,"POST","/v1/accounts:signInWithIdp",Xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7="http://localhost";class Kd extends k5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Kd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oA("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=I5(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Kd(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Bf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bf(e,n)}buildRequest(){const e={requestUri:Y7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jm(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function J7(t){const e=Zp(eg(t)).link,n=e?Zp(eg(e)).deep_link_id:null,r=Zp(eg(t)).deep_link_id;return(r?Zp(eg(r)).link:null)||r||n||e||t}class L5{constructor(e){var n,r,s,i,o,a;const A=Zp(eg(e)),l=(n=A.apiKey)!==null&&n!==void 0?n:null,c=(r=A.oobCode)!==null&&r!==void 0?r:null,u=X7((s=A.mode)!==null&&s!==void 0?s:null);dn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=(i=A.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=A.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=A.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=J7(e);try{return new L5(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(){this.providerId=ep.PROVIDER_ID}static credential(e,n){return Am._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=L5.parseLink(n);return dn(r,"argument-error"),Am._fromEmailAndCode(e,r.code,r.tenantId)}}ep.PROVIDER_ID="password";ep.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ep.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm extends b3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends Dm{constructor(){super("facebook.com")}static credential(e){return Kd._fromParams({providerId:Vc.PROVIDER_ID,signInMethod:Vc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vc.credentialFromTaggedObject(e)}static credentialFromError(e){return Vc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vc.credential(e.oauthAccessToken)}catch{return null}}}Vc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends Dm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Kd._fromParams({providerId:Kc.PROVIDER_ID,signInMethod:Kc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Kc.credentialFromTaggedObject(e)}static credentialFromError(e){return Kc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Kc.credential(n,r)}catch{return null}}}Kc.GOOGLE_SIGN_IN_METHOD="google.com";Kc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends Dm{constructor(){super("github.com")}static credential(e){return Kd._fromParams({providerId:zc.PROVIDER_ID,signInMethod:zc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zc.credentialFromTaggedObject(e)}static credentialFromError(e){return zc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zc.credential(e.oauthAccessToken)}catch{return null}}}zc.GITHUB_SIGN_IN_METHOD="github.com";zc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends Dm{constructor(){super("twitter.com")}static credential(e,n){return Kd._fromParams({providerId:Gc.PROVIDER_ID,signInMethod:Gc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gc.credentialFromTaggedObject(e)}static credentialFromError(e){return Gc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gc.credential(n,r)}catch{return null}}}Gc.TWITTER_SIGN_IN_METHOD="twitter.com";Gc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z7(t,e){return Rm(t,"POST","/v1/accounts:signUp",Xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Nl._fromIdTokenResponse(e,r,s),o=j4(r);return new zd({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=j4(r);return new zd({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function j4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv extends qA{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Wv.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Wv(e,n,r,s)}}function B3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Wv._fromErrorAndOperation(t,i,e,r):i})}async function eH(t,e,n=!1){const r=await am(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return zd._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tH(t,e,n=!1){const{auth:r}=t;if(PA(r.app))return Promise.reject(Dl(r));const s="reauthenticate";try{const i=await am(t,B3(r,s,e,t),n);dn(i.idToken,r,"internal-error");const o=T5(i.idToken);dn(o,r,"internal-error");const{sub:a}=o;return dn(t.uid===a,r,"user-mismatch"),zd._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&oA(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _3(t,e,n=!1){if(PA(t.app))return Promise.reject(Dl(t));const r="signIn",s=await B3(t,r,e),i=await zd._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function nH(t,e){return _3(Lu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rH(t,e,n){var r;dn(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),dn(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(dn(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(dn(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(t){const e=Lu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sH(t,e,n){const r=Lu(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&rH(r,s,n),await Gv(r,s,"getOobCode",W7)}async function iH(t,e,n){if(PA(t.app))return Promise.reject(Dl(t));const r=Lu(t),o=await Gv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Z7).catch(A=>{throw A.code==="auth/password-does-not-meet-requirements"&&C3(t),A}),a=await zd._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function oH(t,e,n){return PA(t.app)?Promise.reject(Dl(t)):nH(Ms(t),ep.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&C3(t),r})}function aH(t,e,n,r){return Ms(t).onIdTokenChanged(e,n,r)}function AH(t,e,n){return Ms(t).beforeAuthStateChanged(e,n)}function lH(t,e,n,r){return Ms(t).onAuthStateChanged(e,n,r)}const $v="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($v,"1"),this.storage.removeItem($v),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH=1e3,uH=10;class I3 extends E3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=y3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,A)=>{this.notifyListeners(o,A)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);E7()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,uH):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},cH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}I3.type="LOCAL";const dH=I3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3 extends E3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}S3.type="SESSION";const F3=S3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new $1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async l=>l(n.origin,i)),A=await hH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:A})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,A)=>{const l=P5("",20);s.port1.start();const c=setTimeout(()=>{A(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(u){const f=u;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{A(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(c),clearTimeout(i),A(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){return window}function pH(t){HA().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(){return typeof HA().WorkerGlobalScope<"u"&&typeof HA().importScripts=="function"}async function gH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yH(){return T3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3="firebaseLocalStorageDb",vH=1,qv="firebaseLocalStorage",k3="fbase_key";class Qm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function q1(t,e){return t.transaction([qv],e?"readwrite":"readonly").objectStore(qv)}function wH(){const t=indexedDB.deleteDatabase(N3);return new Qm(t).toPromise()}function Nb(){const t=indexedDB.open(N3,vH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qv,{keyPath:k3})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qv)?e(r):(r.close(),await wH(),e(await Nb()))})})}async function U4(t,e,n){const r=q1(t,!0).put({[k3]:e,value:n});return new Qm(r).toPromise()}async function xH(t,e){const n=q1(t,!1).get(e),r=await new Qm(n).toPromise();return r===void 0?null:r.value}function R4(t,e){const n=q1(t,!0).delete(e);return new Qm(n).toPromise()}const bH=800,BH=3;class L3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>BH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$1._getInstance(yH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await gH(),!this.activeServiceWorker)return;this.sender=new fH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nb();return await U4(e,$v,"1"),await R4(e,$v),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>U4(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>xH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>R4(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=q1(s,!1).getAll();return new Qm(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L3.type="LOCAL";const _H=L3;new Um(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CH(t,e){return e?kl(e):(dn(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5 extends k5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EH(t){return _3(t.auth,new j5(t),t.bypassAuthState)}function IH(t){const{auth:e,user:n}=t;return dn(n,e,"internal-error"),tH(n,new j5(t),t.bypassAuthState)}async function SH(t){const{auth:e,user:n}=t;return dn(n,e,"internal-error"),eH(n,new j5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const A={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(A))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EH;case"linkViaPopup":case"linkViaRedirect":return SH;case"reauthViaPopup":case"reauthViaRedirect":return IH;default:oA(this.auth,"internal-error")}}resolve(e){zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=new Um(2e3,1e4);class hf extends P3{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,hf.currentPopupAction&&hf.currentPopupAction.cancel(),hf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return dn(e,this.auth,"internal-error"),e}async onExecution(){zl(this.filter.length===1,"Popup operations only handle one event");const e=P5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(MA(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(MA(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(MA(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FH.get())};e()}}hf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH="pendingRedirect",qy=new Map;class NH extends P3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qy.get(this.auth._key());if(!e){try{const r=await kH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qy.set(this.auth._key(),e)}return this.bypassAuthState||qy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kH(t,e){const n=jH(e),r=PH(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function LH(t,e){qy.set(t._key(),e)}function PH(t){return kl(t._redirectPersistence)}function jH(t){return $y(TH,t.config.apiKey,t.name)}async function UH(t,e,n=!1){if(PA(t.app))return Promise.reject(Dl(t));const r=Lu(t),s=CH(r,e),o=await new NH(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=10*60*1e3;class DH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!j3(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(MA(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RH&&this.cachedEventUids.clear(),this.cachedEventUids.has(D4(e))}saveEventToCache(e){this.cachedEventUids.add(D4(e)),this.lastProcessedEventTime=Date.now()}}function D4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function j3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OH(t,e={}){return Jl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HH=/^https?/;async function VH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OH(t);for(const n of e)try{if(KH(n))return}catch{}oA(t,"unauthorized-domain")}function KH(t){const e=Fb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!HH.test(n))return!1;if(MH.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=new Um(3e4,6e4);function Q4(){const t=HA().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GH(t){return new Promise((e,n)=>{var r,s,i;function o(){Q4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q4(),n(MA(t,"network-request-failed"))},timeout:zH.get()})}if(!((s=(r=HA().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=HA().gapi)===null||i===void 0)&&i.load)o();else{const a=j7("iframefcb");return HA()[a]=()=>{gapi.load?o():n(MA(t,"network-request-failed"))},w3(`${P7()}?onload=${a}`).catch(A=>n(A))}}).catch(e=>{throw Yy=null,e})}let Yy=null;function WH(t){return Yy=Yy||GH(t),Yy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $H=new Um(5e3,15e3),qH="__/auth/iframe",YH="emulator/auth/iframe",XH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZH(t){const e=t.config;dn(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?F5(e,YH):`https://${t.config.authDomain}/${qH}`,r={apiKey:e.apiKey,appName:t.name,v:ih},s=JH.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${jm(r).slice(1)}`}async function e9(t){const e=await WH(t),n=HA().gapi;return dn(n,t,"internal-error"),e.open({where:document.body,url:ZH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XH,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=MA(t,"network-request-failed"),a=HA().setTimeout(()=>{i(o)},$H.get());function A(){HA().clearTimeout(a),s(r)}r.ping(A).then(A,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n9=500,r9=600,s9="_blank",i9="http://localhost";class O4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o9(t,e,n,r=n9,s=r9){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const A=Object.assign(Object.assign({},t9),{width:r.toString(),height:s.toString(),top:i,left:o}),l=Os().toLowerCase();n&&(a=h3(l)?s9:n),u3(l)&&(e=e||i9,A.scrollbars="yes");const c=Object.entries(A).reduce((f,[d,B])=>`${f}${d}=${B},`,"");if(C7(l)&&a!=="_self")return a9(e||"",a),new O4(null);const u=window.open(e||"",a,c);dn(u,t,"popup-blocked");try{u.focus()}catch{}return new O4(u)}function a9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9="__/auth/handler",l9="emulator/auth/handler",c9=encodeURIComponent("fac");async function M4(t,e,n,r,s,i){dn(t.config.authDomain,t,"auth-domain-config-required"),dn(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ih,eventId:s};if(e instanceof b3){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",WM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,u]of Object.entries(i||{}))o[c]=u}if(e instanceof Dm){const c=e.getScopes().filter(u=>u!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const A=await t._getAppCheckToken(),l=A?`#${c9}=${encodeURIComponent(A)}`:"";return`${u9(t)}?${jm(a).slice(1)}${l}`}function u9({config:t}){return t.emulator?F5(t,l9):`https://${t.authDomain}/${A9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="webStorageSupport";class d9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F3,this._completeRedirectFn=UH,this._overrideRedirectResult=LH}async _openPopup(e,n,r,s){var i;zl((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await M4(e,n,r,Fb(),s);return o9(e,o,P5())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await M4(e,n,r,Fb(),s);return pH(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(zl(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await e9(e),r=new DH(e);return n.register("authEvent",s=>(dn(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(J2,{type:J2},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[J2];o!==void 0&&n(!!o),oA(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return y3()||d3()||N5()}}const h9=d9;var H4="@firebase/auth",V4="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){dn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g9(t){Vd(new bu("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;dn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const A={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v3(t)},l=new N7(r,s,i,A);return O7(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vd(new bu("auth-internal",e=>{const n=Lu(e.getProvider("auth").getImmediate());return(r=>new f9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),OA(H4,V4,p9(t)),OA(H4,V4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=5*60,y9=Wk("authIdTokenMaxAge")||m9;let K4=null;const v9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>y9)return;const s=n==null?void 0:n.token;K4!==s&&(K4=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function w9(t=E5()){const e=G1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Q7(t,{popupRedirectResolver:h9,persistence:[_H,dH,F3]}),r=Wk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=v9(i.toString());AH(n,o,()=>o(n.currentUser)),aH(n,a=>o(a))}}const s=Kk("auth");return s&&M7(n,`http://${s}`),n}function x9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}k7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=MA("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",x9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g9("Browser");var z4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Id,U3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,I){function O(){}O.prototype=I.prototype,T.D=I.prototype,T.prototype=new O,T.prototype.constructor=T,T.C=function(M,L,j){for(var k=Array(arguments.length-2),$=2;$<arguments.length;$++)k[$-2]=arguments[$];return I.prototype[L].apply(M,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,I,O){O||(O=0);var M=Array(16);if(typeof I=="string")for(var L=0;16>L;++L)M[L]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(L=0;16>L;++L)M[L]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=T.g[0],O=T.g[1],L=T.g[2];var j=T.g[3],k=I+(j^O&(L^j))+M[0]+3614090360&4294967295;I=O+(k<<7&4294967295|k>>>25),k=j+(L^I&(O^L))+M[1]+3905402710&4294967295,j=I+(k<<12&4294967295|k>>>20),k=L+(O^j&(I^O))+M[2]+606105819&4294967295,L=j+(k<<17&4294967295|k>>>15),k=O+(I^L&(j^I))+M[3]+3250441966&4294967295,O=L+(k<<22&4294967295|k>>>10),k=I+(j^O&(L^j))+M[4]+4118548399&4294967295,I=O+(k<<7&4294967295|k>>>25),k=j+(L^I&(O^L))+M[5]+1200080426&4294967295,j=I+(k<<12&4294967295|k>>>20),k=L+(O^j&(I^O))+M[6]+2821735955&4294967295,L=j+(k<<17&4294967295|k>>>15),k=O+(I^L&(j^I))+M[7]+4249261313&4294967295,O=L+(k<<22&4294967295|k>>>10),k=I+(j^O&(L^j))+M[8]+1770035416&4294967295,I=O+(k<<7&4294967295|k>>>25),k=j+(L^I&(O^L))+M[9]+2336552879&4294967295,j=I+(k<<12&4294967295|k>>>20),k=L+(O^j&(I^O))+M[10]+4294925233&4294967295,L=j+(k<<17&4294967295|k>>>15),k=O+(I^L&(j^I))+M[11]+2304563134&4294967295,O=L+(k<<22&4294967295|k>>>10),k=I+(j^O&(L^j))+M[12]+1804603682&4294967295,I=O+(k<<7&4294967295|k>>>25),k=j+(L^I&(O^L))+M[13]+4254626195&4294967295,j=I+(k<<12&4294967295|k>>>20),k=L+(O^j&(I^O))+M[14]+2792965006&4294967295,L=j+(k<<17&4294967295|k>>>15),k=O+(I^L&(j^I))+M[15]+1236535329&4294967295,O=L+(k<<22&4294967295|k>>>10),k=I+(L^j&(O^L))+M[1]+4129170786&4294967295,I=O+(k<<5&4294967295|k>>>27),k=j+(O^L&(I^O))+M[6]+3225465664&4294967295,j=I+(k<<9&4294967295|k>>>23),k=L+(I^O&(j^I))+M[11]+643717713&4294967295,L=j+(k<<14&4294967295|k>>>18),k=O+(j^I&(L^j))+M[0]+3921069994&4294967295,O=L+(k<<20&4294967295|k>>>12),k=I+(L^j&(O^L))+M[5]+3593408605&4294967295,I=O+(k<<5&4294967295|k>>>27),k=j+(O^L&(I^O))+M[10]+38016083&4294967295,j=I+(k<<9&4294967295|k>>>23),k=L+(I^O&(j^I))+M[15]+3634488961&4294967295,L=j+(k<<14&4294967295|k>>>18),k=O+(j^I&(L^j))+M[4]+3889429448&4294967295,O=L+(k<<20&4294967295|k>>>12),k=I+(L^j&(O^L))+M[9]+568446438&4294967295,I=O+(k<<5&4294967295|k>>>27),k=j+(O^L&(I^O))+M[14]+3275163606&4294967295,j=I+(k<<9&4294967295|k>>>23),k=L+(I^O&(j^I))+M[3]+4107603335&4294967295,L=j+(k<<14&4294967295|k>>>18),k=O+(j^I&(L^j))+M[8]+1163531501&4294967295,O=L+(k<<20&4294967295|k>>>12),k=I+(L^j&(O^L))+M[13]+2850285829&4294967295,I=O+(k<<5&4294967295|k>>>27),k=j+(O^L&(I^O))+M[2]+4243563512&4294967295,j=I+(k<<9&4294967295|k>>>23),k=L+(I^O&(j^I))+M[7]+1735328473&4294967295,L=j+(k<<14&4294967295|k>>>18),k=O+(j^I&(L^j))+M[12]+2368359562&4294967295,O=L+(k<<20&4294967295|k>>>12),k=I+(O^L^j)+M[5]+4294588738&4294967295,I=O+(k<<4&4294967295|k>>>28),k=j+(I^O^L)+M[8]+2272392833&4294967295,j=I+(k<<11&4294967295|k>>>21),k=L+(j^I^O)+M[11]+1839030562&4294967295,L=j+(k<<16&4294967295|k>>>16),k=O+(L^j^I)+M[14]+4259657740&4294967295,O=L+(k<<23&4294967295|k>>>9),k=I+(O^L^j)+M[1]+2763975236&4294967295,I=O+(k<<4&4294967295|k>>>28),k=j+(I^O^L)+M[4]+1272893353&4294967295,j=I+(k<<11&4294967295|k>>>21),k=L+(j^I^O)+M[7]+4139469664&4294967295,L=j+(k<<16&4294967295|k>>>16),k=O+(L^j^I)+M[10]+3200236656&4294967295,O=L+(k<<23&4294967295|k>>>9),k=I+(O^L^j)+M[13]+681279174&4294967295,I=O+(k<<4&4294967295|k>>>28),k=j+(I^O^L)+M[0]+3936430074&4294967295,j=I+(k<<11&4294967295|k>>>21),k=L+(j^I^O)+M[3]+3572445317&4294967295,L=j+(k<<16&4294967295|k>>>16),k=O+(L^j^I)+M[6]+76029189&4294967295,O=L+(k<<23&4294967295|k>>>9),k=I+(O^L^j)+M[9]+3654602809&4294967295,I=O+(k<<4&4294967295|k>>>28),k=j+(I^O^L)+M[12]+3873151461&4294967295,j=I+(k<<11&4294967295|k>>>21),k=L+(j^I^O)+M[15]+530742520&4294967295,L=j+(k<<16&4294967295|k>>>16),k=O+(L^j^I)+M[2]+3299628645&4294967295,O=L+(k<<23&4294967295|k>>>9),k=I+(L^(O|~j))+M[0]+4096336452&4294967295,I=O+(k<<6&4294967295|k>>>26),k=j+(O^(I|~L))+M[7]+1126891415&4294967295,j=I+(k<<10&4294967295|k>>>22),k=L+(I^(j|~O))+M[14]+2878612391&4294967295,L=j+(k<<15&4294967295|k>>>17),k=O+(j^(L|~I))+M[5]+4237533241&4294967295,O=L+(k<<21&4294967295|k>>>11),k=I+(L^(O|~j))+M[12]+1700485571&4294967295,I=O+(k<<6&4294967295|k>>>26),k=j+(O^(I|~L))+M[3]+2399980690&4294967295,j=I+(k<<10&4294967295|k>>>22),k=L+(I^(j|~O))+M[10]+4293915773&4294967295,L=j+(k<<15&4294967295|k>>>17),k=O+(j^(L|~I))+M[1]+2240044497&4294967295,O=L+(k<<21&4294967295|k>>>11),k=I+(L^(O|~j))+M[8]+1873313359&4294967295,I=O+(k<<6&4294967295|k>>>26),k=j+(O^(I|~L))+M[15]+4264355552&4294967295,j=I+(k<<10&4294967295|k>>>22),k=L+(I^(j|~O))+M[6]+2734768916&4294967295,L=j+(k<<15&4294967295|k>>>17),k=O+(j^(L|~I))+M[13]+1309151649&4294967295,O=L+(k<<21&4294967295|k>>>11),k=I+(L^(O|~j))+M[4]+4149444226&4294967295,I=O+(k<<6&4294967295|k>>>26),k=j+(O^(I|~L))+M[11]+3174756917&4294967295,j=I+(k<<10&4294967295|k>>>22),k=L+(I^(j|~O))+M[2]+718787259&4294967295,L=j+(k<<15&4294967295|k>>>17),k=O+(j^(L|~I))+M[9]+3951481745&4294967295,T.g[0]=T.g[0]+I&4294967295,T.g[1]=T.g[1]+(L+(k<<21&4294967295|k>>>11))&4294967295,T.g[2]=T.g[2]+L&4294967295,T.g[3]=T.g[3]+j&4294967295}r.prototype.u=function(T,I){I===void 0&&(I=T.length);for(var O=I-this.blockSize,M=this.B,L=this.h,j=0;j<I;){if(L==0)for(;j<=O;)s(this,T,j),j+=this.blockSize;if(typeof T=="string"){for(;j<I;)if(M[L++]=T.charCodeAt(j++),L==this.blockSize){s(this,M),L=0;break}}else for(;j<I;)if(M[L++]=T[j++],L==this.blockSize){s(this,M),L=0;break}}this.h=L,this.o+=I},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var I=1;I<T.length-8;++I)T[I]=0;var O=8*this.o;for(I=T.length-8;I<T.length;++I)T[I]=O&255,O/=256;for(this.u(T),T=Array(16),I=O=0;4>I;++I)for(var M=0;32>M;M+=8)T[O++]=this.g[I]>>>M&255;return T};function i(T,I){var O=a;return Object.prototype.hasOwnProperty.call(O,T)?O[T]:O[T]=I(T)}function o(T,I){this.h=I;for(var O=[],M=!0,L=T.length-1;0<=L;L--){var j=T[L]|0;M&&j==I||(O[L]=j,M=!1)}this.g=O}var a={};function A(T){return-128<=T&&128>T?i(T,function(I){return new o([I|0],0>I?-1:0)}):new o([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return u;if(0>T)return E(l(-T));for(var I=[],O=1,M=0;T>=O;M++)I[M]=T/O|0,O*=4294967296;return new o(I,0)}function c(T,I){if(T.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T.charAt(0)=="-")return E(c(T.substring(1),I));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=l(Math.pow(I,8)),M=u,L=0;L<T.length;L+=8){var j=Math.min(8,T.length-L),k=parseInt(T.substring(L,L+j),I);8>j?(j=l(Math.pow(I,j)),M=M.j(j).add(l(k))):(M=M.j(O),M=M.add(l(k)))}return M}var u=A(0),f=A(1),d=A(16777216);t=o.prototype,t.m=function(){if(b(this))return-E(this).m();for(var T=0,I=1,O=0;O<this.g.length;O++){var M=this.i(O);T+=(0<=M?M:4294967296+M)*I,I*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(B(this))return"0";if(b(this))return"-"+E(this).toString(T);for(var I=l(Math.pow(T,6)),O=this,M="";;){var L=R(O,I).g;O=v(O,L.j(I));var j=((0<O.g.length?O.g[0]:O.h)>>>0).toString(T);if(O=L,B(O))return j+M;for(;6>j.length;)j="0"+j;M=j+M}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function B(T){if(T.h!=0)return!1;for(var I=0;I<T.g.length;I++)if(T.g[I]!=0)return!1;return!0}function b(T){return T.h==-1}t.l=function(T){return T=v(this,T),b(T)?-1:B(T)?0:1};function E(T){for(var I=T.g.length,O=[],M=0;M<I;M++)O[M]=~T.g[M];return new o(O,~T.h).add(f)}t.abs=function(){return b(this)?E(this):this},t.add=function(T){for(var I=Math.max(this.g.length,T.g.length),O=[],M=0,L=0;L<=I;L++){var j=M+(this.i(L)&65535)+(T.i(L)&65535),k=(j>>>16)+(this.i(L)>>>16)+(T.i(L)>>>16);M=k>>>16,j&=65535,k&=65535,O[L]=k<<16|j}return new o(O,O[O.length-1]&-2147483648?-1:0)};function v(T,I){return T.add(E(I))}t.j=function(T){if(B(this)||B(T))return u;if(b(this))return b(T)?E(this).j(E(T)):E(E(this).j(T));if(b(T))return E(this.j(E(T)));if(0>this.l(d)&&0>T.l(d))return l(this.m()*T.m());for(var I=this.g.length+T.g.length,O=[],M=0;M<2*I;M++)O[M]=0;for(M=0;M<this.g.length;M++)for(var L=0;L<T.g.length;L++){var j=this.i(M)>>>16,k=this.i(M)&65535,$=T.i(L)>>>16,re=T.i(L)&65535;O[2*M+2*L]+=k*re,C(O,2*M+2*L),O[2*M+2*L+1]+=j*re,C(O,2*M+2*L+1),O[2*M+2*L+1]+=k*$,C(O,2*M+2*L+1),O[2*M+2*L+2]+=j*$,C(O,2*M+2*L+2)}for(M=0;M<I;M++)O[M]=O[2*M+1]<<16|O[2*M];for(M=I;M<2*I;M++)O[M]=0;return new o(O,0)};function C(T,I){for(;(T[I]&65535)!=T[I];)T[I+1]+=T[I]>>>16,T[I]&=65535,I++}function S(T,I){this.g=T,this.h=I}function R(T,I){if(B(I))throw Error("division by zero");if(B(T))return new S(u,u);if(b(T))return I=R(E(T),I),new S(E(I.g),E(I.h));if(b(I))return I=R(T,E(I)),new S(E(I.g),I.h);if(30<T.g.length){if(b(T)||b(I))throw Error("slowDivide_ only works with positive integers.");for(var O=f,M=I;0>=M.l(T);)O=P(O),M=P(M);var L=Q(O,1),j=Q(M,1);for(M=Q(M,2),O=Q(O,2);!B(M);){var k=j.add(M);0>=k.l(T)&&(L=L.add(O),j=k),M=Q(M,1),O=Q(O,1)}return I=v(T,L.j(I)),new S(L,I)}for(L=u;0<=T.l(I);){for(O=Math.max(1,Math.floor(T.m()/I.m())),M=Math.ceil(Math.log(O)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),j=l(O),k=j.j(I);b(k)||0<k.l(T);)O-=M,j=l(O),k=j.j(I);B(j)&&(j=f),L=L.add(j),T=v(T,k)}return new S(L,T)}t.A=function(T){return R(this,T).h},t.and=function(T){for(var I=Math.max(this.g.length,T.g.length),O=[],M=0;M<I;M++)O[M]=this.i(M)&T.i(M);return new o(O,this.h&T.h)},t.or=function(T){for(var I=Math.max(this.g.length,T.g.length),O=[],M=0;M<I;M++)O[M]=this.i(M)|T.i(M);return new o(O,this.h|T.h)},t.xor=function(T){for(var I=Math.max(this.g.length,T.g.length),O=[],M=0;M<I;M++)O[M]=this.i(M)^T.i(M);return new o(O,this.h^T.h)};function P(T){for(var I=T.g.length+1,O=[],M=0;M<I;M++)O[M]=T.i(M)<<1|T.i(M-1)>>>31;return new o(O,T.h)}function Q(T,I){var O=I>>5;I%=32;for(var M=T.g.length-O,L=[],j=0;j<M;j++)L[j]=0<I?T.i(j+O)>>>I|T.i(j+O+1)<<32-I:T.i(j+O);return new o(L,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,U3=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=c,Id=o}).apply(typeof z4<"u"?z4:typeof self<"u"?self:typeof window<"u"?window:{});var oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var R3,tg,D3,Xy,kb,Q3,O3,M3;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,U,V){return m==Array.prototype||m==Object.prototype||(m[U]=V.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof oy=="object"&&oy];for(var U=0;U<m.length;++U){var V=m[U];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var r=n(this);function s(m,U){if(U)e:{var V=r;m=m.split(".");for(var Z=0;Z<m.length-1;Z++){var Ee=m[Z];if(!(Ee in V))break e;V=V[Ee]}m=m[m.length-1],Z=V[m],U=U(Z),U!=Z&&U!=null&&e(V,m,{configurable:!0,writable:!0,value:U})}}function i(m,U){m instanceof String&&(m+="");var V=0,Z=!1,Ee={next:function(){if(!Z&&V<m.length){var Se=V++;return{value:U(Se,m[Se]),done:!1}}return Z=!0,{done:!0,value:void 0}}};return Ee[Symbol.iterator]=function(){return Ee},Ee}s("Array.prototype.values",function(m){return m||function(){return i(this,function(U,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function A(m){var U=typeof m;return U=U!="object"?U:m?Array.isArray(m)?"array":U:"null",U=="array"||U=="object"&&typeof m.length=="number"}function l(m){var U=typeof m;return U=="object"&&m!=null||U=="function"}function c(m,U,V){return m.call.apply(m.bind,arguments)}function u(m,U,V){if(!m)throw Error();if(2<arguments.length){var Z=Array.prototype.slice.call(arguments,2);return function(){var Ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ee,Z),m.apply(U,Ee)}}return function(){return m.apply(U,arguments)}}function f(m,U,V){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:u,f.apply(null,arguments)}function d(m,U){var V=Array.prototype.slice.call(arguments,1);return function(){var Z=V.slice();return Z.push.apply(Z,arguments),m.apply(this,Z)}}function B(m,U){function V(){}V.prototype=U.prototype,m.aa=U.prototype,m.prototype=new V,m.prototype.constructor=m,m.Qb=function(Z,Ee,Se){for(var at=Array(arguments.length-2),pn=2;pn<arguments.length;pn++)at[pn-2]=arguments[pn];return U.prototype[Ee].apply(Z,at)}}function b(m){const U=m.length;if(0<U){const V=Array(U);for(let Z=0;Z<U;Z++)V[Z]=m[Z];return V}return[]}function E(m,U){for(let V=1;V<arguments.length;V++){const Z=arguments[V];if(A(Z)){const Ee=m.length||0,Se=Z.length||0;m.length=Ee+Se;for(let at=0;at<Se;at++)m[Ee+at]=Z[at]}else m.push(Z)}}class v{constructor(U,V){this.i=U,this.j=V,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}function C(m){return/^[\s\xa0]*$/.test(m)}function S(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function R(m){return R[" "](m),m}R[" "]=function(){};var P=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function Q(m,U,V){for(const Z in m)U.call(V,m[Z],Z,m)}function T(m,U){for(const V in m)U.call(void 0,m[V],V,m)}function I(m){const U={};for(const V in m)U[V]=m[V];return U}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(m,U){let V,Z;for(let Ee=1;Ee<arguments.length;Ee++){Z=arguments[Ee];for(V in Z)m[V]=Z[V];for(let Se=0;Se<O.length;Se++)V=O[Se],Object.prototype.hasOwnProperty.call(Z,V)&&(m[V]=Z[V])}}function L(m){var U=1;m=m.split(":");const V=[];for(;0<U&&m.length;)V.push(m.shift()),U--;return m.length&&V.push(m.join(":")),V}function j(m){a.setTimeout(()=>{throw m},0)}function k(){var m=me;let U=null;return m.g&&(U=m.g,m.g=m.g.next,m.g||(m.h=null),U.next=null),U}class ${constructor(){this.h=this.g=null}add(U,V){const Z=re.get();Z.set(U,V),this.h?this.h.next=Z:this.g=Z,this.h=Z}}var re=new v(()=>new oe,m=>m.reset());class oe{constructor(){this.next=this.g=this.h=null}set(U,V){this.h=U,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,se=!1,me=new $,ve=()=>{const m=a.Promise.resolve(void 0);pe=()=>{m.then(Ve)}};var Ve=()=>{for(var m;m=k();){try{m.h.call(m.g)}catch(V){j(V)}var U=re;U.j(m),100>U.h&&(U.h++,m.next=U.g,U.g=m)}se=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(m,U){this.type=m,this.g=this.target=U,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,U=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const V=()=>{};a.addEventListener("test",V,U),a.removeEventListener("test",V,U)}catch{}return m}();function ce(m,U){if(J.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var V=this.type=m.type,Z=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=U,U=m.relatedTarget){if(P){e:{try{R(U.nodeName);var Ee=!0;break e}catch{}Ee=!1}Ee||(U=null)}}else V=="mouseover"?U=m.fromElement:V=="mouseout"&&(U=m.toElement);this.relatedTarget=U,Z?(this.clientX=Z.clientX!==void 0?Z.clientX:Z.pageX,this.clientY=Z.clientY!==void 0?Z.clientY:Z.pageY,this.screenX=Z.screenX||0,this.screenY=Z.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ge[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ce.aa.h.call(this)}}B(ce,J);var ge={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),ue=0;function fe(m,U,V,Z,Ee){this.listener=m,this.proxy=null,this.src=U,this.type=V,this.capture=!!Z,this.ha=Ee,this.key=++ue,this.da=this.fa=!1}function Ue(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function He(m){this.src=m,this.g={},this.h=0}He.prototype.add=function(m,U,V,Z,Ee){var Se=m.toString();m=this.g[Se],m||(m=this.g[Se]=[],this.h++);var at=Je(m,U,Z,Ee);return-1<at?(U=m[at],V||(U.fa=!1)):(U=new fe(U,this.src,Se,!!Z,Ee),U.fa=V,m.push(U)),U};function Ke(m,U){var V=U.type;if(V in m.g){var Z=m.g[V],Ee=Array.prototype.indexOf.call(Z,U,void 0),Se;(Se=0<=Ee)&&Array.prototype.splice.call(Z,Ee,1),Se&&(Ue(U),m.g[V].length==0&&(delete m.g[V],m.h--))}}function Je(m,U,V,Z){for(var Ee=0;Ee<m.length;++Ee){var Se=m[Ee];if(!Se.da&&Se.listener==U&&Se.capture==!!V&&Se.ha==Z)return Ee}return-1}var ft="closure_lm_"+(1e6*Math.random()|0),Oe={};function de(m,U,V,Z,Ee){if(Z&&Z.once)return Ge(m,U,V,Z,Ee);if(Array.isArray(U)){for(var Se=0;Se<U.length;Se++)de(m,U[Se],V,Z,Ee);return null}return V=Jt(V),m&&m[we]?m.K(U,V,l(Z)?!!Z.capture:!!Z,Ee):Et(m,U,V,!1,Z,Ee)}function Et(m,U,V,Z,Ee,Se){if(!U)throw Error("Invalid event type");var at=l(Ee)?!!Ee.capture:!!Ee,pn=Kt(m);if(pn||(m[ft]=pn=new He(m)),V=pn.add(U,V,Z,at,Se),V.proxy)return V;if(Z=At(),V.proxy=Z,Z.src=m,Z.listener=V,m.addEventListener)ie||(Ee=at),Ee===void 0&&(Ee=!1),m.addEventListener(U.toString(),Z,Ee);else if(m.attachEvent)m.attachEvent(dt(U.toString()),Z);else if(m.addListener&&m.removeListener)m.addListener(Z);else throw Error("addEventListener and attachEvent are unavailable.");return V}function At(){function m(V){return U.call(m.src,m.listener,V)}const U=Ut;return m}function Ge(m,U,V,Z,Ee){if(Array.isArray(U)){for(var Se=0;Se<U.length;Se++)Ge(m,U[Se],V,Z,Ee);return null}return V=Jt(V),m&&m[we]?m.L(U,V,l(Z)?!!Z.capture:!!Z,Ee):Et(m,U,V,!0,Z,Ee)}function lt(m,U,V,Z,Ee){if(Array.isArray(U))for(var Se=0;Se<U.length;Se++)lt(m,U[Se],V,Z,Ee);else Z=l(Z)?!!Z.capture:!!Z,V=Jt(V),m&&m[we]?(m=m.i,U=String(U).toString(),U in m.g&&(Se=m.g[U],V=Je(Se,V,Z,Ee),-1<V&&(Ue(Se[V]),Array.prototype.splice.call(Se,V,1),Se.length==0&&(delete m.g[U],m.h--)))):m&&(m=Kt(m))&&(U=m.g[U.toString()],m=-1,U&&(m=Je(U,V,Z,Ee)),(V=-1<m?U[m]:null)&&pt(V))}function pt(m){if(typeof m!="number"&&m&&!m.da){var U=m.src;if(U&&U[we])Ke(U.i,m);else{var V=m.type,Z=m.proxy;U.removeEventListener?U.removeEventListener(V,Z,m.capture):U.detachEvent?U.detachEvent(dt(V),Z):U.addListener&&U.removeListener&&U.removeListener(Z),(V=Kt(U))?(Ke(V,m),V.h==0&&(V.src=null,U[ft]=null)):Ue(m)}}}function dt(m){return m in Oe?Oe[m]:Oe[m]="on"+m}function Ut(m,U){if(m.da)m=!0;else{U=new ce(U,this);var V=m.listener,Z=m.ha||m.src;m.fa&&pt(m),m=V.call(Z,U)}return m}function Kt(m){return m=m[ft],m instanceof He?m:null}var Mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jt(m){return typeof m=="function"?m:(m[Mt]||(m[Mt]=function(U){return m.handleEvent(U)}),m[Mt])}function $t(){z.call(this),this.i=new He(this),this.M=this,this.F=null}B($t,z),$t.prototype[we]=!0,$t.prototype.removeEventListener=function(m,U,V,Z){lt(this,m,U,V,Z)};function St(m,U){var V,Z=m.F;if(Z)for(V=[];Z;Z=Z.F)V.push(Z);if(m=m.M,Z=U.type||U,typeof U=="string")U=new J(U,m);else if(U instanceof J)U.target=U.target||m;else{var Ee=U;U=new J(Z,m),M(U,Ee)}if(Ee=!0,V)for(var Se=V.length-1;0<=Se;Se--){var at=U.g=V[Se];Ee=Rt(at,Z,!0,U)&&Ee}if(at=U.g=m,Ee=Rt(at,Z,!0,U)&&Ee,Ee=Rt(at,Z,!1,U)&&Ee,V)for(Se=0;Se<V.length;Se++)at=U.g=V[Se],Ee=Rt(at,Z,!1,U)&&Ee}$t.prototype.N=function(){if($t.aa.N.call(this),this.i){var m=this.i,U;for(U in m.g){for(var V=m.g[U],Z=0;Z<V.length;Z++)Ue(V[Z]);delete m.g[U],m.h--}}this.F=null},$t.prototype.K=function(m,U,V,Z){return this.i.add(String(m),U,!1,V,Z)},$t.prototype.L=function(m,U,V,Z){return this.i.add(String(m),U,!0,V,Z)};function Rt(m,U,V,Z){if(U=m.i.g[String(U)],!U)return!0;U=U.concat();for(var Ee=!0,Se=0;Se<U.length;++Se){var at=U[Se];if(at&&!at.da&&at.capture==V){var pn=at.listener,Jn=at.ha||at.src;at.fa&&Ke(m.i,at),Ee=pn.call(Jn,Z)!==!1&&Ee}}return Ee&&!Z.defaultPrevented}function ke(m,U,V){if(typeof m=="function")V&&(m=f(m,V));else if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(U)?-1:a.setTimeout(m,U||0)}function Le(m){m.g=ke(()=>{m.g=null,m.i&&(m.i=!1,Le(m))},m.l);const U=m.h;m.h=null,m.m.apply(null,U)}class nt extends z{constructor(U,V){super(),this.m=U,this.l=V,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:Le(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xe(m){z.call(this),this.h=m,this.g={}}B(Xe,z);var Ot=[];function vt(m){Q(m.g,function(U,V){this.g.hasOwnProperty(V)&&pt(U)},m),m.g={}}Xe.prototype.N=function(){Xe.aa.N.call(this),vt(this)},Xe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zt=a.JSON.stringify,vr=a.JSON.parse,hn=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function Sr(){}Sr.prototype.h=null;function En(m){return m.h||(m.h=m.i())}function Fr(){}var nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mt(){J.call(this,"d")}B(mt,J);function ct(){J.call(this,"c")}B(ct,J);var xt={},wn=null;function yn(){return wn=wn||new $t}xt.La="serverreachability";function wr(m){J.call(this,xt.La,m)}B(wr,J);function jr(m){const U=yn();St(U,new wr(U))}xt.STAT_EVENT="statevent";function Wt(m,U){J.call(this,xt.STAT_EVENT,m),this.stat=U}B(Wt,J);function ye(m){const U=yn();St(U,new Wt(U,m))}xt.Ma="timingevent";function Te(m,U){J.call(this,xt.Ma,m),this.size=U}B(Te,J);function je(m,U){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},U)}function Re(){this.g=!0}Re.prototype.xa=function(){this.g=!1};function it(m,U,V,Z,Ee,Se){m.info(function(){if(m.g)if(Se)for(var at="",pn=Se.split("&"),Jn=0;Jn<pn.length;Jn++){var An=pn[Jn].split("=");if(1<An.length){var Ln=An[0];An=An[1];var Wr=Ln.split("_");at=2<=Wr.length&&Wr[1]=="type"?at+(Ln+"="+An+"&"):at+(Ln+"=redacted&")}}else at=null;else at=Se;return"XMLHTTP REQ ("+Z+") [attempt "+Ee+"]: "+U+`
`+V+`
`+at})}function Tt(m,U,V,Z,Ee,Se,at){m.info(function(){return"XMLHTTP RESP ("+Z+") [ attempt "+Ee+"]: "+U+`
`+V+`
`+Se+" "+at})}function Dt(m,U,V,Z){m.info(function(){return"XMLHTTP TEXT ("+U+"): "+Ct(m,V)+(Z?" "+Z:"")})}function Bt(m,U){m.info(function(){return"TIMEOUT: "+U})}Re.prototype.info=function(){};function Ct(m,U){if(!m.g)return U;if(!U)return null;try{var V=JSON.parse(U);if(V){for(m=0;m<V.length;m++)if(Array.isArray(V[m])){var Z=V[m];if(!(2>Z.length)){var Ee=Z[1];if(Array.isArray(Ee)&&!(1>Ee.length)){var Se=Ee[0];if(Se!="noop"&&Se!="stop"&&Se!="close")for(var at=1;at<Ee.length;at++)Ee[at]=""}}}}return Zt(V)}catch{return U}}var yt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},en;function sn(){}B(sn,Sr),sn.prototype.g=function(){return new XMLHttpRequest},sn.prototype.i=function(){return{}},en=new sn;function Nn(m,U,V,Z){this.j=m,this.i=U,this.l=V,this.R=Z||1,this.U=new Xe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new In}function In(){this.i=null,this.g="",this.h=!1}var Bn={},Mn={};function Ss(m,U,V){m.L=1,m.v=cA(hi(U)),m.m=V,m.P=!0,Zs(m,null)}function Zs(m,U){m.F=Date.now(),to(m),m.A=hi(m.v);var V=m.A,Z=m.R;Array.isArray(Z)||(Z=[String(Z)]),rc(V.i,"t",Z),m.C=0,V=m.j.J,m.h=new In,m.g=he(m.j,V?U:null,!m.m),0<m.O&&(m.M=new nt(f(m.Y,m,m.g),m.O)),U=m.U,V=m.g,Z=m.ca;var Ee="readystatechange";Array.isArray(Ee)||(Ee&&(Ot[0]=Ee.toString()),Ee=Ot);for(var Se=0;Se<Ee.length;Se++){var at=de(V,Ee[Se],Z||U.handleEvent,!1,U.h||U);if(!at)break;U.g[at.key]=at}U=m.H?I(m.H):{},m.m?(m.u||(m.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,U)):(m.u="GET",m.g.ea(m.A,m.u,null,U)),jr(),it(m.i,m.u,m.A,m.l,m.R,m.m)}Nn.prototype.ca=function(m){m=m.target;const U=this.M;U&&Di(m)==3?U.j():this.Y(m)},Nn.prototype.Y=function(m){try{if(m==this.g)e:{const Wr=Di(this.g);var U=this.g.Ba();const ls=this.g.Z();if(!(3>Wr)&&(Wr!=3||this.g&&(this.h.h||this.g.oa()||Ro(this.g)))){this.J||Wr!=4||U==7||(U==8||0>=ls?jr(3):jr(2)),Ts(this);var V=this.g.Z();this.X=V;t:if(Fs(this)){var Z=Ro(this.g);m="";var Ee=Z.length,Se=Di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){As(this),Ns(this);var at="";break t}this.h.i=new a.TextDecoder}for(U=0;U<Ee;U++)this.h.h=!0,m+=this.h.i.decode(Z[U],{stream:!(Se&&U==Ee-1)});Z.length=0,this.h.g+=m,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=V==200,Tt(this.i,this.u,this.A,this.l,this.R,Wr,V),this.o){if(this.T&&!this.K){t:{if(this.g){var pn,Jn=this.g;if((pn=Jn.g?Jn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(pn)){var An=pn;break t}}An=null}if(V=An)Dt(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xn(this,V);else{this.o=!1,this.s=3,ye(12),As(this),Ns(this);break e}}if(this.P){V=!0;let Pn;for(;!this.J&&this.C<at.length;)if(Pn=Vs(this,at),Pn==Mn){Wr==4&&(this.s=4,ye(14),V=!1),Dt(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==Bn){this.s=4,ye(15),Dt(this.i,this.l,at,"[Invalid Chunk]"),V=!1;break}else Dt(this.i,this.l,Pn,null),xn(this,Pn);if(Fs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wr!=4||at.length!=0||this.h.h||(this.s=1,ye(16),V=!1),this.o=this.o&&V,!V)Dt(this.i,this.l,at,"[Invalid Chunked Response]"),As(this),Ns(this);else if(0<at.length&&!this.W){this.W=!0;var Ln=this.j;Ln.g==this&&Ln.ba&&!Ln.M&&(Ln.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),sl(Ln),Ln.M=!0,ye(11))}}else Dt(this.i,this.l,at,null),xn(this,at);Wr==4&&As(this),this.o&&!this.J&&(Wr==4?gA(this.j,this):(this.o=!1,to(this)))}else Gs(this.g),V==400&&0<at.indexOf("Unknown SID")?(this.s=3,ye(12)):(this.s=0,ye(13)),As(this),Ns(this)}}}catch{}finally{}};function Fs(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Vs(m,U){var V=m.C,Z=U.indexOf(`
`,V);return Z==-1?Mn:(V=Number(U.substring(V,Z)),isNaN(V)?Bn:(Z+=1,Z+V>U.length?Mn:(U=U.slice(Z,Z+V),m.C=Z+V,U)))}Nn.prototype.cancel=function(){this.J=!0,As(this)};function to(m){m.S=Date.now()+m.I,as(m,m.I)}function as(m,U){if(m.B!=null)throw Error("WatchDog timer not null");m.B=je(f(m.ba,m),U)}function Ts(m){m.B&&(a.clearTimeout(m.B),m.B=null)}Nn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Bt(this.i,this.A),this.L!=2&&(jr(),ye(17)),As(this),this.s=2,Ns(this)):as(this,this.S-m)};function Ns(m){m.j.G==0||m.J||gA(m.j,m)}function As(m){Ts(m);var U=m.M;U&&typeof U.ma=="function"&&U.ma(),m.M=null,vt(m.U),m.g&&(U=m.g,m.g=null,U.abort(),U.ma())}function xn(m,U){try{var V=m.j;if(V.G!=0&&(V.g==m||Hn(V.h,m))){if(!m.K&&Hn(V.h,m)&&V.G==3){try{var Z=V.Da.g.parse(U)}catch{Z=null}if(Array.isArray(Z)&&Z.length==3){var Ee=Z;if(Ee[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<m.F)co(V),vs(V);else break e;pA(V),ye(18)}}else V.za=Ee[1],0<V.za-V.T&&37500>Ee[2]&&V.F&&V.v==0&&!V.C&&(V.C=je(f(V.Za,V),6e3));if(1>=Gn(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else Qi(V,11)}else if((m.K||V.g==m)&&co(V),!C(U))for(Ee=V.Da.g.parse(U),U=0;U<Ee.length;U++){let An=Ee[U];if(V.T=An[0],An=An[1],V.G==2)if(An[0]=="c"){V.K=An[1],V.ia=An[2];const Ln=An[3];Ln!=null&&(V.la=Ln,V.j.info("VER="+V.la));const Wr=An[4];Wr!=null&&(V.Aa=Wr,V.j.info("SVER="+V.Aa));const ls=An[5];ls!=null&&typeof ls=="number"&&0<ls&&(Z=1.5*ls,V.L=Z,V.j.info("backChannelRequestTimeoutMs_="+Z)),Z=V;const Pn=m.g;if(Pn){const uo=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uo){var Se=Z.h;Se.g||uo.indexOf("spdy")==-1&&uo.indexOf("quic")==-1&&uo.indexOf("h2")==-1||(Se.j=Se.l,Se.g=new Set,Se.h&&(jo(Se,Se.h),Se.h=null))}if(Z.D){const xr=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;xr&&(Z.ya=xr,Xn(Z.I,Z.D,xr))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-m.F,V.j.info("Handshake RTT: "+V.R+"ms")),Z=V;var at=m;if(Z.qa=W(Z,Z.J?Z.ia:null,Z.W),at.K){Ta(Z.h,at);var pn=at,Jn=Z.L;Jn&&(pn.I=Jn),pn.B&&(Ts(pn),to(pn)),Z.g=at}else fA(Z);0<V.i.length&&Ao(V)}else An[0]!="stop"&&An[0]!="close"||Qi(V,7);else V.G==3&&(An[0]=="stop"||An[0]=="close"?An[0]=="stop"?Qi(V,7):tl(V):An[0]!="noop"&&V.l&&V.l.ta(An),V.v=0)}}jr(4)}catch{}}var rr=class{constructor(m,U){this.g=m,this.map=U}};function ji(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ys(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Gn(m){return m.h?1:m.g?m.g.size:0}function Hn(m,U){return m.h?m.h==U:m.g?m.g.has(U):!1}function jo(m,U){m.g?m.g.add(U):m.h=U}function Ta(m,U){m.h&&m.h==U?m.h=null:m.g&&m.g.has(U)&&m.g.delete(U)}ji.prototype.cancel=function(){if(this.i=Aa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Aa(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let U=m.i;for(const V of m.g.values())U=U.concat(V.D);return U}return b(m.i)}function la(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(A(m)){for(var U=[],V=m.length,Z=0;Z<V;Z++)U.push(m[Z]);return U}U=[],V=0;for(Z in m)U[V++]=m[Z];return U}function Na(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(A(m)||typeof m=="string"){var U=[];m=m.length;for(var V=0;V<m;V++)U.push(V);return U}U=[],V=0;for(const Z in m)U[V++]=Z;return U}}}function di(m,U){if(m.forEach&&typeof m.forEach=="function")m.forEach(U,void 0);else if(A(m)||typeof m=="string")Array.prototype.forEach.call(m,U,void 0);else for(var V=Na(m),Z=la(m),Ee=Z.length,Se=0;Se<Ee;Se++)U.call(void 0,Z[Se],V&&V[Se],m)}var Ur=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ks(m,U){if(m){m=m.split("&");for(var V=0;V<m.length;V++){var Z=m[V].indexOf("="),Ee=null;if(0<=Z){var Se=m[V].substring(0,Z);Ee=m[V].substring(Z+1)}else Se=m[V];U(Se,Ee?decodeURIComponent(Ee.replace(/\+/g," ")):"")}}}function Ui(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Ui){this.h=m.h,lA(this,m.j),this.o=m.o,this.g=m.g,ka(this,m.s),this.l=m.l;var U=m.i,V=new Rr;V.i=U.i,U.g&&(V.g=new Map(U.g),V.h=U.h),ec(this,V),this.m=m.m}else m&&(U=String(m).match(Ur))?(this.h=!1,lA(this,U[1]||"",!0),this.o=fi(U[2]||""),this.g=fi(U[3]||"",!0),ka(this,U[4]),this.l=fi(U[5]||"",!0),ec(this,U[6]||"",!0),this.m=fi(U[7]||"")):(this.h=!1,this.i=new Rr(null,this.h))}Ui.prototype.toString=function(){var m=[],U=this.j;U&&m.push(La(U,nc,!0),":");var V=this.g;return(V||U=="file")&&(m.push("//"),(U=this.o)&&m.push(La(U,nc,!0),"@"),m.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&m.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&m.push("/"),m.push(La(V,V.charAt(0)=="/"?Pa:Uo,!0))),(V=this.i.toString())&&m.push("?",V),(V=this.m)&&m.push("#",La(V,no)),m.join("")};function hi(m){return new Ui(m)}function lA(m,U,V){m.j=V?fi(U,!0):U,m.j&&(m.j=m.j.replace(/:$/,""))}function ka(m,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);m.s=U}else m.s=null}function ec(m,U,V){U instanceof Rr?(m.i=U,so(m.i,m.h)):(V||(U=La(U,ca)),m.i=new Rr(U,m.h))}function Xn(m,U,V){m.i.set(U,V)}function cA(m){return Xn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function fi(m,U){return m?U?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function La(m,U,V){return typeof m=="string"?(m=encodeURI(m).replace(U,tc),V&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function tc(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var nc=/[#\/\?@]/g,Uo=/[#\?:]/g,Pa=/[#\?]/g,ca=/[#\?@]/g,no=/#/g;function Rr(m,U){this.h=this.g=null,this.i=m||null,this.j=!!U}function ro(m){m.g||(m.g=new Map,m.h=0,m.i&&Ks(m.i,function(U,V){m.add(decodeURIComponent(U.replace(/\+/g," ")),V)}))}t=Rr.prototype,t.add=function(m,U){ro(this),this.i=null,m=ua(this,m);var V=this.g.get(m);return V||this.g.set(m,V=[]),V.push(U),this.h+=1,this};function JA(m,U){ro(m),U=ua(m,U),m.g.has(U)&&(m.i=null,m.h-=m.g.get(U).length,m.g.delete(U))}function on(m,U){return ro(m),U=ua(m,U),m.g.has(U)}t.forEach=function(m,U){ro(this),this.g.forEach(function(V,Z){V.forEach(function(Ee){m.call(U,Ee,Z,this)},this)},this)},t.na=function(){ro(this);const m=Array.from(this.g.values()),U=Array.from(this.g.keys()),V=[];for(let Z=0;Z<U.length;Z++){const Ee=m[Z];for(let Se=0;Se<Ee.length;Se++)V.push(U[Z])}return V},t.V=function(m){ro(this);let U=[];if(typeof m=="string")on(this,m)&&(U=U.concat(this.g.get(ua(this,m))));else{m=Array.from(this.g.values());for(let V=0;V<m.length;V++)U=U.concat(m[V])}return U},t.set=function(m,U){return ro(this),this.i=null,m=ua(this,m),on(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[U]),this.h+=1,this},t.get=function(m,U){return m?(m=this.V(m),0<m.length?String(m[0]):U):U};function rc(m,U,V){JA(m,U),0<V.length&&(m.i=null,m.g.set(ua(m,U),b(V)),m.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],U=Array.from(this.g.keys());for(var V=0;V<U.length;V++){var Z=U[V];const Se=encodeURIComponent(String(Z)),at=this.V(Z);for(Z=0;Z<at.length;Z++){var Ee=Se;at[Z]!==""&&(Ee+="="+encodeURIComponent(String(at[Z]))),m.push(Ee)}}return this.i=m.join("&")};function ua(m,U){return U=String(U),m.j&&(U=U.toLowerCase()),U}function so(m,U){U&&!m.j&&(ro(m),m.i=null,m.g.forEach(function(V,Z){var Ee=Z.toLowerCase();Z!=Ee&&(JA(this,Z),rc(this,Ee,V))},m)),m.j=U}function sc(m,U){const V=new Re;if(a.Image){const Z=new Image;Z.onload=d(ei,V,"TestLoadImage: loaded",!0,U,Z),Z.onerror=d(ei,V,"TestLoadImage: error",!1,U,Z),Z.onabort=d(ei,V,"TestLoadImage: abort",!1,U,Z),Z.ontimeout=d(ei,V,"TestLoadImage: timeout",!1,U,Z),a.setTimeout(function(){Z.ontimeout&&Z.ontimeout()},1e4),Z.src=m}else U(!1)}function ic(m,U){const V=new Re,Z=new AbortController,Ee=setTimeout(()=>{Z.abort(),ei(V,"TestPingServer: timeout",!1,U)},1e4);fetch(m,{signal:Z.signal}).then(Se=>{clearTimeout(Ee),Se.ok?ei(V,"TestPingServer: ok",!0,U):ei(V,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout(Ee),ei(V,"TestPingServer: error",!1,U)})}function ei(m,U,V,Z,Ee){try{Ee&&(Ee.onload=null,Ee.onerror=null,Ee.onabort=null,Ee.ontimeout=null),Z(V)}catch{}}function zs(){this.g=new hn}function oc(m,U,V){const Z=V||"";try{di(m,function(Ee,Se){let at=Ee;l(Ee)&&(at=Zt(Ee)),U.push(Z+Se+"="+encodeURIComponent(at))})}catch(Ee){throw U.push(Z+"type="+encodeURIComponent("_badmap")),Ee}}function ja(m){this.l=m.Ub||null,this.j=m.eb||!1}B(ja,Sr),ja.prototype.g=function(){return new Ua(this.l,this.j)},ja.prototype.i=function(m){return function(){return m}}({});function Ua(m,U){$t.call(this),this.D=m,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Ua,$t),t=Ua.prototype,t.open=function(m,U){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=U,this.readyState=1,pi(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(U.body=m),(this.D||a).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ri(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uA(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function uA(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var U=m.value?m.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!m.done}))&&(this.response=this.responseText+=U)}m.done?Ri(this):pi(this),this.readyState==3&&uA(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Ri(this))},t.Qa=function(m){this.g&&(this.response=m,Ri(this))},t.ga=function(){this.g&&Ri(this)};function Ri(m){m.readyState=4,m.l=null,m.j=null,m.v=null,pi(m)}t.setRequestHeader=function(m,U){this.u.append(m,U)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],U=this.h.entries();for(var V=U.next();!V.done;)V=V.value,m.push(V[0]+": "+V[1]),V=U.next();return m.join(`\r
`)};function pi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ZA(m){let U="";return Q(m,function(V,Z){U+=Z,U+=":",U+=V,U+=`\r
`}),U}function io(m,U,V){e:{for(Z in V){var Z=!1;break e}Z=!0}Z||(V=ZA(V),typeof m=="string"?V!=null&&encodeURIComponent(String(V)):Xn(m,U,V))}function sr(m){$t.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(sr,$t);var dA=/^https?$/i,ac=["POST","PUT"];t=sr.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,U,V,Z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);U=U?U.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():en.g(),this.v=this.o?En(this.o):En(en),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(U,String(m),!0),this.B=!1}catch(Se){Dr(this,Se);return}if(m=V||"",V=new Map(this.headers),Z)if(Object.getPrototypeOf(Z)===Object.prototype)for(var Ee in Z)V.set(Ee,Z[Ee]);else if(typeof Z.keys=="function"&&typeof Z.get=="function")for(const Se of Z.keys())V.set(Se,Z.get(Se));else throw Error("Unknown input type for opt_headers: "+String(Z));Z=Array.from(V.keys()).find(Se=>Se.toLowerCase()=="content-type"),Ee=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ac,U,void 0))||Z||Ee||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Se,at]of V)this.g.setRequestHeader(Se,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ao(this),this.u=!0,this.g.send(m),this.u=!1}catch(Se){Dr(this,Se)}};function Dr(m,U){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=U,m.m=5,el(m),ti(m)}function el(m){m.A||(m.A=!0,St(m,"complete"),St(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,St(this,"complete"),St(this,"abort"),ti(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ti(this,!0)),sr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?oo(this):this.bb())},t.bb=function(){oo(this)};function oo(m){if(m.h&&typeof o<"u"&&(!m.v[1]||Di(m)!=4||m.Z()!=2)){if(m.u&&Di(m)==4)ke(m.Ea,0,m);else if(St(m,"readystatechange"),Di(m)==4){m.h=!1;try{const at=m.Z();e:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var V;if(!(V=U)){var Z;if(Z=at===0){var Ee=String(m.D).match(Ur)[1]||null;!Ee&&a.self&&a.self.location&&(Ee=a.self.location.protocol.slice(0,-1)),Z=!dA.test(Ee?Ee.toLowerCase():"")}V=Z}if(V)St(m,"complete"),St(m,"success");else{m.m=6;try{var Se=2<Di(m)?m.g.statusText:""}catch{Se=""}m.l=Se+" ["+m.Z()+"]",el(m)}}finally{ti(m)}}}}function ti(m,U){if(m.g){ao(m);const V=m.g,Z=m.v[0]?()=>{}:null;m.g=null,m.v=null,U||St(m,"ready");try{V.onreadystatechange=Z}catch{}}}function ao(m){m.I&&(a.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Di(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Di(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var U=this.g.responseText;return m&&U.indexOf(m)==0&&(U=U.substring(m.length)),vr(U)}};function Ro(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Gs(m){const U={};m=(m.g&&2<=Di(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let Z=0;Z<m.length;Z++){if(C(m[Z]))continue;var V=L(m[Z]);const Ee=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const Se=U[Ee]||[];U[Ee]=Se,Se.push(V)}T(U,function(Z){return Z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(m,U,V){return V&&V.internalChannelParams&&V.internalChannelParams[m]||U}function Do(m){this.Aa=0,this.i=[],this.j=new Re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gi("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gi("baseRetryDelayMs",5e3,m),this.cb=gi("retryDelaySeedMs",1e4,m),this.Wa=gi("forwardChannelMaxRetries",2,m),this.wa=gi("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(m&&m.concurrentRequestLimit),this.Da=new zs,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Do.prototype,t.la=8,t.G=1,t.connect=function(m,U,V,Z){ye(0),this.W=m,this.H=U||{},V&&Z!==void 0&&(this.H.OSID=V,this.H.OAID=Z),this.F=this.X,this.I=W(this,null,this.W),Ao(this)};function tl(m){if(Ra(m),m.G==3){var U=m.U++,V=hi(m.I);if(Xn(V,"SID",m.K),Xn(V,"RID",U),Xn(V,"TYPE","terminate"),lo(m,V),U=new Nn(m,m.j,U),U.L=2,U.v=cA(hi(V)),V=!1,a.navigator&&a.navigator.sendBeacon)try{V=a.navigator.sendBeacon(U.v.toString(),"")}catch{}!V&&a.Image&&(new Image().src=U.v,V=!0),V||(U.g=he(U.j,null),U.g.ea(U.v)),U.F=Date.now(),to(U)}F(m)}function vs(m){m.g&&(sl(m),m.g.cancel(),m.g=null)}function Ra(m){vs(m),m.u&&(a.clearTimeout(m.u),m.u=null),co(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function Ao(m){if(!ys(m.h)&&!m.s){m.s=!0;var U=m.Ga;pe||ve(),se||(pe(),se=!0),me.add(U,m),m.B=0}}function nl(m,U){return Gn(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=U.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=je(f(m.Ga,m,U),Qo(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Ee=new Nn(this,this.j,m);let Se=this.o;if(this.S&&(Se?(Se=I(Se),M(Se,this.S)):Se=this.S),this.m!==null||this.O||(Ee.H=Se,Se=null),this.P)e:{for(var U=0,V=0;V<this.i.length;V++){t:{var Z=this.i[V];if("__data__"in Z.map&&(Z=Z.map.__data__,typeof Z=="string")){Z=Z.length;break t}Z=void 0}if(Z===void 0)break;if(U+=Z,4096<U){U=V;break e}if(U===4096||V===this.i.length-1){U=V+1;break e}}U=1e3}else U=1e3;U=hA(this,Ee,U),V=hi(this.I),Xn(V,"RID",m),Xn(V,"CVER",22),this.D&&Xn(V,"X-HTTP-Session-Id",this.D),lo(this,V),Se&&(this.O?U="headers="+encodeURIComponent(String(ZA(Se)))+"&"+U:this.m&&io(V,this.m,Se)),jo(this.h,Ee),this.Ua&&Xn(V,"TYPE","init"),this.P?(Xn(V,"$req",U),Xn(V,"SID","null"),Ee.T=!0,Ss(Ee,V,null)):Ss(Ee,V,U),this.G=2}}else this.G==3&&(m?rl(this,m):this.i.length==0||ys(this.h)||rl(this))};function rl(m,U){var V;U?V=U.l:V=m.U++;const Z=hi(m.I);Xn(Z,"SID",m.K),Xn(Z,"RID",V),Xn(Z,"AID",m.T),lo(m,Z),m.m&&m.o&&io(Z,m.m,m.o),V=new Nn(m,m.j,V,m.B+1),m.m===null&&(V.H=m.o),U&&(m.i=U.D.concat(m.i)),U=hA(m,V,1e3),V.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),jo(m.h,V),Ss(V,Z,U)}function lo(m,U){m.H&&Q(m.H,function(V,Z){Xn(U,Z,V)}),m.l&&di({},function(V,Z){Xn(U,Z,V)})}function hA(m,U,V){V=Math.min(m.i.length,V);var Z=m.l?f(m.l.Na,m.l,m):null;e:{var Ee=m.i;let Se=-1;for(;;){const at=["count="+V];Se==-1?0<V?(Se=Ee[0].g,at.push("ofs="+Se)):Se=0:at.push("ofs="+Se);let pn=!0;for(let Jn=0;Jn<V;Jn++){let An=Ee[Jn].g;const Ln=Ee[Jn].map;if(An-=Se,0>An)Se=Math.max(0,Ee[Jn].g-100),pn=!1;else try{oc(Ln,at,"req"+An+"_")}catch{Z&&Z(Ln)}}if(pn){Z=at.join("&");break e}}}return m=m.i.splice(0,V),U.D=m,Z}function fA(m){if(!m.g&&!m.u){m.Y=1;var U=m.Fa;pe||ve(),se||(pe(),se=!0),me.add(U,m),m.v=0}}function pA(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=je(f(m.Fa,m),Qo(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Da(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=je(f(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ye(10),vs(this),Da(this))};function sl(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function Da(m){m.g=new Nn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var U=hi(m.qa);Xn(U,"RID","rpc"),Xn(U,"SID",m.K),Xn(U,"AID",m.T),Xn(U,"CI",m.F?"0":"1"),!m.F&&m.ja&&Xn(U,"TO",m.ja),Xn(U,"TYPE","xmlhttp"),lo(m,U),m.m&&m.o&&io(U,m.m,m.o),m.L&&(m.g.I=m.L);var V=m.g;m=m.ia,V.L=1,V.v=cA(hi(U)),V.m=null,V.P=!0,Zs(V,m)}t.Za=function(){this.C!=null&&(this.C=null,vs(this),pA(this),ye(19))};function co(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function gA(m,U){var V=null;if(m.g==U){co(m),sl(m),m.g=null;var Z=2}else if(Hn(m.h,U))V=U.D,Ta(m.h,U),Z=1;else return;if(m.G!=0){if(U.o)if(Z==1){V=U.m?U.m.length:0,U=Date.now()-U.F;var Ee=m.B;Z=yn(),St(Z,new Te(Z,V)),Ao(m)}else fA(m);else if(Ee=U.s,Ee==3||Ee==0&&0<U.X||!(Z==1&&nl(m,U)||Z==2&&pA(m)))switch(V&&0<V.length&&(U=m.h,U.i=U.i.concat(V)),Ee){case 1:Qi(m,5);break;case 4:Qi(m,10);break;case 3:Qi(m,6);break;default:Qi(m,2)}}}function Qo(m,U){let V=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(V*=2),V*U}function Qi(m,U){if(m.j.info("Error code "+U),U==2){var V=f(m.fb,m),Z=m.Xa;const Ee=!Z;Z=new Ui(Z||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||lA(Z,"https"),cA(Z),Ee?sc(Z.toString(),V):ic(Z.toString(),V)}else ye(2);m.G=0,m.l&&m.l.sa(U),F(m),Ra(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function F(m){if(m.G=0,m.ka=[],m.l){const U=Aa(m.h);(U.length!=0||m.i.length!=0)&&(E(m.ka,U),E(m.ka,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.ra()}}function W(m,U,V){var Z=V instanceof Ui?hi(V):new Ui(V);if(Z.g!="")U&&(Z.g=U+"."+Z.g),ka(Z,Z.s);else{var Ee=a.location;Z=Ee.protocol,U=U?U+"."+Ee.hostname:Ee.hostname,Ee=+Ee.port;var Se=new Ui(null);Z&&lA(Se,Z),U&&(Se.g=U),Ee&&ka(Se,Ee),V&&(Se.l=V),Z=Se}return V=m.D,U=m.ya,V&&U&&Xn(Z,V,U),Xn(Z,"VER",m.la),lo(m,Z),Z}function he(m,U,V){if(U&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return U=m.Ca&&!m.pa?new sr(new ja({eb:V})):new sr(m.pa),U.Ha(m.J),U}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xe(){}t=xe.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ne(){}Ne.prototype.g=function(m,U){return new ze(m,U)};function ze(m,U){$t.call(this),this.g=new Do(U),this.l=m,this.h=U&&U.messageUrlParams||null,m=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(m?m["X-WebChannel-Content-Type"]=U.messageContentType:m={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(m?m["X-WebChannel-Client-Profile"]=U.va:m={"X-WebChannel-Client-Profile":U.va}),this.g.S=m,(m=U&&U.Sb)&&!C(m)&&(this.g.m=m),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!C(U)&&(this.g.D=U,m=this.h,m!==null&&U in m&&(m=this.h,U in m&&delete m[U])),this.j=new zt(this)}B(ze,$t),ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ze.prototype.close=function(){tl(this.g)},ze.prototype.o=function(m){var U=this.g;if(typeof m=="string"){var V={};V.__data__=m,m=V}else this.u&&(V={},V.__data__=Zt(m),m=V);U.i.push(new rr(U.Ya++,m)),U.G==3&&Ao(U)},ze.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,ze.aa.N.call(this)};function st(m){mt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var U=m.__sm__;if(U){e:{for(const V in U){m=V;break e}m=void 0}(this.i=m)&&(m=this.i,U=U!==null&&m in U?U[m]:void 0),this.data=U}else this.data=m}B(st,mt);function It(){ct.call(this),this.status=1}B(It,ct);function zt(m){this.g=m}B(zt,xe),zt.prototype.ua=function(){St(this.g,"a")},zt.prototype.ta=function(m){St(this.g,new st(m))},zt.prototype.sa=function(m){St(this.g,new It)},zt.prototype.ra=function(){St(this.g,"b")},Ne.prototype.createWebChannel=Ne.prototype.g,ze.prototype.send=ze.prototype.o,ze.prototype.open=ze.prototype.m,ze.prototype.close=ze.prototype.close,M3=function(){return new Ne},O3=function(){return yn()},Q3=xt,kb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yt.NO_ERROR=0,yt.TIMEOUT=8,yt.HTTP_ERROR=6,Xy=yt,Nt.COMPLETE="complete",D3=Nt,Fr.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",$t.prototype.listen=$t.prototype.K,tg=Fr,sr.prototype.listenOnce=sr.prototype.L,sr.prototype.getLastError=sr.prototype.Ka,sr.prototype.getLastErrorCode=sr.prototype.Ba,sr.prototype.getStatus=sr.prototype.Z,sr.prototype.getResponseJson=sr.prototype.Oa,sr.prototype.getResponseText=sr.prototype.oa,sr.prototype.send=sr.prototype.ea,sr.prototype.setWithCredentials=sr.prototype.Ha,R3=sr}).apply(typeof oy<"u"?oy:typeof self<"u"?self:typeof window<"u"?window:{});const G4="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ai.UNAUTHENTICATED=new Ai(null),Ai.GOOGLE_CREDENTIALS=new Ai("google-credentials-uid"),Ai.FIRST_PARTY=new Ai("first-party-uid"),Ai.MOCK_USER=new Ai("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tp="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=new _5("@firebase/firestore");function Wh(){return Gd.logLevel}function ut(t,...e){if(Gd.logLevel<=Qn.DEBUG){const n=e.map(U5);Gd.debug(`Firestore (${tp}): ${t}`,...n)}}function qi(t,...e){if(Gd.logLevel<=Qn.ERROR){const n=e.map(U5);Gd.error(`Firestore (${tp}): ${t}`,...n)}}function Wd(t,...e){if(Gd.logLevel<=Qn.WARN){const n=e.map(U5);Gd.warn(`Firestore (${tp}): ${t}`,...n)}}function U5(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t="Unexpected state"){const e=`FIRESTORE (${tp}) INTERNAL ASSERTION FAILED: `+t;throw qi(e),new Error(e)}function tn(t,e){t||Xt()}function mn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bt extends qA{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class b9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ai.UNAUTHENTICATED))}shutdown(){}}class B9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _9{constructor(e){this.t=e,this.currentUser=Ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tn(this.o===void 0);let r=this.i;const s=A=>this.i!==r?(r=this.i,n(A)):Promise.resolve();let i=new VA;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new VA,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const A=i;e.enqueueRetryable(async()=>{await A.promise,await s(this.currentUser)})},a=A=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(A=>a(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?a(A):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new VA)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tn(typeof r.accessToken=="string"),new H3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tn(e===null||typeof e=="string"),new Ai(e)}}class C9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ai.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class E9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new C9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){tn(this.o===void 0);const r=i=>{i.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ut("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tn(typeof n.token=="string"),this.R=n.token,new I9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=F9(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Cn(t,e){return t<e?-1:t>e?1:0}function jf(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function K3(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new bt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new bt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new bt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new bt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ir.fromMillis(Date.now())}static fromDate(e){return Ir.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ir(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Cn(this.nanoseconds,e.nanoseconds):Cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new cn(e)}static min(){return new cn(new Ir(0,0))}static max(){return new cn(new Ir(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n,r){n===void 0?n=0:n>e.length&&Xt(),r===void 0?r=e.length-n:r>e.length-n&&Xt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return lm.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lm?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ar extends lm{construct(e,n,r){return new Ar(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new bt(Ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ar(n)}static emptyPath(){return new Ar([])}}const T9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zr extends lm{construct(e,n,r){return new Zr(e,n,r)}static isValidIdentifier(e){return T9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zr(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new bt(Ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new bt(Ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const A=e[s+1];if(A!=="\\"&&A!=="."&&A!=="`")throw new bt(Ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=A,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new bt(Ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zr(n)}static emptyPath(){return new Zr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.path=e}static fromPath(e){return new kt(Ar.fromString(e))}static fromName(e){return new kt(Ar.fromString(e).popFirst(5))}static empty(){return new kt(Ar.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ar.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ar.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kt(new Ar(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function Lb(t){return t.fields.find(e=>e.kind===2)}function ad(t){return t.fields.filter(e=>e.kind!==2)}Yv.UNKNOWN_ID=-1;class Jy{constructor(e,n){this.fieldPath=e,this.kind=n}}class cm{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new cm(0,sa.min())}}function N9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=cn.fromTimestamp(r===1e9?new Ir(n+1,0):new Ir(n,r));return new sa(s,kt.empty(),e)}function z3(t){return new sa(t.readTime,t.key,-1)}class sa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new sa(cn.min(),kt.empty(),-1)}static max(){return new sa(cn.max(),kt.empty(),-1)}}function R5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=kt.comparator(t.documentKey,e.documentKey),n!==0?n:Cn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(t){if(t.code!==Ye.FAILED_PRECONDITION||t.message!==G3)throw t;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Me((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Me?n:Me.resolve(n)}catch(n){return Me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Me.reject(n)}static resolve(e){return new Me((n,r)=>{n(e)})}static reject(e){return new Me((n,r)=>{r(e)})}static waitFor(e){return new Me((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},A=>r(A))}),o=!0,i===s&&n()})}static or(e){let n=Me.resolve(!1);for(const r of e)n=n.next(s=>s?Me.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Me((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let A=0;A<i;A++){const l=A;n(e[l]).next(c=>{o[l]=c,++a,a===i&&r(o)},c=>s(c))}})}static doWhile(e,n){return new Me((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new VA,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new bg(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=D5(r.target.error);this.V.reject(new bg(e,s))}}static open(e,n,r,s){try{return new Y1(n,e.transaction(s,r))}catch(i){throw new bg(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ut("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new L9(n)}}class pu{constructor(e,n,r){this.name=e,this.version=n,this.p=r,pu.S(Os())===12.2&&qi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ut("SimpleDb","Removing database:",e),hd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Yk())return!1;if(pu.v())return!0;const e=Os(),n=pu.S(e),r=0<n&&n<10,s=$3(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(ut("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new bg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new bt(Ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new bt(Ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new bg(e,o))},s.onupgradeneeded=i=>{ut("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.O(o,s.transaction,i.oldVersion,this.version).next(()=>{ut("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=Y1.open(this.db,e,i?"readonly":"readwrite",r),A=s(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),Me.reject(l))).toPromise();return A.catch(()=>{}),await a.m,A}catch(a){const A=a,l=A.name!=="FirebaseError"&&o<3;if(ut("SimpleDb","Transaction failed with error:",A.message,"Retrying:",l),this.close(),!l)return Promise.reject(A)}}}close(){this.db&&this.db.close(),this.db=void 0}}function $3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class k9{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return hd(this.B.delete())}}class bg extends bt{constructor(e,n){super(Ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Pu(t){return t.name==="IndexedDbTransactionError"}class L9{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ut("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(ut("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),hd(r)}add(e){return ut("SimpleDb","ADD",this.store.name,e,e),hd(this.store.add(e))}get(e){return hd(this.store.get(e)).next(n=>(n===void 0&&(n=null),ut("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ut("SimpleDb","DELETE",this.store.name,e),hd(this.store.delete(e))}count(){return ut("SimpleDb","COUNT",this.store.name),hd(this.store.count())}U(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Me((o,a)=>{i.onerror=A=>{a(A.target.error)},i.onsuccess=A=>{o(A.target.result)}})}{const i=this.cursor(r),o=[];return this.W(i,(a,A)=>{o.push(A)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Me((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}j(e,n){ut("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const s=this.cursor(r);return this.W(s,(i,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.W(s,n)}Y(e){const n=this.cursor({});return new Me((r,s)=>{n.onerror=i=>{const o=D5(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new Me((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const A=new k9(a),l=n(a.primaryKey,a.value,A);if(l instanceof Me){const c=l.catch(u=>(A.done(),Me.reject(u)));r.push(c)}A.isDone?s():A.K===null?a.continue():a.continue(A.K)}}).next(()=>Me.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function hd(t){return new Me((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=D5(r.target.error);n(s)}})}let W4=!1;function D5(t){const e=pu.S(Os());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new bt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return W4||(W4=!0,setTimeout(()=>{throw r},0)),r}}return t}class P9{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){ut("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{ut("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Pu(n)?ut("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await oh(n)}await this.X(6e4)})}}class j9{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let s=n,i=!0;return Me.doWhile(()=>i===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return ut("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,s).next(a=>{s-=a,r.add(o)});i=!1})).next(()=>n-s)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(s,i)).next(a=>(ut("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((s,i)=>{const o=z3(i);R5(o,r)>0&&(r=o)}),new sa(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ba.oe=-1;function X1(t){return t==null}function um(t){return t===0&&1/t==-1/0}function U9(t){return typeof t=="number"&&Number.isInteger(t)&&!um(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$4(e)),e=R9(t.get(n),e);return $4(e)}function R9(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function $4(t){return t+""}function jA(t){const e=t.length;if(tn(e>=2),e===2)return tn(t.charAt(0)===""&&t.charAt(1)===""),Ar.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf("",i);switch((o<0||o>n)&&Xt(),t.charAt(o+1)){case"":const a=t.substring(i,o);let A;s.length===0?A=a:(s+=a,A=s,s=""),r.push(A);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:Xt()}i=o+2}return new Ar(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(t,e){return[t,Xi(e)]}function q3(t,e,n){return[t,Xi(e),n]}const D9={},Q9=["prefixPath","collectionGroup","readTime","documentId"],O9=["prefixPath","collectionGroup","documentId"],M9=["collectionGroup","readTime","prefixPath","documentId"],H9=["canonicalId","targetId"],V9=["targetId","path"],K9=["path","targetId"],z9=["collectionId","parent"],G9=["indexId","uid"],W9=["uid","sequenceNumber"],$9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],q9=["indexId","uid","orderedDocumentKey"],Y9=["userId","collectionPath","documentId"],X9=["userId","collectionPath","largestBatchId"],J9=["userId","collectionGroup","largestBatchId"],Y3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Z9=[...Y3,"documentOverlays"],X3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],J3=X3,Q5=[...J3,"indexConfiguration","indexState","indexEntries"],eV=Q5,tV=[...Q5,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb extends W3{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Hs(t,e){const n=mn(t);return pu.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ah(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Z3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n){this.comparator=e,this.root=n||li.EMPTY}insert(e,n){return new Gr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,li.BLACK,null,null))}remove(e){return new Gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,li.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ay(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ay(this.root,e,this.comparator,!1)}getReverseIterator(){return new ay(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ay(this.root,e,this.comparator,!0)}}class ay{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class li{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??li.RED,this.left=s??li.EMPTY,this.right=i??li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new li(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return li.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xt();const e=this.left.check();if(e!==this.right.check())throw Xt();return e+(this.isRed()?0:1)}}li.EMPTY=null,li.RED=!0,li.BLACK=!1;li.EMPTY=new class{constructor(){this.size=0}get key(){throw Xt()}get value(){throw Xt()}get color(){throw Xt()}get left(){throw Xt()}get right(){throw Xt()}copy(e,n,r,s,i){return this}insert(e,n,r){return new li(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.comparator=e,this.data=new Gr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new X4(this.data.getIterator())}getIteratorFrom(e){return new X4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yr(this.comparator);return n.data=e,n}}class X4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Oh(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.fields=e,e.sort(Zr.comparator)}static empty(){return new So([])}unionWith(e){let n=new yr(Zr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new So(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jf(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new eL("Invalid base64 string: "+i):i}}(e);return new Is(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Is(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Is.EMPTY_BYTE_STRING=new Is("");const nV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gl(t){if(tn(!!t),typeof t=="string"){let e=0;const n=nV.exec(t);if(tn(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vr(t.seconds),nanos:Vr(t.nanos)}}function Vr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bu(t){return typeof t=="string"?Is.fromBase64String(t):Is.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function M5(t){const e=t.mapValue.fields.__previous_value__;return O5(e)?M5(e):e}function dm(t){const e=Gl(t.mapValue.fields.__local_write_time__.timestampValue);return new Ir(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n,r,s,i,o,a,A,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=A,this.useFetchStreams=l}}class $d{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $d("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $d&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ev={nullValue:"NULL_VALUE"};function qd(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?O5(t)?4:tL(t)?9007199254740991:J1(t)?10:11:Xt()}function GA(t,e){if(t===e)return!0;const n=qd(t);if(n!==qd(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dm(t).isEqual(dm(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Gl(s.timestampValue),a=Gl(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Bu(s.bytesValue).isEqual(Bu(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Vr(s.geoPointValue.latitude)===Vr(i.geoPointValue.latitude)&&Vr(s.geoPointValue.longitude)===Vr(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Vr(s.integerValue)===Vr(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Vr(s.doubleValue),a=Vr(i.doubleValue);return o===a?um(o)===um(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return jf(t.arrayValue.values||[],e.arrayValue.values||[],GA);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Y4(o)!==Y4(a))return!1;for(const A in o)if(o.hasOwnProperty(A)&&(a[A]===void 0||!GA(o[A],a[A])))return!1;return!0}(t,e);default:return Xt()}}function hm(t,e){return(t.values||[]).find(n=>GA(n,e))!==void 0}function _u(t,e){if(t===e)return 0;const n=qd(t),r=qd(e);if(n!==r)return Cn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Cn(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Vr(i.integerValue||i.doubleValue),A=Vr(o.integerValue||o.doubleValue);return a<A?-1:a>A?1:a===A?0:isNaN(a)?isNaN(A)?0:-1:1}(t,e);case 3:return J4(t.timestampValue,e.timestampValue);case 4:return J4(dm(t),dm(e));case 5:return Cn(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Bu(i),A=Bu(o);return a.compareTo(A)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),A=o.split("/");for(let l=0;l<a.length&&l<A.length;l++){const c=Cn(a[l],A[l]);if(c!==0)return c}return Cn(a.length,A.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Cn(Vr(i.latitude),Vr(o.latitude));return a!==0?a:Cn(Vr(i.longitude),Vr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Z4(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,A,l,c;const u=i.fields||{},f=o.fields||{},d=(a=u.value)===null||a===void 0?void 0:a.arrayValue,B=(A=f.value)===null||A===void 0?void 0:A.arrayValue,b=Cn(((l=d==null?void 0:d.values)===null||l===void 0?void 0:l.length)||0,((c=B==null?void 0:B.values)===null||c===void 0?void 0:c.length)||0);return b!==0?b:Z4(d,B)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Zc.mapValue&&o===Zc.mapValue)return 0;if(i===Zc.mapValue)return 1;if(o===Zc.mapValue)return-1;const a=i.fields||{},A=Object.keys(a),l=o.fields||{},c=Object.keys(l);A.sort(),c.sort();for(let u=0;u<A.length&&u<c.length;++u){const f=Cn(A[u],c[u]);if(f!==0)return f;const d=_u(a[A[u]],l[c[u]]);if(d!==0)return d}return Cn(A.length,c.length)}(t.mapValue,e.mapValue);default:throw Xt()}}function J4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Cn(t,e);const n=Gl(t),r=Gl(e),s=Cn(n.seconds,r.seconds);return s!==0?s:Cn(n.nanos,r.nanos)}function Z4(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=_u(n[s],r[s]);if(i)return i}return Cn(n.length,r.length)}function Uf(t){return jb(t)}function jb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Gl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bu(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return kt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=jb(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${jb(n.fields[o])}`;return s+"}"}(t.mapValue):Xt()}function fm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ub(t){return!!t&&"integerValue"in t}function pm(t){return!!t&&"arrayValue"in t}function eI(t){return!!t&&"nullValue"in t}function tI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tv(t){return!!t&&"mapValue"in t}function J1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Bg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ah(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bg(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function tL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const nL={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function sV(t){return"nullValue"in t?ev:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?fm($d.empty(),kt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?J1(t)?nL:{mapValue:{}}:Xt()}function iV(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?fm($d.empty(),kt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?nL:"mapValue"in t?J1(t)?{mapValue:{}}:Zc:Xt()}function nI(t,e){const n=_u(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function rI(t,e){const n=_u(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.value=e}static empty(){return new Fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bg(n)}setAll(e){let n=Zr.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const A=this.getFieldsMap(n);this.applyChanges(A,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Bg(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());tv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return GA(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];tv(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ah(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Fi(Bg(this.value))}}function rL(t){const e=[];return ah(t.fields,(n,r)=>{const s=new Zr([n]);if(tv(r)){const i=rL(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new So(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new is(e,0,cn.min(),cn.min(),cn.min(),Fi.empty(),0)}static newFoundDocument(e,n,r,s){return new is(e,1,n,cn.min(),r,s,0)}static newNoDocument(e,n){return new is(e,2,n,cn.min(),cn.min(),Fi.empty(),0)}static newUnknownDocument(e,n){return new is(e,3,n,cn.min(),cn.min(),Fi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(cn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=cn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof is&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new is(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.position=e,this.inclusive=n}}function sI(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=kt.comparator(kt.fromName(o.referenceValue),n.key):r=_u(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function iI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!GA(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n="asc"){this.field=e,this.dir=n}}function oV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{}class On extends sL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aV(e,n,r):n==="array-contains"?new cV(e,r):n==="in"?new cL(e,r):n==="not-in"?new uV(e,r):n==="array-contains-any"?new dV(e,r):new On(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AV(e,r):new lV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_u(n,this.value)):n!==null&&qd(this.value)===qd(n)&&this.matchesComparison(_u(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends sL{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new fr(e,n)}matches(e){return Df(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Df(t){return t.op==="and"}function Rb(t){return t.op==="or"}function H5(t){return iL(t)&&Df(t)}function iL(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function Db(t){if(t instanceof On)return t.field.canonicalString()+t.op.toString()+Uf(t.value);if(H5(t))return t.filters.map(e=>Db(e)).join(",");{const e=t.filters.map(n=>Db(n)).join(",");return`${t.op}(${e})`}}function oL(t,e){return t instanceof On?function(r,s){return s instanceof On&&r.op===s.op&&r.field.isEqual(s.field)&&GA(r.value,s.value)}(t,e):t instanceof fr?function(r,s){return s instanceof fr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&oL(o,s.filters[a]),!0):!1}(t,e):void Xt()}function aL(t,e){const n=t.filters.concat(e);return fr.create(n,t.op)}function AL(t){return t instanceof On?function(n){return`${n.field.canonicalString()} ${n.op} ${Uf(n.value)}`}(t):t instanceof fr?function(n){return n.op.toString()+" {"+n.getFilters().map(AL).join(" ,")+"}"}(t):"Filter"}class aV extends On{constructor(e,n,r){super(e,n,r),this.key=kt.fromName(r.referenceValue)}matches(e){const n=kt.comparator(e.key,this.key);return this.matchesComparison(n)}}class AV extends On{constructor(e,n){super(e,"in",n),this.keys=lL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lV extends On{constructor(e,n){super(e,"not-in",n),this.keys=lL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>kt.fromName(r.referenceValue))}class cV extends On{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pm(n)&&hm(n.arrayValue,this.value)}}class cL extends On{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hm(this.value.arrayValue,n)}}class uV extends On{constructor(e,n){super(e,"not-in",n)}matches(e){if(hm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!hm(this.value.arrayValue,n)}}class dV extends On{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hm(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Qb(t,e=null,n=[],r=[],s=null,i=null,o=null){return new hV(t,e,n,r,s,i,o)}function Yd(t){const e=mn(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Db(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),X1(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Uf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Uf(r)).join(",")),e.ue=n}return e.ue}function Om(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iI(t.startAt,e.startAt)&&iI(t.endAt,e.endAt)}function Xv(t){return kt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Jv(t,e){return t.filters.filter(n=>n instanceof On&&n.field.isEqual(e))}function oI(t,e,n){let r=ev,s=!0;for(const i of Jv(t,e)){let o=ev,a=!0;switch(i.op){case"<":case"<=":o=sV(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,a=!1;break;case"!=":case"not-in":o=ev}nI({value:r,inclusive:s},{value:o,inclusive:a})<0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];nI({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function aI(t,e,n){let r=Zc,s=!0;for(const i of Jv(t,e)){let o=Zc,a=!0;switch(i.op){case">=":case">":o=iV(i.value),a=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,a=!1;break;case"!=":case"not-in":o=Zc}rI({value:r,inclusive:s},{value:o,inclusive:a})>0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];rI({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,A=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=A,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function fV(t,e,n,r,s,i,o,a){return new np(t,e,n,r,s,i,o,a)}function Mm(t){return new np(t)}function AI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uL(t){return t.collectionGroup!==null}function _g(t){const e=mn(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new yr(Zr.comparator);return o.filters.forEach(A=>{A.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new gm(i,r))}),n.has(Zr.keyField().canonicalString())||e.ce.push(new gm(Zr.keyField(),r))}return e.ce}function Ca(t){const e=mn(t);return e.le||(e.le=pV(e,_g(t))),e.le}function pV(t,e){if(t.limitType==="F")return Qb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new gm(s.field,i)});const n=t.endAt?new Rf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rf(t.startAt.position,t.startAt.inclusive):null;return Qb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ob(t,e){const n=t.filters.concat([e]);return new np(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mb(t,e,n){return new np(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Z1(t,e){return Om(Ca(t),Ca(e))&&t.limitType===e.limitType}function dL(t){return`${Yd(Ca(t))}|lt:${t.limitType}`}function $h(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>AL(s)).join(", ")}]`),X1(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Uf(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Uf(s)).join(",")),`Target(${r})`}(Ca(t))}; limitType=${t.limitType})`}function Hm(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):kt.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of _g(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,A){const l=sI(o,a,A);return o.inclusive?l<=0:l<0}(r.startAt,_g(r),s)||r.endAt&&!function(o,a,A){const l=sI(o,a,A);return o.inclusive?l>=0:l>0}(r.endAt,_g(r),s))}(t,e)}function gV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hL(t){return(e,n)=>{let r=!1;for(const s of _g(t)){const i=mV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function mV(t,e,n){const r=t.field.isKeyField()?kt.comparator(e.key,n.key):function(i,o,a){const A=o.data.field(i),l=a.data.field(i);return A!==null&&l!==null?_u(A,l):Xt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ah(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Z3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=new Gr(kt.comparator);function Xo(){return yV}const fL=new Gr(kt.comparator);function ng(...t){let e=fL;for(const n of t)e=e.insert(n.key,n);return e}function pL(t){let e=fL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function UA(){return Cg()}function gL(){return Cg()}function Cg(){return new ju(t=>t.toString(),(t,e)=>t.isEqual(e))}const vV=new Gr(kt.comparator),wV=new yr(kt.comparator);function kn(...t){let e=wV;for(const n of t)e=e.add(n);return e}const xV=new yr(Cn);function bV(){return xV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:um(e)?"-0":e}}function mL(t){return{integerValue:""+t}}function BV(t,e){return U9(e)?mL(e):V5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(){this._=void 0}}function _V(t,e,n){return t instanceof Qf?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&O5(i)&&(i=M5(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Of?vL(t,e):t instanceof Mf?wL(t,e):function(s,i){const o=yL(s,i),a=lI(o)+lI(s.Pe);return Ub(o)&&Ub(s.Pe)?mL(a):V5(s.serializer,a)}(t,e)}function CV(t,e,n){return t instanceof Of?vL(t,e):t instanceof Mf?wL(t,e):n}function yL(t,e){return t instanceof mm?function(r){return Ub(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Qf extends ew{}class Of extends ew{constructor(e){super(),this.elements=e}}function vL(t,e){const n=xL(e);for(const r of t.elements)n.some(s=>GA(s,r))||n.push(r);return{arrayValue:{values:n}}}class Mf extends ew{constructor(e){super(),this.elements=e}}function wL(t,e){let n=xL(e);for(const r of t.elements)n=n.filter(s=>!GA(s,r));return{arrayValue:{values:n}}}class mm extends ew{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function lI(t){return Vr(t.integerValue||t.doubleValue)}function xL(t){return pm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n){this.field=e,this.transform=n}}function EV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Of&&s instanceof Of||r instanceof Mf&&s instanceof Mf?jf(r.elements,s.elements,GA):r instanceof mm&&s instanceof mm?GA(r.Pe,s.Pe):r instanceof Qf&&s instanceof Qf}(t.transform,e.transform)}class IV{constructor(e,n){this.version=e,this.transformResults=n}}class Ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tw{}function BL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nw(t.key,Ni.none()):new rp(t.key,t.data,Ni.none());{const n=t.data,r=Fi.empty();let s=new yr(Zr.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Zl(t.key,r,new So(s.toArray()),Ni.none())}}function SV(t,e,n){t instanceof rp?function(s,i,o){const a=s.value.clone(),A=uI(s.fieldTransforms,i,o.transformResults);a.setAll(A),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Zl?function(s,i,o){if(!nv(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=uI(s.fieldTransforms,i,o.transformResults),A=i.data;A.setAll(_L(s)),A.setAll(a),i.convertToFoundDocument(o.version,A).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Eg(t,e,n,r){return t instanceof rp?function(i,o,a,A){if(!nv(i.precondition,o))return a;const l=i.value.clone(),c=dI(i.fieldTransforms,A,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zl?function(i,o,a,A){if(!nv(i.precondition,o))return a;const l=dI(i.fieldTransforms,A,o),c=o.data;return c.setAll(_L(i)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):function(i,o,a){return nv(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function FV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=yL(r.transform,s||null);i!=null&&(n===null&&(n=Fi.empty()),n.set(r.field,i))}return n||null}function cI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&jf(r,s,(i,o)=>EV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rp extends tw{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Zl extends tw{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function _L(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uI(t,e,n){const r=new Map;tn(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,CV(o,a,n[s]))}return r}function dI(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,_V(i,o,e))}return r}class nw extends tw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CL extends tw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&SV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gL();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const A=BL(o,a);A!==null&&r.set(s.key,A),o.isValidDocument()||o.convertToNoDocument(cn.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),kn())}isEqual(e){return this.batchId===e.batchId&&jf(this.mutations,e.mutations,(n,r)=>cI(n,r))&&jf(this.baseMutations,e.baseMutations,(n,r)=>cI(n,r))}}class z5{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){tn(e.mutations.length===r.length);let s=function(){return vV}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new z5(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bs,zn;function NV(t){switch(t){default:return Xt();case Ye.CANCELLED:case Ye.UNKNOWN:case Ye.DEADLINE_EXCEEDED:case Ye.RESOURCE_EXHAUSTED:case Ye.INTERNAL:case Ye.UNAVAILABLE:case Ye.UNAUTHENTICATED:return!1;case Ye.INVALID_ARGUMENT:case Ye.NOT_FOUND:case Ye.ALREADY_EXISTS:case Ye.PERMISSION_DENIED:case Ye.FAILED_PRECONDITION:case Ye.ABORTED:case Ye.OUT_OF_RANGE:case Ye.UNIMPLEMENTED:case Ye.DATA_LOSS:return!0}}function EL(t){if(t===void 0)return qi("GRPC error has no .code"),Ye.UNKNOWN;switch(t){case bs.OK:return Ye.OK;case bs.CANCELLED:return Ye.CANCELLED;case bs.UNKNOWN:return Ye.UNKNOWN;case bs.DEADLINE_EXCEEDED:return Ye.DEADLINE_EXCEEDED;case bs.RESOURCE_EXHAUSTED:return Ye.RESOURCE_EXHAUSTED;case bs.INTERNAL:return Ye.INTERNAL;case bs.UNAVAILABLE:return Ye.UNAVAILABLE;case bs.UNAUTHENTICATED:return Ye.UNAUTHENTICATED;case bs.INVALID_ARGUMENT:return Ye.INVALID_ARGUMENT;case bs.NOT_FOUND:return Ye.NOT_FOUND;case bs.ALREADY_EXISTS:return Ye.ALREADY_EXISTS;case bs.PERMISSION_DENIED:return Ye.PERMISSION_DENIED;case bs.FAILED_PRECONDITION:return Ye.FAILED_PRECONDITION;case bs.ABORTED:return Ye.ABORTED;case bs.OUT_OF_RANGE:return Ye.OUT_OF_RANGE;case bs.UNIMPLEMENTED:return Ye.UNIMPLEMENTED;case bs.DATA_LOSS:return Ye.DATA_LOSS;default:return Xt()}}(zn=bs||(bs={}))[zn.OK=0]="OK",zn[zn.CANCELLED=1]="CANCELLED",zn[zn.UNKNOWN=2]="UNKNOWN",zn[zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zn[zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zn[zn.NOT_FOUND=5]="NOT_FOUND",zn[zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",zn[zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",zn[zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",zn[zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zn[zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zn[zn.ABORTED=10]="ABORTED",zn[zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",zn[zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",zn[zn.INTERNAL=13]="INTERNAL",zn[zn.UNAVAILABLE=14]="UNAVAILABLE",zn[zn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=new Id([4294967295,4294967295],0);function hI(t){const e=kV().encode(t),n=new U3;return n.update(e),new Uint8Array(n.digest())}function fI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Id([n,r],0),new Id([s,i],0)]}class W5{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rg(`Invalid padding: ${n}`);if(r<0)throw new rg(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rg(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rg(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Id.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Id.fromNumber(r)));return s.compare(LV)===1&&(s=new Id([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=hI(e),[r,s]=fI(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new W5(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=hI(e),[r,s]=fI(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Vm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rw(cn.min(),s,new Gr(Cn),Xo(),kn())}}class Vm{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vm(r,n,kn(),kn(),kn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class IL{constructor(e,n){this.targetId=e,this.me=n}}class SL{constructor(e,n,r=Is.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class pI{constructor(){this.fe=0,this.ge=mI(),this.pe=Is.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=kn(),n=kn(),r=kn();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Xt()}}),new Vm(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=mI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,tn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class PV{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xo(),this.qe=gI(),this.Qe=new Gr(Cn)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Xt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Xv(i))if(r===0){const o=new kt(i.path);this.Ue(n,o,is.newNoDocument(o,cn.min()))}else tn(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),A=a?this.Xe(a,e,o):1;if(A!==0){this.je(n);const l=A===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Bu(r).toUint8Array()}catch(A){if(A instanceof eL)return Wd("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw A}try{a=new W5(o,s,i)}catch(A){return Wd(A instanceof rg?"BloomFilter error: ":"Applying bloom filter failed: ",A),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Xv(a.target)){const A=new kt(a.target.path);this.ke.get(A)!==null||this.it(o,A)||this.Ue(o,A,is.newNoDocument(A,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=kn();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(A=>{const l=this.Je(A);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new rw(e,n,this.Qe,this.ke,r);return this.ke=Xo(),this.qe=gI(),this.Qe=new Gr(Cn),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new pI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new yr(Cn),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ut("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new pI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function gI(){return new Gr(kt.comparator)}function mI(){return new Gr(kt.comparator)}const jV=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),UV=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),RV=(()=>({and:"AND",or:"OR"}))();class DV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hb(t,e){return t.useProto3Json||X1(e)?e:{value:e}}function Hf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QV(t,e){return Hf(t,e.toTimestamp())}function Ji(t){return tn(!!t),cn.fromTimestamp(function(n){const r=Gl(n);return new Ir(r.seconds,r.nanos)}(t))}function $5(t,e){return Vb(t,e).canonicalString()}function Vb(t,e){const n=function(s){return new Ar(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TL(t){const e=Ar.fromString(t);return tn(QL(e)),e}function Zv(t,e){return $5(t.databaseId,e.path)}function Sd(t,e){const n=TL(e);if(n.get(1)!==t.databaseId.projectId)throw new bt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new bt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new kt(LL(n))}function NL(t,e){return $5(t.databaseId,e)}function kL(t){const e=TL(t);return e.length===4?Ar.emptyPath():LL(e)}function Kb(t){return new Ar(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LL(t){return tn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yI(t,e,n){return{name:Zv(t,e),fields:n.value.mapValue.fields}}function OV(t,e,n){const r=Sd(t,e.name),s=Ji(e.updateTime),i=e.createTime?Ji(e.createTime):cn.min(),o=new Fi({mapValue:{fields:e.fields}}),a=is.newFoundDocument(r,s,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function MV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Xt()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,c){return l.useProto3Json?(tn(c===void 0||typeof c=="string"),Is.fromBase64String(c||"")):(tn(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Is.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?Ye.UNKNOWN:EL(l.code);return new bt(c,l.message||"")}(o);n=new SL(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Sd(t,r.document.name),i=Ji(r.document.updateTime),o=r.document.createTime?Ji(r.document.createTime):cn.min(),a=new Fi({mapValue:{fields:r.document.fields}}),A=is.newFoundDocument(s,i,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new rv(l,c,A.key,A)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Sd(t,r.document),i=r.readTime?Ji(r.readTime):cn.min(),o=is.newNoDocument(s,i),a=r.removedTargetIds||[];n=new rv([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Sd(t,r.document),i=r.removedTargetIds||[];n=new rv([],i,s,null)}else{if(!("filter"in e))return Xt();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new TV(s,i),a=r.targetId;n=new IL(a,o)}}return n}function e1(t,e){let n;if(e instanceof rp)n={update:yI(t,e.key,e.value)};else if(e instanceof nw)n={delete:Zv(t,e.key)};else if(e instanceof Zl)n={update:yI(t,e.key,e.data),updateMask:WV(e.fieldMask)};else{if(!(e instanceof CL))return Xt();n={verify:Zv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Qf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Of)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Mf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof mm)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Xt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:QV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Xt()}(t,e.precondition)),n}function zb(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Ni.updateTime(Ji(i.updateTime)):i.exists!==void 0?Ni.exists(i.exists):Ni.none()}(e.currentDocument):Ni.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(o,a){let A=null;if("setToServerValue"in a)tn(a.setToServerValue==="REQUEST_TIME"),A=new Qf;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];A=new Of(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];A=new Mf(c)}else"increment"in a?A=new mm(o,a.increment):Xt();const l=Zr.fromServerFormat(a.fieldPath);return new bL(l,A)}(t,s)):[];if(e.update){e.update.name;const s=Sd(t,e.update.name),i=new Fi({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(A){const l=A.fieldPaths||[];return new So(l.map(c=>Zr.fromServerFormat(c)))}(e.updateMask);return new Zl(s,i,o,n,r)}return new rp(s,i,n,r)}if(e.delete){const s=Sd(t,e.delete);return new nw(s,n)}if(e.verify){const s=Sd(t,e.verify);return new CL(s,n)}return Xt()}function HV(t,e){return t&&t.length>0?(tn(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Ji(s.updateTime):Ji(i);return o.isEqual(cn.min())&&(o=Ji(i)),new IV(o,s.transformResults||[])}(n,e))):[]}function PL(t,e){return{documents:[NL(t,e.path)]}}function jL(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=NL(t,s);const i=function(l){if(l.length!==0)return DL(fr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(c=>function(f){return{field:qh(f.field),direction:KV(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Hb(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:s}}function UL(t){let e=kL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){tn(r===1);const c=n.from[0];c.allDescendants?s=c.collectionId:e=e.child(c.collectionId)}let i=[];n.where&&(i=function(u){const f=RL(u);return f instanceof fr&&H5(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(u){return u.map(f=>function(B){return new gm(Yh(B.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(u){let f;return f=typeof u=="object"?u.value:u,X1(f)?null:f}(n.limit));let A=null;n.startAt&&(A=function(u){const f=!!u.before,d=u.values||[];return new Rf(d,f)}(n.startAt));let l=null;return n.endAt&&(l=function(u){const f=!u.before,d=u.values||[];return new Rf(d,f)}(n.endAt)),fV(e,s,o,i,a,"F",A,l)}function VV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yh(n.unaryFilter.field);return On.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Yh(n.unaryFilter.field);return On.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Yh(n.unaryFilter.field);return On.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Yh(n.unaryFilter.field);return On.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Xt()}}(t):t.fieldFilter!==void 0?function(n){return On.create(Yh(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fr.create(n.compositeFilter.filters.map(r=>RL(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Xt()}}(n.compositeFilter.op))}(t):Xt()}function KV(t){return jV[t]}function zV(t){return UV[t]}function GV(t){return RV[t]}function qh(t){return{fieldPath:t.canonicalString()}}function Yh(t){return Zr.fromServerFormat(t.fieldPath)}function DL(t){return t instanceof On?function(n){if(n.op==="=="){if(tI(n.value))return{unaryFilter:{field:qh(n.field),op:"IS_NAN"}};if(eI(n.value))return{unaryFilter:{field:qh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tI(n.value))return{unaryFilter:{field:qh(n.field),op:"IS_NOT_NAN"}};if(eI(n.value))return{unaryFilter:{field:qh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qh(n.field),op:zV(n.op),value:n.value}}}(t):t instanceof fr?function(n){const r=n.getFilters().map(s=>DL(s));return r.length===1?r[0]:{compositeFilter:{op:GV(n.op),filters:r}}}(t):Xt()}function WV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n,r,s,i=cn.min(),o=cn.min(),a=Is.EMPTY_BYTE_STRING,A=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=A}withSequenceNumber(e){return new Ll(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.ct=e}}function $V(t,e){let n;if(e.document)n=OV(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=kt.fromSegments(e.noDocument.path),s=Jd(e.noDocument.readTime);n=is.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Xt();{const r=kt.fromSegments(e.unknownDocument.path),s=Jd(e.unknownDocument.version);n=is.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(s){const i=new Ir(s[0],s[1]);return cn.fromTimestamp(i)}(e.readTime)),n}function vI(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:t1(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,o){return{name:Zv(i,o.key),fields:o.data.value.mapValue.fields,updateTime:Hf(i,o.version.toTimestamp()),createTime:Hf(i,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Xd(e.version)};else{if(!e.isUnknownDocument())return Xt();r.unknownDocument={path:n.path.toArray(),version:Xd(e.version)}}return r}function t1(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Xd(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Jd(t){const e=new Ir(t.seconds,t.nanoseconds);return cn.fromTimestamp(e)}function fd(t,e){const n=(e.baseMutations||[]).map(i=>zb(t.ct,i));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const a=e.mutations[i+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>zb(t.ct,i)),s=Ir.fromMillis(e.localWriteTimeMs);return new K5(e.batchId,s,n,r)}function sg(t){const e=Jd(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Jd(t.lastLimboFreeSnapshotVersion):cn.min();let r;return r=function(i){return i.documents!==void 0}(t.query)?function(i){return tn(i.documents.length===1),Ca(Mm(kL(i.documents[0])))}(t.query):function(i){return Ca(UL(i))}(t.query),new Ll(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Is.fromBase64String(t.resumeToken))}function ML(t,e){const n=Xd(e.snapshotVersion),r=Xd(e.lastLimboFreeSnapshotVersion);let s;s=Xv(e.target)?PL(t.ct,e.target):jL(t.ct,e.target)._t;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Yd(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function HL(t){const e=UL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mb(e,e.limit,"L"):e}function Z2(t,e){return new G5(e.largestBatchId,zb(t.ct,e.overlayMutation))}function wI(t,e){const n=e.path.lastSegment();return[t,Xi(e.path.popLast()),n]}function xI(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Xd(r.readTime),documentKey:Xi(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{getBundleMetadata(e,n){return bI(e).get(n).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:Jd(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,n){return bI(e).put(function(s){return{bundleId:s.id,createTime:Xd(Ji(s.createTime)),version:s.version}}(n))}getNamedQuery(e,n){return BI(e).get(n).next(r=>{if(r)return function(i){return{name:i.name,query:HL(i.bundledQuery),readTime:Jd(i.readTime)}}(r)})}saveNamedQuery(e,n){return BI(e).put(function(s){return{name:s.name,readTime:Xd(Ji(s.readTime)),bundledQuery:s.bundledQuery}}(n))}}function bI(t){return Hs(t,"bundles")}function BI(t){return Hs(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new sw(e,r)}getOverlay(e,n){return Pp(e).get(wI(this.userId,n)).next(r=>r?Z2(this.serializer,r):null)}getOverlays(e,n){const r=UA();return Me.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((i,o)=>{const a=new G5(n,o);s.push(this.ht(e,a))}),Me.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(o=>s.add(Xi(o.getCollectionPath())));const i=[];return s.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(Pp(e).j("collectionPathOverlayIndex",a))}),Me.waitFor(i)}getOverlaysForCollection(e,n,r){const s=UA(),i=Xi(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Pp(e).U("collectionPathOverlayIndex",o).next(a=>{for(const A of a){const l=Z2(this.serializer,A);s.set(l.getKey(),l)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const i=UA();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Pp(e).J({index:"collectionGroupOverlayIndex",range:a},(A,l,c)=>{const u=Z2(this.serializer,l);i.size()<s||u.largestBatchId===o?(i.set(u.getKey(),u),o=u.largestBatchId):c.done()}).next(()=>i)}ht(e,n){return Pp(e).put(function(s,i,o){const[a,A,l]=wI(i,o.mutation.key);return{userId:i,collectionPath:A,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:e1(s.ct,o.mutation)}}(this.serializer,this.userId,n))}}function Pp(t){return Hs(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{Pt(e){return Hs(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Is.fromUint8Array(r):Is.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Vr(e.integerValue));else if("doubleValue"in e){const r=Vr(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),um(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Gl(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Bu(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?tL(e)?this.dt(n,Number.MAX_SAFE_INTEGER):J1(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Xt()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const s of Object.keys(r))this.Vt(s,n),this.Tt(r[s],n)}wt(e,n){var r,s;const i=e.fields||{};this.dt(n,53);const o="value",a=((s=(r=i[o].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.length)||0;this.dt(n,15),n.At(Vr(a)),this.Vt(o,n),this.Tt(i[o],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const s of r)this.Tt(s,n)}yt(e,n){this.dt(n,37),kt.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}pd.vt=new pd;function XV(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function _I(t){const e=64-function(r){let s=0;for(let i=0;i<8;++i){const o=XV(255&r[i]);if(s+=o,o!==8)break}return s}(t);return Math.ceil(e/8)}class JV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const s=n.codePointAt(0);this.Ft(240|s>>>18),this.Ft(128|63&s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const s=n.codePointAt(0);this.Ot(240|s>>>18),this.Ot(128|63&s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s)}}this.Nt()}kt(e){const n=this.qt(e),r=_I(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}Kt(e){const n=this.qt(e),r=_I(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class ZV{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class eK{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class jp{constructor(){this.jt=new JV,this.Ht=new ZV(this.jt),this.Jt=new eK(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n,r,s){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=s}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new gd(this.indexId,this.documentKey,this.arrayValue,r)}}function kc(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=CI(t.arrayValue,e.arrayValue),n!==0?n:(n=CI(t.directionalValue,e.directionalValue),n!==0?n:kt.comparator(t.documentKey,e.documentKey)))}function CI(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.Xt=new yr((n,r)=>Zr.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(tn(e.collectionGroup===this.collectionId),this.nn)return!1;const n=Lb(e);if(n!==void 0&&!this.sn(n))return!1;const r=ad(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.sn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!s.has(a.field.canonicalString())){const A=r[i];if(!this.on(a,A)||!this._n(this.en[o++],A))return!1}++i}for(;i<r.length;++i){const a=r[i];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new yr(Zr.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Jy(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Jy(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Jy(r.field,r.dir==="asc"?0:1)));return new Yv(Yv.UNKNOWN_ID,this.collectionId,n,cm.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){var e,n;if(tn(t instanceof On||t instanceof fr),t instanceof On){if(t instanceof cL){const s=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(i=>On.create(t.field,"==",i)))||[];return fr.create(s,"or")}return t}const r=t.filters.map(s=>VL(s));return fr.create(r,t.op)}function tK(t){if(t.getFilters().length===0)return[];const e=$b(VL(t));return tn(KL(e)),Gb(e)||Wb(e)?[e]:e.getFilters()}function Gb(t){return t instanceof On}function Wb(t){return t instanceof fr&&H5(t)}function KL(t){return Gb(t)||Wb(t)||function(n){if(n instanceof fr&&Rb(n)){for(const r of n.getFilters())if(!Gb(r)&&!Wb(r))return!1;return!0}return!1}(t)}function $b(t){if(tn(t instanceof On||t instanceof fr),t instanceof On)return t;if(t.filters.length===1)return $b(t.filters[0]);const e=t.filters.map(r=>$b(r));let n=fr.create(e,t.op);return n=n1(n),KL(n)?n:(tn(n instanceof fr),tn(Df(n)),tn(n.filters.length>1),n.filters.reduce((r,s)=>q5(r,s)))}function q5(t,e){let n;return tn(t instanceof On||t instanceof fr),tn(e instanceof On||e instanceof fr),n=t instanceof On?e instanceof On?function(s,i){return fr.create([s,i],"and")}(t,e):II(t,e):e instanceof On?II(e,t):function(s,i){if(tn(s.filters.length>0&&i.filters.length>0),Df(s)&&Df(i))return aL(s,i.getFilters());const o=Rb(s)?s:i,a=Rb(s)?i:s,A=o.filters.map(l=>q5(l,a));return fr.create(A,"or")}(t,e),n1(n)}function II(t,e){if(Df(e))return aL(e,t.getFilters());{const n=e.filters.map(r=>q5(t,r));return fr.create(n,"or")}}function n1(t){if(tn(t instanceof On||t instanceof fr),t instanceof On)return t;const e=t.getFilters();if(e.length===1)return n1(e[0]);if(iL(t))return t;const n=e.map(s=>n1(s)),r=[];return n.forEach(s=>{s instanceof On?r.push(s):s instanceof fr&&(s.op===t.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:fr.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(){this.un=new Y5}addToCollectionParentIndex(e,n){return this.un.add(n),Me.resolve()}getCollectionParents(e,n){return Me.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Me.resolve()}deleteFieldIndex(e,n){return Me.resolve()}deleteAllFieldIndexes(e){return Me.resolve()}createTargetIndexes(e,n){return Me.resolve()}getDocumentsMatchingTarget(e,n){return Me.resolve(null)}getIndexType(e,n){return Me.resolve(0)}getFieldIndexes(e,n){return Me.resolve([])}getNextCollectionGroupToUpdate(e){return Me.resolve(null)}getMinOffset(e,n){return Me.resolve(sa.min())}getMinOffsetFromCollectionGroup(e,n){return Me.resolve(sa.min())}updateCollectionGroup(e,n,r){return Me.resolve()}updateIndexEntries(e,n){return Me.resolve()}}class Y5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new yr(Ar.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new yr(Ar.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=new Uint8Array(0);class rK{constructor(e,n){this.databaseId=n,this.cn=new Y5,this.ln=new ju(r=>Yd(r),(r,s)=>Om(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const i={collectionId:r,parent:Xi(s)};return SI(e).put(i)}return Me.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[K3(n),""],!1,!0);return SI(e).U(s).next(i=>{for(const o of i){if(o.collectionId!==n)break;r.push(jA(o.parent))}return r})}addFieldIndex(e,n){const r=Up(e),s=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])}}(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=Hh(e);return i.next(a=>{o.put(xI(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=Up(e),s=Hh(e),i=Mh(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Up(e),r=Mh(e),s=Hh(e);return n.j().next(()=>r.j()).next(()=>s.j())}createTargetIndexes(e,n){return Me.forEach(this.hn(n),r=>this.getIndexType(e,r).next(s=>{if(s===0||s===1){const i=new EI(r).an();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const r=Mh(e);let s=!0;const i=new Map;return Me.forEach(this.hn(n),o=>this.Pn(e,o).next(a=>{s&&(s=!!a),i.set(o,a)})).next(()=>{if(s){let o=kn();const a=[];return Me.forEach(i,(A,l)=>{ut("IndexedDbIndexManager",`Using index ${function(S){return`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(R=>`${R.fieldPath}:${R.kind}`).join(",")}`}(A)} to execute ${Yd(n)}`);const c=function(S,R){const P=Lb(R);if(P===void 0)return null;for(const Q of Jv(S,P.fieldPath))switch(Q.op){case"array-contains-any":return Q.value.arrayValue.values||[];case"array-contains":return[Q.value]}return null}(l,A),u=function(S,R){const P=new Map;for(const Q of ad(R))for(const T of Jv(S,Q.fieldPath))switch(T.op){case"==":case"in":P.set(Q.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return P.set(Q.fieldPath.canonicalString(),T.value),Array.from(P.values())}return null}(l,A),f=function(S,R){const P=[];let Q=!0;for(const T of ad(R)){const I=T.kind===0?oI(S,T.fieldPath,S.startAt):aI(S,T.fieldPath,S.startAt);P.push(I.value),Q&&(Q=I.inclusive)}return new Rf(P,Q)}(l,A),d=function(S,R){const P=[];let Q=!0;for(const T of ad(R)){const I=T.kind===0?aI(S,T.fieldPath,S.endAt):oI(S,T.fieldPath,S.endAt);P.push(I.value),Q&&(Q=I.inclusive)}return new Rf(P,Q)}(l,A),B=this.In(A,l,f),b=this.In(A,l,d),E=this.Tn(A,l,u),v=this.En(A.indexId,c,B,f.inclusive,b,d.inclusive,E);return Me.forEach(v,C=>r.G(C,n.limit).next(S=>{S.forEach(R=>{const P=kt.fromSegments(R.documentKey);o.has(P)||(o=o.add(P),a.push(P))})}))}).next(()=>a)}return Me.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=tK(fr.create(e.filters,"and")).map(r=>Qb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,s,i,o,a){const A=(n!=null?n.length:1)*Math.max(r.length,i.length),l=A/(n!=null?n.length:1),c=[];for(let u=0;u<A;++u){const f=n?this.dn(n[u/l]):Ay,d=this.An(e,f,r[u%l],s),B=this.Rn(e,f,i[u%l],o),b=a.map(E=>this.An(e,f,E,!0));c.push(...this.createRange(d,B,b))}return c}An(e,n,r,s){const i=new gd(e,kt.empty(),n,r);return s?i:i.Zt()}Rn(e,n,r,s){const i=new gd(e,kt.empty(),n,r);return s?i.Zt():i}Pn(e,n){const r=new EI(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(i=>{let o=null;for(const a of i)r.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const s=this.hn(n);return Me.forEach(s,i=>this.Pn(e,i).next(o=>{o?r!==0&&o.fields.length<function(A){let l=new yr(Zr.comparator),c=!1;for(const u of A.filters)for(const f of u.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?c=!0:l=l.add(f.field));for(const u of A.orderBy)u.field.isKeyField()||(l=l.add(u.field));return l.size+(c?1:0)}(i)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&s.length>1&&r===2?1:r)}Vn(e,n){const r=new jp;for(const s of ad(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.Yt(s.kind);pd.vt.It(i,o)}return r.zt()}dn(e){const n=new jp;return pd.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new jp;return pd.vt.It(fm(this.databaseId,n),r.Yt(function(i){const o=ad(i);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let s=[];s.push(new jp);let i=0;for(const o of ad(e)){const a=r[i++];for(const A of s)if(this.fn(n,o.fieldPath)&&pm(a))s=this.gn(s,o,a);else{const l=A.Yt(o.kind);pd.vt.It(a,l)}}return this.pn(s)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const a of s){const A=new jp;A.seed(a.zt()),pd.vt.It(o,A.Yt(n.kind)),i.push(A)}return i}fn(e,n){return!!e.filters.find(r=>r instanceof On&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Up(e),s=Hh(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(i=>{const o=[];return Me.forEach(i,a=>s.get([a.indexId,this.uid]).next(A=>{o.push(function(c,u){const f=u?new cm(u.sequenceNumber,new sa(Jd(u.readTime),new kt(jA(u.documentKey)),u.largestBatchId)):cm.empty(),d=c.fields.map(([B,b])=>new Jy(Zr.fromServerFormat(B),b));return new Yv(c.indexId,c.collectionGroup,d,f)}(a,A))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Cn(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=Up(e),i=Hh(e);return this.yn(e).next(o=>s.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>Me.forEach(a,A=>i.put(xI(A.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return Me.forEach(n,(s,i)=>{const o=r.get(s.collectionGroup);return(o?Me.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(a=>(r.set(s.collectionGroup,a),Me.forEach(a,A=>this.wn(e,s,A).next(l=>{const c=this.Sn(i,A);return l.isEqual(c)?Me.resolve():this.bn(e,i,A,l,c)}))))})}Dn(e,n,r,s){return Mh(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,s){return Mh(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const s=Mh(e);let i=new yr(kc);return s.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(o,a)=>{i=i.add(new gd(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>i)}Sn(e,n){let r=new yr(kc);const s=this.Vn(n,e);if(s==null)return r;const i=Lb(n);if(i!=null){const o=e.data.field(i.fieldPath);if(pm(o))for(const a of o.arrayValue.values||[])r=r.add(new gd(n.indexId,e.key,this.dn(a),s))}else r=r.add(new gd(n.indexId,e.key,Ay,s));return r}bn(e,n,r,s,i){ut("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(A,l,c,u,f){const d=A.getIterator(),B=l.getIterator();let b=Oh(d),E=Oh(B);for(;b||E;){let v=!1,C=!1;if(b&&E){const S=c(b,E);S<0?C=!0:S>0&&(v=!0)}else b!=null?C=!0:v=!0;v?(u(E),E=Oh(B)):C?(f(b),b=Oh(d)):(b=Oh(d),E=Oh(B))}}(s,i,kc,a=>{o.push(this.Dn(e,n,r,a))},a=>{o.push(this.vn(e,n,r,a))}),Me.waitFor(o)}yn(e){let n=1;return Hh(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,i)=>{i.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>kc(o,a)).filter((o,a,A)=>!a||kc(o,A[a-1])!==0);const s=[];s.push(e);for(const o of r){const a=kc(o,e),A=kc(o,n);if(a===0)s[0]=e.Zt();else if(a>0&&A<0)s.push(o),s.push(o.Zt());else if(A>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.Cn(s[o],s[o+1]))return[];const a=[s[o].indexId,this.uid,s[o].arrayValue,s[o].directionalValue,Ay,[]],A=[s[o+1].indexId,this.uid,s[o+1].arrayValue,s[o+1].directionalValue,Ay,[]];i.push(IDBKeyRange.bound(a,A))}return i}Cn(e,n){return kc(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(FI)}getMinOffset(e,n){return Me.mapArray(this.hn(n),r=>this.Pn(e,r).next(s=>s||Xt())).next(FI)}}function SI(t){return Hs(t,"collectionParents")}function Mh(t){return Hs(t,"indexEntries")}function Up(t){return Hs(t,"indexConfiguration")}function Hh(t){return Hs(t,"indexState")}function FI(t){tn(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;R5(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new sa(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bo{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Bo(e,Bo.DEFAULT_COLLECTION_PERCENTILE,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t,e,n){const r=t.store("mutations"),s=t.store("documentMutations"),i=[],o=IDBKeyRange.only(n.batchId);let a=0;const A=r.J({range:o},(c,u,f)=>(a++,f.delete()));i.push(A.next(()=>{tn(a===1)}));const l=[];for(const c of n.mutations){const u=q3(e,c.key.path,n.batchId);i.push(s.delete(u)),l.push(c.key)}return Me.waitFor(i).next(()=>l)}function r1(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Xt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bo.DEFAULT_COLLECTION_PERCENTILE=10,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bo.DEFAULT=new Bo(41943040,Bo.DEFAULT_COLLECTION_PERCENTILE,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bo.DISABLED=new Bo(-1,0,0);class iw{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Fn={}}static lt(e,n,r,s){tn(e.uid!=="");const i=e.isAuthenticated()?e.uid:"";return new iw(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Lc(e).J({index:"userMutationsIndex",range:r},(s,i,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const i=Xh(e),o=Lc(e);return o.add({}).next(a=>{tn(typeof a=="number");const A=new K5(a,n,r,s),l=function(d,B,b){const E=b.baseMutations.map(C=>e1(d.ct,C)),v=b.mutations.map(C=>e1(d.ct,C));return{userId:B,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:E,mutations:v}}(this.serializer,this.userId,A),c=[];let u=new yr((f,d)=>Cn(f.canonicalString(),d.canonicalString()));for(const f of s){const d=q3(this.userId,f.key.path,a);u=u.add(f.key.path.popLast()),c.push(o.put(l)),c.push(i.put(d,D9))}return u.forEach(f=>{c.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[a]=A.keys()}),Me.waitFor(c).next(()=>A)})}lookupMutationBatch(e,n){return Lc(e).get(n).next(r=>r?(tn(r.userId===this.userId),fd(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?Me.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.Fn[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Lc(e).J({index:"userMutationsIndex",range:s},(o,a,A)=>{a.userId===this.userId&&(tn(a.batchId>=r),i=fd(this.serializer,a)),A.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Lc(e).J({index:"userMutationsIndex",range:n,reverse:!0},(s,i,o)=>{r=i.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Lc(e).U("userMutationsIndex",n).next(r=>r.map(s=>fd(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Zy(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return Xh(e).J({range:s},(o,a,A)=>{const[l,c,u]=o,f=jA(c);if(l===this.userId&&n.path.isEqual(f))return Lc(e).get(u).next(d=>{if(!d)throw Xt();tn(d.userId===this.userId),i.push(fd(this.serializer,d))});A.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yr(Cn);const s=[];return n.forEach(i=>{const o=Zy(this.userId,i.path),a=IDBKeyRange.lowerBound(o),A=Xh(e).J({range:a},(l,c,u)=>{const[f,d,B]=l,b=jA(d);f===this.userId&&i.path.isEqual(b)?r=r.add(B):u.done()});s.push(A)}),Me.waitFor(s).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Zy(this.userId,r),o=IDBKeyRange.lowerBound(i);let a=new yr(Cn);return Xh(e).J({range:o},(A,l,c)=>{const[u,f,d]=A,B=jA(f);u===this.userId&&r.isPrefixOf(B)?B.length===s&&(a=a.add(d)):c.done()}).next(()=>this.xn(e,a))}xn(e,n){const r=[],s=[];return n.forEach(i=>{s.push(Lc(e).get(i).next(o=>{if(o===null)throw Xt();tn(o.userId===this.userId),r.push(fd(this.serializer,o))}))}),Me.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return zL(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),Me.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Me.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return Xh(e).J({range:r},(i,o,a)=>{if(i[0]===this.userId){const A=jA(i[1]);s.push(A)}else a.done()}).next(()=>{tn(s.length===0)})})}containsKey(e,n){return GL(e,this.userId,n)}Nn(e){return WL(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function GL(t,e,n){const r=Zy(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return Xh(t).J({range:i,H:!0},(a,A,l)=>{const[c,u,f]=a;c===e&&u===s&&(o=!0),l.done()}).next(()=>o)}function Lc(t){return Hs(t,"mutations")}function Xh(t){return Hs(t,"documentMutations")}function WL(t){return Hs(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Zd(0)}static kn(){return new Zd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Zd(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>cn.fromTimestamp(new Ir(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.Qn(e,s)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Vh(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(tn(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let s=0;const i=[];return Vh(e).J((o,a)=>{const A=sg(a);A.sequenceNumber<=n&&r.get(A.targetId)===null&&(s++,i.push(this.removeTargetData(e,A)))}).next(()=>Me.waitFor(i)).next(()=>s)}forEachTarget(e,n){return Vh(e).J((r,s)=>{const i=sg(s);n(i)})}qn(e){return NI(e).get("targetGlobalKey").next(n=>(tn(n!==null),n))}Qn(e,n){return NI(e).put("targetGlobalKey",n)}Kn(e,n){return Vh(e).put(ML(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Yd(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Vh(e).J({range:s,index:"queryTargetsIndex"},(o,a,A)=>{const l=sg(a);Om(n,l.target)&&(i=l,A.done())}).next(()=>i)}addMatchingKeys(e,n,r){const s=[],i=Wc(e);return n.forEach(o=>{const a=Xi(o.path);s.push(i.put({targetId:r,path:a})),s.push(this.referenceDelegate.addReference(e,r,o))}),Me.waitFor(s)}removeMatchingKeys(e,n,r){const s=Wc(e);return Me.forEach(n,i=>{const o=Xi(i.path);return Me.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=Wc(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Wc(e);let i=kn();return s.J({range:r,H:!0},(o,a,A)=>{const l=jA(o[1]),c=new kt(l);i=i.add(c)}).next(()=>i)}containsKey(e,n){const r=Xi(n.path),s=IDBKeyRange.bound([r],[K3(r)],!1,!0);let i=0;return Wc(e).J({index:"documentTargetsIndex",H:!0,range:s},([o,a],A,l)=>{o!==0&&(i++,l.done())}).next(()=>i>0)}ot(e,n){return Vh(e).get(n).next(r=>r?sg(r):null)}}function Vh(t){return Hs(t,"targets")}function NI(t){return Hs(t,"targetGlobal")}function Wc(t){return Hs(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI([t,e],[n,r]){const s=Cn(t,n);return s===0?Cn(e,r):s}class iK{constructor(e){this.Un=e,this.buffer=new yr(kI),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();kI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oK{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){ut("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pu(n)?ut("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await oh(n)}await this.Hn(3e5)})}}class aK{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Me.resolve(ba.oe);const r=new iK(n);return this.Jn.forEachTarget(e,s=>r.zn(s.sequenceNumber)).next(()=>this.Jn.Zn(e,s=>r.zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve(TI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TI):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,s,i,o,a,A,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(u=>(u>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${u}`),s=this.params.maximumSequenceNumbersToCollect):s=u,o=Date.now(),this.nthSequenceNumber(e,s))).next(u=>(r=u,a=Date.now(),this.removeTargets(e,r,n))).next(u=>(i=u,A=Date.now(),this.removeOrphanedDocuments(e,r))).next(u=>(l=Date.now(),Wh()<=Qn.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(A-a)+`ms
	Removed ${u} documents in `+(l-A)+`ms
Total Duration: ${l-c}ms`),Me.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:u})))}}function AK(t,e){return new aK(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(e,n){this.db=e,this.garbageCollector=AK(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,s)=>n(s))}addReference(e,n,r){return ly(e,r)}removeReference(e,n,r){return ly(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return ly(e,n)}nr(e,n){return function(s,i){let o=!1;return WL(s).Y(a=>GL(s,a,i).next(A=>(A&&(o=!0),Me.resolve(!A)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.tr(e,(o,a)=>{if(a<=n){const A=this.nr(e,o).next(l=>{if(!l)return i++,r.getEntry(e,o).next(()=>(r.removeEntry(o,cn.min()),Wc(e).delete(function(u){return[0,Xi(u.path)]}(o))))});s.push(A)}}).next(()=>Me.waitFor(s)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return ly(e,n)}tr(e,n){const r=Wc(e);let s,i=ba.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:A,sequenceNumber:l})=>{o===0?(i!==ba.oe&&n(new kt(jA(s)),i),i=l,s=A):i=ba.oe}).next(()=>{i!==ba.oe&&n(new kt(jA(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ly(t,e){return Wc(t).put(function(r,s){return{targetId:0,path:Xi(r.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.changes=new ju(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,is.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Me.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ju(e).put(r)}removeEntry(e,n,r){return Ju(e).delete(function(i,o){const a=i.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],t1(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=is.newInvalidDocument(n);return Ju(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Rp(n))},(s,i)=>{r=this.ir(n,i)}).next(()=>r)}sr(e,n){let r={size:0,document:is.newInvalidDocument(n)};return Ju(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Rp(n))},(s,i)=>{r={document:this.ir(n,i),size:r1(i)}}).next(()=>r)}getEntries(e,n){let r=Xo();return this._r(e,n,(s,i)=>{const o=this.ir(s,i);r=r.insert(s,o)}).next(()=>r)}ar(e,n){let r=Xo(),s=new Gr(kt.comparator);return this._r(e,n,(i,o)=>{const a=this.ir(i,o);r=r.insert(i,a),s=s.insert(i,r1(o))}).next(()=>({documents:r,ur:s}))}_r(e,n,r){if(n.isEmpty())return Me.resolve();let s=new yr(jI);n.forEach(A=>s=s.add(A));const i=IDBKeyRange.bound(Rp(s.first()),Rp(s.last())),o=s.getIterator();let a=o.getNext();return Ju(e).J({index:"documentKeyIndex",range:i},(A,l,c)=>{const u=kt.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&jI(a,u)<0;)r(a,null),a=o.getNext();a&&a.isEqual(u)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?c.$(Rp(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),t1(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],A=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ju(e).U(IDBKeyRange.bound(a,A,!0)).next(l=>{i==null||i.incrementDocumentReadCount(l.length);let c=Xo();for(const u of l){const f=this.ir(kt.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);f.isFoundDocument()&&(Hm(n,f)||s.has(f.key))&&(c=c.insert(f.key,f))}return c})}getAllFromCollectionGroup(e,n,r,s){let i=Xo();const o=PI(n,r),a=PI(n,sa.max());return Ju(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(A,l,c)=>{const u=this.ir(kt.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);i=i.insert(u.key,u),i.size===s&&c.done()}).next(()=>i)}newChangeBuffer(e){return new uK(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return LI(e).get("remoteDocumentGlobalKey").next(n=>(tn(!!n),n))}rr(e,n){return LI(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=$V(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(cn.min())))return r}return is.newInvalidDocument(e)}}function qL(t){return new cK(t)}class uK extends $L{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new ju(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new yr((i,o)=>Cn(i.canonicalString(),o.canonicalString()));return this.changes.forEach((i,o)=>{const a=this.lr.get(i);if(n.push(this.cr.removeEntry(e,i,a.readTime)),o.isValidDocument()){const A=vI(this.cr.serializer,o);s=s.add(i.path.popLast());const l=r1(A);r+=l-a.size,n.push(this.cr.addEntry(e,i,A))}else if(r-=a.size,this.trackRemovals){const A=vI(this.cr.serializer,o.convertToNoDocument(cn.min()));n.push(this.cr.addEntry(e,i,A))}}),s.forEach(i=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.cr.updateMetadata(e,r)),Me.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:s})=>(s.forEach((i,o)=>{this.lr.set(i,{size:o,readTime:r.get(i).readTime})}),r))}}function LI(t){return Hs(t,"remoteDocumentGlobal")}function Ju(t){return Hs(t,"remoteDocumentsV14")}function Rp(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function PI(t,e){const n=e.documentKey.path.toArray();return[t,t1(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function jI(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Cn(n[i],r[i]),s)return s;return s=Cn(n.length,r.length),s||(s=Cn(n[n.length-2],r[r.length-2]),s||Cn(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Eg(r.mutation,s,So.empty(),Ir.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,kn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=kn()){const s=UA();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ng();return i.forEach((a,A)=>{o=o.insert(a,A.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=UA();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,kn()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Xo();const o=Cg(),a=function(){return Cg()}();return n.forEach((A,l)=>{const c=r.get(l.key);s.has(l.key)&&(c===void 0||c.mutation instanceof Zl)?i=i.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),Eg(c.mutation,l,c.mutation.getFieldMask(),Ir.now())):o.set(l.key,So.empty())}),this.recalculateAndSaveOverlays(e,i).next(A=>(A.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var u;return a.set(l,new dK(c,(u=o.get(l))!==null&&u!==void 0?u:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Cg();let s=new Gr((o,a)=>o-a),i=kn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(A=>{const l=n.get(A);if(l===null)return;let c=r.get(A)||So.empty();c=a.applyToLocalView(l,c),r.set(A,c);const u=(s.get(a.batchId)||kn()).add(A);s=s.insert(a.batchId,u)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const A=a.getNext(),l=A.key,c=A.value,u=gL();c.forEach(f=>{if(!i.has(f)){const d=BL(n.get(f),r.get(f));d!==null&&u.set(f,d),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,u))}return Me.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return kt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Me.resolve(UA());let a=-1,A=i;return o.next(l=>Me.forEach(l,(c,u)=>(a<u.largestBatchId&&(a=u.largestBatchId),i.get(c)?Me.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{A=A.insert(c,f)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,A,l,kn())).next(c=>({batchId:a,changes:pL(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new kt(n)).next(r=>{let s=ng();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ng();return this.indexManager.getCollectionParents(e,i).next(a=>Me.forEach(a,A=>{const l=function(u,f){return new np(f,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,A.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r,s).next(c=>{c.forEach((u,f)=>{o=o.insert(u,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((A,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,is.newInvalidDocument(c)))});let a=ng();return o.forEach((A,l)=>{const c=i.get(A);c!==void 0&&Eg(c.mutation,l,So.empty(),Ir.now()),Hm(n,l)&&(a=a.insert(A,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Me.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ji(s.createTime)}}(n)),Me.resolve()}getNamedQuery(e,n){return Me.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:HL(s.bundledQuery),readTime:Ji(s.readTime)}}(n)),Me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(){this.overlays=new Gr(kt.comparator),this.Ir=new Map}getOverlay(e,n){return Me.resolve(this.overlays.get(n))}getOverlays(e,n){const r=UA();return Me.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),Me.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Me.resolve()}getOverlaysForCollection(e,n,r){const s=UA(),i=n.length+1,o=new kt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const A=a.getNext().value,l=A.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&A.largestBatchId>r&&s.set(A.getKey(),A)}return Me.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Gr((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=i.get(l.largestBatchId);c===null&&(c=UA(),i=i.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=UA(),A=i.getIterator();for(;A.hasNext()&&(A.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=s)););return Me.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new G5(n,r));let i=this.Ir.get(n);i===void 0&&(i=kn(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(){this.sessionToken=Is.EMPTY_BYTE_STRING}getSessionToken(e){return Me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(){this.Tr=new yr($s.Er),this.dr=new yr($s.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new $s(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new $s(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new kt(new Ar([])),r=new $s(n,e),s=new $s(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new kt(new Ar([])),r=new $s(n,e),s=new $s(n,e+1);let i=kn();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new $s(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $s{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return kt.comparator(e.key,n.key)||Cn(e.wr,n.wr)}static Ar(e,n){return Cn(e.wr,n.wr)||kt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new yr($s.Er)}checkEmpty(e){return Me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new K5(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new $s(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Me.resolve(o)}lookupMutationBatch(e,n){return Me.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return Me.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $s(n,0),s=new $s(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),Me.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yr(Cn);return n.forEach(s=>{const i=new $s(s,0),o=new $s(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),Me.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;kt.isDocumentKey(i)||(i=i.child(""));const o=new $s(new kt(i),0);let a=new yr(Cn);return this.br.forEachWhile(A=>{const l=A.key.path;return!!r.isPrefixOf(l)&&(l.length===s&&(a=a.add(A.wr)),!0)},o),Me.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){tn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Me.forEach(n.mutations,s=>{const i=new $s(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new $s(n,0),s=this.br.firstAfterOrEqual(r);return Me.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Me.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(e){this.Mr=e,this.docs=function(){return new Gr(kt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Me.resolve(r?r.document.mutableCopy():is.newInvalidDocument(n))}getEntries(e,n){let r=Xo();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():is.newInvalidDocument(s))}),Me.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Xo();const o=n.path,a=new kt(o.child("")),A=this.docs.getIteratorFrom(a);for(;A.hasNext();){const{key:l,value:{document:c}}=A.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||R5(z3(c),r)<=0||(s.has(c.key)||Hm(n,c))&&(i=i.insert(c.key,c.mutableCopy()))}return Me.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Xt()}Or(e,n){return Me.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yK(this)}getSize(e){return Me.resolve(this.size)}}class yK extends $L{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Me.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK{constructor(e){this.persistence=e,this.Nr=new ju(n=>Yd(n),Om),this.lastRemoteSnapshotVersion=cn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new X5,this.targetCount=0,this.kr=Zd.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Me.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Zd(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Me.resolve()}updateTargetData(e,n){return this.Kn(n),Me.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Me.waitFor(i).next(()=>s)}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Me.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Me.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Me.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Me.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Me.resolve(r)}containsKey(e,n){return Me.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ba(0),this.Kr=!1,this.Kr=!0,this.$r=new pK,this.referenceDelegate=e(this),this.Ur=new vK(this),this.indexManager=new nK,this.remoteDocumentCache=function(s){return new mK(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new OL(n),this.Gr=new hK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new gK(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ut("MemoryPersistence","Starting transaction:",e);const s=new wK(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return Me.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class wK extends W3{constructor(e){super(),this.currentSequenceNumber=e}}class ow{constructor(e){this.persistence=e,this.Jr=new X5,this.Yr=null}static Zr(e){return new ow(e)}get Xr(){if(this.Yr)return this.Yr;throw Xt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Me.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Me.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Me.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.Xr,r=>{const s=kt.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,cn.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Me.or([()=>Me.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xK{constructor(e){this.serializer=e}O(e,n,r,s){const i=new Y1("createOrUpgrade",n);r<1&&s>=1&&(function(A){A.createObjectStore("owner")}(e),function(A){A.createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",q4,{unique:!0}),A.createObjectStore("documentMutations")}(e),UI(e),function(A){A.createObjectStore("remoteDocuments")}(e));let o=Me.resolve();return r<3&&s>=3&&(r!==0&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),UI(e)),o=o.next(()=>function(A){const l=A.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:cn.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(i))),r<4&&s>=4&&(r!==0&&(o=o.next(()=>function(A,l){return l.store("mutations").U().next(c=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",q4,{unique:!0});const u=l.store("mutations"),f=c.map(d=>u.put(d));return Me.waitFor(f)})}(e,i))),o=o.next(()=>{(function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&s>=5&&(o=o.next(()=>this.ni(i))),r<6&&s>=6&&(o=o.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.ri(i)))),r<7&&s>=7&&(o=o.next(()=>this.ii(i))),r<8&&s>=8&&(o=o.next(()=>this.si(e,i))),r<9&&s>=9&&(o=o.next(()=>{(function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(o=o.next(()=>this.oi(i))),r<11&&s>=11&&(o=o.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(o=o.next(()=>{(function(A){const l=A.createObjectStore("documentOverlays",{keyPath:Y9});l.createIndex("collectionPathOverlayIndex",X9,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",J9,{unique:!1})})(e)})),r<13&&s>=13&&(o=o.next(()=>function(A){const l=A.createObjectStore("remoteDocumentsV14",{keyPath:Q9});l.createIndex("documentKeyIndex",O9),l.createIndex("collectionGroupIndex",M9)}(e)).next(()=>this._i(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(o=o.next(()=>this.ai(e,i))),r<15&&s>=15&&(o=o.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:G9}).createIndex("sequenceNumberIndex",W9,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:$9}).createIndex("documentKeyIndex",q9,{unique:!1})}(e))),r<16&&s>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&s>=17&&(o=o.next(()=>{(function(A){A.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let n=0;return e.store("remoteDocuments").J((r,s)=>{n+=r1(s)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(s=>Me.forEach(s,i=>{const o=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>Me.forEach(a,A=>{tn(A.userId===i.userId);const l=fd(this.serializer,A);return zL(e,i.userId,l).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const i=[];return r.J((o,a)=>{const A=new Ar(o),l=function(u){return[0,Xi(u)]}(A);i.push(n.get(l).next(c=>c?Me.resolve():(u=>n.put({targetId:0,path:Xi(u),sequenceNumber:s.highestListenSequenceNumber}))(A)))}).next(()=>Me.waitFor(i))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:z9});const r=n.store("collectionParents"),s=new Y5,i=o=>{if(s.add(o)){const a=o.lastSegment(),A=o.popLast();return r.put({collectionId:a,parent:Xi(A)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const A=new Ar(o);return i(A.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,A],l)=>{const c=jA(a);return i(c.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,s)=>{const i=sg(s),o=ML(this.serializer,i);return n.put(o)})}_i(e,n){const r=n.store("remoteDocuments"),s=[];return r.J((i,o)=>{const a=n.store("remoteDocumentsV14"),A=function(u){return u.document?new kt(Ar.fromString(u.document.name).popFirst(5)):u.noDocument?kt.fromSegments(u.noDocument.path):u.unknownDocument?kt.fromSegments(u.unknownDocument.path):Xt()}(o).path.toArray(),l={prefixPath:A.slice(0,A.length-2),collectionGroup:A[A.length-2],documentId:A[A.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(a.put(l))}).next(()=>Me.waitFor(s))}ai(e,n){const r=n.store("mutations"),s=qL(this.serializer),i=new XL(ow.Zr,this.serializer.ct);return r.U().next(o=>{const a=new Map;return o.forEach(A=>{var l;let c=(l=a.get(A.userId))!==null&&l!==void 0?l:kn();fd(this.serializer,A).keys().forEach(u=>c=c.add(u)),a.set(A.userId,c)}),Me.forEach(a,(A,l)=>{const c=new Ai(l),u=sw.lt(this.serializer,c),f=i.getIndexManager(c),d=iw.lt(c,this.serializer,f,i.referenceDelegate);return new YL(s,d,u,f).recalculateAndSaveOverlaysForDocumentKeys(new Pb(n,ba.oe),A).next()})})}}function UI(t){t.createObjectStore("targetDocuments",{keyPath:V9}).createIndex("documentTargetsIndex",K9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",H9,{unique:!0}),t.createObjectStore("targetGlobal")}const ex="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class J5{constructor(e,n,r,s,i,o,a,A,l,c,u=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=i,this.window=o,this.document=a,this.ci=l,this.li=c,this.hi=u,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!J5.D())throw new bt(Ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lK(this,s),this.Ai=n+"main",this.serializer=new OL(A),this.Ri=new pu(this.Ai,this.hi,new xK(this.serializer)),this.$r=new YV,this.Ur=new sK(this.referenceDelegate,this.serializer),this.remoteDocumentCache=qL(this.serializer),this.Gr=new qV,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,c===!1&&qi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new bt(Ye.FAILED_PRECONDITION,ex);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new ba(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>cy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(Pu(e))return ut("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ut("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Dp(e).get("owner").next(n=>Me.resolve(this.vi(n)))}Ci(e){return cy(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Hs(n,"clientMetadata");return r.U().next(s=>{const i=this.xi(s,18e5),o=s.filter(a=>i.indexOf(a)===-1);return Me.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Me.resolve(!0):Dp(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new bt(Ye.FAILED_PRECONDITION,ex);return!1}}return!(!this.networkEnabled||!this.inForeground)||cy(e).U().next(r=>this.xi(r,5e3).find(s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,a=this.networkEnabled===s.networkEnabled;if(i||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&ut("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Pb(e,ba.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>cy(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return iw.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new rK(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return sw.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){ut("IndexedDbPersistence","Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=function(A){return A===17?tV:A===16?eV:A===15?Q5:A===14?J3:A===13?X3:A===12?Z9:A===11?Y3:void Xt()}(this.hi);let o;return this.Ri.runTransaction(e,s,i,a=>(o=new Pb(a,this.Qr?this.Qr.next():ba.oe),n==="readwrite-primary"?this.wi(o).next(A=>!!A||this.Si(o)).next(A=>{if(!A)throw qi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new bt(Ye.FAILED_PRECONDITION,G3);return r(o)}).next(A=>this.Di(o).next(()=>A)):this.Ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return Dp(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new bt(Ye.FAILED_PRECONDITION,ex)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Dp(e).put("owner",n)}static D(){return pu.D()}bi(e){const n=Dp(e);return n.get("owner").next(r=>this.vi(r)?(ut("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Me.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(qi(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;qk()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return ut("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return qi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){qi("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Dp(t){return Hs(t,"owner")}function cy(t){return Hs(t,"clientMetadata")}function bK(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=kn(),s=kn();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Z5(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return qk()?8:$3(Os())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new BK;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Wh()<=Qn.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",$h(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Me.resolve()):(Wh()<=Qn.DEBUG&&ut("QueryEngine","Query:",$h(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Wh()<=Qn.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",$h(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ca(n))):Me.resolve())}Yi(e,n){if(AI(n))return Me.resolve(null);let r=Ca(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Mb(n,null,"F"),r=Ca(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=kn(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(A=>{const l=this.ts(n,a);return this.ns(n,l,o,A.readTime)?this.Yi(e,Mb(n,null,"F")):this.rs(e,l,n,A)}))})))}Zi(e,n,r,s){return AI(n)||s.isEqual(cn.min())?Me.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?Me.resolve(null):(Wh()<=Qn.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$h(n)),this.rs(e,o,n,N9(s,-1)).next(a=>a))})}ts(e,n){let r=new yr(hL(e));return n.forEach((s,i)=>{Hm(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Wh()<=Qn.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",$h(n)),this.Ji.getDocumentsMatchingQuery(e,n,sa.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Gr(Cn),this._s=new ju(i=>Yd(i),Om),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YL(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function ZL(t,e,n,r){return new _K(t,e,n,r)}async function eP(t,e){const n=mn(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let A=kn();for(const l of s){o.push(l.batchId);for(const c of l.mutations)A=A.add(c.key)}for(const l of i){a.push(l.batchId);for(const c of l.mutations)A=A.add(c.key)}return n.localDocuments.getDocuments(r,A).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})}function CK(t,e){const n=mn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,A,l,c){const u=l.batch,f=u.keys();let d=Me.resolve();return f.forEach(B=>{d=d.next(()=>c.getEntry(A,B)).next(b=>{const E=l.docVersions.get(B);tn(E!==null),b.version.compareTo(E)<0&&(u.applyToRemoteDocument(b,l),b.isValidDocument()&&(b.setReadTime(l.commitVersion),c.addEntry(b)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(A,u))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let A=kn();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(A=A.add(a.batch.mutations[l].key));return A}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function tP(t){const e=mn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function EK(t,e){const n=mn(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((c,u)=>{const f=s.get(u);if(!f)return;a.push(n.Ur.removeMatchingKeys(i,c.removedDocuments,u).next(()=>n.Ur.addMatchingKeys(i,c.addedDocuments,u)));let d=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(u)!==null?d=d.withResumeToken(Is.EMPTY_BYTE_STRING,cn.min()).withLastLimboFreeSnapshotVersion(cn.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),s=s.insert(u,d),function(b,E,v){return b.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,d,c)&&a.push(n.Ur.updateTargetData(i,d))});let A=Xo(),l=kn();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,c))}),a.push(IK(i,o,e.documentUpdates).next(c=>{A=c.Ps,l=c.Is})),!r.isEqual(cn.min())){const c=n.Ur.getLastRemoteSnapshotVersion(i).next(u=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(c)}return Me.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,A,l)).next(()=>A)}).then(i=>(n.os=s,i))}function IK(t,e,n){let r=kn(),s=kn();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Xo();return n.forEach((a,A)=>{const l=i.get(a);A.isFoundDocument()!==l.isFoundDocument()&&(s=s.add(a)),A.isNoDocument()&&A.version.isEqual(cn.min())?(e.removeEntry(a,A.readTime),o=o.insert(a,A)):!l.isValidDocument()||A.version.compareTo(l.version)>0||A.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(A),o=o.insert(a,A)):ut("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",A.version)}),{Ps:o,Is:s}})}function SK(t,e){const n=mn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FK(t,e){const n=mn(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,Me.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Ll(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function qb(t,e,n){const r=mn(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Pu(o))throw o;ut("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function RI(t,e,n){const r=mn(t);let s=cn.min(),i=kn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(A,l,c){const u=mn(A),f=u._s.get(c);return f!==void 0?Me.resolve(u.os.get(f)):u.Ur.getTargetData(l,c)}(r,o,Ca(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(A=>{i=A})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:cn.min(),n?i:kn())).next(a=>(TK(r,gV(e),a),{documents:a,Ts:i})))}function TK(t,e,n){let r=t.us.get(e)||cn.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class DI{constructor(){this.activeTargetIds=bV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nP{constructor(){this.so=new DI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new DI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uy=null;function tx(){return uy===null?uy=function(){return 268435456+Math.round(2147483648*Math.random())}():uy++,"0x"+uy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="WebChannelConnection";class PK extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=tx(),A=this.xo(n,r.toUriEncodedString());ut("RestConnection",`Sending RPC '${n}' ${a}:`,A,s);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,i,o),this.No(n,A,l,s).then(c=>(ut("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Wd("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",A,"request:",s),c})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tp}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=kK[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=tx();return new Promise((o,a)=>{const A=new R3;A.setWithCredentials(!0),A.listenOnce(D3.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case Xy.NO_ERROR:const c=A.getResponseJson();ut(bi,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(c)),o(c);break;case Xy.TIMEOUT:ut(bi,`RPC '${e}' ${i} timed out`),a(new bt(Ye.DEADLINE_EXCEEDED,"Request time out"));break;case Xy.HTTP_ERROR:const u=A.getStatus();if(ut(bi,`RPC '${e}' ${i} failed with status:`,u,"response text:",A.getResponseText()),u>0){let f=A.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const B=function(E){const v=E.toLowerCase().replace(/_/g,"-");return Object.values(Ye).indexOf(v)>=0?v:Ye.UNKNOWN}(d.status);a(new bt(B,d.message))}else a(new bt(Ye.UNKNOWN,"Server responded with status "+A.getStatus()))}else a(new bt(Ye.UNAVAILABLE,"Connection failed."));break;default:Xt()}}finally{ut(bi,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(s);ut(bi,`RPC '${e}' ${i} sending request:`,s),A.send(n,"POST",l,r,15)})}Bo(e,n,r){const s=tx(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=M3(),a=O3(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(A.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(A.useFetchStreams=!0),this.Oo(A.initMessageHeaders,n,r),A.encodeInitMessageHeaders=!0;const c=i.join("");ut(bi,`Creating RPC '${e}' stream ${s}: ${c}`,A);const u=o.createWebChannel(c,A);let f=!1,d=!1;const B=new LK({Io:E=>{d?ut(bi,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(ut(bi,`Opening RPC '${e}' stream ${s} transport.`),u.open(),f=!0),ut(bi,`RPC '${e}' stream ${s} sending:`,E),u.send(E))},To:()=>u.close()}),b=(E,v,C)=>{E.listen(v,S=>{try{C(S)}catch(R){setTimeout(()=>{throw R},0)}})};return b(u,tg.EventType.OPEN,()=>{d||(ut(bi,`RPC '${e}' stream ${s} transport opened.`),B.yo())}),b(u,tg.EventType.CLOSE,()=>{d||(d=!0,ut(bi,`RPC '${e}' stream ${s} transport closed`),B.So())}),b(u,tg.EventType.ERROR,E=>{d||(d=!0,Wd(bi,`RPC '${e}' stream ${s} transport errored:`,E),B.So(new bt(Ye.UNAVAILABLE,"The operation could not be completed")))}),b(u,tg.EventType.MESSAGE,E=>{var v;if(!d){const C=E.data[0];tn(!!C);const S=C,R=S.error||((v=S[0])===null||v===void 0?void 0:v.error);if(R){ut(bi,`RPC '${e}' stream ${s} received error:`,R);const P=R.status;let Q=function(O){const M=bs[O];if(M!==void 0)return EL(M)}(P),T=R.message;Q===void 0&&(Q=Ye.INTERNAL,T="Unknown error status: "+P+" with message "+R.message),d=!0,B.So(new bt(Q,T)),u.close()}else ut(bi,`RPC '${e}' stream ${s} received:`,C),B.bo(C)}}),b(a,Q3.STAT_EVENT,E=>{E.stat===kb.PROXY?ut(bi,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===kb.NOPROXY&&ut(bi,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{B.wo()},0),B}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jK(){return typeof window<"u"?window:null}function sv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t){return new DV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ut("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n,r,s,i,o,a,A){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=A,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new rP(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Ye.RESOURCE_EXHAUSTED?(qi(n.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new bt(Ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ut("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UK extends sP{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=MV(this.serializer,e),r=function(i){if(!("targetChange"in i))return cn.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?cn.min():o.readTime?Ji(o.readTime):cn.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Kb(this.serializer),n.addTarget=function(i,o){let a;const A=o.target;if(a=Xv(A)?{documents:PL(i,A)}:{query:jL(i,A)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=FL(i,o.resumeToken);const l=Hb(i,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(cn.min())>0){a.readTime=Hf(i,o.snapshotVersion.toTimestamp());const l=Hb(i,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=VV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Kb(this.serializer),n.removeTarget=e,this.a_(n)}}class RK extends sP{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return tn(!!e.streamToken),this.lastStreamToken=e.streamToken,tn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){tn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=HV(e.writeResults,e.commitTime),r=Ji(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Kb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>e1(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new bt(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Vb(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new bt(Ye.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Vb(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new bt(Ye.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class QK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qi(n),this.D_=!1):ut("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ah(this)&&(ut("RemoteStore","Restarting streams for network reachability change."),await async function(A){const l=mn(A);l.L_.add(4),await sp(l),l.q_.set("Unknown"),l.L_.delete(4),await Km(l)}(this))})}),this.q_=new QK(r,s)}}async function Km(t){if(Ah(t))for(const e of t.B_)await e(!0)}async function sp(t){for(const e of t.B_)await e(!1)}function iP(t,e){const n=mn(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),r_(n)?n_(n):ip(n).r_()&&t_(n,e))}function e_(t,e){const n=mn(t),r=ip(n);n.N_.delete(e),r.r_()&&oP(n,e),n.N_.size===0&&(r.r_()?r.o_():Ah(n)&&n.q_.set("Unknown"))}function t_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(cn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ip(t).A_(e)}function oP(t,e){t.Q_.xe(e),ip(t).R_(e)}function n_(t){t.Q_=new PV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ip(t).start(),t.q_.v_()}function r_(t){return Ah(t)&&!ip(t).n_()&&t.N_.size>0}function Ah(t){return mn(t).L_.size===0}function aP(t){t.Q_=void 0}async function MK(t){t.q_.set("Online")}async function HK(t){t.N_.forEach((e,n)=>{t_(t,e)})}async function VK(t,e){aP(t),r_(t)?(t.q_.M_(e),n_(t)):t.q_.set("Unknown")}async function KK(t,e,n){if(t.q_.set("Online"),e instanceof SL&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){ut("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await s1(t,r)}else if(e instanceof rv?t.Q_.Ke(e):e instanceof IL?t.Q_.He(e):t.Q_.We(e),!n.isEqual(cn.min()))try{const r=await tP(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((A,l)=>{if(A.resumeToken.approximateByteSize()>0){const c=i.N_.get(l);c&&i.N_.set(l,c.withResumeToken(A.resumeToken,o))}}),a.targetMismatches.forEach((A,l)=>{const c=i.N_.get(A);if(!c)return;i.N_.set(A,c.withResumeToken(Is.EMPTY_BYTE_STRING,c.snapshotVersion)),oP(i,A);const u=new Ll(c.target,A,l,c.sequenceNumber);t_(i,u)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ut("RemoteStore","Failed to raise snapshot:",r),await s1(t,r)}}async function s1(t,e,n){if(!Pu(e))throw e;t.L_.add(1),await sp(t),t.q_.set("Offline"),n||(n=()=>tP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ut("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Km(t)})}function AP(t,e){return e().catch(n=>s1(t,n,e))}async function zm(t){const e=mn(t),n=Cu(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;zK(e);)try{const s=await SK(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,GK(e,s)}catch(s){await s1(e,s)}lP(e)&&cP(e)}function zK(t){return Ah(t)&&t.O_.length<10}function GK(t,e){t.O_.push(e);const n=Cu(t);n.r_()&&n.V_&&n.m_(e.mutations)}function lP(t){return Ah(t)&&!Cu(t).n_()&&t.O_.length>0}function cP(t){Cu(t).start()}async function WK(t){Cu(t).p_()}async function $K(t){const e=Cu(t);for(const n of t.O_)e.m_(n.mutations)}async function qK(t,e,n){const r=t.O_.shift(),s=z5.from(r,e,n);await AP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await zm(t)}async function YK(t,e){e&&Cu(t).V_&&await async function(r,s){if(function(o){return NV(o)&&o!==Ye.ABORTED}(s.code)){const i=r.O_.shift();Cu(r).s_(),await AP(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await zm(r)}}(t,e),lP(t)&&cP(t)}async function OI(t,e){const n=mn(t);n.asyncQueue.verifyOperationInProgress(),ut("RemoteStore","RemoteStore received new credentials");const r=Ah(n);n.L_.add(3),await sp(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Km(n)}async function XK(t,e){const n=mn(t);e?(n.L_.delete(2),await Km(n)):e||(n.L_.add(2),await sp(n),n.q_.set("Unknown"))}function ip(t){return t.K_||(t.K_=function(n,r,s){const i=mn(n);return i.w_(),new UK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:MK.bind(null,t),Ro:HK.bind(null,t),mo:VK.bind(null,t),d_:KK.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),r_(t)?n_(t):t.q_.set("Unknown")):(await t.K_.stop(),aP(t))})),t.K_}function Cu(t){return t.U_||(t.U_=function(n,r,s){const i=mn(n);return i.w_(),new RK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:WK.bind(null,t),mo:YK.bind(null,t),f_:$K.bind(null,t),g_:qK.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await zm(t)):(await t.U_.stop(),t.O_.length>0&&(ut("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new VA,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new s_(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new bt(Ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function i_(t,e){if(qi("AsyncQueue",`${e}: ${t}`),Pu(t))return new bt(Ye.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this.comparator=e?(n,r)=>e(n,r)||kt.comparator(n.key,r.key):(n,r)=>kt.comparator(n.key,r.key),this.keyedMap=ng(),this.sortedSet=new Gr(this.comparator)}static emptySet(e){return new _f(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _f)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _f;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.W_=new Gr(kt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Xt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vf{constructor(e,n,r,s,i,o,a,A,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=A,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vf(e,n,_f.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Z1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class ZK{constructor(){this.queries=HI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=mn(n),i=s.queries;s.queries=HI(),i.forEach((o,a)=>{for(const A of a.j_)A.onError(r)})})(this,new bt(Ye.ABORTED,"Firestore shutting down"))}}function HI(){return new ju(t=>dL(t),Z1)}async function o_(t,e){const n=mn(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new JK,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=i_(o,`Initialization of query '${$h(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&A_(n)}async function a_(t,e){const n=mn(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ez(t,e){const n=mn(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&A_(n)}function tz(t,e,n){const r=mn(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function A_(t){t.Y_.forEach(e=>{e.next()})}var Yb,VI;(VI=Yb||(Yb={})).ea="default",VI.Cache="cache";class l_{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Vf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Vf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Yb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.key=e}}class dP{constructor(e){this.key=e}}class nz{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=kn(),this.mutatedKeys=kn(),this.Aa=hL(e),this.Ra=new _f(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new MI,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const A=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,l=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((c,u)=>{const f=s.get(c),d=Hm(this.query,u)?u:null,B=!!f&&this.mutatedKeys.has(f.key),b=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let E=!1;f&&d?f.data.isEqual(d.data)?B!==b&&(r.track({type:3,doc:d}),E=!0):this.ga(f,d)||(r.track({type:2,doc:d}),E=!0,(A&&this.Aa(d,A)>0||l&&this.Aa(d,l)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),E=!0):f&&!d&&(r.track({type:1,doc:f}),E=!0,(A||l)&&(a=!0)),E&&(d?(o=o.add(d),i=b?i.add(c):i.delete(c)):(o=o.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,u)=>function(d,B){const b=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xt()}};return b(d)-b(B)}(c.type,u.type)||this.Aa(c.doc,u.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],A=this.da.size===0&&this.current&&!s?1:0,l=A!==this.Ea;return this.Ea=A,o.length!==0||l?{snapshot:new Vf(this.query,e.Ra,i,o,e.mutatedKeys,A===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new MI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=kn(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new dP(r))}),this.da.forEach(r=>{e.has(r)||n.push(new uP(r))}),n}ba(e){this.Ta=e.Ts,this.da=kn();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Vf.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class rz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sz{constructor(e){this.key=e,this.va=!1}}class iz{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ju(a=>dL(a),Z1),this.Ma=new Map,this.xa=new Set,this.Oa=new Gr(kt.comparator),this.Na=new Map,this.La=new X5,this.Ba={},this.ka=new Map,this.qa=Zd.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function oz(t,e,n=!0){const r=yP(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await hP(r,e,n,!0),s}async function az(t,e){const n=yP(t);await hP(n,e,!0,!1)}async function hP(t,e,n,r){const s=await FK(t.localStore,Ca(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Az(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&iP(t.remoteStore,s),a}async function Az(t,e,n,r,s){t.Ka=(u,f,d)=>async function(b,E,v,C){let S=E.view.ma(v);S.ns&&(S=await RI(b.localStore,E.query,!1).then(({documents:T})=>E.view.ma(T,S)));const R=C&&C.targetChanges.get(E.targetId),P=C&&C.targetMismatches.get(E.targetId)!=null,Q=E.view.applyChanges(S,b.isPrimaryClient,R,P);return zI(b,E.targetId,Q.wa),Q.snapshot}(t,u,f,d);const i=await RI(t.localStore,e,!0),o=new nz(e,i.Ts),a=o.ma(i.documents),A=Vm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),l=o.applyChanges(a,t.isPrimaryClient,A);zI(t,n,l.wa);const c=new rz(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot}async function lz(t,e,n){const r=mn(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Z1(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await qb(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&e_(r.remoteStore,s.targetId),Xb(r,s.targetId)}).catch(oh)):(Xb(r,s.targetId),await qb(r.localStore,s.targetId,!0))}async function cz(t,e){const n=mn(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),e_(n.remoteStore,r.targetId))}async function uz(t,e,n){const r=vP(t);try{const s=await function(o,a){const A=mn(o),l=Ir.now(),c=a.reduce((d,B)=>d.add(B.key),kn());let u,f;return A.persistence.runTransaction("Locally write mutations","readwrite",d=>{let B=Xo(),b=kn();return A.cs.getEntries(d,c).next(E=>{B=E,B.forEach((v,C)=>{C.isValidDocument()||(b=b.add(v))})}).next(()=>A.localDocuments.getOverlayedDocuments(d,B)).next(E=>{u=E;const v=[];for(const C of a){const S=FV(C,u.get(C.key).overlayedDocument);S!=null&&v.push(new Zl(C.key,S,rL(S.value.mapValue),Ni.exists(!0)))}return A.mutationQueue.addMutationBatch(d,l,v,a)}).next(E=>{f=E;const v=E.applyToLocalDocumentSet(u,b);return A.documentOverlayCache.saveOverlays(d,E.batchId,v)})}).then(()=>({batchId:f.batchId,changes:pL(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,A){let l=o.Ba[o.currentUser.toKey()];l||(l=new Gr(Cn)),l=l.insert(a,A),o.Ba[o.currentUser.toKey()]=l}(r,s.batchId,n),await Gm(r,s.changes),await zm(r.remoteStore)}catch(s){const i=i_(s,"Failed to persist write");n.reject(i)}}async function fP(t,e){const n=mn(t);try{const r=await EK(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(tn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?tn(o.va):s.removedDocuments.size>0&&(tn(o.va),o.va=!1))}),await Gm(n,r,e)}catch(r){await oh(r)}}function KI(t,e,n){const r=mn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const A=mn(o);A.onlineState=a;let l=!1;A.queries.forEach((c,u)=>{for(const f of u.j_)f.Z_(a)&&(l=!0)}),l&&A_(A)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dz(t,e,n){const r=mn(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Gr(kt.comparator);o=o.insert(i,is.newNoDocument(i,cn.min()));const a=kn().add(i),A=new rw(cn.min(),new Map,new Gr(Cn),o,a);await fP(r,A),r.Oa=r.Oa.remove(i),r.Na.delete(e),c_(r)}else await qb(r.localStore,e,!1).then(()=>Xb(r,e,n)).catch(oh)}async function hz(t,e){const n=mn(t),r=e.batch.batchId;try{const s=await CK(n.localStore,e);gP(n,r,null),pP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gm(n,s)}catch(s){await oh(s)}}async function fz(t,e,n){const r=mn(t);try{const s=await function(o,a){const A=mn(o);return A.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return A.mutationQueue.lookupMutationBatch(l,a).next(u=>(tn(u!==null),c=u.keys(),A.mutationQueue.removeMutationBatch(l,u))).next(()=>A.mutationQueue.performConsistencyCheck(l)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>A.localDocuments.getDocuments(l,c))})}(r.localStore,e);gP(r,e,n),pP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gm(r,s)}catch(s){await oh(s)}}function pP(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function gP(t,e,n){const r=mn(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Xb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||mP(t,r)})}function mP(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(e_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),c_(t))}function zI(t,e,n){for(const r of n)r instanceof uP?(t.La.addReference(r.key,e),pz(t,r)):r instanceof dP?(ut("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||mP(t,r.key)):Xt()}function pz(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ut("SyncEngine","New document in limbo: "+n),t.xa.add(r),c_(t))}function c_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new kt(Ar.fromString(e)),r=t.qa.next();t.Na.set(r,new sz(n)),t.Oa=t.Oa.insert(n,r),iP(t.remoteStore,new Ll(Ca(Mm(n.path)),r,"TargetPurposeLimboResolution",ba.oe))}}async function Gm(t,e,n){const r=mn(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,A)=>{o.push(r.Ka(A,e,n).then(l=>{var c;if((l||n)&&r.isPrimaryClient){const u=l?!l.fromCache:(c=n==null?void 0:n.targetChanges.get(A.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(A.targetId,u?"current":"not-current")}if(l){s.push(l);const u=Z5.Wi(A.targetId,l);i.push(u)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(A,l){const c=mn(A);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>Me.forEach(l,f=>Me.forEach(f.$i,d=>c.persistence.referenceDelegate.addReference(u,f.targetId,d)).next(()=>Me.forEach(f.Ui,d=>c.persistence.referenceDelegate.removeReference(u,f.targetId,d)))))}catch(u){if(!Pu(u))throw u;ut("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const f=u.targetId;if(!u.fromCache){const d=c.os.get(f),B=d.snapshotVersion,b=d.withLastLimboFreeSnapshotVersion(B);c.os=c.os.insert(f,b)}}}(r.localStore,i))}async function gz(t,e){const n=mn(t);if(!n.currentUser.isEqual(e)){ut("SyncEngine","User change. New user:",e.toKey());const r=await eP(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(A=>{A.reject(new bt(Ye.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gm(n,r.hs)}}function mz(t,e){const n=mn(t),r=n.Na.get(e);if(r&&r.va)return kn().add(r.key);{let s=kn();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function yP(t){const e=mn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dz.bind(null,e),e.Ca.d_=ez.bind(null,e.eventManager),e.Ca.$a=tz.bind(null,e.eventManager),e}function vP(t){const e=mn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fz.bind(null,e),e}class ym{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=aw(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return ZL(this.persistence,new JL,e.initialUser,this.serializer)}Ga(e){return new XL(ow.Zr,this.serializer)}Wa(e){return new nP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ym.provider={build:()=>new ym};class yz extends ym{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await vP(this.Ja.syncEngine),await zm(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return ZL(this.persistence,new JL,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new oK(r,e.asyncQueue,n)}Ha(e,n){const r=new j9(n,this.persistence);return new P9(e.asyncQueue,r)}Ga(e){const n=bK(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Bo.withCacheSize(this.cacheSizeBytes):Bo.DEFAULT;return new J5(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,jK(),sv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new nP}}class i1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>KI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gz.bind(null,this.syncEngine),await XK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZK}()}createDatastore(e){const n=aw(e.databaseInfo.databaseId),r=function(i){return new PK(i)}(e.databaseInfo);return function(i,o,a,A){return new DK(i,o,a,A)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new OK(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>KI(this.syncEngine,n,0),function(){return QI.D()?new QI:new NK}())}createSyncEngine(e,n){return function(s,i,o,a,A,l,c){const u=new iz(s,i,o,a,A,l);return c&&(u.Qa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=mn(s);ut("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await sp(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}i1.provider={build:()=>new i1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ai.UNAUTHENTICATED,this.clientId=V3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ut("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ut("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new VA;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=i_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function nx(t,e){t.asyncQueue.verifyOperationInProgress(),ut("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await eP(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function GI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wP(t);ut("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>OI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>OI(e.remoteStore,s)),t._onlineComponents=e}async function wP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ut("FirestoreClient","Using user provided OfflineComponentProvider");try{await nx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Ye.FAILED_PRECONDITION||s.code===Ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Wd("Error using user provided cache. Falling back to memory cache: "+n),await nx(t,new ym)}}else ut("FirestoreClient","Using default OfflineComponentProvider"),await nx(t,new ym);return t._offlineComponents}async function u_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ut("FirestoreClient","Using user provided OnlineComponentProvider"),await GI(t,t._uninitializedComponentsProvider._online)):(ut("FirestoreClient","Using default OnlineComponentProvider"),await GI(t,new i1))),t._onlineComponents}function xP(t){return wP(t).then(e=>e.persistence)}function bP(t){return u_(t).then(e=>e.remoteStore)}function wz(t){return u_(t).then(e=>e.syncEngine)}async function Kf(t){const e=await u_(t),n=e.eventManager;return n.onListen=oz.bind(null,e.syncEngine),n.onUnlisten=lz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=az.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cz.bind(null,e.syncEngine),n}function xz(t){return t.asyncQueue.enqueue(async()=>{const e=await xP(t),n=await bP(t);return e.setNetworkEnabled(!0),function(s){const i=mn(s);return i.L_.delete(0),Km(i)}(n)})}function bz(t){return t.asyncQueue.enqueue(async()=>{const e=await xP(t),n=await bP(t);return e.setNetworkEnabled(!1),async function(s){const i=mn(s);i.L_.add(0),await sp(i),i.q_.set("Offline")}(n)})}function Bz(t,e,n={}){const r=new VA;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,A,l){const c=new Aw({next:f=>{c.Za(),o.enqueueAndForget(()=>a_(i,u));const d=f.docs.has(a);!d&&f.fromCache?l.reject(new bt(Ye.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&A&&A.source==="server"?l.reject(new bt(Ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),u=new l_(Mm(a.path),c,{includeMetadataChanges:!0,_a:!0});return o_(i,u)}(await Kf(t),t.asyncQueue,e,n,r)),r.promise}function _z(t,e,n={}){const r=new VA;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,A,l){const c=new Aw({next:f=>{c.Za(),o.enqueueAndForget(()=>a_(i,u)),f.fromCache&&A.source==="server"?l.reject(new bt(Ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),u=new l_(a,c,{includeMetadataChanges:!0,_a:!0});return o_(i,u)}(await Kf(t),t.asyncQueue,e,n,r)),r.promise}function Cz(t,e){const n=new Aw(e);return t.asyncQueue.enqueueAndForget(async()=>function(s,i){mn(s).Y_.add(i),i.next()}(await Kf(t),n)),()=>{n.Za(),t.asyncQueue.enqueueAndForget(async()=>function(s,i){mn(s).Y_.delete(i)}(await Kf(t),n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t,e,n){if(!n)throw new bt(Ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ez(t,e,n,r){if(e===!0&&r===!0)throw new bt(Ye.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $I(t){if(!kt.isDocumentKey(t))throw new bt(Ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qI(t){if(kt.isDocumentKey(t))throw new bt(Ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Xt()}function Js(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new bt(Ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lw(t);throw new bt(Ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new bt(Ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new bt(Ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ez("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new bt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new bt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new bt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cw{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new bt(Ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new bt(Ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new b9;switch(r.type){case"firstParty":return new E9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new bt(Ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=WI.get(n);r&&(ut("ComponentProvider","Removing Datastore"),WI.delete(n),r.terminate())}(this),Promise.resolve()}}function Iz(t,e,n,r={}){var s;const i=(t=Js(t,cw))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Wd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,A;if(typeof r.mockUserToken=="string")a=r.mockUserToken,A=Ai.MOCK_USER;else{a=$k(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new bt(Ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ai(l)}t._authCredentials=new B9(new H3(a,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Uu(this.firestore,e,this._query)}}class ki{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ki(this.firestore,e,this._key)}}class gu extends Uu{constructor(e,n,r){super(e,n,Mm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ki(this.firestore,null,new kt(e))}withConverter(e){return new gu(this.firestore,e,this._path)}}function or(t,e,...n){if(t=Ms(t),_P("collection","path",e),t instanceof cw){const r=Ar.fromString(e,...n);return qI(r),new gu(t,null,r)}{if(!(t instanceof ki||t instanceof gu))throw new bt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ar.fromString(e,...n));return qI(r),new gu(t.firestore,null,r)}}function Pr(t,e,...n){if(t=Ms(t),arguments.length===1&&(e=V3.newId()),_P("doc","path",e),t instanceof cw){const r=Ar.fromString(e,...n);return $I(r),new ki(t,null,new kt(r))}{if(!(t instanceof ki||t instanceof gu))throw new bt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ar.fromString(e,...n));return $I(r),new ki(t.firestore,t instanceof gu?t.converter:null,new kt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new rP(this,"async_queue_retry"),this.Vu=()=>{const r=sv();r&&ut("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=sv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=sv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new VA;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Pu(e))throw e;ut("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw qi("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=s_.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Xt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Jb(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ia extends cw{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new XI,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new XI(e),this._firestoreClient=void 0,await e}}}function Sz(t,e){const n=typeof t=="object"?t:E5(),r=typeof t=="string"?t:e||"(default)",s=G1(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=zk("firestore");i&&Iz(s,...i)}return s}function lh(t){if(t._terminated)throw new bt(Ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||CP(t),t._firestoreClient}function CP(t){var e,n,r;const s=t._freezeSettings(),i=function(a,A,l,c){return new rV(a,A,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,BP(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new vz(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const A=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(A),_online:A}}(t._componentsProvider))}function Fz(t,e){Wd("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return Tz(t,i1.provider,{build:r=>new yz(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function Tz(t,e,n){if((t=Js(t,ia))._firestoreClient||t._terminated)throw new bt(Ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new bt(Ye.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},CP(t)}function JI(t){return xz(lh(t=Js(t,ia)))}function ZI(t){return bz(lh(t=Js(t,ia)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zf(Is.fromBase64String(e))}catch(n){throw new bt(Ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zf(Is.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new bt(Ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new bt(Ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new bt(Ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Cn(this._lat,e._lat)||Cn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz=/^__.*__$/;class kz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zl(e,this.data,this.fieldMask,n,this.fieldTransforms):new rp(e,this.data,n,this.fieldTransforms)}}class EP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function IP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xt()}}class f_{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new f_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return o1(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(IP(this.Cu)&&Nz.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Lz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||aw(e)}Qu(e,n,r,s=!1){return new f_({Cu:e,methodName:n,qu:r,path:Zr.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hw(t){const e=t._freezeSettings(),n=aw(t._databaseId);return new Lz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SP(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);g_("Data must be an object, but it was:",o,r);const a=FP(r,o);let A,l;if(i.merge)A=new So(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const c=[];for(const u of i.mergeFields){const f=Zb(e,u,n);if(!o.contains(f))throw new bt(Ye.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);NP(c,f)||c.push(f)}A=new So(c),l=o.fieldTransforms.filter(u=>A.covers(u.field))}else A=null,l=o.fieldTransforms;return new kz(new Fi(a),A,l)}class fw extends dw{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fw}}class p_ extends dw{_toFieldTransform(e){return new bL(e.path,new Qf)}isEqual(e){return e instanceof p_}}function Pz(t,e,n,r){const s=t.Qu(1,e,n);g_("Data must be an object, but it was:",s,r);const i=[],o=Fi.empty();ah(r,(A,l)=>{const c=m_(e,A,n);l=Ms(l);const u=s.Nu(c);if(l instanceof fw)i.push(c);else{const f=Wm(l,u);f!=null&&(i.push(c),o.set(c,f))}});const a=new So(i);return new EP(o,a,s.fieldTransforms)}function jz(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[Zb(e,r,n)],A=[s];if(i.length%2!=0)throw new bt(Ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Zb(e,i[f])),A.push(i[f+1]);const l=[],c=Fi.empty();for(let f=a.length-1;f>=0;--f)if(!NP(l,a[f])){const d=a[f];let B=A[f];B=Ms(B);const b=o.Nu(d);if(B instanceof fw)l.push(d);else{const E=Wm(B,b);E!=null&&(l.push(d),c.set(d,E))}}const u=new So(l);return new EP(c,u,o.fieldTransforms)}function Uz(t,e,n,r=!1){return Wm(n,t.Qu(r?4:3,e))}function Wm(t,e){if(TP(t=Ms(t)))return g_("Unsupported field value:",e,t),FP(t,e);if(t instanceof dw)return function(r,s){if(!IP(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let A=Wm(a,s.Lu(o));A==null&&(A={nullValue:"NULL_VALUE"}),i.push(A),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ms(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ir.fromDate(r);return{timestampValue:Hf(s.serializer,i)}}if(r instanceof Ir){const i=new Ir(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hf(s.serializer,i)}}if(r instanceof d_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zf)return{bytesValue:FL(s.serializer,r._byteString)};if(r instanceof ki){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:$5(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof h_)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(A=>{if(typeof A!="number")throw a.Bu("VectorValues must only contain numeric values.");return V5(a.serializer,A)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${lw(r)}`)}(t,e)}function FP(t,e){const n={};return Z3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ah(t,(r,s)=>{const i=Wm(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function TP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ir||t instanceof d_||t instanceof zf||t instanceof ki||t instanceof dw||t instanceof h_)}function g_(t,e,n){if(!TP(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=lw(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Zb(t,e,n){if((e=Ms(e))instanceof uw)return e._internalPath;if(typeof e=="string")return m_(t,e);throw o1("Field path arguments must be of type string or ",t,!1,void 0,n)}const Rz=new RegExp("[~\\*/\\[\\]]");function m_(t,e,n){if(e.search(Rz)>=0)throw o1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new uw(...e.split("."))._internalPath}catch{throw o1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function o1(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let A="";return(i||o)&&(A+=" (found",i&&(A+=` in field ${r}`),o&&(A+=` in document ${s}`),A+=")"),new bt(Ye.INVALID_ARGUMENT,a+t+A)}function NP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ki(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Dz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Dz extends kP{data(){return super.data()}}function pw(t,e){return typeof e=="string"?m_(t,e):e instanceof uw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new bt(Ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y_{}class PP extends y_{}function Jo(t,e,...n){let r=[];e instanceof y_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(A=>A instanceof v_).length,a=i.filter(A=>A instanceof gw).length;if(o>1||o>0&&a>0)throw new bt(Ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class gw extends PP{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gw(e,n,r)}_apply(e){const n=this._parse(e);return jP(e._query,n),new Uu(e.firestore,e.converter,Ob(e._query,n))}_parse(e){const n=hw(e.firestore);return function(i,o,a,A,l,c,u){let f;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new bt(Ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){tS(u,c);const d=[];for(const B of u)d.push(eS(A,i,B));f={arrayValue:{values:d}}}else f=eS(A,i,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||tS(u,c),f=Uz(a,o,u,c==="in"||c==="not-in");return On.create(l,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Fd(t,e,n){const r=e,s=pw("where",t);return gw._create(s,r,n)}class v_ extends y_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new v_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const A of a)jP(o,A),o=Ob(o,A)}(e._query,n),new Uu(e.firestore,e.converter,Ob(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class w_ extends PP{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new w_(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new bt(Ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new bt(Ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gm(i,o)}(e._query,this._field,this._direction);return new Uu(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new np(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function x_(t,e="asc"){const n=e,r=pw("orderBy",t);return w_._create(r,n)}function eS(t,e,n){if(typeof(n=Ms(n))=="string"){if(n==="")throw new bt(Ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uL(e)&&n.indexOf("/")!==-1)throw new bt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ar.fromString(n));if(!kt.isDocumentKey(r))throw new bt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fm(t,new kt(r))}if(n instanceof ki)return fm(t,n._key);throw new bt(Ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lw(n)}.`)}function tS(t,e){if(!Array.isArray(t)||t.length===0)throw new bt(Ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jP(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new bt(Ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new bt(Ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Qz{convertValue(e,n="none"){switch(qd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Xt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ah(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Vr(o.doubleValue));return new h_(i)}convertGeoPoint(e){return new d_(Vr(e.latitude),Vr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=M5(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dm(e));default:return null}}convertTimestamp(e){const n=Gl(e);return new Ir(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ar.fromString(e);tn(QL(r));const s=new $d(r.get(1),r.get(3)),i=new kt(r.popFirst(5));return s.isEqual(n)||qi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RP extends kP{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new iv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class iv extends RP{data(e={}){return super.data(e)}}class DP{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ig(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new iv(this._firestore,this._userDataWriter,r.key,r,new ig(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new bt(Ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const A=new iv(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ig(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:A,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const A=new iv(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ig(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:Oz(a.type),doc:A,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Oz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(t){t=Js(t,ki);const e=Js(t.firestore,ia);return Bz(lh(e),t._key).then(n=>QP(e,t,n))}class b_ extends Qz{constructor(e){super(),this.firestore=e}convertBytes(e){return new zf(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ki(this.firestore,null,n)}}function ms(t){t=Js(t,Uu);const e=Js(t.firestore,ia),n=lh(e),r=new b_(e);return LP(t._query),_z(n,t._query).then(s=>new DP(e,r,t,s))}function A1(t,e,n){t=Js(t,ki);const r=Js(t.firestore,ia),s=UP(t.converter,e,n);return mw(r,[SP(hw(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ni.none())])}function Ea(t,e,n,...r){t=Js(t,ki);const s=Js(t.firestore,ia),i=hw(s);let o;return o=typeof(e=Ms(e))=="string"||e instanceof uw?jz(i,"updateDoc",t._key,e,n,r):Pz(i,"updateDoc",t._key,e),mw(s,[o.toMutation(t._key,Ni.exists(!0))])}function $m(t){return mw(Js(t.firestore,ia),[new nw(t._key,Ni.none())])}function Wl(t,e){const n=Js(t.firestore,ia),r=Pr(t),s=UP(t.converter,e);return mw(n,[SP(hw(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ni.exists(!1))]).then(()=>r)}function Mz(t,...e){var n,r,s;t=Ms(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Jb(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Jb(e[o])){const u=e[o];e[o]=(n=u.next)===null||n===void 0?void 0:n.bind(u),e[o+1]=(r=u.error)===null||r===void 0?void 0:r.bind(u),e[o+2]=(s=u.complete)===null||s===void 0?void 0:s.bind(u)}let A,l,c;if(t instanceof ki)l=Js(t.firestore,ia),c=Mm(t._key.path),A={next:u=>{e[o]&&e[o](QP(l,t,u))},error:e[o+1],complete:e[o+2]};else{const u=Js(t,Uu);l=Js(u.firestore,ia),c=u._query;const f=new b_(l);A={next:d=>{e[o]&&e[o](new DP(l,f,u,d))},error:e[o+1],complete:e[o+2]},LP(t._query)}return function(f,d,B,b){const E=new Aw(b),v=new l_(d,E,B);return f.asyncQueue.enqueueAndForget(async()=>o_(await Kf(f),v)),()=>{E.Za(),f.asyncQueue.enqueueAndForget(async()=>a_(await Kf(f),v))}}(lh(l),c,a,A)}function Hz(t,e){return Cz(lh(t=Js(t,ia)),Jb(e)?e:{next:e})}function mw(t,e){return function(r,s){const i=new VA;return r.asyncQueue.enqueueAndForget(async()=>uz(await wz(r),s,i)),i.promise}(lh(t),e)}function QP(t,e,n){const r=n.docs.get(e._key),s=new b_(t);return new RP(t,s,e._key,r,new ig(n.hasPendingWrites,n.fromCache),e.converter)}function ff(){return new p_("serverTimestamp")}(function(e,n=!0){(function(s){tp=s})(ih),Vd(new bu("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ia(new _9(r.getProvider("auth-internal")),new S9(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new bt(Ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $d(l.options.projectId,c)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),OA(G4,"4.7.3",e),OA(G4,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP="firebasestorage.googleapis.com",Vz="storageBucket",Kz=2*60*1e3,zz=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA extends qA{constructor(e,n,r=0){super(rx(e),`Firebase Storage: ${n} (${rx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,YA.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var WA;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(WA||(WA={}));function rx(t){return"storage/"+t}function Gz(){const t="An unknown error occurred, please check the error payload for server response.";return new YA(WA.UNKNOWN,t)}function Wz(){return new YA(WA.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $z(){return new YA(WA.CANCELED,"User canceled the upload/download.")}function qz(t){return new YA(WA.INVALID_URL,"Invalid URL '"+t+"'.")}function Yz(t){return new YA(WA.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function nS(t){return new YA(WA.INVALID_ARGUMENT,t)}function MP(){return new YA(WA.APP_DELETED,"The Firebase app was deleted.")}function Xz(t){return new YA(WA.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=nA.makeFromUrl(e,n)}catch{return new nA(e,"")}if(r.path==="")return r;throw Yz(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),A={bucket:1,path:3};function l(R){R.path_=decodeURIComponent(R.path)}const c="v[A-Za-z0-9_]+",u=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",d=new RegExp(`^https?://${u}/${c}/b/${s}/o${f}`,"i"),B={bucket:1,path:3},b=n===OP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",v=new RegExp(`^https?://${b}/${s}/${E}`,"i"),S=[{regex:a,indices:A,postModify:i},{regex:d,indices:B,postModify:l},{regex:v,indices:{bucket:1,path:2},postModify:l}];for(let R=0;R<S.length;R++){const P=S[R],Q=P.regex.exec(e);if(Q){const T=Q[P.indices.bucket];let I=Q[P.indices.path];I||(I=""),r=new nA(T,I),P.postModify(r);break}}if(r==null)throw qz(e);return r}}class Jz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function A(){return a===2}let l=!1;function c(...E){l||(l=!0,e.apply(null,E))}function u(E){s=setTimeout(()=>{s=null,t(d,A())},E)}function f(){i&&clearTimeout(i)}function d(E,...v){if(l){f();return}if(E){f(),c.call(null,E,...v);return}if(A()||o){f(),c.call(null,E,...v);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,u(S)}let B=!1;function b(E){B||(B=!0,f(),!l&&(s!==null?(E||(a=2),clearTimeout(s),u(0)):E||(a=1)))}return u(0),i=setTimeout(()=>{o=!0,b(!0)},n),b}function eG(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tG(t){return t!==void 0}function rS(t,e,n,r){if(r<e)throw nS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw nS(`Invalid value for '${t}'. Expected ${n} or less.`)}function nG(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var l1;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(l1||(l1={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rG(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(e,n,r,s,i,o,a,A,l,c,u,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=A,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((d,B)=>{this.resolve_=d,this.reject_=B,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new dy(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const A=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(A,l)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===l1.NO_ERROR,A=i.getStatus();if(!a||rG(A,this.additionalRetryCodes_)&&this.retry){const c=i.getErrorCode()===l1.ABORT;r(!1,new dy(!1,null,c));return}const l=this.successCodes_.indexOf(A)!==-1;r(!0,new dy(l,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const A=this.callback_(a,a.getResponse());tG(A)?i(A):i()}catch(A){o(A)}else if(a!==null){const A=Gz();A.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,A)):o(A)}else if(s.canceled){const A=this.appDelete_?MP():$z();o(A)}else{const A=Wz();o(A)}};this.canceled_?n(!1,new dy(!1,null,!0)):this.backoffId_=Zz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&eG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dy{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function iG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function oG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function aG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function AG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function lG(t,e,n,r,s,i,o=!0){const a=nG(t.urlParams),A=t.url+a,l=Object.assign({},t.headers);return aG(l,e),iG(l,n),oG(l,i),AG(l,r),new sG(A,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cG(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function uG(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n){this._service=e,n instanceof nA?this._location=n:this._location=nA.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new c1(e,n)}get root(){const e=new nA(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uG(this._location.path)}get storage(){return this._service}get parent(){const e=cG(this._location.path);if(e===null)return null;const n=new nA(this._location.bucket,e);return new c1(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Xz(e)}}function sS(t,e){const n=e==null?void 0:e[Vz];return n==null?null:nA.makeFromBucketSpec(n,t)}function dG(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:$k(s,t.app.options.projectId))}class hG{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=OP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Kz,this._maxUploadRetryTime=zz,this._requests=new Set,s!=null?this._bucket=nA.makeFromBucketSpec(s,this._host):this._bucket=sS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=nA.makeFromBucketSpec(this._url,e):this._bucket=sS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new c1(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Jz(MP());{const o=lG(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const iS="@firebase/storage",oS="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="storage";function fG(t=E5(),e){t=Ms(t);const r=G1(t,HP).getImmediate({identifier:e}),s=zk("storage");return s&&pG(r,...s),r}function pG(t,e,n,r={}){dG(t,e,n,r)}function gG(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new hG(n,r,s,e,ih)}function mG(){Vd(new bu(HP,gG,"PUBLIC").setMultipleInstances(!0)),OA(iS,oS,""),OA(iS,oS,"esm2017")}mG();const yG={apiKey:"AIzaSyC1OvuWfeL1EQefe_O7jv7czOsCsTwYAgA",authDomain:"termsbuilder.firebaseapp.com",projectId:"termsbuilder",storageBucket:"termsbuilder.appspot.com",messagingSenderId:"1065252219949",appId:"1:1065252219949:web:59e43be88da0ba02d79ca4",measurementId:"G-CWWKBJZ3J2"},B_=Zk(yG),Bs=w9(B_),Yt=Sz(B_);fG(B_);let Pc=!0;const vG=async()=>{let t=3;for(;t>0;)try{return await Fz(Yt).catch(e=>{e.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):e.code==="unimplemented"&&console.warn("The current browser does not support persistence.")}),Hz(Yt,()=>{console.log("Firestore sync complete")}),!0}catch(e){if(t--,console.warn(`Persistence initialization attempt failed (${t} retries left):`,e),t===0)return console.error("Failed to enable persistence after all retries"),!1;await new Promise(n=>setTimeout(n,1e3))}return!1};vG().catch(console.error);Bs.onAuthStateChanged(async t=>{if(t)try{await t.getIdToken(!0);const e=setInterval(async()=>{try{if(!Bs.currentUser){clearInterval(e);return}await Bs.currentUser.getIdToken(!0)}catch(r){console.error("Token refresh failed:",r),r.code==="auth/network-request-failed"&&console.log("Network unavailable, will retry token refresh when online")}},30*60*1e3),n=async r=>{if(r.code==="permission-denied"&&Pc)try{Pc=!1,await ZI(Yt),await t.getIdToken(!0),await JI(Yt),Pc=!0}catch(s){console.error("Error recovering from permission denied:",s),Pc=!0}};window.addEventListener("online",async()=>{if(!Pc)try{await JI(Yt),Pc=!0}catch(r){console.error("Error re-enabling network:",r)}}),window.addEventListener("offline",async()=>{if(Pc)try{await ZI(Yt),Pc=!1}catch(r){console.error("Error disabling network:",r)}})}catch(e){console.error("Error during auth initialization:",e)}});const VP=ee.createContext();function Lo(){return ee.useContext(VP)}function __({children:t}){const[e,n]=ee.useState(null),[r,s]=ee.useState(!0);ee.useEffect(()=>{let o;const a=lH(Bs,async A=>{if(console.log("Auth state changed:",A),A)try{await A.getIdToken(!0),o=setInterval(async()=>{try{await A.getIdToken(!0)}catch(l){console.error("Token refresh failed:",l)}},18e5)}catch(l){console.error("Initial token refresh failed:",l)}else o&&clearInterval(o);n(A),s(!1)});return()=>{a(),o&&clearInterval(o)}},[]);const i={user:e};return h.jsx(VP.Provider,{value:i,children:!r&&t})}const KP=ee.createContext();function zP({children:t}){const[e,n]=ee.useState("light"),r=()=>{n(s=>s==="light"?"dark":"light")};return ee.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",e)},[e]),ee.useEffect(()=>{const s=localStorage.getItem("theme");s&&n(s)},[]),h.jsx(KP.Provider,{value:{theme:e,toggleTheme:r},children:t})}function wG(){const t=ee.useContext(KP);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const GP=ee.createContext();function WP({children:t}){const{user:e}=Lo(),[n,r]=ee.useState([]),[s,i]=ee.useState(null),[o,a]=ee.useState(!0),[A,l]=ee.useState(null);ee.useEffect(()=>{if(!e){a(!1);return}a(!0),l(null);const E=or(Yt,"users",e.uid,"invoices");return Mz(E,C=>{let S=[];C.forEach(R=>{var Q,T;const P=R.data();S.push({id:R.id,...P,paidAmount:typeof P.paidAmount<"u"?parseFloat(P.paidAmount):0,createdAt:((Q=P.createdAt)==null?void 0:Q.toDate())||new Date(P.createdAt||Date.now()),updatedAt:((T=P.updatedAt)==null?void 0:T.toDate())||new Date(P.updatedAt||Date.now())})}),S.sort((R,P)=>P.updatedAt-R.updatedAt),r(S),a(!1)},C=>{console.error("Error loading invoices:",C),l("Failed to load invoices in real-time."),$e.error("Invoice sync failed. Please refresh."),a(!1)})},[e]),ee.useEffect(()=>{const E=localStorage.getItem("currentInvoice");E&&i(JSON.parse(E))},[]),ee.useEffect(()=>{s?localStorage.setItem("currentInvoice",JSON.stringify(s)):localStorage.removeItem("currentInvoice")},[s]);const c=ee.useCallback(async E=>{if(e)try{const v=or(Yt,"users",e.uid,"invoices"),C=await Wl(v,{...E,items:E.items||[],createdAt:ff(),updatedAt:ff(),status:"draft"});return $e.success("Invoice created successfully"),i({id:C.id,...E}),C.id}catch(v){console.error("Error creating invoice:",v),$e.error("Failed to create invoice")}},[e]),u=ee.useCallback(async(E,v)=>{if(!(!e||!E))try{const C=Pr(Yt,"users",e.uid,"invoices",E);await Ea(C,{...v,updatedAt:ff()}),$e.success("Invoice updated successfully"),(s==null?void 0:s.id)===E&&i(S=>({...S,...v}))}catch(C){console.error("Error updating invoice:",C),$e.error("Failed to update invoice")}},[e,s]),f=ee.useCallback(async E=>{if(!(!e||!E)&&window.confirm("Are you sure you want to delete this invoice?"))try{await u(E,{status:"deleted",deletedAt:ff()}),$e.success("Invoice deleted successfully"),(s==null?void 0:s.id)===E&&i(null)}catch(v){console.error("Error deleting invoice:",v),$e.error("Failed to delete invoice")}},[e,u,s]),d=ee.useCallback(async(E,v)=>{if(!(!e||!E||!v))try{const C=n.find(P=>P.id===E)||s;if(!C)throw new Error("Invoice not found");const S=[...C.items||[],{...v,quantity:v.quantity||1,price:v.cost||v.price||0,total:(v.quantity||1)*(v.cost||v.price||0)}],R=S.reduce((P,Q)=>P+Q.total,0);await u(E,{items:S,totalAmount:R}),$e.success(`${v.name||"Item"} added to invoice`)}catch(C){console.error("Error adding item to invoice:",C),$e.error("Failed to add item")}},[e,n,s,u]),B=ee.useCallback(async(E,v)=>{if(!(!e||!E))try{const C=n.find(P=>P.id===E)||s;if(!C)throw new Error("Invoice not found");const S=C.items.filter((P,Q)=>Q!==v),R=S.reduce((P,Q)=>P+Q.total,0);await u(E,{items:S,totalAmount:R}),$e.success("Item removed from invoice")}catch(C){console.error("Error removing item:",C),$e.error("Failed to remove item")}},[e,n,s,u]),b=ee.useMemo(()=>({invoices:n,currentInvoice:s,setCurrentInvoice:i,loading:o,error:A,createInvoice:c,updateInvoice:u,deleteInvoice:f,addItemToInvoice:d,removeItemFromInvoice:B}),[n,s,o,A,c,u,f,d,B]);return h.jsx(GP.Provider,{value:b,children:t})}function C_(){const t=ee.useContext(GP);if(t===void 0)throw new Error("useInvoice must be used within an InvoiceProvider");return t}const yw=ee.createContext(),E_=({children:t})=>{const[e,n]=ee.useState(null),[r,s]=ee.useState([]),[i,o]=ee.useState(null),[a,A]=ee.useState(!1);ee.useEffect(()=>{try{const B=localStorage.getItem("currentInvoice");B&&n(JSON.parse(B))}catch(B){console.error("Error loading invoice from localStorage:",B)}},[]),ee.useEffect(()=>{if(e)try{localStorage.setItem("currentInvoice",JSON.stringify(e))}catch(B){console.error("Error saving invoice to localStorage:",B)}},[e]);const l=()=>{n(null),localStorage.removeItem("currentInvoice")},c=B=>{o({...B,startTime:new Date,elapsed:0}),A(!0)},u=()=>{if(i){const B=new Date,b=Math.floor((B-new Date(i.startTime))/1e3),E={...i,endTime:B,elapsed:b};return s([...r,E]),o(null),A(!1),E}},f=()=>{if(a&&i){const b=Math.floor((new Date-new Date(i.startTime))/1e3);o(E=>({...E,elapsed:b}))}},d=B=>{const b=Math.floor(B/3600),E=Math.floor(B%3600/60),v=B%60;return[b>0?b.toString().padStart(2,"0"):"00",E.toString().padStart(2,"0"),v.toString().padStart(2,"0")].join(":")};return h.jsx(yw.Provider,{value:{invoice:e,setInvoice:n,clearInvoice:l,jobLog:r,setJobLog:s,currentJob:i,isRunning:a,startJob:c,stopJob:u,updateElapsed:f,formatTime:d},children:t})},$P=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t);var qP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aS=Tn.createContext&&Tn.createContext(qP),mu=globalThis&&globalThis.__assign||function(){return mu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},mu.apply(this,arguments)},xG=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};function YP(t){return t&&t.map(function(e,n){return Tn.createElement(e.tag,mu({key:n},e.attr),YP(e.child))})}function un(t){return function(e){return Tn.createElement(bG,mu({attr:mu({},t.attr)},e),YP(t.child))}}function bG(t){var e=function(n){var r=t.attr,s=t.size,i=t.title,o=xG(t,["attr","size","title"]),a=s||n.size||"1em",A;return n.className&&(A=n.className),t.className&&(A=(A?A+" ":"")+t.className),Tn.createElement("svg",mu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:A,style:mu(mu({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Tn.createElement("title",null,i),t.children)};return aS!==void 0?Tn.createElement(aS.Consumer,null,function(n){return e(n)}):e(qP)}function XP(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"}}]})(t)}function I_(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(t)}function BG(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"}},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"}}]})(t)}function S_(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"}},{tag:"polyline",attr:{points:"12 19 5 12 12 5"}}]})(t)}function JP(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"}}]})(t)}function _G(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"}}]})(t)}function AS(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"}}]})(t)}function ZP(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(t)}function CG(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(t)}function EG(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"}}]})(t)}function IG(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"17 11 12 6 7 11"}},{tag:"polyline",attr:{points:"17 18 12 13 7 18"}}]})(t)}function eh(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(t)}function ej(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"}}]})(t)}function Za(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"}},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}}]})(t)}function tj(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"7 10 12 15 17 10"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"}}]})(t)}function nj(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(t)}function eB(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"}}]})(t)}function tB(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(t)}function Ql(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}},{tag:"polyline",attr:{points:"14 2 14 8 20 8"}},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"}},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"}},{tag:"polyline",attr:{points:"10 9 9 9 8 9"}}]})(t)}function SG(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}}]})(t)}function nB(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"}}]})(t)}function FG(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}},{tag:"polyline",attr:{points:"10 17 15 12 10 7"}},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"}}]})(t)}function qm(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}},{tag:"polyline",attr:{points:"22,6 12,13 2,6"}}]})(t)}function F_(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"}}]})(t)}function TG(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"}},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"}}]})(t)}function rj(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}}]})(t)}function NG(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"}}]})(t)}function lS(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"}}]})(t)}function kG(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(t)}function Ym(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(t)}function LG(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(t)}function cS(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"}}]})(t)}function vw(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(t)}function sj(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"}},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"}}]})(t)}function wa(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(t)}function T_(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(t)}function ij(){const[t,e]=ee.useState(""),[n,r]=ee.useState(""),[s,i]=ee.useState(""),[o,a]=ee.useState(!1),[A,l]=ee.useState(!1),[c,u]=ee.useState(!1),f=ko(),d=async B=>{if(B.preventDefault(),!$P(t)){i("Please enter a valid email address");return}if(!n||n.length<6){i("Password must be at least 6 characters");return}a(!0),i("");try{(await oH(Bs,t,n)).user&&(c?localStorage.setItem("rememberedEmail",t):localStorage.removeItem("rememberedEmail"),$e.success("Welcome back!"),f("/"))}catch(b){switch(console.error("Login error:",b),b.code){case"auth/user-not-found":i("No account found with this email");break;case"auth/wrong-password":i("Incorrect password");break;case"auth/too-many-requests":i("Too many attempts. Please try again later");break;default:i("Login failed. Please try again.")}$e.error("Login failed")}finally{a(!1)}};return Tn.useEffect(()=>{const B=localStorage.getItem("rememberedEmail");B&&(e(B),u(!0))},[]),h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-gray-50 to-gray-100 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 flex items-center justify-center p-4 md:p-6",children:h.jsxs("div",{className:"w-full max-w-md",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"WrenchTrack"}),h.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Welcome back to your workshop management"})]}),h.jsxs("form",{onSubmit:d,className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(qm,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"email",placeholder:"Enter your email",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent",value:t,onChange:B=>e(B.target.value),disabled:o})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(nB,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:A?"text":"password",placeholder:"Enter your password",className:"w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent",value:n,onChange:B=>r(B.target.value),disabled:o}),h.jsx("button",{type:"button",onClick:()=>l(!A),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:A?h.jsx(eB,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}):h.jsx(tB,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"})})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",id:"remember-me",checked:c,onChange:B=>u(B.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),h.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Remember me"})]}),h.jsx(xd,{to:"/forgot-password",className:"text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:"Forgot password?"})]}),s&&h.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[h.jsx(I_,{className:"h-5 w-5 flex-shrink-0"}),h.jsx("p",{className:"text-sm",children:s})]}),h.jsx("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h.jsx("span",{children:"Logging in..."})]}):h.jsxs(h.Fragment,{children:[h.jsx(FG,{className:"h-5 w-5"}),h.jsx("span",{children:"Log In"})]})})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),h.jsx("div",{className:"relative flex justify-center text-sm",children:h.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Don't have an account?"})})]}),h.jsxs(xd,{to:"/register",className:"w-full flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors",children:[h.jsx(sj,{className:"h-5 w-5"}),h.jsx("span",{children:"Create Account"})]})]}),h.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600 dark:text-gray-400",children:["By logging in, you agree to our"," ",h.jsx(xd,{to:"/terms",className:"text-blue-600 dark:text-blue-400 hover:text-blue-500",children:"Terms of Service"})," ","and"," ",h.jsx(xd,{to:"/privacy",className:"text-blue-600 dark:text-blue-400 hover:text-blue-500",children:"Privacy Policy"})]})]})})}function oj(){const[t,e]=ee.useState(""),[n,r]=ee.useState(""),[s,i]=ee.useState(""),[o,a]=ee.useState(""),[A,l]=ee.useState(!1),[c,u]=ee.useState(!1),[f,d]=ee.useState(!1),B=ko(),b=async v=>{try{await A1(Pr(Yt,"users",v),{businessInfo:{name:"",address:"",city:"",state:"",zip:"",phone:"",email:"",website:"",taxId:""},preferences:{currency:"USD",dateFormat:"MM/DD/YYYY",timezone:"America/New_York",defaultInvoiceTitle:"Invoice",invoiceTerms:"Net 30",invoiceNotes:"Thank you for your business!"},notifications:{emailNotifications:!0,smsNotifications:!1,invoiceReminders:!0,marketingEmails:!1},security:{twoFactorEnabled:!1,passwordLastChanged:new Date().toISOString()},subscription:{plan:"Free",billingCycle:"Monthly",nextBillingDate:"N/A",paymentMethod:"None"},createdAt:new Date,updatedAt:new Date}),await A1(Pr(Yt,"users",v,"settings","userSettings"),{theme:"dark",avatar:"",businessInfo:{name:"",address:"",city:"",state:"",zip:"",phone:"",email:"",website:"",taxId:""},preferences:{currency:"USD",dateFormat:"MM/DD/YYYY",timezone:"America/New_York",defaultInvoiceTitle:"Invoice",invoiceTerms:"Net 30",invoiceNotes:"Thank you for your business!"},notifications:{emailNotifications:!0,smsNotifications:!1,invoiceReminders:!0,marketingEmails:!1},security:{twoFactorEnabled:!1,passwordLastChanged:"Never"},subscription:{plan:"Free",billingCycle:"Monthly",nextBillingDate:"N/A",paymentMethod:"None"},createdAt:new Date,updatedAt:new Date,updatedBy:t||""})}catch(C){throw console.error("Error initializing user documents:",C),C}},E=async v=>{if(v.preventDefault(),!$P(t)){a("Please enter a valid email address");return}if(!n||n.length<6){a("Password must be at least 6 characters");return}if(n!==s){a("Passwords do not match");return}l(!0),a("");try{const C=await iH(Bs,t,n);C.user&&(await b(C.user.uid),$e.success("Account created successfully!"),B("/"))}catch(C){switch(console.error("Registration error:",C),C.code){case"auth/email-already-in-use":a("An account with this email already exists");break;case"auth/invalid-email":a("Invalid email address");break;default:a("Could not create account. Please try again.")}$e.error("Registration failed")}finally{l(!1)}};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-gray-50 to-gray-100 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 flex items-center justify-center p-4 md:p-6",children:h.jsxs("div",{className:"w-full max-w-md",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"WrenchTrack"}),h.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Create your workshop management account"})]}),h.jsxs("form",{onSubmit:E,className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(qm,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"email",placeholder:"Enter your email",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent",value:t,onChange:v=>e(v.target.value),disabled:A})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(nB,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:c?"text":"password",placeholder:"Create a password",className:"w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent",value:n,onChange:v=>r(v.target.value),disabled:A}),h.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:c?h.jsx(eB,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}):h.jsx(tB,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"})})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(nB,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:f?"text":"password",placeholder:"Confirm your password",className:"w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent",value:s,onChange:v=>i(v.target.value),disabled:A}),h.jsx("button",{type:"button",onClick:()=>d(!f),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:f?h.jsx(eB,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}):h.jsx(tB,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"})})]})]}),o&&h.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[h.jsx(I_,{className:"h-5 w-5 flex-shrink-0"}),h.jsx("p",{className:"text-sm",children:o})]}),h.jsx("button",{type:"submit",disabled:A,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:A?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h.jsx("span",{children:"Creating Account..."})]}):h.jsxs(h.Fragment,{children:[h.jsx(sj,{className:"h-5 w-5"}),h.jsx("span",{children:"Create Account"})]})})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),h.jsx("div",{className:"relative flex justify-center text-sm",children:h.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Already have an account?"})})]}),h.jsx(xd,{to:"/login",className:"w-full flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors",children:"Log In Instead"})]}),h.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600 dark:text-gray-400",children:["By creating an account, you agree to our"," ",h.jsx(xd,{to:"/terms",className:"text-blue-600 dark:text-blue-400 hover:text-blue-500",children:"Terms of Service"})," ","and"," ",h.jsx(xd,{to:"/privacy",className:"text-blue-600 dark:text-blue-400 hover:text-blue-500",children:"Privacy Policy"})]})]})})}function aj(){const t=ko(),[e,n]=ee.useState(""),[r,s]=ee.useState(!1),i=async o=>{if(o.preventDefault(),!e.trim()){$e.error("Please enter your email address");return}try{s(!0),await sH(Bs,e),$e.success("Password reset link sent! Check your email inbox."),setTimeout(()=>t("/login"),2e3)}catch(a){console.error("Error sending reset email:",a);let A="Failed to send reset email";a.code==="auth/user-not-found"?A="No account found with this email address":a.code==="auth/invalid-email"&&(A="Invalid email address"),$e.error(A)}finally{s(!1)}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:h.jsxs("div",{className:"max-w-md w-full space-y-8 p-6 bg-white dark:bg-gray-800 rounded-xl shadow-md",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Reset Password"}),h.jsx("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Enter your email address and we'll send you a link to reset your password."})]}),h.jsxs("form",{className:"mt-8 space-y-6",onSubmit:i,children:[h.jsx("div",{className:"rounded-md shadow-sm -space-y-px",children:h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),h.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:o=>n(o.target.value),className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white dark:bg-gray-700 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Email address"})]})}),h.jsxs("div",{className:"flex flex-col space-y-3",children:[h.jsx("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 disabled:cursor-not-allowed",children:r?"Sending...":"Send Reset Link"}),h.jsx("button",{type:"button",onClick:()=>t("/login"),disabled:r,className:"group relative w-full flex justify-center py-2 px-4 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-70 disabled:cursor-not-allowed",children:"Back to Login"})]})]})]})})}function Ru({size:t="md",className:e=""}){const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return h.jsx("div",{className:`flex justify-center items-center ${e}`,children:h.jsx("div",{className:`${n[t]} border-4 border-blue-200 border-t-blue-500 rounded-full animate-spin`})})}function PG({data:t}){return h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Invoices"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.totalInvoices})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Revenue"}),h.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",t.totalRevenue.toFixed(2)]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Pending Amount"}),h.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",t.pendingAmount.toFixed(2)]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Overdue Invoices"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.overdueInvoices})]})]})}function jG({invoices:t,onView:e}){return h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[h.jsx("th",{className:"px-4 py-2 border text-left text-gray-900 dark:text-white",children:"Invoice #"}),h.jsx("th",{className:"px-4 py-2 border text-left text-gray-900 dark:text-white",children:"Customer"}),h.jsx("th",{className:"px-4 py-2 border text-left text-gray-900 dark:text-white",children:"Amount"}),h.jsx("th",{className:"px-4 py-2 border text-left text-gray-900 dark:text-white",children:"Status"}),h.jsx("th",{className:"px-4 py-2 border text-left text-gray-900 dark:text-white",children:"Due Date"}),h.jsx("th",{className:"px-4 py-2 border text-left text-gray-900 dark:text-white",children:"Actions"})]})}),h.jsx("tbody",{children:t.map(n=>h.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[h.jsx("td",{className:"px-4 py-2 border text-gray-900 dark:text-white",children:n.invoiceNumber||n.id}),h.jsx("td",{className:"px-4 py-2 border text-gray-900 dark:text-white",children:n.customerName||"N/A"}),h.jsxs("td",{className:"px-4 py-2 border text-gray-900 dark:text-white",children:["$",(n.totalAmount||0).toFixed(2)]}),h.jsx("td",{className:"px-4 py-2 border",children:h.jsx("span",{className:`px-2 py-1 rounded text-sm ${n.status==="paid"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":n.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:n.status})}),h.jsx("td",{className:"px-4 py-2 border text-gray-900 dark:text-white",children:n.dueDate?new Date(n.dueDate).toLocaleDateString():"N/A"}),h.jsx("td",{className:"px-4 py-2 border",children:h.jsx("button",{onClick:()=>e(n.id),className:"text-blue-600 dark:text-blue-400 hover:underline",children:"View"})})]},n.id))})]})})}const UG={draft:"bg-gray-500",sent:"bg-blue-500",pending:"bg-yellow-500",paid:"bg-green-500",overdue:"bg-red-500",deleted:"bg-purple-500"};function RG({data:t}){const e=t.reduce((n,r)=>n+r.count,0);return h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[h.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"Invoice Status Distribution"}),h.jsx("div",{className:"space-y-2",children:t.map(n=>h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-24 text-sm text-gray-700 dark:text-gray-300",children:n.status}),h.jsx("div",{className:"flex-1 h-4 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:h.jsx("div",{className:`${UG[n.status]||"bg-blue-500"} h-full`,style:{width:`${n.count/e*100}%`}})}),h.jsx("div",{className:"w-12 text-right text-sm text-gray-700 dark:text-gray-300",children:n.count})]},n.status))})]})}function DG({activities:t}){return h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[h.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"Recent Activity"}),h.jsx("ul",{className:"space-y-3",children:t.map((e,n)=>h.jsxs("li",{className:"flex items-center text-sm",children:[h.jsx("span",{className:"font-medium text-gray-900 dark:text-white mr-2",children:e.title}),h.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["was ",e.action]}),h.jsx("span",{className:"ml-auto text-gray-400 dark:text-gray-500",children:new Date(e.time).toLocaleTimeString()})]},n))})]})}const sx=[{id:"new-invoice",label:"Create New Invoice",icon:h.jsx(Ql,{}),path:"/invoice"},{id:"new-customer",label:"Add New Customer",icon:h.jsx(wa,{}),path:"/customers",action:"add-customer"},{id:"new-part",label:"Add New Part",icon:h.jsx(cS,{}),path:"/parts",action:"add-part"},{id:"record-payment",label:"Record Payment",icon:h.jsx(Za,{}),path:"/payment"},{id:"dashboard",label:"Go to Dashboard",icon:h.jsx(XP,{}),path:"dashboard"},{id:"customers",label:"Go to Customers",icon:h.jsx(wa,{}),path:"customers"},{id:"parts",label:"Go to Parts",icon:h.jsx(cS,{}),path:"parts"},{id:"invoices",label:"Go to Invoices",icon:h.jsx(Ql,{}),path:"invoice"},{id:"invoice-history",label:"Go to Invoice History",icon:h.jsx(Ql,{}),path:"invoicehistory"},{id:"settings",label:"Go to Settings",icon:h.jsx(LG,{}),path:"settings"}];function QG({isOpen:t,onClose:e}){const[n,r]=ee.useState(""),[s,i]=ee.useState(sx),[o,a]=ee.useState(0),A=ee.useRef(null),l=ko();ee.useEffect(()=>{if(n.trim()==="")i(sx);else{const u=n.toLowerCase(),f=sx.filter(d=>d.label.toLowerCase().includes(u));i(f)}a(0)},[n]),ee.useEffect(()=>{t&&A.current&&setTimeout(()=>{A.current.focus()},100)},[t]),ee.useEffect(()=>{const u=f=>{if(t)switch(f.key){case"ArrowDown":f.preventDefault(),a(d=>Math.min(d+1,s.length-1));break;case"ArrowUp":f.preventDefault(),a(d=>Math.max(d-1,0));break;case"Enter":f.preventDefault(),s[o]&&c(s[o]);break;case"Escape":f.preventDefault(),e();break}};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[t,o,s,e]);const c=u=>{if(u.path.startsWith("/"))l(u.path);else{const f=new CustomEvent("navigateTo",{detail:{path:u.path,action:u.action}});window.dispatchEvent(f)}e()};return t?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center pt-[15vh] z-50",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Ym,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{ref:A,type:"text",className:"w-full pl-10 pr-10 py-4 text-lg bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 focus:outline-none focus:border-blue-500 dark:focus:border-blue-400 text-gray-900 dark:text-white",placeholder:"Search for actions or type / to see all commands...",value:n,onChange:u=>r(u.target.value)}),h.jsx("button",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:e,children:h.jsx(T_,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"})})]}),h.jsx("div",{className:"max-h-96 overflow-y-auto",children:s.length===0?h.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"No actions found"}):h.jsx("ul",{children:s.map((u,f)=>h.jsxs("li",{className:`px-4 py-3 flex items-center gap-3 cursor-pointer transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 ${o===f?"bg-gray-100 dark:bg-gray-700":""}`,onClick:()=>c(u),children:[h.jsx("div",{className:"text-blue-500 dark:text-blue-400",children:u.icon}),h.jsx("span",{className:"text-gray-800 dark:text-white",children:u.label})]},u.id))})})]})}):null}function Aj(){const t=ko(),{invoices:e,loading:n,error:r}=C_(),[s,i]=ee.useState([]),[o,a]=ee.useState({totalInvoices:0,totalRevenue:0,pendingAmount:0,overdueInvoices:0}),[A,l]=ee.useState([]),[c,u]=ee.useState([]),[f,d]=ee.useState(!0),[B,b]=ee.useState(null);return ee.useEffect(()=>{(async()=>{try{if(d(!0),b(null),!Bs.currentUser)throw new Error("User not authenticated");let v=e;if(!v||v.length===0){const I=or(Yt,"users",Bs.currentUser.uid,"invoices"),O=Jo(I,Fd("status","!=","deleted"),x_("createdAt","desc"));v=(await ms(O)).docs.map(L=>{var j,k;return{id:L.id,...L.data(),createdAt:((j=L.data().createdAt)==null?void 0:j.toDate())||new Date,dueDate:((k=L.data().dueDate)==null?void 0:k.toDate())||new Date}})}const C=new Date,S=v.length,R=v.reduce((I,O)=>I+(O.totalAmount||0),0),P=v.filter(I=>I.status==="pending"||I.status==="sent").reduce((I,O)=>I+(O.totalAmount||0)-(O.paidAmount||0),0),Q=v.filter(I=>(I.status==="pending"||I.status==="sent")&&I.dueDate<C).length;a({totalInvoices:S,totalRevenue:R,pendingAmount:P,overdueInvoices:Q});const T=v.reduce((I,O)=>(I[O.status]=(I[O.status]||0)+1,I),{});l(Object.entries(T).map(([I,O])=>({status:I,count:O}))),i(v.slice(0,5)),u(v.slice(0,3).map(I=>({type:"invoice",action:I.status==="draft"?"created":"updated",title:`Invoice #${I.invoiceNumber||I.id}`,time:I.updatedAt||I.createdAt})))}catch(v){console.error("Error fetching dashboard data:",v),b("Failed to load dashboard data. Please try again."),$e.error("Error loading dashboard")}finally{d(!1)}})()},[e]),f||n?h.jsx(Ru,{}):B||r?h.jsx("div",{className:"p-6 text-red-500",children:B||r}):h.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),h.jsx(QG,{onCreateInvoice:()=>t("/invoices/new")})]}),h.jsx(PG,{data:o}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[h.jsx(RG,{data:A}),h.jsx(DG,{activities:c})]}),h.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:"Recent Invoices"}),h.jsx(jG,{invoices:s,onView:E=>t(`/invoices/${E}`)})]})}const OG="modulepreload",MG=function(t){return"/"+t},uS={},u1=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=MG(i),i in uS)return;uS[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=s.length-1;c>=0;c--){const u=s[c];if(u.href===i&&(!o||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":OG,o||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),o)return new Promise((c,u)=>{l.addEventListener("load",c),l.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var lj={exports:{}};function pr(t){"@babel/helpers - typeof";return pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pr(t)}var Ti=Uint8Array,Zo=Uint16Array,N_=Int32Array,ww=new Ti([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),xw=new Ti([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),rB=new Ti([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cj=function(t,e){for(var n=new Zo(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var s=new N_(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},uj=cj(ww,2),dj=uj.b,sB=uj.r;dj[28]=258,sB[258]=28;var hj=cj(xw,0),HG=hj.b,dS=hj.r,iB=new Zo(32768);for(var kr=0;kr<32768;++kr){var jc=(kr&43690)>>1|(kr&21845)<<1;jc=(jc&52428)>>2|(jc&13107)<<2,jc=(jc&61680)>>4|(jc&3855)<<4,iB[kr]=((jc&65280)>>8|(jc&255)<<8)>>1}var KA=function(t,e,n){for(var r=t.length,s=0,i=new Zo(e);s<r;++s)t[s]&&++i[t[s]-1];var o=new Zo(e);for(s=1;s<e;++s)o[s]=o[s-1]+i[s-1]<<1;var a;if(n){a=new Zo(1<<e);var A=15-e;for(s=0;s<r;++s)if(t[s])for(var l=s<<4|t[s],c=e-t[s],u=o[t[s]-1]++<<c,f=u|(1<<c)-1;u<=f;++u)a[iB[u]>>A]=l}else for(a=new Zo(r),s=0;s<r;++s)t[s]&&(a[s]=iB[o[t[s]-1]++]>>15-t[s]);return a},Eu=new Ti(288);for(var kr=0;kr<144;++kr)Eu[kr]=8;for(var kr=144;kr<256;++kr)Eu[kr]=9;for(var kr=256;kr<280;++kr)Eu[kr]=7;for(var kr=280;kr<288;++kr)Eu[kr]=8;var vm=new Ti(32);for(var kr=0;kr<32;++kr)vm[kr]=5;var VG=KA(Eu,9,0),KG=KA(Eu,9,1),zG=KA(vm,5,0),GG=KA(vm,5,1),ix=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Wa=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},ox=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},k_=function(t){return(t+7)/8|0},fj=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new Ti(t.subarray(e,n))},WG=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ya=function(t,e,n){var r=new Error(e||WG[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Ya),!n)throw r;return r},$G=function(t,e,n,r){var s=t.length,i=r?r.length:0;if(!s||e.f&&!e.l)return n||new Ti(0);var o=!n,a=o||e.i!=2,A=e.i;o&&(n=new Ti(s*3));var l=function(He){var Ke=n.length;if(He>Ke){var Je=new Ti(Math.max(Ke*2,He));Je.set(n),n=Je}},c=e.f||0,u=e.p||0,f=e.b||0,d=e.l,B=e.d,b=e.m,E=e.n,v=s*8;do{if(!d){c=Wa(t,u,1);var C=Wa(t,u+1,3);if(u+=3,C)if(C==1)d=KG,B=GG,b=9,E=5;else if(C==2){var Q=Wa(t,u,31)+257,T=Wa(t,u+10,15)+4,I=Q+Wa(t,u+5,31)+1;u+=14;for(var O=new Ti(I),M=new Ti(19),L=0;L<T;++L)M[rB[L]]=Wa(t,u+L*3,7);u+=T*3;for(var j=ix(M),k=(1<<j)-1,$=KA(M,j,1),L=0;L<I;){var re=$[Wa(t,u,k)];u+=re&15;var S=re>>4;if(S<16)O[L++]=S;else{var oe=0,pe=0;for(S==16?(pe=3+Wa(t,u,3),u+=2,oe=O[L-1]):S==17?(pe=3+Wa(t,u,7),u+=3):S==18&&(pe=11+Wa(t,u,127),u+=7);pe--;)O[L++]=oe}}var se=O.subarray(0,Q),me=O.subarray(Q);b=ix(se),E=ix(me),d=KA(se,b,1),B=KA(me,E,1)}else Ya(1);else{var S=k_(u)+4,R=t[S-4]|t[S-3]<<8,P=S+R;if(P>s){A&&Ya(0);break}a&&l(f+R),n.set(t.subarray(S,P),f),e.b=f+=R,e.p=u=P*8,e.f=c;continue}if(u>v){A&&Ya(0);break}}a&&l(f+131072);for(var ve=(1<<b)-1,Ve=(1<<E)-1,z=u;;z=u){var oe=d[ox(t,u)&ve],J=oe>>4;if(u+=oe&15,u>v){A&&Ya(0);break}if(oe||Ya(2),J<256)n[f++]=J;else if(J==256){z=u,d=null;break}else{var ie=J-254;if(J>264){var L=J-257,ce=ww[L];ie=Wa(t,u,(1<<ce)-1)+dj[L],u+=ce}var ge=B[ox(t,u)&Ve],we=ge>>4;ge||Ya(3),u+=ge&15;var me=HG[we];if(we>3){var ce=xw[we];me+=ox(t,u)&(1<<ce)-1,u+=ce}if(u>v){A&&Ya(0);break}a&&l(f+131072);var ue=f+ie;if(f<me){var fe=i-me,Ue=Math.min(me,ue);for(fe+f<0&&Ya(3);f<Ue;++f)n[f]=r[fe+f]}for(;f<ue;++f)n[f]=n[f-me]}}e.l=d,e.p=z,e.b=f,e.f=c,d&&(c=1,e.m=b,e.d=B,e.n=E)}while(!c);return f!=n.length&&o?fj(n,0,f):n.subarray(0,f)},wl=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Qp=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},ax=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,i=n.slice();if(!s)return{t:gj,l:0};if(s==1){var o=new Ti(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(P,Q){return P.f-Q.f}),n.push({s:-1,f:25001});var a=n[0],A=n[1],l=0,c=1,u=2;for(n[0]={s:-1,f:a.f+A.f,l:a,r:A};c!=s-1;)a=n[n[l].f<n[u].f?l++:u++],A=n[l!=c&&n[l].f<n[u].f?l++:u++],n[c++]={s:-1,f:a.f+A.f,l:a,r:A};for(var f=i[0].s,r=1;r<s;++r)i[r].s>f&&(f=i[r].s);var d=new Zo(f+1),B=oB(n[c-1],d,0);if(B>e){var r=0,b=0,E=B-e,v=1<<E;for(i.sort(function(Q,T){return d[T.s]-d[Q.s]||Q.f-T.f});r<s;++r){var C=i[r].s;if(d[C]>e)b+=v-(1<<B-d[C]),d[C]=e;else break}for(b>>=E;b>0;){var S=i[r].s;d[S]<e?b-=1<<e-d[S]++-1:++r}for(;r>=0&&b;--r){var R=i[r].s;d[R]==e&&(--d[R],++b)}B=e}return{t:new Ti(d),l:B}},oB=function(t,e,n){return t.s==-1?Math.max(oB(t.l,e,n+1),oB(t.r,e,n+1)):e[t.s]=n},hS=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Zo(++e),r=0,s=t[0],i=1,o=function(A){n[r++]=A},a=1;a<=e;++a)if(t[a]==s&&a!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=t[a]}return{c:n.subarray(0,r),n:e}},Op=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},pj=function(t,e,n){var r=n.length,s=k_(e+2);t[s]=r&255,t[s+1]=r>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<r;++i)t[s+i+4]=n[i];return(s+4+r)*8},fS=function(t,e,n,r,s,i,o,a,A,l,c){wl(e,c++,n),++s[256];for(var u=ax(s,15),f=u.t,d=u.l,B=ax(i,15),b=B.t,E=B.l,v=hS(f),C=v.c,S=v.n,R=hS(b),P=R.c,Q=R.n,T=new Zo(19),I=0;I<C.length;++I)++T[C[I]&31];for(var I=0;I<P.length;++I)++T[P[I]&31];for(var O=ax(T,7),M=O.t,L=O.l,j=19;j>4&&!M[rB[j-1]];--j);var k=l+5<<3,$=Op(s,Eu)+Op(i,vm)+o,re=Op(s,f)+Op(i,b)+o+14+3*j+Op(T,M)+2*T[16]+3*T[17]+7*T[18];if(A>=0&&k<=$&&k<=re)return pj(e,c,t.subarray(A,A+l));var oe,pe,se,me;if(wl(e,c,1+(re<$)),c+=2,re<$){oe=KA(f,d,0),pe=f,se=KA(b,E,0),me=b;var ve=KA(M,L,0);wl(e,c,S-257),wl(e,c+5,Q-1),wl(e,c+10,j-4),c+=14;for(var I=0;I<j;++I)wl(e,c+3*I,M[rB[I]]);c+=3*j;for(var Ve=[C,P],z=0;z<2;++z)for(var J=Ve[z],I=0;I<J.length;++I){var ie=J[I]&31;wl(e,c,ve[ie]),c+=M[ie],ie>15&&(wl(e,c,J[I]>>5&127),c+=J[I]>>12)}}else oe=VG,pe=Eu,se=zG,me=vm;for(var I=0;I<a;++I){var ce=r[I];if(ce>255){var ie=ce>>18&31;Qp(e,c,oe[ie+257]),c+=pe[ie+257],ie>7&&(wl(e,c,ce>>23&31),c+=ww[ie]);var ge=ce&31;Qp(e,c,se[ge]),c+=me[ge],ge>3&&(Qp(e,c,ce>>5&8191),c+=xw[ge])}else Qp(e,c,oe[ce]),c+=pe[ce]}return Qp(e,c,oe[256]),c+pe[256]},qG=new N_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gj=new Ti(0),YG=function(t,e,n,r,s,i){var o=i.z||t.length,a=new Ti(r+o+5*(1+Math.ceil(o/7e3))+s),A=a.subarray(r,a.length-s),l=i.l,c=(i.r||0)&7;if(e){c&&(A[0]=i.r>>3);for(var u=qG[e-1],f=u>>13,d=u&8191,B=(1<<n)-1,b=i.p||new Zo(32768),E=i.h||new Zo(B+1),v=Math.ceil(n/3),C=2*v,S=function(ft){return(t[ft]^t[ft+1]<<v^t[ft+2]<<C)&B},R=new N_(25e3),P=new Zo(288),Q=new Zo(32),T=0,I=0,O=i.i||0,M=0,L=i.w||0,j=0;O+2<o;++O){var k=S(O),$=O&32767,re=E[k];if(b[$]=re,E[k]=$,L<=O){var oe=o-O;if((T>7e3||M>24576)&&(oe>423||!l)){c=fS(t,A,0,R,P,Q,I,M,j,O-j,c),M=T=I=0,j=O;for(var pe=0;pe<286;++pe)P[pe]=0;for(var pe=0;pe<30;++pe)Q[pe]=0}var se=2,me=0,ve=d,Ve=$-re&32767;if(oe>2&&k==S(O-Ve))for(var z=Math.min(f,oe)-1,J=Math.min(32767,O),ie=Math.min(258,oe);Ve<=J&&--ve&&$!=re;){if(t[O+se]==t[O+se-Ve]){for(var ce=0;ce<ie&&t[O+ce]==t[O+ce-Ve];++ce);if(ce>se){if(se=ce,me=Ve,ce>z)break;for(var ge=Math.min(Ve,ce-2),we=0,pe=0;pe<ge;++pe){var ue=O-Ve+pe&32767,fe=b[ue],Ue=ue-fe&32767;Ue>we&&(we=Ue,re=ue)}}}$=re,re=b[$],Ve+=$-re&32767}if(me){R[M++]=268435456|sB[se]<<18|dS[me];var He=sB[se]&31,Ke=dS[me]&31;I+=ww[He]+xw[Ke],++P[257+He],++Q[Ke],L=O+se,++T}else R[M++]=t[O],++P[t[O]]}}for(O=Math.max(O,L);O<o;++O)R[M++]=t[O],++P[t[O]];c=fS(t,A,l,R,P,Q,I,M,j,O-j,c),l||(i.r=c&7|A[c/8|0]<<3,c-=7,i.h=E,i.p=b,i.i=O,i.w=L)}else{for(var O=i.w||0;O<o+l;O+=65535){var Je=O+65535;Je>=o&&(A[c/8|0]=l,Je=o),c=pj(A,c+1,t.subarray(O,Je))}i.i=o}return fj(a,0,r+k_(c)+s)},mj=function(){var t=1,e=0;return{p:function(n){for(var r=t,s=e,i=n.length|0,o=0;o!=i;){for(var a=Math.min(o+2655,i);o<a;++o)s+=r+=n[o];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}t=r,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},XG=function(t,e,n,r,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new Ti(i.length+t.length);o.set(i),o.set(t,i.length),t=o,s.w=i.length}return YG(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,s)},yj=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},JG=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=mj();s.p(e.dictionary),yj(t,2,s.d())}},ZG=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Ya(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&Ya(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function aB(t,e){e||(e={});var n=mj();n.p(t);var r=XG(t,e,e.dictionary?6:2,4);return JG(r,e),yj(r,r.length-4,n.d()),r}function eW(t,e){return $G(t.subarray(ZG(t,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var tW=typeof TextDecoder<"u"&&new TextDecoder,nW=0;try{tW.decode(gj,{stream:!0}),nW=1}catch{}var gn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ax(){gn.console&&typeof gn.console.log=="function"&&gn.console.log.apply(gn.console,arguments)}var br={log:Ax,warn:function(t){gn.console&&(typeof gn.console.warn=="function"?gn.console.warn.apply(gn.console,arguments):Ax.call(null,arguments))},error:function(t){gn.console&&(typeof gn.console.error=="function"?gn.console.error.apply(gn.console,arguments):Ax(t))}};function lx(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Ad(r.response,e,n)},r.onerror=function(){br.error("could not download file")},r.send()}function pS(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function hy(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ig,AB,Ad=gn.saveAs||((typeof window>"u"?"undefined":pr(window))!=="object"||window!==gn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=gn.URL||gn.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?pS(s.href)?lx(t,e,n):hy(s,s.target="_blank"):hy(s)):(s.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){hy(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(pS(t))lx(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){hy(r)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:pr(i)!=="object"&&(br.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob([String.fromCharCode(65279),s],{type:s.type}):s}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return lx(t,e,n);var s=t.type==="application/octet-stream",i=/constructor/i.test(gn.HTMLElement)||gn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":pr(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var c=a.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},a.readAsDataURL(t)}else{var A=gn.URL||gn.webkitURL,l=A.createObjectURL(t);r?r.location=l:location.href=l,r=null,setTimeout(function(){A.revokeObjectURL(l)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function vj(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,i=n[r].process,o=s.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),A=this.g.toString(16),l=this.b.toString(16);return a.length==1&&(a="0"+a),A.length==1&&(A="0"+A),l.length==1&&(l="0"+l),"#"+a+A+l}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function cx(t,e){var n=t[0],r=t[1],s=t[2],i=t[3];n=Bi(n,r,s,i,e[0],7,-680876936),i=Bi(i,n,r,s,e[1],12,-389564586),s=Bi(s,i,n,r,e[2],17,606105819),r=Bi(r,s,i,n,e[3],22,-1044525330),n=Bi(n,r,s,i,e[4],7,-176418897),i=Bi(i,n,r,s,e[5],12,1200080426),s=Bi(s,i,n,r,e[6],17,-1473231341),r=Bi(r,s,i,n,e[7],22,-45705983),n=Bi(n,r,s,i,e[8],7,1770035416),i=Bi(i,n,r,s,e[9],12,-1958414417),s=Bi(s,i,n,r,e[10],17,-42063),r=Bi(r,s,i,n,e[11],22,-1990404162),n=Bi(n,r,s,i,e[12],7,1804603682),i=Bi(i,n,r,s,e[13],12,-40341101),s=Bi(s,i,n,r,e[14],17,-1502002290),n=_i(n,r=Bi(r,s,i,n,e[15],22,1236535329),s,i,e[1],5,-165796510),i=_i(i,n,r,s,e[6],9,-1069501632),s=_i(s,i,n,r,e[11],14,643717713),r=_i(r,s,i,n,e[0],20,-373897302),n=_i(n,r,s,i,e[5],5,-701558691),i=_i(i,n,r,s,e[10],9,38016083),s=_i(s,i,n,r,e[15],14,-660478335),r=_i(r,s,i,n,e[4],20,-405537848),n=_i(n,r,s,i,e[9],5,568446438),i=_i(i,n,r,s,e[14],9,-1019803690),s=_i(s,i,n,r,e[3],14,-187363961),r=_i(r,s,i,n,e[8],20,1163531501),n=_i(n,r,s,i,e[13],5,-1444681467),i=_i(i,n,r,s,e[2],9,-51403784),s=_i(s,i,n,r,e[7],14,1735328473),n=Ci(n,r=_i(r,s,i,n,e[12],20,-1926607734),s,i,e[5],4,-378558),i=Ci(i,n,r,s,e[8],11,-2022574463),s=Ci(s,i,n,r,e[11],16,1839030562),r=Ci(r,s,i,n,e[14],23,-35309556),n=Ci(n,r,s,i,e[1],4,-1530992060),i=Ci(i,n,r,s,e[4],11,1272893353),s=Ci(s,i,n,r,e[7],16,-155497632),r=Ci(r,s,i,n,e[10],23,-1094730640),n=Ci(n,r,s,i,e[13],4,681279174),i=Ci(i,n,r,s,e[0],11,-358537222),s=Ci(s,i,n,r,e[3],16,-722521979),r=Ci(r,s,i,n,e[6],23,76029189),n=Ci(n,r,s,i,e[9],4,-640364487),i=Ci(i,n,r,s,e[12],11,-421815835),s=Ci(s,i,n,r,e[15],16,530742520),n=Ei(n,r=Ci(r,s,i,n,e[2],23,-995338651),s,i,e[0],6,-198630844),i=Ei(i,n,r,s,e[7],10,1126891415),s=Ei(s,i,n,r,e[14],15,-1416354905),r=Ei(r,s,i,n,e[5],21,-57434055),n=Ei(n,r,s,i,e[12],6,1700485571),i=Ei(i,n,r,s,e[3],10,-1894986606),s=Ei(s,i,n,r,e[10],15,-1051523),r=Ei(r,s,i,n,e[1],21,-2054922799),n=Ei(n,r,s,i,e[8],6,1873313359),i=Ei(i,n,r,s,e[15],10,-30611744),s=Ei(s,i,n,r,e[6],15,-1560198380),r=Ei(r,s,i,n,e[13],21,1309151649),n=Ei(n,r,s,i,e[4],6,-145523070),i=Ei(i,n,r,s,e[11],10,-1120210379),s=Ei(s,i,n,r,e[2],15,718787259),r=Ei(r,s,i,n,e[9],21,-343485551),t[0]=eu(n,t[0]),t[1]=eu(r,t[1]),t[2]=eu(s,t[2]),t[3]=eu(i,t[3])}function bw(t,e,n,r,s,i){return e=eu(eu(e,t),eu(r,i)),eu(e<<s|e>>>32-s,n)}function Bi(t,e,n,r,s,i,o){return bw(e&n|~e&r,t,e,s,i,o)}function _i(t,e,n,r,s,i,o){return bw(e&r|n&~r,t,e,s,i,o)}function Ci(t,e,n,r,s,i,o){return bw(e^n^r,t,e,s,i,o)}function Ei(t,e,n,r,s,i,o){return bw(n^(e|~r),t,e,s,i,o)}function wj(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)cx(r,rW(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(cx(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,cx(r,s),r}function rW(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Ig=gn.atob.bind(gn),AB=gn.btoa.bind(gn);var gS="0123456789abcdef".split("");function sW(t){for(var e="",n=0;n<4;n++)e+=gS[t>>8*n+4&15]+gS[t>>8*n&15];return e}function iW(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function lB(t){return wj(t).map(iW).join("")}var oW=function(t){for(var e=0;e<t.length;e++)t[e]=sW(t[e]);return t.join("")}(wj("hello"))!="5d41402abc4b2a76b9719d911017c592";function eu(t,e){if(oW){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function cB(t,e){var n,r,s,i;if(t!==n){for(var o=(s=t,i=1+(256/t.length>>0),new Array(i+1).join(s)),a=[],A=0;A<256;A++)a[A]=A;var l=0;for(A=0;A<256;A++){var c=a[A];l=(l+c+o.charCodeAt(A))%256,a[A]=a[l],a[l]=c}n=t,r=a}else a=r;var u=e.length,f=0,d=0,B="";for(A=0;A<u;A++)d=(d+(c=a[f=(f+1)%256]))%256,a[f]=a[d],a[d]=c,o=a[(a[f]+a[d])%256],B+=String.fromCharCode(e.charCodeAt(A)^o);return B}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var mS={print:4,modify:8,copy:16,"annot-forms":32};function Jh(t,e,n,r){this.v=1,this.r=2;var s=192;t.forEach(function(a){if(mS.perm!==void 0)throw new Error("Invalid permission: "+a);s+=mS[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=lB(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=cB(this.encryptionKey,this.padding)}function Zh(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var s=t.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=t[r]}return e}function yS(t){if(pr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var i=Math.random().toString(35);return e[n][i]=[r,!!s],i},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[n]){var o=e[n][i];try{o[0].apply(t,r)}catch(a){gn.console&&br.error("jsPDF PubSub Error",a.message,a)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function wm(t){if(!(this instanceof wm))return new wm(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function xj(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function $c(t,e,n,r,s){if(!(this instanceof $c))return new $c(t,e,n,r,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,xj.call(this,r,s)}function bd(t,e,n,r,s){if(!(this instanceof bd))return new bd(t,e,n,r,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,xj.call(this,r,s)}function fn(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],o=[],a=1,A=16,l="S",c=null;pr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,s=t.format||s,i=t.compress||t.compressPdf||i,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(A=t.floatPrecision),l=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var u=t.putOnlyUsedFonts||!1,f={},d={internal:{},__private__:{}};d.__private__.PubSub=yS;var B="1.3",b=d.__private__.getPdfVersion=function(){return B};d.__private__.setPdfVersion=function(F){B=F};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return E};var v=d.__private__.getPageFormat=function(F){return E[F]};s=s||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},S=C.COMPAT;function R(){this.saveGraphicsState(),de(new Wt(Le,0,0,-Le,0,Qo()*Le).toString()+" cm"),this.setFontSize(this.getFontSize()/Le),l="n",S=C.ADVANCED}function P(){this.restoreGraphicsState(),l="S",S=C.COMPAT}var Q=d.__private__.combineFontStyleAndFontWeight=function(F,W){if(F=="bold"&&W=="normal"||F=="bold"&&W==400||F=="normal"&&W=="italic"||F=="bold"&&W=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return W&&(F=W==400||W==="normal"?F==="italic"?"italic":"normal":W!=700&&W!=="bold"||F!=="normal"?(W==700?"bold":W)+""+F:"bold"),F};d.advancedAPI=function(F){var W=S===C.COMPAT;return W&&R.call(this),typeof F!="function"||(F(this),W&&P.call(this)),this},d.compatAPI=function(F){var W=S===C.ADVANCED;return W&&P.call(this),typeof F!="function"||(F(this),W&&R.call(this)),this},d.isAdvancedAPI=function(){return S===C.ADVANCED};var T,I=function(F){if(S!==C.ADVANCED)throw new Error(F+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=d.roundToPrecision=d.__private__.roundToPrecision=function(F,W){var he=e||W;if(isNaN(F)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return F.toFixed(he).replace(/0+$/,"")};T=d.hpf=d.__private__.hpf=typeof A=="number"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return O(F,A)}:A==="smart"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return O(F,F>-1&&F<1?16:5)}:function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return O(F,16)};var M=d.f2=d.__private__.f2=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f2");return O(F,2)},L=d.__private__.f3=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f3");return O(F,3)},j=d.scale=d.__private__.scale=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.scale");return S===C.COMPAT?F*Le:S===C.ADVANCED?F:void 0},k=function(F){return S===C.COMPAT?Qo()-F:S===C.ADVANCED?F:void 0},$=function(F){return j(k(F))};d.__private__.setPrecision=d.setPrecision=function(F){typeof parseInt(F,10)=="number"&&(e=parseInt(F,10))};var re,oe="00000000000000000000000000000000",pe=d.__private__.getFileId=function(){return oe},se=d.__private__.setFileId=function(F){return oe=F!==void 0&&/^[a-fA-F0-9]{32}$/.test(F)?F.toUpperCase():oe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Rr=new Jh(c.userPermissions,c.userPassword,c.ownerPassword,oe)),oe};d.setFileId=function(F){return se(F),this},d.getFileId=function(){return pe()};var me=d.__private__.convertDateToPDFDate=function(F){var W=F.getTimezoneOffset(),he=W<0?"+":"-",xe=Math.floor(Math.abs(W/60)),Ne=Math.abs(W%60),ze=[he,ie(xe),"'",ie(Ne),"'"].join("");return["D:",F.getFullYear(),ie(F.getMonth()+1),ie(F.getDate()),ie(F.getHours()),ie(F.getMinutes()),ie(F.getSeconds()),ze].join("")},ve=d.__private__.convertPDFDateToDate=function(F){var W=parseInt(F.substr(2,4),10),he=parseInt(F.substr(6,2),10)-1,xe=parseInt(F.substr(8,2),10),Ne=parseInt(F.substr(10,2),10),ze=parseInt(F.substr(12,2),10),st=parseInt(F.substr(14,2),10);return new Date(W,he,xe,Ne,ze,st,0)},Ve=d.__private__.setCreationDate=function(F){var W;if(F===void 0&&(F=new Date),F instanceof Date)W=me(F);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(F))throw new Error("Invalid argument passed to jsPDF.setCreationDate");W=F}return re=W},z=d.__private__.getCreationDate=function(F){var W=re;return F==="jsDate"&&(W=ve(re)),W};d.setCreationDate=function(F){return Ve(F),this},d.getCreationDate=function(F){return z(F)};var J,ie=d.__private__.padd2=function(F){return("0"+parseInt(F)).slice(-2)},ce=d.__private__.padd2Hex=function(F){return("00"+(F=F.toString())).substr(F.length)},ge=0,we=[],ue=[],fe=0,Ue=[],He=[],Ke=!1,Je=ue,ft=function(){ge=0,fe=0,ue=[],we=[],Ue=[],Bt=it(),Ct=it()};d.__private__.setCustomOutputDestination=function(F){Ke=!0,Je=F};var Oe=function(F){Ke||(Je=F)};d.__private__.resetCustomOutputDestination=function(){Ke=!1,Je=ue};var de=d.__private__.out=function(F){return F=F.toString(),fe+=F.length+1,Je.push(F),Je},Et=d.__private__.write=function(F){return de(arguments.length===1?F.toString():Array.prototype.join.call(arguments," "))},At=d.__private__.getArrayBuffer=function(F){for(var W=F.length,he=new ArrayBuffer(W),xe=new Uint8Array(he);W--;)xe[W]=F.charCodeAt(W);return he},Ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return Ge};var lt=t.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(F){return lt=S===C.ADVANCED?F/Le:F,this};var pt,dt=d.__private__.getFontSize=d.getFontSize=function(){return S===C.COMPAT?lt:lt*Le},Ut=t.R2L||!1;d.__private__.setR2L=d.setR2L=function(F){return Ut=F,this},d.__private__.getR2L=d.getR2L=function(){return Ut};var Kt,Mt=d.__private__.setZoomMode=function(F){var W=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(F))pt=F;else if(isNaN(F)){if(W.indexOf(F)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+F+'" is not recognized.');pt=F}else pt=parseInt(F,10)};d.__private__.getZoomMode=function(){return pt};var Jt,$t=d.__private__.setPageMode=function(F){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(F)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+F+'" is not recognized.');Kt=F};d.__private__.getPageMode=function(){return Kt};var St=d.__private__.setLayoutMode=function(F){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(F)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+F+'" is not recognized.');Jt=F};d.__private__.getLayoutMode=function(){return Jt},d.__private__.setDisplayMode=d.setDisplayMode=function(F,W,he){return Mt(F),St(W),$t(he),this};var Rt={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(F){if(Object.keys(Rt).indexOf(F)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Rt[F]},d.__private__.getDocumentProperties=function(){return Rt},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(F){for(var W in Rt)Rt.hasOwnProperty(W)&&F[W]&&(Rt[W]=F[W]);return this},d.__private__.setDocumentProperty=function(F,W){if(Object.keys(Rt).indexOf(F)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Rt[F]=W};var ke,Le,nt,Xe,Ot,vt={},Zt={},vr=[],hn={},Sr={},En={},Fr={},nn=null,mt=0,ct=[],xt=new yS(d),wn=t.hotfixes||[],yn={},wr={},jr=[],Wt=function F(W,he,xe,Ne,ze,st){if(!(this instanceof F))return new F(W,he,xe,Ne,ze,st);isNaN(W)&&(W=1),isNaN(he)&&(he=0),isNaN(xe)&&(xe=0),isNaN(Ne)&&(Ne=1),isNaN(ze)&&(ze=0),isNaN(st)&&(st=0),this._matrix=[W,he,xe,Ne,ze,st]};Object.defineProperty(Wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(Wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(Wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(Wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(Wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(Wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(Wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(Wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(Wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(Wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(Wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(Wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(Wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Wt.prototype.join=function(F){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(F)},Wt.prototype.multiply=function(F){var W=F.sx*this.sx+F.shy*this.shx,he=F.sx*this.shy+F.shy*this.sy,xe=F.shx*this.sx+F.sy*this.shx,Ne=F.shx*this.shy+F.sy*this.sy,ze=F.tx*this.sx+F.ty*this.shx+this.tx,st=F.tx*this.shy+F.ty*this.sy+this.ty;return new Wt(W,he,xe,Ne,ze,st)},Wt.prototype.decompose=function(){var F=this.sx,W=this.shy,he=this.shx,xe=this.sy,Ne=this.tx,ze=this.ty,st=Math.sqrt(F*F+W*W),It=(F/=st)*he+(W/=st)*xe;he-=F*It,xe-=W*It;var zt=Math.sqrt(he*he+xe*xe);return It/=zt,F*(xe/=zt)<W*(he/=zt)&&(F=-F,W=-W,It=-It,st=-st),{scale:new Wt(st,0,0,zt,0,0),translate:new Wt(1,0,0,1,Ne,ze),rotate:new Wt(F,W,-W,F,0,0),skew:new Wt(1,0,It,1,0,0)}},Wt.prototype.toString=function(F){return this.join(" ")},Wt.prototype.inversed=function(){var F=this.sx,W=this.shy,he=this.shx,xe=this.sy,Ne=this.tx,ze=this.ty,st=1/(F*xe-W*he),It=xe*st,zt=-W*st,m=-he*st,U=F*st;return new Wt(It,zt,m,U,-It*Ne-m*ze,-zt*Ne-U*ze)},Wt.prototype.applyToPoint=function(F){var W=F.x*this.sx+F.y*this.shx+this.tx,he=F.x*this.shy+F.y*this.sy+this.ty;return new lo(W,he)},Wt.prototype.applyToRectangle=function(F){var W=this.applyToPoint(F),he=this.applyToPoint(new lo(F.x+F.w,F.y+F.h));return new hA(W.x,W.y,he.x-W.x,he.y-W.y)},Wt.prototype.clone=function(){var F=this.sx,W=this.shy,he=this.shx,xe=this.sy,Ne=this.tx,ze=this.ty;return new Wt(F,W,he,xe,Ne,ze)},d.Matrix=Wt;var ye=d.matrixMult=function(F,W){return W.multiply(F)},Te=new Wt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Te;var je=function(F,W){if(!Sr[F]){var he=(W instanceof $c?"Sh":"P")+(Object.keys(hn).length+1).toString(10);W.id=he,Sr[F]=he,hn[he]=W,xt.publish("addPattern",W)}};d.ShadingPattern=$c,d.TilingPattern=bd,d.addShadingPattern=function(F,W){return I("addShadingPattern()"),je(F,W),this},d.beginTilingPattern=function(F){I("beginTilingPattern()"),pA(F.boundingBox[0],F.boundingBox[1],F.boundingBox[2]-F.boundingBox[0],F.boundingBox[3]-F.boundingBox[1],F.matrix)},d.endTilingPattern=function(F,W){I("endTilingPattern()"),W.stream=He[J].join(`
`),je(F,W),xt.publish("endTilingPattern",W),jr.pop().restore()};var Re=d.__private__.newObject=function(){var F=it();return Tt(F,!0),F},it=d.__private__.newObjectDeferred=function(){return ge++,we[ge]=function(){return fe},ge},Tt=function(F,W){return W=typeof W=="boolean"&&W,we[F]=fe,W&&de(F+" 0 obj"),F},Dt=d.__private__.newAdditionalObject=function(){var F={objId:it(),content:""};return Ue.push(F),F},Bt=it(),Ct=it(),yt=d.__private__.decodeColorString=function(F){var W=F.split(" ");if(W.length!==2||W[1]!=="g"&&W[1]!=="G")W.length===5&&(W[4]==="k"||W[4]==="K")&&(W=[(1-W[0])*(1-W[3]),(1-W[1])*(1-W[3]),(1-W[2])*(1-W[3]),"r"]);else{var he=parseFloat(W[0]);W=[he,he,he,"r"]}for(var xe="#",Ne=0;Ne<3;Ne++)xe+=("0"+Math.floor(255*parseFloat(W[Ne])).toString(16)).slice(-2);return xe},Nt=d.__private__.encodeColorString=function(F){var W;typeof F=="string"&&(F={ch1:F});var he=F.ch1,xe=F.ch2,Ne=F.ch3,ze=F.ch4,st=F.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var It=new vj(he);if(It.ok)he=It.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var zt=parseInt(he.substr(1),16);he=zt>>16&255,xe=zt>>8&255,Ne=255&zt}if(xe===void 0||ze===void 0&&he===xe&&xe===Ne)if(typeof he=="string")W=he+" "+st[0];else switch(F.precision){case 2:W=M(he/255)+" "+st[0];break;case 3:default:W=L(he/255)+" "+st[0]}else if(ze===void 0||pr(ze)==="object"){if(ze&&!isNaN(ze.a)&&ze.a===0)return W=["1.","1.","1.",st[1]].join(" ");if(typeof he=="string")W=[he,xe,Ne,st[1]].join(" ");else switch(F.precision){case 2:W=[M(he/255),M(xe/255),M(Ne/255),st[1]].join(" ");break;default:case 3:W=[L(he/255),L(xe/255),L(Ne/255),st[1]].join(" ")}}else if(typeof he=="string")W=[he,xe,Ne,ze,st[2]].join(" ");else switch(F.precision){case 2:W=[M(he),M(xe),M(Ne),M(ze),st[2]].join(" ");break;case 3:default:W=[L(he),L(xe),L(Ne),L(ze),st[2]].join(" ")}return W},en=d.__private__.getFilters=function(){return o},sn=d.__private__.putStream=function(F){var W=(F=F||{}).data||"",he=F.filters||en(),xe=F.alreadyAppliedFilters||[],Ne=F.addLength1||!1,ze=W.length,st=F.objectId,It=function(at){return at};if(c!==null&&st===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(It=Rr.encryptor(st,0));var zt={};he===!0&&(he=["FlateEncode"]);var m=F.additionalKeyValues||[],U=(zt=fn.API.processDataByFilters!==void 0?fn.API.processDataByFilters(W,he):{data:W,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(zt.data.length!==0&&(m.push({key:"Length",value:zt.data.length}),Ne===!0&&m.push({key:"Length1",value:ze})),U.length!=0)if(U.split("/").length-1==1)m.push({key:"Filter",value:U});else{m.push({key:"Filter",value:"["+U+"]"});for(var V=0;V<m.length;V+=1)if(m[V].key==="DecodeParms"){for(var Z=[],Ee=0;Ee<zt.reverseChain.split("/").length-1;Ee+=1)Z.push("null");Z.push(m[V].value),m[V].value="["+Z.join(" ")+"]"}}de("<<");for(var Se=0;Se<m.length;Se++)de("/"+m[Se].key+" "+m[Se].value);de(">>"),zt.data.length!==0&&(de("stream"),de(It(zt.data)),de("endstream"))},Nn=d.__private__.putPage=function(F){var W=F.number,he=F.data,xe=F.objId,Ne=F.contentsObjId;Tt(xe,!0),de("<</Type /Page"),de("/Parent "+F.rootDictionaryObjId+" 0 R"),de("/Resources "+F.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(T(F.mediaBox.bottomLeftX))+" "+parseFloat(T(F.mediaBox.bottomLeftY))+" "+T(F.mediaBox.topRightX)+" "+T(F.mediaBox.topRightY)+"]"),F.cropBox!==null&&de("/CropBox ["+T(F.cropBox.bottomLeftX)+" "+T(F.cropBox.bottomLeftY)+" "+T(F.cropBox.topRightX)+" "+T(F.cropBox.topRightY)+"]"),F.bleedBox!==null&&de("/BleedBox ["+T(F.bleedBox.bottomLeftX)+" "+T(F.bleedBox.bottomLeftY)+" "+T(F.bleedBox.topRightX)+" "+T(F.bleedBox.topRightY)+"]"),F.trimBox!==null&&de("/TrimBox ["+T(F.trimBox.bottomLeftX)+" "+T(F.trimBox.bottomLeftY)+" "+T(F.trimBox.topRightX)+" "+T(F.trimBox.topRightY)+"]"),F.artBox!==null&&de("/ArtBox ["+T(F.artBox.bottomLeftX)+" "+T(F.artBox.bottomLeftY)+" "+T(F.artBox.topRightX)+" "+T(F.artBox.topRightY)+"]"),typeof F.userUnit=="number"&&F.userUnit!==1&&de("/UserUnit "+F.userUnit),xt.publish("putPage",{objId:xe,pageContext:ct[W],pageNumber:W,page:he}),de("/Contents "+Ne+" 0 R"),de(">>"),de("endobj");var ze=he.join(`
`);return S===C.ADVANCED&&(ze+=`
Q`),Tt(Ne,!0),sn({data:ze,filters:en(),objectId:Ne}),de("endobj"),xe},In=d.__private__.putPages=function(){var F,W,he=[];for(F=1;F<=mt;F++)ct[F].objId=it(),ct[F].contentsObjId=it();for(F=1;F<=mt;F++)he.push(Nn({number:F,data:He[F],objId:ct[F].objId,contentsObjId:ct[F].contentsObjId,mediaBox:ct[F].mediaBox,cropBox:ct[F].cropBox,bleedBox:ct[F].bleedBox,trimBox:ct[F].trimBox,artBox:ct[F].artBox,userUnit:ct[F].userUnit,rootDictionaryObjId:Bt,resourceDictionaryObjId:Ct}));Tt(Bt,!0),de("<</Type /Pages");var xe="/Kids [";for(W=0;W<mt;W++)xe+=he[W]+" 0 R ";de(xe+"]"),de("/Count "+mt),de(">>"),de("endobj"),xt.publish("postPutPages")},Bn=function(F){xt.publish("putFont",{font:F,out:de,newObject:Re,putStream:sn}),F.isAlreadyPutted!==!0&&(F.objectNumber=Re(),de("<<"),de("/Type /Font"),de("/BaseFont /"+Zh(F.postScriptName)),de("/Subtype /Type1"),typeof F.encoding=="string"&&de("/Encoding /"+F.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},Mn=function(){for(var F in vt)vt.hasOwnProperty(F)&&(u===!1||u===!0&&f.hasOwnProperty(F))&&Bn(vt[F])},Ss=function(F){F.objectNumber=Re();var W=[];W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Form"}),W.push({key:"BBox",value:"["+[T(F.x),T(F.y),T(F.x+F.width),T(F.y+F.height)].join(" ")+"]"}),W.push({key:"Matrix",value:"["+F.matrix.toString()+"]"});var he=F.pages[1].join(`
`);sn({data:he,additionalKeyValues:W,objectId:F.objectNumber}),de("endobj")},Zs=function(){for(var F in yn)yn.hasOwnProperty(F)&&Ss(yn[F])},Fs=function(F,W){var he,xe=[],Ne=1/(W-1);for(he=0;he<1;he+=Ne)xe.push(he);if(xe.push(1),F[0].offset!=0){var ze={offset:0,color:F[0].color};F.unshift(ze)}if(F[F.length-1].offset!=1){var st={offset:1,color:F[F.length-1].color};F.push(st)}for(var It="",zt=0,m=0;m<xe.length;m++){for(he=xe[m];he>F[zt+1].offset;)zt++;var U=F[zt].offset,V=(he-U)/(F[zt+1].offset-U),Z=F[zt].color,Ee=F[zt+1].color;It+=ce(Math.round((1-V)*Z[0]+V*Ee[0]).toString(16))+ce(Math.round((1-V)*Z[1]+V*Ee[1]).toString(16))+ce(Math.round((1-V)*Z[2]+V*Ee[2]).toString(16))}return It.trim()},Vs=function(F,W){W||(W=21);var he=Re(),xe=Fs(F.colors,W),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+W+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),sn({data:xe,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),de("endobj"),F.objectNumber=Re(),de("<< /ShadingType "+F.type),de("/ColorSpace /DeviceRGB");var ze="/Coords ["+T(parseFloat(F.coords[0]))+" "+T(parseFloat(F.coords[1]))+" ";F.type===2?ze+=T(parseFloat(F.coords[2]))+" "+T(parseFloat(F.coords[3])):ze+=T(parseFloat(F.coords[2]))+" "+T(parseFloat(F.coords[3]))+" "+T(parseFloat(F.coords[4]))+" "+T(parseFloat(F.coords[5])),de(ze+="]"),F.matrix&&de("/Matrix ["+F.matrix.toString()+"]"),de("/Function "+he+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},to=function(F,W){var he=it(),xe=Re();W.push({resourcesOid:he,objectOid:xe}),F.objectNumber=xe;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+F.boundingBox.map(T).join(" ")+"]"}),Ne.push({key:"XStep",value:T(F.xStep)}),Ne.push({key:"YStep",value:T(F.yStep)}),Ne.push({key:"Resources",value:he+" 0 R"}),F.matrix&&Ne.push({key:"Matrix",value:"["+F.matrix.toString()+"]"}),sn({data:F.stream,additionalKeyValues:Ne,objectId:F.objectNumber}),de("endobj")},as=function(F){var W;for(W in hn)hn.hasOwnProperty(W)&&(hn[W]instanceof $c?Vs(hn[W]):hn[W]instanceof bd&&to(hn[W],F))},Ts=function(F){for(var W in F.objectNumber=Re(),de("<<"),F)switch(W){case"opacity":de("/ca "+M(F[W]));break;case"stroke-opacity":de("/CA "+M(F[W]))}de(">>"),de("endobj")},Ns=function(){var F;for(F in En)En.hasOwnProperty(F)&&Ts(En[F])},As=function(){for(var F in de("/XObject <<"),yn)yn.hasOwnProperty(F)&&yn[F].objectNumber>=0&&de("/"+F+" "+yn[F].objectNumber+" 0 R");xt.publish("putXobjectDict"),de(">>")},xn=function(){Rr.oid=Re(),de("<<"),de("/Filter /Standard"),de("/V "+Rr.v),de("/R "+Rr.r),de("/U <"+Rr.toHexString(Rr.U)+">"),de("/O <"+Rr.toHexString(Rr.O)+">"),de("/P "+Rr.P),de(">>"),de("endobj")},rr=function(){for(var F in de("/Font <<"),vt)vt.hasOwnProperty(F)&&(u===!1||u===!0&&f.hasOwnProperty(F))&&de("/"+F+" "+vt[F].objectNumber+" 0 R");de(">>")},ji=function(){if(Object.keys(hn).length>0){for(var F in de("/Shading <<"),hn)hn.hasOwnProperty(F)&&hn[F]instanceof $c&&hn[F].objectNumber>=0&&de("/"+F+" "+hn[F].objectNumber+" 0 R");xt.publish("putShadingPatternDict"),de(">>")}},ys=function(F){if(Object.keys(hn).length>0){for(var W in de("/Pattern <<"),hn)hn.hasOwnProperty(W)&&hn[W]instanceof d.TilingPattern&&hn[W].objectNumber>=0&&hn[W].objectNumber<F&&de("/"+W+" "+hn[W].objectNumber+" 0 R");xt.publish("putTilingPatternDict"),de(">>")}},Gn=function(){if(Object.keys(En).length>0){var F;for(F in de("/ExtGState <<"),En)En.hasOwnProperty(F)&&En[F].objectNumber>=0&&de("/"+F+" "+En[F].objectNumber+" 0 R");xt.publish("putGStateDict"),de(">>")}},Hn=function(F){Tt(F.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),rr(),ji(),ys(F.objectOid),Gn(),As(),de(">>"),de("endobj")},jo=function(){var F=[];Mn(),Ns(),Zs(),as(F),xt.publish("putResources"),F.forEach(Hn),Hn({resourcesOid:Ct,objectOid:Number.MAX_SAFE_INTEGER}),xt.publish("postPutResources")},Ta=function(){xt.publish("putAdditionalObjects");for(var F=0;F<Ue.length;F++){var W=Ue[F];Tt(W.objId,!0),de(W.content),de("endobj")}xt.publish("postPutAdditionalObjects")},Aa=function(F){Zt[F.fontName]=Zt[F.fontName]||{},Zt[F.fontName][F.fontStyle]=F.id},la=function(F,W,he,xe,Ne){var ze={id:"F"+(Object.keys(vt).length+1).toString(10),postScriptName:F,fontName:W,fontStyle:he,encoding:xe,isStandardFont:Ne||!1,metadata:{}};return xt.publish("addFont",{font:ze,instance:this}),vt[ze.id]=ze,Aa(ze),ze.id},Na=function(F){for(var W=0,he=Ge.length;W<he;W++){var xe=la.call(this,F[W][0],F[W][1],F[W][2],Ge[W][3],!0);u===!1&&(f[xe]=!0);var Ne=F[W][0].split("-");Aa({id:xe,fontName:Ne[0],fontStyle:Ne[1]||""})}xt.publish("addFonts",{fonts:vt,dictionary:Zt})},di=function(F){return F.foo=function(){try{return F.apply(this,arguments)}catch(xe){var W=xe.stack||"";~W.indexOf(" at ")&&(W=W.split(" at ")[1]);var he="Error in function "+W.split(`
`)[0].split("<")[0]+": "+xe.message;if(!gn.console)throw new Error(he);gn.console.error(he,xe),gn.alert&&alert(he)}},F.foo.bar=F,F.foo},Ur=function(F,W){var he,xe,Ne,ze,st,It,zt,m,U;if(Ne=(W=W||{}).sourceEncoding||"Unicode",st=W.outputEncoding,(W.autoencode||st)&&vt[ke].metadata&&vt[ke].metadata[Ne]&&vt[ke].metadata[Ne].encoding&&(ze=vt[ke].metadata[Ne].encoding,!st&&vt[ke].encoding&&(st=vt[ke].encoding),!st&&ze.codePages&&(st=ze.codePages[0]),typeof st=="string"&&(st=ze[st]),st)){for(zt=!1,It=[],he=0,xe=F.length;he<xe;he++)(m=st[F.charCodeAt(he)])?It.push(String.fromCharCode(m)):It.push(F[he]),It[he].charCodeAt(0)>>8&&(zt=!0);F=It.join("")}for(he=F.length;zt===void 0&&he!==0;)F.charCodeAt(he-1)>>8&&(zt=!0),he--;if(!zt)return F;for(It=W.noBOM?[]:[254,255],he=0,xe=F.length;he<xe;he++){if((U=(m=F.charCodeAt(he))>>8)>>8)throw new Error("Character at position "+he+" of string '"+F+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");It.push(U),It.push(m-(U<<8))}return String.fromCharCode.apply(void 0,It)},Ks=d.__private__.pdfEscape=d.pdfEscape=function(F,W){return Ur(F,W).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ui=d.__private__.beginPage=function(F){He[++mt]=[],ct[mt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(F[0]),topRightY:Number(F[1])}},ka(mt),Oe(He[J])},hi=function(F,W){var he,xe,Ne;switch(n=W||n,typeof F=="string"&&(he=v(F.toLowerCase()),Array.isArray(he)&&(xe=he[0],Ne=he[1])),Array.isArray(F)&&(xe=F[0]*Le,Ne=F[1]*Le),isNaN(xe)&&(xe=s[0],Ne=s[1]),(xe>14400||Ne>14400)&&(br.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Ne=Math.min(14400,Ne)),s=[xe,Ne],n.substr(0,1)){case"l":Ne>xe&&(s=[Ne,xe]);break;case"p":xe>Ne&&(s=[Ne,xe])}Ui(s),ac(sr),de(Gs),Ao!==0&&de(Ao+" J"),nl!==0&&de(nl+" j"),xt.publish("addPage",{pageNumber:mt})},lA=function(F){F>0&&F<=mt&&(He.splice(F,1),ct.splice(F,1),mt--,J>mt&&(J=mt),this.setPage(J))},ka=function(F){F>0&&F<=mt&&(J=F)},ec=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return He.length-1},Xn=function(F,W,he){var xe,Ne=void 0;return he=he||{},F=F!==void 0?F:vt[ke].fontName,W=W!==void 0?W:vt[ke].fontStyle,xe=F.toLowerCase(),Zt[xe]!==void 0&&Zt[xe][W]!==void 0?Ne=Zt[xe][W]:Zt[F]!==void 0&&Zt[F][W]!==void 0?Ne=Zt[F][W]:he.disableWarning===!1&&br.warn("Unable to look up font label for font '"+F+"', '"+W+"'. Refer to getFontList() for available fonts."),Ne||he.noFallback||(Ne=Zt.times[W])==null&&(Ne=Zt.times.normal),Ne},cA=d.__private__.putInfo=function(){var F=Re(),W=function(xe){return xe};for(var he in c!==null&&(W=Rr.encryptor(F,0)),de("<<"),de("/Producer ("+Ks(W("jsPDF "+fn.version))+")"),Rt)Rt.hasOwnProperty(he)&&Rt[he]&&de("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+Ks(W(Rt[he]))+")");de("/CreationDate ("+Ks(W(re))+")"),de(">>"),de("endobj")},fi=d.__private__.putCatalog=function(F){var W=(F=F||{}).rootDictionaryObjId||Bt;switch(Re(),de("<<"),de("/Type /Catalog"),de("/Pages "+W+" 0 R"),pt||(pt="fullwidth"),pt){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+pt;he.substr(he.length-1)==="%"&&(pt=parseInt(pt)/100),typeof pt=="number"&&de("/OpenAction [3 0 R /XYZ null null "+M(pt)+"]")}switch(Jt||(Jt="continuous"),Jt){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}Kt&&de("/PageMode /"+Kt),xt.publish("putCatalog"),de(">>"),de("endobj")},La=d.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(ge+1)),de("/Root "+ge+" 0 R"),de("/Info "+(ge-1)+" 0 R"),c!==null&&de("/Encrypt "+Rr.oid+" 0 R"),de("/ID [ <"+oe+"> <"+oe+"> ]"),de(">>")},tc=d.__private__.putHeader=function(){de("%PDF-"+B),de("%ºß¬à")},nc=d.__private__.putXRef=function(){var F="0000000000";de("xref"),de("0 "+(ge+1)),de("0000000000 65535 f ");for(var W=1;W<=ge;W++)typeof we[W]=="function"?de((F+we[W]()).slice(-10)+" 00000 n "):we[W]!==void 0?de((F+we[W]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},Uo=d.__private__.buildDocument=function(){ft(),Oe(ue),xt.publish("buildDocument"),tc(),In(),Ta(),jo(),c!==null&&xn(),cA(),fi();var F=fe;return nc(),La(),de("startxref"),de(""+F),de("%%EOF"),Oe(He[J]),ue.join(`
`)},Pa=d.__private__.getBlob=function(F){return new Blob([At(F)],{type:"application/pdf"})},ca=d.output=d.__private__.output=di(function(F,W){switch(typeof(W=W||{})=="string"?W={filename:W}:W.filename=W.filename||"generated.pdf",F){case void 0:return Uo();case"save":d.save(W.filename);break;case"arraybuffer":return At(Uo());case"blob":return Pa(Uo());case"bloburi":case"bloburl":if(gn.URL!==void 0&&typeof gn.URL.createObjectURL=="function")return gn.URL&&gn.URL.createObjectURL(Pa(Uo()))||void 0;br.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",xe=Uo();try{he=AB(xe)}catch{he=AB(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+W.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(gn)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';W.pdfObjectUrl&&(Ne=W.pdfObjectUrl,ze="");var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(W)+");<\/script></body></html>",It=gn.open();return It!==null&&It.document.write(st),It}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(gn)==="[object Window]"){var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(W.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+W.filename+'" width="500px" height="400px" /></body></html>',m=gn.open();if(m!==null){m.document.write(zt);var U=this;m.document.documentElement.querySelector("#pdfViewer").onload=function(){m.document.title=W.filename,m.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(U.output("bloburl"))}}return m}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(gn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var V='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",W)+'"></iframe></body></html>',Z=gn.open();if(Z!==null&&(Z.document.write(V),Z.document.title=W.filename),Z||typeof safari>"u")return Z;break;case"datauri":case"dataurl":return gn.document.location.href=this.output("datauristring",W);default:return null}}),no=function(F){return Array.isArray(wn)===!0&&wn.indexOf(F)>-1};switch(r){case"pt":Le=1;break;case"mm":Le=72/25.4;break;case"cm":Le=72/2.54;break;case"in":Le=72;break;case"px":Le=no("px_scaling")==1?.75:96/72;break;case"pc":case"em":Le=12;break;case"ex":Le=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Le=r}var Rr=null;Ve(),se();var ro=function(F){return c!==null?Rr.encryptor(F,0):function(W){return W}},JA=d.__private__.getPageInfo=d.getPageInfo=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ct[F].objId,pageNumber:F,pageContext:ct[F]}},on=d.__private__.getPageInfoByObjId=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var W in ct)if(ct[W].objId===F)break;return JA(W)},rc=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:ct[J].objId,pageNumber:J,pageContext:ct[J]}};d.addPage=function(){return hi.apply(this,arguments),this},d.setPage=function(){return ka.apply(this,arguments),Oe.call(this,He[J]),this},d.insertPage=function(F){return this.addPage(),this.movePage(J,F),this},d.movePage=function(F,W){var he,xe;if(F>W){he=He[F],xe=ct[F];for(var Ne=F;Ne>W;Ne--)He[Ne]=He[Ne-1],ct[Ne]=ct[Ne-1];He[W]=he,ct[W]=xe,this.setPage(W)}else if(F<W){he=He[F],xe=ct[F];for(var ze=F;ze<W;ze++)He[ze]=He[ze+1],ct[ze]=ct[ze+1];He[W]=he,ct[W]=xe,this.setPage(W)}return this},d.deletePage=function(){return lA.apply(this,arguments),this},d.__private__.text=d.text=function(F,W,he,xe,Ne){var ze,st,It,zt,m,U,V,Z,Ee,Se=(xe=xe||{}).scope||this;if(typeof F=="number"&&typeof W=="number"&&(typeof he=="string"||Array.isArray(he))){var at=he;he=W,W=F,F=at}if(arguments[3]instanceof Wt?(I("The transform parameter of text() with a Matrix value"),Ee=Ne):(It=arguments[4],zt=arguments[5],pr(V=arguments[3])==="object"&&V!==null||(typeof It=="string"&&(zt=It,It=null),typeof V=="string"&&(zt=V,V=null),typeof V=="number"&&(It=V,V=null),xe={flags:V,angle:It,align:zt})),isNaN(W)||isNaN(he)||F==null)throw new Error("Invalid arguments passed to jsPDF.text");if(F.length===0)return Se;var pn="",Jn=!1,An=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:io,Ln=Se.internal.scaleFactor;function Wr(lr){return lr=lr.split("	").join(Array(xe.TabLen||9).join(" ")),Ks(lr,V)}function ls(lr){for(var cr,Xr=lr.concat(),Qr=[],Va=Xr.length;Va--;)typeof(cr=Xr.shift())=="string"?Qr.push(cr):Array.isArray(lr)&&(cr.length===1||cr[1]===void 0&&cr[2]===void 0)?Qr.push(cr[0]):Qr.push([cr[0],cr[1],cr[2]]);return Qr}function Pn(lr,cr){var Xr;if(typeof lr=="string")Xr=cr(lr)[0];else if(Array.isArray(lr)){for(var Qr,Va,Ou=lr.concat(),wA=[],dh=Ou.length;dh--;)typeof(Qr=Ou.shift())=="string"?wA.push(cr(Qr)[0]):Array.isArray(Qr)&&typeof Qr[0]=="string"&&(Va=cr(Qr[0],Qr[1],Qr[2]),wA.push([Va[0],Va[1],Va[2]]));Xr=wA}return Xr}var uo=!1,xr=!0;if(typeof F=="string")uo=!0;else if(Array.isArray(F)){var il=F.concat();st=[];for(var Oi,$r=il.length;$r--;)(typeof(Oi=il.shift())!="string"||Array.isArray(Oi)&&typeof Oi[0]!="string")&&(xr=!1);uo=xr}if(uo===!1)throw new Error('Type of text must be string or Array. "'+F+'" is not recognized.');typeof F=="string"&&(F=F.match(/[\r?\n]/)?F.split(/\r\n|\r|\n/g):[F]);var Wn=lt/Se.internal.scaleFactor,ol=Wn*(An-1);switch(xe.baseline){case"bottom":he-=ol;break;case"top":he+=Wn-ol;break;case"hanging":he+=Wn-2*ol;break;case"middle":he+=Wn/2-ol}if((U=xe.maxWidth||0)>0&&(typeof F=="string"?F=Se.splitTextToSize(F,U):Object.prototype.toString.call(F)==="[object Array]"&&(F=F.reduce(function(lr,cr){return lr.concat(Se.splitTextToSize(cr,U))},[]))),ze={text:F,x:W,y:he,options:xe,mutex:{pdfEscape:Ks,activeFontKey:ke,fonts:vt,activeFontSize:lt}},xt.publish("preProcessText",ze),F=ze.text,It=(xe=ze.options).angle,!(Ee instanceof Wt)&&It&&typeof It=="number"){It*=Math.PI/180,xe.rotationDirection===0&&(It=-It),S===C.ADVANCED&&(It=-It);var al=Math.cos(It),Ac=Math.sin(It);Ee=new Wt(al,Ac,-Ac,al,0,0)}else It&&It instanceof Wt&&(Ee=It);S!==C.ADVANCED||Ee||(Ee=Te),(m=xe.charSpace||vs)!==void 0&&(pn+=T(j(m))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Z=xe.horizontalScale)!==void 0&&(pn+=T(100*Z)+` Tz
`),xe.lang;var ni=-1,lc=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,cc=Se.internal.getCurrentPageInfo().pageContext;switch(lc){case 0:case!1:case"fill":ni=0;break;case 1:case!0:case"stroke":ni=1;break;case 2:case"fillThenStroke":ni=2;break;case 3:case"invisible":ni=3;break;case 4:case"fillAndAddForClipping":ni=4;break;case 5:case"strokeAndAddPathForClipping":ni=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ni=6;break;case 7:case"addToPathForClipping":ni=7}var Qu=cc.usedRenderingMode!==void 0?cc.usedRenderingMode:-1;ni!==-1?pn+=ni+` Tr
`:Qu!==-1&&(pn+=`0 Tr
`),ni!==-1&&(cc.usedRenderingMode=ni),zt=xe.align||"left";var Tr,Mi=lt*An,Oo=Se.internal.pageSize.getWidth(),qr=vt[ke];m=xe.charSpace||vs,U=xe.maxWidth||0,V=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var ri=[],mA=function(lr){return Se.getStringUnitWidth(lr,{font:qr,charSpace:m,fontSize:lt,doKerning:!1})*lt/Ln};if(Object.prototype.toString.call(F)==="[object Array]"){var si;st=ls(F),zt!=="left"&&(Tr=st.map(mA));var ks,Qa=0;if(zt==="right"){W-=Tr[0],F=[],$r=st.length;for(var Oa=0;Oa<$r;Oa++)Oa===0?(ks=ti(W),si=ao(he)):(ks=j(Qa-Tr[Oa]),si=-Mi),F.push([st[Oa],ks,si]),Qa=Tr[Oa]}else if(zt==="center"){W-=Tr[0]/2,F=[],$r=st.length;for(var Hi=0;Hi<$r;Hi++)Hi===0?(ks=ti(W),si=ao(he)):(ks=j((Qa-Tr[Hi])/2),si=-Mi),F.push([st[Hi],ks,si]),Qa=Tr[Hi]}else if(zt==="left"){F=[],$r=st.length;for(var mi=0;mi<$r;mi++)F.push(st[mi])}else if(zt==="justify"&&qr.encoding==="Identity-H"){F=[],$r=st.length,U=U!==0?U:Oo;for(var Ma=0,Yr=0;Yr<$r;Yr++)if(si=Yr===0?ao(he):-Mi,ks=Yr===0?ti(W):Ma,Yr<$r-1){var yA=j((U-Tr[Yr])/(st[Yr].split(" ").length-1)),Ws=st[Yr].split(" ");F.push([Ws[0]+" ",ks,si]),Ma=0;for(var ho=1;ho<Ws.length;ho++){var uc=(mA(Ws[ho-1]+" "+Ws[ho])-mA(Ws[ho]))*Ln+yA;ho==Ws.length-1?F.push([Ws[ho],uc,0]):F.push([Ws[ho]+" ",uc,0]),Ma-=uc}}else F.push([st[Yr],ks,si]);F.push(["",Ma,0])}else{if(zt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(F=[],$r=st.length,U=U!==0?U:Oo,Yr=0;Yr<$r;Yr++)si=Yr===0?ao(he):-Mi,ks=Yr===0?ti(W):0,Yr<$r-1?ri.push(T(j((U-Tr[Yr])/(st[Yr].split(" ").length-1)))):ri.push(0),F.push([st[Yr],ks,si])}}var yi=typeof xe.R2L=="boolean"?xe.R2L:Ut;yi===!0&&(F=Pn(F,function(lr,cr,Xr){return[lr.split("").reverse().join(""),cr,Xr]})),ze={text:F,x:W,y:he,options:xe,mutex:{pdfEscape:Ks,activeFontKey:ke,fonts:vt,activeFontSize:lt}},xt.publish("postProcessText",ze),F=ze.text,Jn=ze.mutex.isHex||!1;var dc=vt[ke].encoding;dc!=="WinAnsiEncoding"&&dc!=="StandardEncoding"||(F=Pn(F,function(lr,cr,Xr){return[Wr(lr),cr,Xr]})),st=ls(F),F=[];for(var Al,ll,Mo,cl=0,ul=1,vA=Array.isArray(st[0])?ul:cl,Ha="",hc=function(lr,cr,Xr){var Qr="";return Xr instanceof Wt?(Xr=typeof xe.angle=="number"?ye(Xr,new Wt(1,0,0,1,lr,cr)):ye(new Wt(1,0,0,1,lr,cr),Xr),S===C.ADVANCED&&(Xr=ye(new Wt(1,0,0,-1,0,0),Xr)),Qr=Xr.join(" ")+` Tm
`):Qr=T(lr)+" "+T(cr)+` Td
`,Qr},Vi=0;Vi<st.length;Vi++){switch(Ha="",vA){case ul:Mo=(Jn?"<":"(")+st[Vi][0]+(Jn?">":")"),Al=parseFloat(st[Vi][1]),ll=parseFloat(st[Vi][2]);break;case cl:Mo=(Jn?"<":"(")+st[Vi]+(Jn?">":")"),Al=ti(W),ll=ao(he)}ri!==void 0&&ri[Vi]!==void 0&&(Ha=ri[Vi]+` Tw
`),Vi===0?F.push(Ha+hc(Al,ll,Ee)+Mo):vA===cl?F.push(Ha+Mo):vA===ul&&F.push(Ha+hc(Al,ll,Ee)+Mo)}F=vA===cl?F.join(` Tj
T* `):F.join(` Tj
`),F+=` Tj
`;var Ki=`BT
/`;return Ki+=ke+" "+lt+` Tf
`,Ki+=T(lt*An)+` TL
`,Ki+=Do+`
`,Ki+=pn,Ki+=F,de(Ki+="ET"),f[ke]=!0,Se};var ua=d.__private__.clip=d.clip=function(F){return de(F==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return ua("evenodd")},d.__private__.discardPath=d.discardPath=function(){return de("n"),this};var so=d.__private__.isValidStyle=function(F){var W=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(F)!==-1&&(W=!0),W};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(F){return so(F)&&(l=F),this};var sc=d.__private__.getStyle=d.getStyle=function(F){var W=l;switch(F){case"D":case"S":W="S";break;case"F":W="f";break;case"FD":case"DF":W="B";break;case"f":case"f*":case"B":case"B*":W=F}return W},ic=d.close=function(){return de("h"),this};d.stroke=function(){return de("S"),this},d.fill=function(F){return ei("f",F),this},d.fillEvenOdd=function(F){return ei("f*",F),this},d.fillStroke=function(F){return ei("B",F),this},d.fillStrokeEvenOdd=function(F){return ei("B*",F),this};var ei=function(F,W){pr(W)==="object"?ja(W,F):de(F)},zs=function(F){F===null||S===C.ADVANCED&&F===void 0||(F=sc(F),de(F))};function oc(F,W,he,xe,Ne){var ze=new bd(W||this.boundingBox,he||this.xStep,xe||this.yStep,this.gState,Ne||this.matrix);ze.stream=this.stream;var st=F+"$$"+this.cloneIndex+++"$$";return je(st,ze),ze}var ja=function(F,W){var he=Sr[F.key],xe=hn[he];if(xe instanceof $c)de("q"),de(Ua(W)),xe.gState&&d.setGState(xe.gState),de(F.matrix.toString()+" cm"),de("/"+he+" sh"),de("Q");else if(xe instanceof bd){var Ne=new Wt(1,0,0,-1,0,Qo());F.matrix&&(Ne=Ne.multiply(F.matrix||Te),he=oc.call(xe,F.key,F.boundingBox,F.xStep,F.yStep,Ne).id),de("q"),de("/Pattern cs"),de("/"+he+" scn"),xe.gState&&d.setGState(xe.gState),de(W),de("Q")}},Ua=function(F){switch(F){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},uA=d.moveTo=function(F,W){return de(T(j(F))+" "+T($(W))+" m"),this},Ri=d.lineTo=function(F,W){return de(T(j(F))+" "+T($(W))+" l"),this},pi=d.curveTo=function(F,W,he,xe,Ne,ze){return de([T(j(F)),T($(W)),T(j(he)),T($(xe)),T(j(Ne)),T($(ze)),"c"].join(" ")),this};d.__private__.line=d.line=function(F,W,he,xe,Ne){if(isNaN(F)||isNaN(W)||isNaN(he)||isNaN(xe)||!so(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return S===C.COMPAT?this.lines([[he-F,xe-W]],F,W,[1,1],Ne||"S"):this.lines([[he-F,xe-W]],F,W,[1,1]).stroke()},d.__private__.lines=d.lines=function(F,W,he,xe,Ne,ze){var st,It,zt,m,U,V,Z,Ee,Se,at,pn,Jn;if(typeof F=="number"&&(Jn=he,he=W,W=F,F=Jn),xe=xe||[1,1],ze=ze||!1,isNaN(W)||isNaN(he)||!Array.isArray(F)||!Array.isArray(xe)||!so(Ne)||typeof ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(uA(W,he),st=xe[0],It=xe[1],m=F.length,at=W,pn=he,zt=0;zt<m;zt++)(U=F[zt]).length===2?(at=U[0]*st+at,pn=U[1]*It+pn,Ri(at,pn)):(V=U[0]*st+at,Z=U[1]*It+pn,Ee=U[2]*st+at,Se=U[3]*It+pn,at=U[4]*st+at,pn=U[5]*It+pn,pi(V,Z,Ee,Se,at,pn));return ze&&ic(),zs(Ne),this},d.path=function(F){for(var W=0;W<F.length;W++){var he=F[W],xe=he.c;switch(he.op){case"m":uA(xe[0],xe[1]);break;case"l":Ri(xe[0],xe[1]);break;case"c":pi.apply(this,xe);break;case"h":ic()}}return this},d.__private__.rect=d.rect=function(F,W,he,xe,Ne){if(isNaN(F)||isNaN(W)||isNaN(he)||isNaN(xe)||!so(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return S===C.COMPAT&&(xe=-xe),de([T(j(F)),T($(W)),T(j(he)),T(j(xe)),"re"].join(" ")),zs(Ne),this},d.__private__.triangle=d.triangle=function(F,W,he,xe,Ne,ze,st){if(isNaN(F)||isNaN(W)||isNaN(he)||isNaN(xe)||isNaN(Ne)||isNaN(ze)||!so(st))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-F,xe-W],[Ne-he,ze-xe],[F-Ne,W-ze]],F,W,[1,1],st,!0),this},d.__private__.roundedRect=d.roundedRect=function(F,W,he,xe,Ne,ze,st){if(isNaN(F)||isNaN(W)||isNaN(he)||isNaN(xe)||isNaN(Ne)||isNaN(ze)||!so(st))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var It=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*he),ze=Math.min(ze,.5*xe),this.lines([[he-2*Ne,0],[Ne*It,0,Ne,ze-ze*It,Ne,ze],[0,xe-2*ze],[0,ze*It,-Ne*It,ze,-Ne,ze],[2*Ne-he,0],[-Ne*It,0,-Ne,-ze*It,-Ne,-ze],[0,2*ze-xe],[0,-ze*It,Ne*It,-ze,Ne,-ze]],F+Ne,W,[1,1],st,!0),this},d.__private__.ellipse=d.ellipse=function(F,W,he,xe,Ne){if(isNaN(F)||isNaN(W)||isNaN(he)||isNaN(xe)||!so(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ze=4/3*(Math.SQRT2-1)*he,st=4/3*(Math.SQRT2-1)*xe;return uA(F+he,W),pi(F+he,W-st,F+ze,W-xe,F,W-xe),pi(F-ze,W-xe,F-he,W-st,F-he,W),pi(F-he,W+st,F-ze,W+xe,F,W+xe),pi(F+ze,W+xe,F+he,W+st,F+he,W),zs(Ne),this},d.__private__.circle=d.circle=function(F,W,he,xe){if(isNaN(F)||isNaN(W)||isNaN(he)||!so(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(F,W,he,he,xe)},d.setFont=function(F,W,he){return he&&(W=Q(W,he)),ke=Xn(F,W,{disableWarning:!1}),this};var ZA=d.__private__.getFont=d.getFont=function(){return vt[Xn.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var F,W,he={};for(F in Zt)if(Zt.hasOwnProperty(F))for(W in he[F]=[],Zt[F])Zt[F].hasOwnProperty(W)&&he[F].push(W);return he},d.addFont=function(F,W,he,xe,Ne){var ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ze.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&ze.indexOf(arguments[3])==-1&&(he=Q(he,xe)),Ne=Ne||"Identity-H",la.call(this,F,W,he,Ne)};var io,sr=t.lineWidth||.200025,dA=d.__private__.getLineWidth=d.getLineWidth=function(){return sr},ac=d.__private__.setLineWidth=d.setLineWidth=function(F){return sr=F,de(T(j(F))+" w"),this};d.__private__.setLineDash=fn.API.setLineDash=fn.API.setLineDashPattern=function(F,W){if(F=F||[],W=W||0,isNaN(W)||!Array.isArray(F))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return F=F.map(function(he){return T(j(he))}).join(" "),W=T(j(W)),de("["+F+"] "+W+" d"),this};var Dr=d.__private__.getLineHeight=d.getLineHeight=function(){return lt*io};d.__private__.getLineHeight=d.getLineHeight=function(){return lt*io};var el=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(F){return typeof(F=F||1.15)=="number"&&(io=F),this},oo=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return io};el(t.lineHeight);var ti=d.__private__.getHorizontalCoordinate=function(F){return j(F)},ao=d.__private__.getVerticalCoordinate=function(F){return S===C.ADVANCED?F:ct[J].mediaBox.topRightY-ct[J].mediaBox.bottomLeftY-j(F)},Di=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(F){return T(ti(F))},Ro=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(F){return T(ao(F))},Gs=t.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return yt(Gs)},d.__private__.setStrokeColor=d.setDrawColor=function(F,W,he,xe){return Gs=Nt({ch1:F,ch2:W,ch3:he,ch4:xe,pdfColorType:"draw",precision:2}),de(Gs),this};var gi=t.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return yt(gi)},d.__private__.setFillColor=d.setFillColor=function(F,W,he,xe){return gi=Nt({ch1:F,ch2:W,ch3:he,ch4:xe,pdfColorType:"fill",precision:2}),de(gi),this};var Do=t.textColor||"0 g",tl=d.__private__.getTextColor=d.getTextColor=function(){return yt(Do)};d.__private__.setTextColor=d.setTextColor=function(F,W,he,xe){return Do=Nt({ch1:F,ch2:W,ch3:he,ch4:xe,pdfColorType:"text",precision:3}),this};var vs=t.charSpace,Ra=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(vs||0)};d.__private__.setCharSpace=d.setCharSpace=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vs=F,this};var Ao=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(F){var W=d.CapJoinStyles[F];if(W===void 0)throw new Error("Line cap style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ao=W,de(W+" J"),this};var nl=0;d.__private__.setLineJoin=d.setLineJoin=function(F){var W=d.CapJoinStyles[F];if(W===void 0)throw new Error("Line join style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nl=W,de(W+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(F){if(F=F||0,isNaN(F))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(T(j(F))+" M"),this},d.GState=wm,d.setGState=function(F){(F=typeof F=="string"?En[Fr[F]]:rl(null,F)).equals(nn)||(de("/"+F.id+" gs"),nn=F)};var rl=function(F,W){if(!F||!Fr[F]){var he=!1;for(var xe in En)if(En.hasOwnProperty(xe)&&En[xe].equals(W)){he=!0;break}if(he)W=En[xe];else{var Ne="GS"+(Object.keys(En).length+1).toString(10);En[Ne]=W,W.id=Ne}return F&&(Fr[F]=W.id),xt.publish("addGState",W),W}};d.addGState=function(F,W){return rl(F,W),this},d.saveGraphicsState=function(){return de("q"),vr.push({key:ke,size:lt,color:Do}),this},d.restoreGraphicsState=function(){de("Q");var F=vr.pop();return ke=F.key,lt=F.size,Do=F.color,nn=null,this},d.setCurrentTransformationMatrix=function(F){return de(F.toString()+" cm"),this},d.comment=function(F){return de("#"+F),this};var lo=function(F,W){var he=F||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function(ze){isNaN(ze)||(he=parseFloat(ze))}});var xe=W||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(ze){isNaN(ze)||(xe=parseFloat(ze))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(ze){Ne=ze.toString()}}),this},hA=function(F,W,he,xe){lo.call(this,F,W),this.type="rect";var Ne=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(st){isNaN(st)||(Ne=parseFloat(st))}});var ze=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ze},set:function(st){isNaN(st)||(ze=parseFloat(st))}}),this},fA=function(){this.page=mt,this.currentPage=J,this.pages=He.slice(0),this.pagesContext=ct.slice(0),this.x=nt,this.y=Xe,this.matrix=Ot,this.width=co(J),this.height=Qo(J),this.outputDestination=Je,this.id="",this.objectNumber=-1};fA.prototype.restore=function(){mt=this.page,J=this.currentPage,ct=this.pagesContext,He=this.pages,nt=this.x,Xe=this.y,Ot=this.matrix,gA(J,this.width),Qi(J,this.height),Je=this.outputDestination};var pA=function(F,W,he,xe,Ne){jr.push(new fA),mt=J=0,He=[],nt=F,Xe=W,Ot=Ne,Ui([he,xe])},sl=function(F){if(wr[F])jr.pop().restore();else{var W=new fA,he="Xo"+(Object.keys(yn).length+1).toString(10);W.id=he,wr[F]=he,yn[he]=W,xt.publish("addFormObject",W),jr.pop().restore()}};for(var Da in d.beginFormObject=function(F,W,he,xe,Ne){return pA(F,W,he,xe,Ne),this},d.endFormObject=function(F){return sl(F),this},d.doFormObject=function(F,W){var he=yn[wr[F]];return de("q"),de(W.toString()+" cm"),de("/"+he.id+" Do"),de("Q"),this},d.getFormObject=function(F){var W=yn[wr[F]];return{x:W.x,y:W.y,width:W.width,height:W.height,matrix:W.matrix}},d.save=function(F,W){return F=F||"generated.pdf",(W=W||{}).returnPromise=W.returnPromise||!1,W.returnPromise===!1?(Ad(Pa(Uo()),F),typeof Ad.unload=="function"&&gn.setTimeout&&setTimeout(Ad.unload,911),this):new Promise(function(he,xe){try{var Ne=Ad(Pa(Uo()),F);typeof Ad.unload=="function"&&gn.setTimeout&&setTimeout(Ad.unload,911),he(Ne)}catch(ze){xe(ze.message)}})},fn.API)fn.API.hasOwnProperty(Da)&&(Da==="events"&&fn.API.events.length?function(F,W){var he,xe,Ne;for(Ne=W.length-1;Ne!==-1;Ne--)he=W[Ne][0],xe=W[Ne][1],F.subscribe.apply(F,[he].concat(typeof xe=="function"?[xe]:xe))}(xt,fn.API.events):d[Da]=fn.API[Da]);var co=d.getPageWidth=function(F){return(ct[F=F||J].mediaBox.topRightX-ct[F].mediaBox.bottomLeftX)/Le},gA=d.setPageWidth=function(F,W){ct[F].mediaBox.topRightX=W*Le+ct[F].mediaBox.bottomLeftX},Qo=d.getPageHeight=function(F){return(ct[F=F||J].mediaBox.topRightY-ct[F].mediaBox.bottomLeftY)/Le},Qi=d.setPageHeight=function(F,W){ct[F].mediaBox.topRightY=W*Le+ct[F].mediaBox.bottomLeftY};return d.internal={pdfEscape:Ks,getStyle:sc,getFont:ZA,getFontSize:dt,getCharSpace:Ra,getTextColor:tl,getLineHeight:Dr,getLineHeightFactor:oo,getLineWidth:dA,write:Et,getHorizontalCoordinate:ti,getVerticalCoordinate:ao,getCoordinateString:Di,getVerticalCoordinateString:Ro,collections:{},newObject:Re,newAdditionalObject:Dt,newObjectDeferred:it,newObjectDeferredBegin:Tt,getFilters:en,putStream:sn,events:xt,scaleFactor:Le,pageSize:{getWidth:function(){return co(J)},setWidth:function(F){gA(J,F)},getHeight:function(){return Qo(J)},setHeight:function(F){Qi(J,F)}},encryptionOptions:c,encryption:Rr,getEncryptor:ro,output:ca,getNumberOfPages:ec,pages:He,out:de,f2:M,f3:L,getPageInfo:JA,getPageInfoByObjId:on,getCurrentPageInfo:rc,getPDFVersion:b,Point:lo,Rectangle:hA,Matrix:Wt,hasHotfix:no},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return co(J)},set:function(F){gA(J,F)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return Qo(J)},set:function(F){Qi(J,F)},enumerable:!0,configurable:!0}),Na.call(d,Ge),ke="F1",hi(s,n),xt.publish("initialized"),d}Jh.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Jh.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Jh.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Jh.prototype.processOwnerPassword=function(t,e){return cB(lB(e).substr(0,5),t)},Jh.prototype.encryptor=function(t,e){var n=lB(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return cB(n,r)}},wm.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||pr(t)!==pr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},fn.API={events:[]},fn.version="3.0.1";var rs=fn.API,L_=1,ch=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Kh=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},_n=function(t){return t.toFixed(2)},Uc=function(t){return t.toFixed(5)};rs.__acroform__={};var Po=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},vS=function(t){return t*L_},FA=function(t){var e=new Bj,n=Vt.internal.getHeight(t)||0,r=Vt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(_n(r)),Number(_n(n))],e},aW=rs.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},AW=rs.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},lW=rs.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},fs=rs.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return lW(t,e-1)},ps=rs.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return aW(t,e-1)},gs=rs.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return AW(t,e-1)},cW=rs.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=t[0],i=t[1],o=t[2],a=t[3],A={};return A.lowerLeft_X=n(s)||0,A.lowerLeft_Y=r(i+a)||0,A.upperRight_X=n(s+o)||0,A.upperRight_Y=r(i)||0,[Number(_n(A.lowerLeft_X)),Number(_n(A.lowerLeft_Y)),Number(_n(A.upperRight_X)),Number(_n(A.upperRight_Y))]},uW=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=uB(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+_n(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=FA(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},uB=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(L){return L.split(`
`)}):s.map(function(L){return[L]});var i=n,o=Vt.internal.getHeight(t)||0;o=o<0?-o:o;var a=Vt.internal.getWidth(t)||0;a=a<0?-a:a;var A=function(L,j,k){if(L+1<s.length){var $=j+" "+s[L+1][0];return fy($,t,k).width<=a-4}return!1};i++;e:for(;i>0;){e="",i--;var l,c,u=fy("3",t,i).height,f=t.multiline?o-i:(o-u)/2,d=f+=2,B=0,b=0,E=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+fy(e,t,i=12).width+", FieldWidth:"+a+`
`;break}for(var v="",C=0,S=0;S<s.length;S++)if(s.hasOwnProperty(S)){var R=!1;if(s[S].length!==1&&E!==s[S].length-1){if((u+2)*(C+2)+2>o)continue e;v+=s[S][E],R=!0,b=S,S--}else{v=(v+=s[S][E]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var P=parseInt(S),Q=A(P,v,i),T=S>=s.length-1;if(Q&&!T){v+=" ",E=0;continue}if(Q||T){if(T)b=P;else if(t.multiline&&(u+2)*(C+2)+2>o)continue e}else{if(!t.multiline||(u+2)*(C+2)+2>o)continue e;b=P}}for(var I="",O=B;O<=b;O++){var M=s[O];if(t.multiline){if(O===b){I+=M[E]+" ",E=(E+1)%M.length;continue}if(O===B){I+=M[M.length-1]+" ";continue}}I+=M[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,c=fy(I,t,i).width,t.textAlign){case"right":l=a-c-2;break;case"center":l=(a-c)/2;break;case"left":default:l=2}e+=_n(l)+" "+_n(d)+` Td
`,e+="("+ch(I)+`) Tj
`,e+=-_n(l)+` 0 Td
`,d=-(i+2),c=0,B=R?b:b+1,C++,v=""}break}return r.text=e,r.fontSize=i,r},fy=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},dW={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hW=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},fW=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,s=t[n];e.internal.newObjectDeferredBegin(s.objId,!0),pr(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[r]}},pW=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(aA.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(dW)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");L_=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new _j,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];i.objId=void 0,i.hasAnnotation&&hW(i,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,s){var i=!r;for(var o in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],A=[],l=a.Rect;if(a.Rect&&(a.Rect=cW(a.Rect,s)),s.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Vt.createDefaultAppearanceStream(a),pr(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(A=a.getKeyValueListForStream()),a.Rect=l,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=uW(a);A.push({key:"AP",value:"<</N "+c+">>"}),s.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var u="";for(var f in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(f)){var d=a.appearanceStreamContent[f];if(u+="/"+f+" ",u+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var o in d)if(d.hasOwnProperty(o)){var B=d[o];typeof B=="function"&&(B=B.call(s,a)),u+="/"+o+" "+B+" ",s.internal.acroformPlugin.xForms.indexOf(B)>=0||s.internal.acroformPlugin.xForms.push(B)}}else typeof(B=d)=="function"&&(B=B.call(s,a)),u+="/"+o+" "+B,s.internal.acroformPlugin.xForms.indexOf(B)>=0||s.internal.acroformPlugin.xForms.push(B);u+=">>"}A.push({key:"AP",value:`<<
`+u+">>"})}s.internal.putStream({additionalKeyValues:A,objectId:a.objId}),s.internal.out("endobj")}i&&fW(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},bj=rs.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),pr(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),s+="("+ch(r(t[i].toString()))+")"):s+=t[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ux=function(t,e,n){var r=function(s){return s};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+ch(r(t))+")"},RA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};RA.prototype.toString=function(){return this.objId+" 0 R"},RA.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},RA.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],s=this[r];s&&(Array.isArray(s)?t.push({key:r,value:bj(s,this.objId,this.scope)}):s instanceof RA?(s.scope=this.scope,t.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:r,value:s}))}return t};var Bj=function(){RA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Po(Bj,RA);var _j=function(){RA.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+ch(n(t))+")"}},set:function(n){t=n}})};Po(_j,RA);var aA=function t(){RA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fs(e,3)},set:function(v){v?this.F=ps(e,3):this.F=gs(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof d1)return;i="FieldObject"+t.FieldNum++}var v=function(C){return C};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+ch(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(v){A=v}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/L_:l},set:function(v){l=v}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof d1||this instanceof yu))return ux(u,this.objId,this.scope)},set:function(v){v=v.toString(),u=v}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Rs?f:ux(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=this instanceof Rs?v:v.substr(0,1)==="("?Kh(v.substr(1,v.length-2)):Kh(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rs?Kh(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof Rs?"/"+v:v}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Rs?d:ux(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=this instanceof Rs?v:v.substr(0,1)==="("?Kh(v.substr(1,v.length-2)):Kh(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rs?Kh(d.substr(1,d.length-1)):d},set:function(v){v=v.toString(),d=this instanceof Rs?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var B,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(v){v=!!v,b=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(B)return B},set:function(v){B=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,1)},set:function(v){v?this.Ff=ps(this.Ff,1):this.Ff=gs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,2)},set:function(v){v?this.Ff=ps(this.Ff,2):this.Ff=gs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,3)},set:function(v){v?this.Ff=ps(this.Ff,3):this.Ff=gs(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');E=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(E){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:E=2;break;case"center":case 1:E=1;break;case"left":case 0:default:E=0}}})};Po(aA,RA);var Td=function(){aA.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return bj(e,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(i,o,a){a||(a=1);for(var A,l=[];A=o.exec(i);)l.push(A[a]);return l}(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,18)},set:function(n){n?this.Ff=ps(this.Ff,18):this.Ff=gs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=ps(this.Ff,19):this.Ff=gs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,20)},set:function(n){n?(this.Ff=ps(this.Ff,20),e.sort()):this.Ff=gs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,22)},set:function(n){n?this.Ff=ps(this.Ff,22):this.Ff=gs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,23)},set:function(n){n?this.Ff=ps(this.Ff,23):this.Ff=gs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,27)},set:function(n){n?this.Ff=ps(this.Ff,27):this.Ff=gs(this.Ff,27)}}),this.hasAppearanceStream=!1};Po(Td,aA);var Nd=function(){Td.call(this),this.fontName="helvetica",this.combo=!1};Po(Nd,Td);var kd=function(){Nd.call(this),this.combo=!0};Po(kd,Nd);var Sg=function(){kd.call(this),this.edit=!0};Po(Sg,kd);var Rs=function(){aA.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,15)},set:function(n){n?this.Ff=ps(this.Ff,15):this.Ff=gs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,16)},set:function(n){n?this.Ff=ps(this.Ff,16):this.Ff=gs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,17)},set:function(n){n?this.Ff=ps(this.Ff,17):this.Ff=gs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,26)},set:function(n){n?this.Ff=ps(this.Ff,26):this.Ff=gs(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+ch(n(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){pr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Po(Rs,aA);var Fg=function(){Rs.call(this),this.pushButton=!0};Po(Fg,Rs);var Ld=function(){Rs.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Po(Ld,Rs);var d1=function(){var t,e;aA.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(a){return a};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),r)o.push("/"+i+" ("+ch(s(r[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){pr(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Po(d1,aA),Ld.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Ld.prototype.createOption=function(t){var e=new d1;return e.Parent=this,e.optionName=t,this.Kids.push(e),gW.call(this.scope,e),e};var Tg=function(){Rs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Vt.CheckBox.createAppearanceStream()};Po(Tg,Rs);var yu=function(){aA.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,13)},set:function(e){e?this.Ff=ps(this.Ff,13):this.Ff=gs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,21)},set:function(e){e?this.Ff=ps(this.Ff,21):this.Ff=gs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,23)},set:function(e){e?this.Ff=ps(this.Ff,23):this.Ff=gs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,24)},set:function(e){e?this.Ff=ps(this.Ff,24):this.Ff=gs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,25)},set:function(e){e?this.Ff=ps(this.Ff,25):this.Ff=gs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,26)},set:function(e){e?this.Ff=ps(this.Ff,26):this.Ff=gs(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Po(yu,aA);var Ng=function(){yu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,14)},set:function(t){t?this.Ff=ps(this.Ff,14):this.Ff=gs(this.Ff,14)}}),this.password=!0};Po(Ng,yu);var Vt={CheckBox:{createAppearanceStream:function(){return{N:{On:Vt.CheckBox.YesNormal},D:{On:Vt.CheckBox.YesPushDown,Off:Vt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=FA(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=uB(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+_n(Vt.internal.getWidth(t))+" "+_n(Vt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+_n(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=FA(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=[],i=Vt.internal.getHeight(t),o=Vt.internal.getWidth(t),a=uB(t,t.caption);return s.push("1 g"),s.push("0 0 "+_n(o)+" "+_n(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+_n(o-1)+" "+_n(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+_n(a.fontSize)+" Tf "+r),s.push(a.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=FA(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+_n(Vt.internal.getWidth(t))+" "+_n(Vt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Vt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Vt.RadioButton.Circle.YesNormal,e.D[t]=Vt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=FA(t);e.scope=t.scope;var n=[],r=Vt.internal.getWidth(t)<=Vt.internal.getHeight(t)?Vt.internal.getWidth(t)/4:Vt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Vt.internal.Bezier_C,i=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Uc(Vt.internal.getWidth(t)/2)+" "+Uc(Vt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=FA(t);e.scope=t.scope;var n=[],r=Vt.internal.getWidth(t)<=Vt.internal.getHeight(t)?Vt.internal.getWidth(t)/4:Vt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*Vt.internal.Bezier_C).toFixed(5)),o=Number((r*Vt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Uc(Vt.internal.getWidth(t)/2)+" "+Uc(Vt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Uc(Vt.internal.getWidth(t)/2)+" "+Uc(Vt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=FA(t);e.scope=t.scope;var n=[],r=Vt.internal.getWidth(t)<=Vt.internal.getHeight(t)?Vt.internal.getWidth(t)/4:Vt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*Vt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Uc(Vt.internal.getWidth(t)/2)+" "+Uc(Vt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Vt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Vt.RadioButton.Cross.YesNormal,e.D[t]=Vt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=FA(t);e.scope=t.scope;var n=[],r=Vt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+_n(Vt.internal.getWidth(t)-2)+" "+_n(Vt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(_n(r.x1.x)+" "+_n(r.x1.y)+" m"),n.push(_n(r.x2.x)+" "+_n(r.x2.y)+" l"),n.push(_n(r.x4.x)+" "+_n(r.x4.y)+" m"),n.push(_n(r.x3.x)+" "+_n(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=FA(t);e.scope=t.scope;var n=Vt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+_n(Vt.internal.getWidth(t))+" "+_n(Vt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+_n(Vt.internal.getWidth(t)-2)+" "+_n(Vt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(_n(n.x1.x)+" "+_n(n.x1.y)+" m"),r.push(_n(n.x2.x)+" "+_n(n.x2.y)+" l"),r.push(_n(n.x4.x)+" "+_n(n.x4.y)+" m"),r.push(_n(n.x3.x)+" "+_n(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=FA(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+_n(Vt.internal.getWidth(t))+" "+_n(Vt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Vt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Vt.internal.getWidth(t),n=Vt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Vt.internal.getWidth=function(t){var e=0;return pr(t)==="object"&&(e=vS(t.Rect[2])),e},Vt.internal.getHeight=function(t){var e=0;return pr(t)==="object"&&(e=vS(t.Rect[3])),e};var gW=rs.addField=function(t){if(pW(this,t),!(t instanceof aA))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};rs.AcroFormChoiceField=Td,rs.AcroFormListBox=Nd,rs.AcroFormComboBox=kd,rs.AcroFormEditBox=Sg,rs.AcroFormButton=Rs,rs.AcroFormPushButton=Fg,rs.AcroFormRadioButton=Ld,rs.AcroFormCheckBox=Tg,rs.AcroFormTextField=yu,rs.AcroFormPasswordField=Ng,rs.AcroFormAppearance=Vt,rs.AcroForm={ChoiceField:Td,ListBox:Nd,ComboBox:kd,EditBox:Sg,Button:Rs,PushButton:Fg,RadioButton:Ld,CheckBox:Tg,TextField:yu,PasswordField:Ng,Appearance:Vt},fn.AcroForm={ChoiceField:Td,ListBox:Nd,ComboBox:kd,EditBox:Sg,Button:Rs,PushButton:Fg,RadioButton:Ld,CheckBox:Tg,TextField:yu,PasswordField:Ng,Appearance:Vt};var mW=fn.AcroForm;function Cj(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(L,j){var k,$,re,oe,pe,se=e;if((j=j||e)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(Q(L))for(pe in n)for(re=n[pe],k=0;k<re.length;k+=1){for(oe=!0,$=0;$<re[k].length;$+=1)if(re[k][$]!==void 0&&re[k][$]!==L[$]){oe=!1;break}if(oe===!0){se=pe;break}}else for(pe in n)for(re=n[pe],k=0;k<re.length;k+=1){for(oe=!0,$=0;$<re[k].length;$+=1)if(re[k][$]!==void 0&&re[k][$]!==L.charCodeAt($)){oe=!1;break}if(oe===!0){se=pe;break}}return se===e&&j!==e&&(se=j),se},s=function L(j){for(var k=this.internal.write,$=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var oe=[];if(oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Image"}),oe.push({key:"Width",value:j.width}),oe.push({key:"Height",value:j.height}),j.colorSpace===E.INDEXED?oe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(oe.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===E.DEVICE_CMYK&&oe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),oe.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&oe.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var pe="",se=0,me=j.transparency.length;se<me;se++)pe+=j.transparency[se]+" "+j.transparency[se]+" ";oe.push({key:"Mask",value:"["+pe+"]"})}j.sMask!==void 0&&oe.push({key:"SMask",value:j.objectId+1+" 0 R"});var ve=j.filter!==void 0?["/"+j.filter]:void 0;if($({data:j.data,additionalKeyValues:oe,alreadyAppliedFilters:ve,objectId:j.objectId}),k("endobj"),"sMask"in j&&j.sMask!==void 0){var Ve="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,z={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:Ve,data:j.sMask};"filter"in j&&(z.filter=j.filter),L.call(this,z)}if(j.colorSpace===E.INDEXED){var J=this.internal.newObject();$({data:I(new Uint8Array(j.palette)),objectId:J}),k("endobj")}},i=function(){var L=this.internal.collections.addImage_images;for(var j in L)s.call(this,L[j])},o=function(){var L,j=this.internal.collections.addImage_images,k=this.internal.write;for(var $ in j)k("/I"+(L=j[$]).index,L.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},A=function(){var L=this.internal.collections.addImage_images;return a.call(this),L},l=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(L){return typeof t["process"+L.toUpperCase()]=="function"},u=function(L){return pr(L)==="object"&&L.nodeType===1},f=function(L,j){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var k=""+L.getAttribute("src");if(k.indexOf("data:image/")===0)return Ig(unescape(k).split("base64,").pop());var $=t.loadFile(k,!0);if($!==void 0)return $}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var re;switch(j){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;case"JPEG":case"JPG":default:re="image/jpeg"}return Ig(L.toDataURL(re,1).split("base64,").pop())}},d=function(L){var j=this.internal.collections.addImage_images;if(j){for(var k in j)if(L===j[k].alias)return j[k]}},B=function(L,j,k){return L||j||(L=-96,j=-96),L<0&&(L=-1*k.width*72/L/this.internal.scaleFactor),j<0&&(j=-1*k.height*72/j/this.internal.scaleFactor),L===0&&(L=j*k.width/k.height),j===0&&(j=L*k.height/k.width),[L,j]},b=function(L,j,k,$,re,oe){var pe=B.call(this,k,$,re),se=this.internal.getCoordinateString,me=this.internal.getVerticalCoordinateString,ve=A.call(this);if(k=pe[0],$=pe[1],ve[re.index]=re,oe){oe*=Math.PI/180;var Ve=Math.cos(oe),z=Math.sin(oe),J=function(ce){return ce.toFixed(4)},ie=[J(Ve),J(z),J(-1*z),J(Ve),0,0,"cm"]}this.internal.write("q"),oe?(this.internal.write([1,"0","0",1,se(L),me(j+$),"cm"].join(" ")),this.internal.write(ie.join(" ")),this.internal.write([se(k),"0","0",se($),"0","0","cm"].join(" "))):this.internal.write([se(k),"0","0",se($),se(L),me(j+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},E=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=t.__addimage__.sHashCode=function(L){var j,k,$=0;if(typeof L=="string")for(k=L.length,j=0;j<k;j++)$=($<<5)-$+L.charCodeAt(j),$|=0;else if(Q(L))for(k=L.byteLength/2,j=0;j<k;j++)$=($<<5)-$+L[j],$|=0;return $},S=t.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var j=!0;return L.length===0&&(j=!1),L.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(j=!1),j},R=t.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var j=L.indexOf(",");return j<0?null:L.substring(0,j).trim().endsWith("base64")?L.substring(j+1):null},P=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(L){return P()&&L instanceof ArrayBuffer};var Q=t.__addimage__.isArrayBufferView=function(L){return P()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},T=t.__addimage__.binaryStringToUint8Array=function(L){for(var j=L.length,k=new Uint8Array(j),$=0;$<j;$++)k[$]=L.charCodeAt($);return k},I=t.__addimage__.arrayBufferToBinaryString=function(L){for(var j="",k=Q(L)?L:new Uint8Array(L),$=0;$<k.length;$+=8192)j+=String.fromCharCode.apply(null,k.subarray($,$+8192));return j};t.addImage=function(){var L,j,k,$,re,oe,pe,se,me;if(typeof arguments[1]=="number"?(j=e,k=arguments[1],$=arguments[2],re=arguments[3],oe=arguments[4],pe=arguments[5],se=arguments[6],me=arguments[7]):(j=arguments[1],k=arguments[2],$=arguments[3],re=arguments[4],oe=arguments[5],pe=arguments[6],se=arguments[7],me=arguments[8]),pr(L=arguments[0])==="object"&&!u(L)&&"imageData"in L){var ve=L;L=ve.imageData,j=ve.format||j||e,k=ve.x||k||0,$=ve.y||$||0,re=ve.w||ve.width||re,oe=ve.h||ve.height||oe,pe=ve.alias||pe,se=ve.compression||se,me=ve.rotation||ve.angle||me}var Ve=this.internal.getFilters();if(se===void 0&&Ve.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(k)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var z=O.call(this,L,j,pe,se);return b.call(this,k,$,re,oe,z,me),this};var O=function(L,j,k,$){var re,oe,pe;if(typeof L=="string"&&r(L)===e){L=unescape(L);var se=M(L,!1);(se!==""||(se=t.loadFile(L,!0))!==void 0)&&(L=se)}if(u(L)&&(L=f(L,j)),j=r(L,j),!c(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((pe=k)==null||pe.length===0)&&(k=function(me){return typeof me=="string"||Q(me)?C(me):Q(me.data)?C(me.data):null}(L)),(re=d.call(this,k))||(P()&&(L instanceof Uint8Array||j==="RGBA"||(oe=L,L=T(L))),re=this["process"+j.toUpperCase()](L,l.call(this),k,function(me){return me&&typeof me=="string"&&(me=me.toUpperCase()),me in t.image_compression?me:v.NONE}($),oe)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},M=t.__addimage__.convertBase64ToBinaryString=function(L,j){j=typeof j!="boolean"||j;var k,$="";if(typeof L=="string"){var re;k=(re=R(L))!==null&&re!==void 0?re:L;try{$=Ig(k)}catch(oe){if(j)throw S(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+oe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};t.getImageProperties=function(L){var j,k,$="";if(u(L)&&(L=f(L)),typeof L=="string"&&r(L)===e&&(($=M(L,!1))===""&&($=t.loadFile(L)||""),L=$),k=r(L),!c(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(!P()||L instanceof Uint8Array||(L=T(L)),!(j=this["process"+k.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=k,j}})(fn.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};fn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,s,i,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,A=this.internal.getPageInfoByObjId(n.objId),l=n.pageContext.annotations,c=!1,u=0;u<l.length&&!c;u++)switch((r=l[u]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var f=0;f<l.length;f++){r=l[f];var d=this.internal.pdfEscape,B=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(b.objId),C=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+d(v(r.contents))+")",i+=" /Popup "+E.objId+" 0 R",i+=" /P "+A.objId+" 0 R",i+=" /T ("+d(v(C))+") >>",b.content=i;var S=b.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(i+=" /Open true"),i+=" >>",E.content=i,this.internal.write(b.objId,"0 R",E.objId,"0 R");break;case"freetext":s="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+d(B(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var P=this.annotations._nameMap[r.options.name];r.options.pageNumber=P.page,r.options.top=P.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+d(B(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Q=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+Q+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,s,i,o){var a=this.internal.getCurrentPageInfo(),A=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:A(n),y:l(r),w:A(n+s),h:l(r+i)},options:o,type:"link"})},t.textWithLink=function(n,r,s,i){var o,a,A=this.getTextWidth(n),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){a=i.maxWidth;var c=this.splitTextToSize(n,a).length;o=Math.ceil(l*c)}else a=A,o=l;return this.text(n,r,s,i),s+=.2*l,i.align==="center"&&(r-=A/2),i.align==="right"&&(r-=A),this.link(r,s-l,a,o,i),A},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(fn.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},a=t.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&i(b)&&e[b.charCodeAt(0)].length<=2},A=t.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&s.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&i(b)&&e[b.charCodeAt(0)].length>=1};var l=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&i(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&i(b)&&e[b.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&i(b)&&e[b.charCodeAt(0)].length==4},u=t.__arabicParser__.resolveLigatures=function(b){var E=0,v=n,C="",S=0;for(E=0;E<b.length;E+=1)v[b.charCodeAt(E)]!==void 0?(S++,typeof(v=v[b.charCodeAt(E)])=="number"&&(C+=String.fromCharCode(v),v=n,S=0),E===b.length-1&&(v=n,C+=b.charAt(E-(S-1)),E-=S-1,S=0)):(v=n,C+=b.charAt(E-S),E-=S,S=0);return C};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(b,E,v){return o(b)?i(b)===!1?-1:!l(b)||!o(E)&&!o(v)||!o(v)&&a(E)||a(b)&&!o(E)||a(b)&&A(E)||a(b)&&a(E)?0:c(b)&&o(E)&&!a(E)&&o(v)&&l(v)?3:a(b)||!o(v)?1:2:-1},d=function(b){var E=0,v=0,C=0,S="",R="",P="",Q=(b=b||"").split("\\s+"),T=[];for(E=0;E<Q.length;E+=1){for(T.push(""),v=0;v<Q[E].length;v+=1)S=Q[E][v],R=Q[E][v-1],P=Q[E][v+1],o(S)?(C=f(S,R,P),T[E]+=C!==-1?String.fromCharCode(e[S.charCodeAt(0)][C]):S):T[E]+=S;T[E]=u(T[E])}return T.join(" ")},B=t.__arabicParser__.processArabic=t.processArabic=function(){var b,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(E)){var C=0;for(v=[],C=0;C<E.length;C+=1)Array.isArray(E[C])?v.push([d(E[C][0]),E[C][1],E[C][2]]):v.push([d(E[C])]);b=v}else b=d(E);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",B])}(fn.API),fn.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(a){s=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(a){i=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(fn.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var A=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return A},set:function(b){A=b}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var B=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return B},set:function(b){B=b}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(A){return r.call(this),this.internal.__cell__.headerFunction=typeof A=="function"?A:void 0,this},t.getTextDimensions=function(A,l){r.call(this);var c=(l=l||{}).fontSize||this.getFontSize(),u=l.font||this.getFont(),f=l.scaleFactor||this.internal.scaleFactor,d=0,B=0,b=0,E=this;if(!Array.isArray(A)&&typeof A!="string"){if(typeof A!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");A=String(A)}var v=l.maxWidth;v>0?typeof A=="string"?A=this.splitTextToSize(A,v):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(S,R){return S.concat(E.splitTextToSize(R,v))},[])):A=Array.isArray(A)?A:[A];for(var C=0;C<A.length;C++)d<(b=this.getStringUnitWidth(A[C],{font:u})*c)&&(d=b);return d!==0&&(B=A.length),{w:d/=f,h:Math.max((B*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var A=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(A.left,A.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var A;A=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var l=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,u=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===A.lineNumber?(A.x=(l.x||0)+(l.width||0),A.y=l.y||0):l.y+l.height+A.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),A.y=u.top,d&&f&&(this.printHeaderRow(A.lineNumber,!0),A.y+=f[0].height)):A.y=l.y+l.height||A.y),A.text[0]!==void 0&&(this.rect(A.x,A.y,A.width,A.height,n===!0?"FD":void 0),A.align==="right"?this.text(A.text,A.x+A.width-c,A.y+c,{align:"right",baseline:"top"}):A.align==="center"?this.text(A.text,A.x+A.width/2,A.y+c,{align:"center",baseline:"top",maxWidth:A.width-c-c}):this.text(A.text,A.x+c,A.y+c,{align:"left",baseline:"top",maxWidth:A.width-c-c})),this.internal.__cell__.lastCell=A,this};t.table=function(A,l,c,u,f){if(r.call(this),!c)throw new Error("No data for PDF table.");var d,B,b,E,v=[],C=[],S=[],R={},P={},Q=[],T=[],I=(f=f||{}).autoSize||!1,O=f.printHeaders!==!1,M=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,L=f.margins||Object.assign({width:this.getPageWidth()},e),j=typeof f.padding=="number"?f.padding:3,k=f.headerBackgroundColor||"#c8c8c8",$=f.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=$,this.setFontSize(M),u==null)C=v=Object.keys(c[0]),S=v.map(function(){return"left"});else if(Array.isArray(u)&&pr(u[0])==="object")for(v=u.map(function(ve){return ve.name}),C=u.map(function(ve){return ve.prompt||ve.name||""}),S=u.map(function(ve){return ve.align||"left"}),d=0;d<u.length;d+=1)P[u[d].name]=u[d].width*(19.049976/25.4);else Array.isArray(u)&&typeof u[0]=="string"&&(C=v=u,S=v.map(function(){return"left"}));if(I||Array.isArray(u)&&typeof u[0]=="string")for(d=0;d<v.length;d+=1){for(R[E=v[d]]=c.map(function(ve){return ve[E]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(C[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),B=R[E],this.setFont(void 0,"normal"),b=0;b<B.length;b+=1)Q.push(this.getTextDimensions(B[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[E]=Math.max.apply(null,Q)+j+j,Q=[]}if(O){var re={};for(d=0;d<v.length;d+=1)re[v[d]]={},re[v[d]].text=C[d],re[v[d]].align=S[d];var oe=a.call(this,re,P);T=v.map(function(ve){return new i(A,l,P[ve],oe,re[ve].text,void 0,re[ve].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var pe=u.reduce(function(ve,Ve){return ve[Ve.name]=Ve.align,ve},{});for(d=0;d<c.length;d+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:d,data:c[d]},this);var se=a.call(this,c[d],P);for(b=0;b<v.length;b+=1){var me=c[d][v[b]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:d,col:b,data:me},this),o.call(this,new i(A,l,P[v[b]],se,me,d+2,pe[v[b]]))}}return this.internal.__cell__.table_x=A,this.internal.__cell__.table_y=l,this};var a=function(A,l){var c=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(A).map(function(d){var B=A[d];return this.splitTextToSize(B.hasOwnProperty("text")?B.text:B,l[d]-c-c)},this).map(function(d){return this.getLineHeightFactor()*d.length*u/f+c+c},this).reduce(function(d,B){return Math.max(d,B)},0)};t.setTableHeaderRow=function(A){r.call(this),this.internal.__cell__.tableHeaderRow=A},t.printHeaderRow=function(A,l){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){c=this.internal.__cell__.tableHeaderRow[d].clone(),l&&(c.y=this.internal.__cell__.margins.top||0,f.push(c)),c.lineNumber=A;var B=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(B)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),n=!1}}(fn.API);var Ej={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Ij=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],dB=Cj(Ij),Sj=[100,200,300,400,500,600,700,800,900],yW=Cj(Sj);function hB(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return Ej[i=i||"normal"]?i:"normal"}(t.style),r=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(i){return typeof dB[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,n,r].join(" ")}}}function wS(t,e,n,r){var s;for(s=n;s>=0&&s<e.length;s+=r)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=r)if(t[e[s]])return t[e[s]]}var vW={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},xS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function bS(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function wW(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},vW,n.genericFontFamilies||{}),i=null,o=null,a=0;a<e.length;++a)if(s[(i=hB(e[a])).family]&&(i.family=s[i.family]),t.hasOwnProperty(i.family)){o=t[i.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+bS(i)+"' and default family '"+r+"'.");if(o=function(A,l){if(l[A])return l[A];var c=dB[A],u=c<=dB.normal?-1:1,f=wS(l,Ij,c,u);if(!f)throw new Error("Could not find a matching font-stretch value for "+A);return f}(i.stretch,o),o=function(A,l){if(l[A])return l[A];for(var c=Ej[A],u=0;u<c.length;++u)if(l[c[u]])return l[c[u]];throw new Error("Could not find a matching font-style for "+A)}(i.style,o),!(o=function(A,l){if(l[A])return l[A];if(A===400&&l[500])return l[500];if(A===500&&l[400])return l[400];var c=yW[A],u=wS(l,Sj,c,A<400?-1:1);if(!u)throw new Error("Could not find a matching font-weight for value "+A);return u}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+bS(i)+"'.");return o}function BS(t){return t.trimLeft()}function xW(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function bW(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var py,_S,CS,dx=["times"];(function(t){var e,n,r,s,i,o,a,A,l,c=function(z){return z=z||{},this.isStrokeTransparent=z.isStrokeTransparent||!1,this.strokeOpacity=z.strokeOpacity||1,this.strokeStyle=z.strokeStyle||"#000000",this.fillStyle=z.fillStyle||"#000000",this.isFillTransparent=z.isFillTransparent||!1,this.fillOpacity=z.fillOpacity||1,this.font=z.font||"10px sans-serif",this.textBaseline=z.textBaseline||"alphabetic",this.textAlign=z.textAlign||"left",this.lineWidth=z.lineWidth||1,this.lineJoin=z.lineJoin||"miter",this.lineCap=z.lineCap||"butt",this.path=z.path||[],this.transform=z.transform!==void 0?z.transform.clone():new A,this.globalCompositeOperation=z.globalCompositeOperation||"normal",this.globalAlpha=z.globalAlpha||1,this.clip_path=z.clip_path||[],this.currentPoint=z.currentPoint||new o,this.miterLimit=z.miterLimit||10,this.lastPoint=z.lastPoint||new o,this.lineDashOffset=z.lineDashOffset||0,this.lineDash=z.lineDash||[],this.margin=z.margin||[0,0,0,0],this.prevPageLastElemOffset=z.prevPageLastElemOffset||0,this.ignoreClearRect=typeof z.ignoreClearRect!="boolean"||z.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new u(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,A=this.internal.Matrix,l=new c}]);var u=function(z){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=z;Object.defineProperty(this,"pdf",{get:function(){return J}});var ie=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ie},set:function(Oe){ie=!!Oe}});var ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ce},set:function(Oe){ce=!!Oe}});var ge=0;Object.defineProperty(this,"posX",{get:function(){return ge},set:function(Oe){isNaN(Oe)||(ge=Oe)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(Oe){isNaN(Oe)||(we=Oe)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(Oe){var de;typeof Oe=="number"?de=[Oe,Oe,Oe,Oe]:((de=new Array(4))[0]=Oe[0],de[1]=Oe.length>=2?Oe[1]:de[0],de[2]=Oe.length>=3?Oe[2]:de[0],de[3]=Oe.length>=4?Oe[3]:de[1]),l.margin=de}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(Oe){ue=Oe}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(Oe){fe=Oe}});var Ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ue},set:function(Oe){Ue=Oe}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(Oe){Oe instanceof c&&(l=Oe)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(Oe){l.path=Oe}});var He=[];Object.defineProperty(this,"ctxStack",{get:function(){return He},set:function(Oe){He=Oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Oe){var de;de=f(Oe),this.ctx.fillStyle=de.style,this.ctx.isFillTransparent=de.a===0,this.ctx.fillOpacity=de.a,this.pdf.setFillColor(de.r,de.g,de.b,{a:de.a}),this.pdf.setTextColor(de.r,de.g,de.b,{a:de.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Oe){var de=f(Oe);this.ctx.strokeStyle=de.style,this.ctx.isStrokeTransparent=de.a===0,this.ctx.strokeOpacity=de.a,de.a===0?this.pdf.setDrawColor(255,255,255):(de.a,this.pdf.setDrawColor(de.r,de.g,de.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Oe){["butt","round","square"].indexOf(Oe)!==-1&&(this.ctx.lineCap=Oe,this.pdf.setLineCap(Oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Oe){isNaN(Oe)||(this.ctx.lineWidth=Oe,this.pdf.setLineWidth(Oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Oe){["bevel","round","miter"].indexOf(Oe)!==-1&&(this.ctx.lineJoin=Oe,this.pdf.setLineJoin(Oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Oe){isNaN(Oe)||(this.ctx.miterLimit=Oe,this.pdf.setMiterLimit(Oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Oe){this.ctx.textBaseline=Oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Oe){["right","end","center","left","start"].indexOf(Oe)!==-1&&(this.ctx.textAlign=Oe)}});var Ke=null;function Je(Oe,de){if(Ke===null){var Et=function(At){var Ge=[];return Object.keys(At).forEach(function(lt){At[lt].forEach(function(pt){var dt=null;switch(pt){case"bold":dt={family:lt,weight:"bold"};break;case"italic":dt={family:lt,style:"italic"};break;case"bolditalic":dt={family:lt,weight:"bold",style:"italic"};break;case"":case"normal":dt={family:lt}}dt!==null&&(dt.ref={name:lt,style:pt},Ge.push(dt))})}),Ge}(Oe.getFontList());Ke=function(At){for(var Ge={},lt=0;lt<At.length;++lt){var pt=hB(At[lt]),dt=pt.family,Ut=pt.stretch,Kt=pt.style,Mt=pt.weight;Ge[dt]=Ge[dt]||{},Ge[dt][Ut]=Ge[dt][Ut]||{},Ge[dt][Ut][Kt]=Ge[dt][Ut][Kt]||{},Ge[dt][Ut][Kt][Mt]=pt}return Ge}(Et.concat(de))}return Ke}var ft=null;Object.defineProperty(this,"fontFaces",{get:function(){return ft},set:function(Oe){Ke=null,ft=Oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Oe){var de;if(this.ctx.font=Oe,(de=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Oe))!==null){var Et=de[1];de[2];var At=de[3],Ge=de[4];de[5];var lt=de[6],pt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ge)[2];Ge=Math.floor(pt==="px"?parseFloat(Ge)*this.pdf.internal.scaleFactor:pt==="em"?parseFloat(Ge)*this.pdf.getFontSize():parseFloat(Ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ge);var dt=function(Rt){var ke,Le,nt=[],Xe=Rt.trim();if(Xe==="")return dx;if(Xe in xS)return[xS[Xe]];for(;Xe!=="";){switch(Le=null,ke=(Xe=BS(Xe)).charAt(0)){case'"':case"'":Le=xW(Xe.substring(1),ke);break;default:Le=bW(Xe)}if(Le===null||(nt.push(Le[0]),(Xe=BS(Le[1]))!==""&&Xe.charAt(0)!==","))return dx;Xe=Xe.replace(/^,/,"")}return nt}(lt);if(this.fontFaces){var Ut=wW(Je(this.pdf,this.fontFaces),dt.map(function(Rt){return{family:Rt,stretch:"normal",weight:At,style:Et}}));this.pdf.setFont(Ut.ref.name,Ut.ref.style)}else{var Kt="";(At==="bold"||parseInt(At,10)>=700||Et==="bold")&&(Kt="bold"),Et==="italic"&&(Kt+="italic"),Kt.length===0&&(Kt="normal");for(var Mt="",Jt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},$t=0;$t<dt.length;$t++){if(this.pdf.internal.getFont(dt[$t],Kt,{noFallback:!0,disableWarning:!0})!==void 0){Mt=dt[$t];break}if(Kt==="bolditalic"&&this.pdf.internal.getFont(dt[$t],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Mt=dt[$t],Kt="bold";else if(this.pdf.internal.getFont(dt[$t],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Mt=dt[$t],Kt="normal";break}}if(Mt===""){for(var St=0;St<dt.length;St++)if(Jt[dt[St]]){Mt=Jt[dt[St]];break}}Mt=Mt===""?"Times":Mt,this.pdf.setFont(Mt,Kt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Oe){this.ctx.globalCompositeOperation=Oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Oe){this.ctx.globalAlpha=Oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Oe){this.ctx.lineDashOffset=Oe,Ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Oe){this.ctx.lineDash=Oe,Ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Oe){this.ctx.ignoreClearRect=!!Oe}})};u.prototype.setLineDash=function(z){this.lineDash=z},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){R.call(this,"fill",!1)},u.prototype.stroke=function(){R.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(z,J){if(isNaN(z)||isNaN(J))throw br.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ie=this.ctx.transform.applyToPoint(new o(z,J));this.path.push({type:"mt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(z,J)},u.prototype.closePath=function(){var z=new o(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&pr(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){z=new o(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(z.x,z.y)},u.prototype.lineTo=function(z,J){if(isNaN(z)||isNaN(J))throw br.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ie=this.ctx.transform.applyToPoint(new o(z,J));this.path.push({type:"lt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},u.prototype.quadraticCurveTo=function(z,J,ie,ce){if(isNaN(ie)||isNaN(ce)||isNaN(z)||isNaN(J))throw br.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ge=this.ctx.transform.applyToPoint(new o(ie,ce)),we=this.ctx.transform.applyToPoint(new o(z,J));this.path.push({type:"qct",x1:we.x,y1:we.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new o(ge.x,ge.y)},u.prototype.bezierCurveTo=function(z,J,ie,ce,ge,we){if(isNaN(ge)||isNaN(we)||isNaN(z)||isNaN(J)||isNaN(ie)||isNaN(ce))throw br.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new o(ge,we)),fe=this.ctx.transform.applyToPoint(new o(z,J)),Ue=this.ctx.transform.applyToPoint(new o(ie,ce));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:Ue.x,y2:Ue.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},u.prototype.arc=function(z,J,ie,ce,ge,we){if(isNaN(z)||isNaN(J)||isNaN(ie)||isNaN(ce)||isNaN(ge))throw br.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new o(z,J));z=ue.x,J=ue.y;var fe=this.ctx.transform.applyToPoint(new o(0,ie)),Ue=this.ctx.transform.applyToPoint(new o(0,0));ie=Math.sqrt(Math.pow(fe.x-Ue.x,2)+Math.pow(fe.y-Ue.y,2))}Math.abs(ge-ce)>=2*Math.PI&&(ce=0,ge=2*Math.PI),this.path.push({type:"arc",x:z,y:J,radius:ie,startAngle:ce,endAngle:ge,counterclockwise:we})},u.prototype.arcTo=function(z,J,ie,ce,ge){throw new Error("arcTo not implemented.")},u.prototype.rect=function(z,J,ie,ce){if(isNaN(z)||isNaN(J)||isNaN(ie)||isNaN(ce))throw br.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(z,J),this.lineTo(z+ie,J),this.lineTo(z+ie,J+ce),this.lineTo(z,J+ce),this.lineTo(z,J),this.lineTo(z+ie,J),this.lineTo(z,J)},u.prototype.fillRect=function(z,J,ie,ce){if(isNaN(z)||isNaN(J)||isNaN(ie)||isNaN(ce))throw br.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var ge={};this.lineCap!=="butt"&&(ge.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ge.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(z,J,ie,ce),this.fill(),ge.hasOwnProperty("lineCap")&&(this.lineCap=ge.lineCap),ge.hasOwnProperty("lineJoin")&&(this.lineJoin=ge.lineJoin)}},u.prototype.strokeRect=function(z,J,ie,ce){if(isNaN(z)||isNaN(J)||isNaN(ie)||isNaN(ce))throw br.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");B.call(this)||(this.beginPath(),this.rect(z,J,ie,ce),this.stroke())},u.prototype.clearRect=function(z,J,ie,ce){if(isNaN(z)||isNaN(J)||isNaN(ie)||isNaN(ce))throw br.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(z,J,ie,ce))},u.prototype.save=function(z){z=typeof z!="boolean"||z;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),z){this.ctx.fontSize=this.pdf.internal.getFontSize();var ce=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ce}},u.prototype.restore=function(z){z=typeof z!="boolean"||z;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("Q");this.pdf.setPage(J),z&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(z){var J,ie,ce,ge;if(z.isCanvasGradient===!0&&(z=z.getColor()),!z)return{r:0,g:0,b:0,a:0,style:z};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(z))J=0,ie=0,ce=0,ge=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(z);if(we!==null)J=parseInt(we[1]),ie=parseInt(we[2]),ce=parseInt(we[3]),ge=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(z))!==null)J=parseInt(we[1]),ie=parseInt(we[2]),ce=parseInt(we[3]),ge=parseFloat(we[4]);else{if(ge=1,typeof z=="string"&&z.charAt(0)!=="#"){var ue=new vj(z);z=ue.ok?ue.toHex():"#000000"}z.length===4?(J=z.substring(1,2),J+=J,ie=z.substring(2,3),ie+=ie,ce=z.substring(3,4),ce+=ce):(J=z.substring(1,3),ie=z.substring(3,5),ce=z.substring(5,7)),J=parseInt(J,16),ie=parseInt(ie,16),ce=parseInt(ce,16)}}return{r:J,g:ie,b:ce,a:ge,style:z}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},B=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(z,J,ie,ce){if(isNaN(J)||isNaN(ie)||typeof z!="string")throw br.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ce=isNaN(ce)?void 0:ce,!d.call(this)){var ge=se(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;j.call(this,{text:z,x:J,y:ie,scale:we,angle:ge,align:this.textAlign,maxWidth:ce})}},u.prototype.strokeText=function(z,J,ie,ce){if(isNaN(J)||isNaN(ie)||typeof z!="string")throw br.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!B.call(this)){ce=isNaN(ce)?void 0:ce;var ge=se(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;j.call(this,{text:z,x:J,y:ie,scale:we,renderingMode:"stroke",angle:ge,align:this.textAlign,maxWidth:ce})}},u.prototype.measureText=function(z){if(typeof z!="string")throw br.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,ie=this.pdf.internal.scaleFactor,ce=J.internal.getFontSize(),ge=J.getStringUnitWidth(z)*ce/J.internal.scaleFactor,we=function(ue){var fe=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this};return new we({width:ge*=Math.round(96*ie/72*1e4)/1e4})},u.prototype.scale=function(z,J){if(isNaN(z)||isNaN(J))throw br.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ie=new A(z,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},u.prototype.rotate=function(z){if(isNaN(z))throw br.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new A(Math.cos(z),Math.sin(z),-Math.sin(z),Math.cos(z),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},u.prototype.translate=function(z,J){if(isNaN(z)||isNaN(J))throw br.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ie=new A(1,0,0,1,z,J);this.ctx.transform=this.ctx.transform.multiply(ie)},u.prototype.transform=function(z,J,ie,ce,ge,we){if(isNaN(z)||isNaN(J)||isNaN(ie)||isNaN(ce)||isNaN(ge)||isNaN(we))throw br.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new A(z,J,ie,ce,ge,we);this.ctx.transform=this.ctx.transform.multiply(ue)},u.prototype.setTransform=function(z,J,ie,ce,ge,we){z=isNaN(z)?1:z,J=isNaN(J)?0:J,ie=isNaN(ie)?0:ie,ce=isNaN(ce)?1:ce,ge=isNaN(ge)?0:ge,we=isNaN(we)?0:we,this.ctx.transform=new A(z,J,ie,ce,ge,we)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(z,J,ie,ce,ge,we,ue,fe,Ue){var He=this.pdf.getImageProperties(z),Ke=1,Je=1,ft=1,Oe=1;ce!==void 0&&fe!==void 0&&(ft=fe/ce,Oe=Ue/ge,Ke=He.width/ce*fe/ce,Je=He.height/ge*Ue/ge),we===void 0&&(we=J,ue=ie,J=0,ie=0),ce!==void 0&&fe===void 0&&(fe=ce,Ue=ge),ce===void 0&&fe===void 0&&(fe=He.width,Ue=He.height);for(var de,Et=this.ctx.transform.decompose(),At=se(Et.rotate.shx),Ge=new A,lt=(Ge=(Ge=(Ge=Ge.multiply(Et.translate)).multiply(Et.skew)).multiply(Et.scale)).applyToRectangle(new a(we-J*ft,ue-ie*Oe,ce*Ke,ge*Je)),pt=E.call(this,lt),dt=[],Ut=0;Ut<pt.length;Ut+=1)dt.indexOf(pt[Ut])===-1&&dt.push(pt[Ut]);if(S(dt),this.autoPaging)for(var Kt=dt[0],Mt=dt[dt.length-1],Jt=Kt;Jt<Mt+1;Jt++){this.pdf.setPage(Jt);var $t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=Jt===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Le=Jt===1?0:Rt+(Jt-2)*ke;if(this.ctx.clip_path.length!==0){var nt=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(de,this.posX+this.margin[3],-Le+St+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=nt}var Xe=JSON.parse(JSON.stringify(lt));Xe=C([Xe],this.posX+this.margin[3],-Le+St+this.ctx.prevPageLastElemOffset)[0];var Ot=(Jt>Kt||Jt<Mt)&&b.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,ke,null).clip().discardPath()),this.pdf.addImage(z,"JPEG",Xe.x,Xe.y,Xe.w,Xe.h,null,null,At),Ot&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(z,"JPEG",lt.x,lt.y,lt.w,lt.h,null,null,At)};var E=function(z,J,ie){var ce=[];J=J||this.pdf.internal.pageSize.width,ie=ie||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ge=this.posY+this.ctx.prevPageLastElemOffset;switch(z.type){default:case"mt":case"lt":ce.push(Math.floor((z.y+ge)/ie)+1);break;case"arc":ce.push(Math.floor((z.y+ge-z.radius)/ie)+1),ce.push(Math.floor((z.y+ge+z.radius)/ie)+1);break;case"qct":var we=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x,z.y);ce.push(Math.floor((we.y+ge)/ie)+1),ce.push(Math.floor((we.y+we.h+ge)/ie)+1);break;case"bct":var ue=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x2,z.y2,z.x,z.y);ce.push(Math.floor((ue.y+ge)/ie)+1),ce.push(Math.floor((ue.y+ue.h+ge)/ie)+1);break;case"rect":ce.push(Math.floor((z.y+ge)/ie)+1),ce.push(Math.floor((z.y+z.h+ge)/ie)+1)}for(var fe=0;fe<ce.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<ce[fe];)v.call(this);return ce},v=function(){var z=this.fillStyle,J=this.strokeStyle,ie=this.font,ce=this.lineCap,ge=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=z,this.strokeStyle=J,this.font=ie,this.lineCap=ce,this.lineWidth=ge,this.lineJoin=we},C=function(z,J,ie){for(var ce=0;ce<z.length;ce++)switch(z[ce].type){case"bct":z[ce].x2+=J,z[ce].y2+=ie;case"qct":z[ce].x1+=J,z[ce].y1+=ie;case"mt":case"lt":case"arc":default:z[ce].x+=J,z[ce].y+=ie}return z},S=function(z){return z.sort(function(J,ie){return J-ie})},R=function(z,J){for(var ie,ce,ge=this.fillStyle,we=this.strokeStyle,ue=this.lineCap,fe=this.lineWidth,Ue=Math.abs(fe*this.ctx.transform.scaleX),He=this.lineJoin,Ke=JSON.parse(JSON.stringify(this.path)),Je=JSON.parse(JSON.stringify(this.path)),ft=[],Oe=0;Oe<Je.length;Oe++)if(Je[Oe].x!==void 0)for(var de=E.call(this,Je[Oe]),Et=0;Et<de.length;Et+=1)ft.indexOf(de[Et])===-1&&ft.push(de[Et]);for(var At=0;At<ft.length;At++)for(;this.pdf.internal.getNumberOfPages()<ft[At];)v.call(this);if(S(ft),this.autoPaging)for(var Ge=ft[0],lt=ft[ft.length-1],pt=Ge;pt<lt+1;pt++){this.pdf.setPage(pt),this.fillStyle=ge,this.strokeStyle=we,this.lineCap=ue,this.lineWidth=Ue,this.lineJoin=He;var dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ut=pt===1?this.posY+this.margin[0]:this.margin[0],Kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jt=pt===1?0:Kt+(pt-2)*Mt;if(this.ctx.clip_path.length!==0){var $t=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ie,this.posX+this.margin[3],-Jt+Ut+this.ctx.prevPageLastElemOffset),P.call(this,z,!0),this.path=$t}if(ce=JSON.parse(JSON.stringify(Ke)),this.path=C(ce,this.posX+this.margin[3],-Jt+Ut+this.ctx.prevPageLastElemOffset),J===!1||pt===0){var St=(pt>Ge||pt<lt)&&b.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,Mt,null).clip().discardPath()),P.call(this,z,J),St&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}else this.lineWidth=Ue,P.call(this,z,J),this.lineWidth=fe;this.path=Ke},P=function(z,J){if((z!=="stroke"||J||!B.call(this))&&(z==="stroke"||J||!d.call(this))){for(var ie,ce,ge=[],we=this.path,ue=0;ue<we.length;ue++){var fe=we[ue];switch(fe.type){case"begin":ge.push({begin:!0});break;case"close":ge.push({close:!0});break;case"mt":ge.push({start:fe,deltas:[],abs:[]});break;case"lt":var Ue=ge.length;if(we[ue-1]&&!isNaN(we[ue-1].x)&&(ie=[fe.x-we[ue-1].x,fe.y-we[ue-1].y],Ue>0)){for(;Ue>=0;Ue--)if(ge[Ue-1].close!==!0&&ge[Ue-1].begin!==!0){ge[Ue-1].deltas.push(ie),ge[Ue-1].abs.push(fe);break}}break;case"bct":ie=[fe.x1-we[ue-1].x,fe.y1-we[ue-1].y,fe.x2-we[ue-1].x,fe.y2-we[ue-1].y,fe.x-we[ue-1].x,fe.y-we[ue-1].y],ge[ge.length-1].deltas.push(ie);break;case"qct":var He=we[ue-1].x+2/3*(fe.x1-we[ue-1].x),Ke=we[ue-1].y+2/3*(fe.y1-we[ue-1].y),Je=fe.x+2/3*(fe.x1-fe.x),ft=fe.y+2/3*(fe.y1-fe.y),Oe=fe.x,de=fe.y;ie=[He-we[ue-1].x,Ke-we[ue-1].y,Je-we[ue-1].x,ft-we[ue-1].y,Oe-we[ue-1].x,de-we[ue-1].y],ge[ge.length-1].deltas.push(ie);break;case"arc":ge.push({deltas:[],abs:[],arc:!0}),Array.isArray(ge[ge.length-1].abs)&&ge[ge.length-1].abs.push(fe)}}ce=J?null:z==="stroke"?"stroke":"fill";for(var Et=!1,At=0;At<ge.length;At++)if(ge[At].arc)for(var Ge=ge[At].abs,lt=0;lt<Ge.length;lt++){var pt=Ge[lt];pt.type==="arc"?I.call(this,pt.x,pt.y,pt.radius,pt.startAngle,pt.endAngle,pt.counterclockwise,void 0,J,!Et):k.call(this,pt.x,pt.y),Et=!0}else if(ge[At].close===!0)this.pdf.internal.out("h"),Et=!1;else if(ge[At].begin!==!0){var dt=ge[At].start.x,Ut=ge[At].start.y;$.call(this,ge[At].deltas,dt,Ut),Et=!0}ce&&O.call(this,ce),J&&M.call(this)}},Q=function(z){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ie=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return z-ie;case"top":return z+J-ie;case"hanging":return z+J-2*ie;case"middle":return z+J/2-ie;case"ideographic":return z;case"alphabetic":default:return z}},T=function(z){return z+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var z=function(){};return z.colorStops=[],z.addColorStop=function(J,ie){this.colorStops.push([J,ie])},z.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},z.isCanvasGradient=!0,z},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(z,J,ie,ce,ge,we,ue,fe,Ue){for(var He=oe.call(this,ie,ce,ge,we),Ke=0;Ke<He.length;Ke++){var Je=He[Ke];Ke===0&&(Ue?L.call(this,Je.x1+z,Je.y1+J):k.call(this,Je.x1+z,Je.y1+J)),re.call(this,z,J,Je.x2,Je.y2,Je.x3,Je.y3,Je.x4,Je.y4)}fe?M.call(this):O.call(this,ue)},O=function(z){switch(z){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(z,J){this.pdf.internal.out(n(z)+" "+r(J)+" m")},j=function(z){var J;switch(z.align){case"right":case"end":J="right";break;case"center":J="center";break;case"left":case"start":default:J="left"}var ie=this.pdf.getTextDimensions(z.text),ce=Q.call(this,z.y),ge=T.call(this,ce)-ie.h,we=this.ctx.transform.applyToPoint(new o(z.x,ce)),ue=this.ctx.transform.decompose(),fe=new A;fe=(fe=(fe=fe.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var Ue,He,Ke,Je=this.ctx.transform.applyToRectangle(new a(z.x,ce,ie.w,ie.h)),ft=fe.applyToRectangle(new a(z.x,ge,ie.w,ie.h)),Oe=E.call(this,ft),de=[],Et=0;Et<Oe.length;Et+=1)de.indexOf(Oe[Et])===-1&&de.push(Oe[Et]);if(S(de),this.autoPaging)for(var At=de[0],Ge=de[de.length-1],lt=At;lt<Ge+1;lt++){this.pdf.setPage(lt);var pt=lt===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[2],Kt=Ut-this.margin[0],Mt=this.pdf.internal.pageSize.width-this.margin[1],Jt=Mt-this.margin[3],$t=lt===1?0:dt+(lt-2)*Kt;if(this.ctx.clip_path.length!==0){var St=this.path;Ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Ue,this.posX+this.margin[3],-1*$t+pt),P.call(this,"fill",!0),this.path=St}var Rt=C([JSON.parse(JSON.stringify(ft))],this.posX+this.margin[3],-$t+pt+this.ctx.prevPageLastElemOffset)[0];z.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*z.scale),Ke=this.lineWidth,this.lineWidth=Ke*z.scale);var ke=this.autoPaging!=="text";if(ke||Rt.y+Rt.h<=Ut){if(ke||Rt.y>=pt&&Rt.x<=Mt){var Le=ke?z.text:this.pdf.splitTextToSize(z.text,z.maxWidth||Mt-Rt.x)[0],nt=C([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-$t+pt+this.ctx.prevPageLastElemOffset)[0],Xe=ke&&(lt>At||lt<Ge)&&b.call(this);Xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,Kt,null).clip().discardPath()),this.pdf.text(Le,nt.x,nt.y,{angle:z.angle,align:J,renderingMode:z.renderingMode}),Xe&&this.pdf.restoreGraphicsState()}}else Rt.y<Ut&&(this.ctx.prevPageLastElemOffset+=Ut-Rt.y);z.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=Ke)}else z.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*z.scale),Ke=this.lineWidth,this.lineWidth=Ke*z.scale),this.pdf.text(z.text,we.x+this.posX,we.y+this.posY,{angle:z.angle,align:J,renderingMode:z.renderingMode,maxWidth:z.maxWidth}),z.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=Ke)},k=function(z,J,ie,ce){ie=ie||0,ce=ce||0,this.pdf.internal.out(n(z+ie)+" "+r(J+ce)+" l")},$=function(z,J,ie){return this.pdf.lines(z,J,ie,null,null)},re=function(z,J,ie,ce,ge,we,ue,fe){this.pdf.internal.out([e(s(ie+z)),e(i(ce+J)),e(s(ge+z)),e(i(we+J)),e(s(ue+z)),e(i(fe+J)),"c"].join(" "))},oe=function(z,J,ie,ce){for(var ge=2*Math.PI,we=Math.PI/2;J>ie;)J-=ge;var ue=Math.abs(ie-J);ue<ge&&ce&&(ue=ge-ue);for(var fe=[],Ue=ce?-1:1,He=J;ue>1e-5;){var Ke=He+Ue*Math.min(ue,we);fe.push(pe.call(this,z,He,Ke)),ue-=Math.abs(Ke-He),He=Ke}return fe},pe=function(z,J,ie){var ce=(ie-J)/2,ge=z*Math.cos(ce),we=z*Math.sin(ce),ue=ge,fe=-we,Ue=ue*ue+fe*fe,He=Ue+ue*ge+fe*we,Ke=4/3*(Math.sqrt(2*Ue*He)-He)/(ue*we-fe*ge),Je=ue-Ke*fe,ft=fe+Ke*ue,Oe=Je,de=-ft,Et=ce+J,At=Math.cos(Et),Ge=Math.sin(Et);return{x1:z*Math.cos(J),y1:z*Math.sin(J),x2:Je*At-ft*Ge,y2:Je*Ge+ft*At,x3:Oe*At-de*Ge,y3:Oe*Ge+de*At,x4:z*Math.cos(ie),y4:z*Math.sin(ie)}},se=function(z){return 180*z/Math.PI},me=function(z,J,ie,ce,ge,we){var ue=z+.5*(ie-z),fe=J+.5*(ce-J),Ue=ge+.5*(ie-ge),He=we+.5*(ce-we),Ke=Math.min(z,ge,ue,Ue),Je=Math.max(z,ge,ue,Ue),ft=Math.min(J,we,fe,He),Oe=Math.max(J,we,fe,He);return new a(Ke,ft,Je-Ke,Oe-ft)},ve=function(z,J,ie,ce,ge,we,ue,fe){var Ue,He,Ke,Je,ft,Oe,de,Et,At,Ge,lt,pt,dt,Ut,Kt=ie-z,Mt=ce-J,Jt=ge-ie,$t=we-ce,St=ue-ge,Rt=fe-we;for(He=0;He<41;He++)At=(de=(Ke=z+(Ue=He/40)*Kt)+Ue*((ft=ie+Ue*Jt)-Ke))+Ue*(ft+Ue*(ge+Ue*St-ft)-de),Ge=(Et=(Je=J+Ue*Mt)+Ue*((Oe=ce+Ue*$t)-Je))+Ue*(Oe+Ue*(we+Ue*Rt-Oe)-Et),He==0?(lt=At,pt=Ge,dt=At,Ut=Ge):(lt=Math.min(lt,At),pt=Math.min(pt,Ge),dt=Math.max(dt,At),Ut=Math.max(Ut,Ge));return new a(Math.round(lt),Math.round(pt),Math.round(dt-lt),Math.round(Ut-pt))},Ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z,J,ie=(z=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:z,lineDashOffset:J}));this.prevLineDash!==ie&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ie)}}})(fn.API),function(t){var e=function(i){var o,a,A,l,c,u,f,d,B,b;for(a=[],A=0,l=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;l>A;A+=4)(c=(i.charCodeAt(A)<<24)+(i.charCodeAt(A+1)<<16)+(i.charCodeAt(A+2)<<8)+i.charCodeAt(A+3))!==0?(u=(c=((c=((c=((c=(c-(b=c%85))/85)-(B=c%85))/85)-(d=c%85))/85)-(f=c%85))/85)%85,a.push(u+33,f+33,d+33,B+33,b+33)):a.push(122);return function(E,v){for(var C=v;C>0;C--)E.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(i){var o,a,A,l,c,u=String,f="length",d=255,B="charCodeAt",b="slice",E="replace";for(i[b](-2),i=i[b](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),A=[],l=0,c=(i+=o="uuuuu"[b](i[f]%5||5))[f];c>l;l+=5)a=52200625*(i[B](l)-33)+614125*(i[B](l+1)-33)+7225*(i[B](l+2)-33)+85*(i[B](l+3)-33)+(i[B](l+4)-33),A.push(d&a>>24,d&a>>16,d&a>>8,d&a);return function(v,C){for(var S=C;S>0;S--)v.pop()}(A,o[f]),u.fromCharCode.apply(u,A)},r=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var a="",A=0;A<i.length;A+=2)a+=String.fromCharCode("0x"+(i[A]+i[A+1]));return a},s=function(i){for(var o=new Uint8Array(i.length),a=i.length;a--;)o[a]=i.charCodeAt(a);return i=(o=aB(o)).reduce(function(A,l){return A+String.fromCharCode(l)},"")};t.processDataByFilters=function(i,o){var a=0,A=i||"",l=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":A=n(A),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":A=e(A),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":A=r(A),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":A=A.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":A=s(A),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:A,reverseChain:l.reverse().join(" ")}}}(fn.API),function(t){t.loadFile=function(e,n,r){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(A,l,c){var u=new XMLHttpRequest,f=0,d=function(B){var b=B.length,E=[],v=String.fromCharCode;for(f=0;f<b;f+=1)E.push(v(255&B.charCodeAt(f)));return E.join("")};if(u.open("GET",A,!l),u.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(u.onload=function(){u.status===200?c(d(this.responseText)):c(void 0)}),u.send(null),l&&u.status===200)return d(u.responseText)}(s,i,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(fn.API),function(t){function e(){return(gn.html2canvas?Promise.resolve(gn.html2canvas):u1(()=>import("./html2canvas-7127b1b6.js").then(o=>o.h),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(gn.DOMPurify?Promise.resolve(gn.DOMPurify):u1(()=>import("./purify.es-31816194.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=pr(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},s=function(o,a){var A=document.createElement(o);for(var l in a.className&&(A.className=a.className),a.innerHTML&&a.dompurify&&(A.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)A.style[l]=a.style[l];return A},i=function o(a){var A=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),l=o.convert(Promise.resolve(),A);return l=(l=l.setProgress(1,o,1,[o])).set(a)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,a){return o.__proto__=a||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(A){switch(r(A)){case"string":return"string";case"element":return A.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(A){return this.set({src:s("div",{innerHTML:o,dompurify:A})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function A(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(A(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var A=Object.assign({},this.opt.html2canvas);return delete A.onrendered,a(this.prop.container,A)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var A=this.opt.jsPDF,l=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,u=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete u.onrendered,A.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,A.context2d.posX=this.opt.x,A.context2d.posY=this.opt.y,A.context2d.margin=this.opt.margin,A.context2d.fontFaces=l,l)for(var f=0;f<l.length;++f){var d=l[f],B=d.src.find(function(b){return b.format==="truetype"});B&&A.addFont(B.url,d.ref.name,d.ref.style)}return u.windowHeight=u.windowHeight||0,u.windowHeight=u.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):u.windowHeight,A.context2d.save(!0),a(this.prop.container,u)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,a,A){return(A=A||"pdf").toLowerCase()==="img"||A.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},i.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(A){if(A in i.template.prop)return function(){this.prop[A]=o[A]};switch(A){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[A]=o[A]}}},this);return this.then(function(){return this.thenList(a)})},i.prototype.get=function(o,a){return this.then(function(){var A=o in i.template.prop?this.prop[o]:this.opt[o];return a?a(A):A})},i.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function a(A,l){return Math.floor(A*l/72*96)}return this.then(function(){(o=o||fn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,a,A,l){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),A!=null&&(this.progress.n=A),l!=null&&(this.progress.stack=l),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,a,A,l){return this.setProgress(o?this.progress.val+o:null,a||null,A?this.progress.n+A:null,l?this.progress.stack.concat(l):null)},i.prototype.then=function(o,a){var A=this;return this.thenCore(o,a,function(l,c){return A.updateProgress(null,null,1,[l]),Promise.prototype.then.call(this,function(u){return A.updateProgress(null,l),u}).then(l,c).then(function(u){return A.updateProgress(1),u})})},i.prototype.thenCore=function(o,a,A){A=A||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var l=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),c=A.call(l,o,a);return i.convert(c,this.__proto__)},i.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},i.prototype.thenList=function(o){var a=this;return o.forEach(function(A){a=a.thenCore(A)}),a},i.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return i.convert(a,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,fn.getPageSize=function(o,a,A){if(pr(o)==="object"){var l=o;o=l.orientation,a=l.unit||a,A=l.format||A}a=a||"mm",A=A||"a4",o=(""+(o||"P")).toLowerCase();var c,u=(""+A).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+a}var d,B=0,b=0;if(f.hasOwnProperty(u))B=f[u][1]/c,b=f[u][0]/c;else try{B=A[1],b=A[0]}catch{throw new Error("Invalid format: "+A)}if(o==="p"||o==="portrait")o="p",b>B&&(d=b,b=B,B=d);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",B>b&&(d=b,b=B,B=d)}return{width:b,height:B,unit:a,k:c,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(hB):null;var A=new i(a);return a.worker?A:A.from(o).doCallback()}}(fn.API),fn.API.addJS=function(t){return CS=t,this.internal.events.subscribe("postPutResources",function(){py=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(py+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),_S=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+CS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){py!==void 0&&_S!==void 0&&this.internal.out("/Names <</JavaScript "+py+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],a=r.exec(o);if(a!=null){var A=a[1];n.internal.newObjectDeferredBegin(A,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(i=0;i<l;i++){var u=n.internal.newObject();c.push(u);var f=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var d=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<c.length;i++)n.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+d+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,i){var o={title:s,options:i,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var o=r.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var A=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+A.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var l=0;l<r.children.length;l++)this.renderItems(r.children[l])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var i=0;i<s.children.length;i++)r.count++,this.count_r(r,s.children[i]);return r.count}}])}(fn.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,s,i,o,a){var A,l=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(A=function(u){for(var f,d=256*u.charCodeAt(4)+u.charCodeAt(5),B=u.length,b={width:0,height:0,numcomponents:1},E=4;E<B;E+=2){if(E+=d,e.indexOf(u.charCodeAt(E+1))!==-1){f=256*u.charCodeAt(E+5)+u.charCodeAt(E+6),b={width:256*u.charCodeAt(E+7)+u.charCodeAt(E+8),height:f,numcomponents:u.charCodeAt(E+9)};break}d=256*u.charCodeAt(E+2)+u.charCodeAt(E+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:n,width:A.width,height:A.height,colorSpace:a,bitsPerComponent:8,filter:l,index:r,alias:s}}return c}}(fn.API);var zh,gy,ES,IS,SS,BW=function(){var t,e,n;function r(i){var o,a,A,l,c,u,f,d,B,b,E,v,C,S;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},u=null;;){switch(o=this.readUInt32(),B=(function(){var R,P;for(P=[],R=0;R<4;++R)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":u&&this.animation.frames.push(u),this.pos+=4,u={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),l=this.readUInt16()||100,u.delay=1e3*c/l,u.disposeOp=this.data[this.pos++],u.blendOp=this.data[this.pos++],u.data=[];break;case"IDAT":case"fdAT":for(B==="fdAT"&&(this.pos+=4,o-=4),i=(u!=null?u.data:void 0)||this.imgData,v=0;0<=o?v<o:v>o;0<=o?++v:--v)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(A=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>A)throw new Error("More transparent colors than palette size");if((b=A-this.transparency.indexed.length)>0)for(C=0;0<=b?C<b:C>b;0<=b?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":f=(E=this.read(o)).indexOf(0),d=String.fromCharCode.apply(String,E.slice(0,f)),this.text[d]=String.fromCharCode.apply(String,E.slice(f+1));break;case"IEND":return u&&this.animation.frames.push(u),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(i){var o,a;for(a=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),A=0,l=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function c(u,f,d,B){var b,E,v,C,S,R,P,Q,T,I,O,M,L,j,k,$,re,oe,pe,se,me,ve=Math.ceil((l.width-u)/d),Ve=Math.ceil((l.height-f)/B),z=l.width==ve&&l.height==Ve;for(j=o*ve,M=z?a:new Uint8Array(j*Ve),R=i.length,L=0,E=0;L<Ve&&A<R;){switch(i[A++]){case 0:for(C=re=0;re<j;C=re+=1)M[E++]=i[A++];break;case 1:for(C=oe=0;oe<j;C=oe+=1)b=i[A++],S=C<o?0:M[E-o],M[E++]=(b+S)%256;break;case 2:for(C=pe=0;pe<j;C=pe+=1)b=i[A++],v=(C-C%o)/o,k=L&&M[(L-1)*j+v*o+C%o],M[E++]=(k+b)%256;break;case 3:for(C=se=0;se<j;C=se+=1)b=i[A++],v=(C-C%o)/o,S=C<o?0:M[E-o],k=L&&M[(L-1)*j+v*o+C%o],M[E++]=(b+Math.floor((S+k)/2))%256;break;case 4:for(C=me=0;me<j;C=me+=1)b=i[A++],v=(C-C%o)/o,S=C<o?0:M[E-o],L===0?k=$=0:(k=M[(L-1)*j+v*o+C%o],$=v&&M[(L-1)*j+(v-1)*o+C%o]),P=S+k-$,Q=Math.abs(P-S),I=Math.abs(P-k),O=Math.abs(P-$),T=Q<=I&&Q<=O?S:I<=O?k:$,M[E++]=(b+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[A-1])}if(!z){var J=((f+L*B)*l.width+u)*o,ie=L*j;for(C=0;C<ve;C+=1){for(var ce=0;ce<o;ce+=1)a[J++]=M[ie++];J+=(d-1)*o}}L++}}return i=eW(i),l.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),a},r.prototype.decodePalette=function(){var i,o,a,A,l,c,u,f,d;for(a=this.palette,c=this.transparency.indexed||[],l=new Uint8Array((c.length||0)+a.length),A=0,i=0,o=u=0,f=a.length;u<f;o=u+=3)l[A++]=a[o],l[A++]=a[o+1],l[A++]=a[o+2],l[A++]=(d=c[i++])!=null?d:255;return l},r.prototype.copyToImageData=function(i,o){var a,A,l,c,u,f,d,B,b,E,v;if(A=this.colors,b=null,a=this.hasAlphaChannel,this.palette.length&&(b=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),A=4,a=!0),B=(l=i.data||i).length,u=b||o,c=f=0,A===1)for(;c<B;)d=b?4*o[c/4]:f,E=u[d++],l[c++]=E,l[c++]=E,l[c++]=E,l[c++]=a?u[d++]:255,f=d;else for(;c<B;)d=b?4*o[c/4]:f,l[c++]=u[d++],l[c++]=u[d++],l[c++]=u[d++],l[c++]=a?u[d++]:255,f=d},r.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(gn)==="[object Window]"){try{e=gn.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(i){var o;if(s()===!0)return n.width=i.width,n.height=i.height,n.clearRect(0,0,i.width,i.height),n.putImageData(i,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(i){var o,a,A,l,c,u,f,d;if(this.animation){for(d=[],a=c=0,u=(f=this.animation.frames).length;c<u;a=++c)o=f[a],A=i.createImageData(o.width,o.height),l=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(A,l),o.imageData=A,d.push(o.image=t(A));return d}},r.prototype.renderFrame=function(i,o){var a,A,l;return a=(A=this.animation.frames)[o],l=A[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(l!=null?l.disposeOp:void 0)===1?i.clearRect(l.xOffset,l.yOffset,l.width,l.height):(l!=null?l.disposeOp:void 0)===2&&i.putImageData(l.imageData,l.xOffset,l.yOffset),a.blendOp===0&&i.clearRect(a.xOffset,a.yOffset,a.width,a.height),i.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(i){var o,a,A,l,c,u,f=this;return a=0,u=this.animation,l=u.numFrames,A=u.frames,c=u.numPlays,(o=function(){var d,B;if(d=a++%l,B=A[d],f.renderFrame(i,d),l>1&&a/l<c)return f.animation._timeout=setTimeout(o,B.delay)})()},r.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},r.prototype.render=function(i){var o,a;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function _W(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,o=1<<(7&s)+1;t[e++],t[e++];var a=null,A=null;i&&(a=e,A=o,e+=3*o);var l=!0,c=[],u=0,f=null,d=0,B=null;for(this.width=n,this.height=r;l&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,B=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];u=t[e++]|t[e++]<<8,f=t[e++],!(1&b)&&(f=null),d=b>>2&7,e++;break;case 254:for(;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var E=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,R=t[e++],P=R>>6&1,Q=1<<(7&R)+1,T=a,I=A,O=!1;R>>7&&(O=!0,T=e,I=Q,e+=3*Q);var M=e;for(e++;;){var L;if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}c.push({x:E,y:v,width:C,height:S,has_local_palette:O,palette_offset:T,palette_size:I,data_offset:M,data_length:e-M,transparent_index:f,interlaced:!!P,delay:u,disposal:d});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return B},this.frameInfo=function(j){if(j<0||j>=c.length)throw new Error("Frame index out of range.");return c[j]},this.decodeAndBlitFrameBGRA=function(j,k){var $=this.frameInfo(j),re=$.width*$.height,oe=new Uint8Array(re);FS(t,$.data_offset,oe,re);var pe=$.palette_offset,se=$.transparent_index;se===null&&(se=256);var me=$.width,ve=n-me,Ve=me,z=4*($.y*n+$.x),J=4*(($.y+$.height)*n+$.x),ie=z,ce=4*ve;$.interlaced===!0&&(ce+=4*n*7);for(var ge=8,we=0,ue=oe.length;we<ue;++we){var fe=oe[we];if(Ve===0&&(Ve=me,(ie+=ce)>=J&&(ce=4*ve+4*n*(ge-1),ie=z+(me+ve)*(ge<<1),ge>>=1)),fe===se)ie+=4;else{var Ue=t[pe+3*fe],He=t[pe+3*fe+1],Ke=t[pe+3*fe+2];k[ie++]=Ke,k[ie++]=He,k[ie++]=Ue,k[ie++]=255}--Ve}},this.decodeAndBlitFrameRGBA=function(j,k){var $=this.frameInfo(j),re=$.width*$.height,oe=new Uint8Array(re);FS(t,$.data_offset,oe,re);var pe=$.palette_offset,se=$.transparent_index;se===null&&(se=256);var me=$.width,ve=n-me,Ve=me,z=4*($.y*n+$.x),J=4*(($.y+$.height)*n+$.x),ie=z,ce=4*ve;$.interlaced===!0&&(ce+=4*n*7);for(var ge=8,we=0,ue=oe.length;we<ue;++we){var fe=oe[we];if(Ve===0&&(Ve=me,(ie+=ce)>=J&&(ce=4*ve+4*n*(ge-1),ie=z+(me+ve)*(ge<<1),ge>>=1)),fe===se)ie+=4;else{var Ue=t[pe+3*fe],He=t[pe+3*fe+1],Ke=t[pe+3*fe+2];k[ie++]=Ue,k[ie++]=He,k[ie++]=Ke,k[ie++]=255}--Ve}}}function FS(t,e,n,r){for(var s=t[e++],i=1<<s,o=i+1,a=o+1,A=s+1,l=(1<<A)-1,c=0,u=0,f=0,d=t[e++],B=new Int32Array(4096),b=null;;){for(;c<16&&d!==0;)u|=t[e++]<<c,c+=8,d===1?d=t[e++]:--d;if(c<A)break;var E=u&l;if(u>>=A,c-=A,E!==i){if(E===o)break;for(var v=E<a?E:b,C=0,S=v;S>i;)S=B[S]>>8,++C;var R=S;if(f+C+(v!==E?1:0)>r)return void br.log("Warning, gif stream longer than expected.");n[f++]=R;var P=f+=C;for(v!==E&&(n[f++]=R),S=v;C--;)S=B[S],n[--P]=255&S,S>>=8;b!==null&&a<4096&&(B[a++]=b<<8|R,a>=l+1&&A<12&&(++A,l=l<<1|1)),b=E}else a=o+1,l=(1<<(A=s+1))-1,b=null}return f!==r&&br.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function hx(t){var e,n,r,s,i,o=Math.floor,a=new Array(64),A=new Array(64),l=new Array(64),c=new Array(64),u=new Array(65535),f=new Array(65535),d=new Array(64),B=new Array(64),b=[],E=0,v=7,C=new Array(64),S=new Array(64),R=new Array(64),P=new Array(256),Q=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function oe(z,J){for(var ie=0,ce=0,ge=new Array,we=1;we<=16;we++){for(var ue=1;ue<=z[we];ue++)ge[J[ce]]=[],ge[J[ce]][0]=ie,ge[J[ce]][1]=we,ce++,ie++;ie*=2}return ge}function pe(z){for(var J=z[0],ie=z[1]-1;ie>=0;)J&1<<ie&&(E|=1<<v),ie--,--v<0&&(E==255?(se(255),se(0)):se(E),v=7,E=0)}function se(z){b.push(z)}function me(z){se(z>>8&255),se(255&z)}function ve(z,J,ie,ce,ge){for(var we,ue=ge[0],fe=ge[240],Ue=function(Ge,lt){var pt,dt,Ut,Kt,Mt,Jt,$t,St,Rt,ke,Le=0;for(Rt=0;Rt<8;++Rt){pt=Ge[Le],dt=Ge[Le+1],Ut=Ge[Le+2],Kt=Ge[Le+3],Mt=Ge[Le+4],Jt=Ge[Le+5],$t=Ge[Le+6];var nt=pt+(St=Ge[Le+7]),Xe=pt-St,Ot=dt+$t,vt=dt-$t,Zt=Ut+Jt,vr=Ut-Jt,hn=Kt+Mt,Sr=Kt-Mt,En=nt+hn,Fr=nt-hn,nn=Ot+Zt,mt=Ot-Zt;Ge[Le]=En+nn,Ge[Le+4]=En-nn;var ct=.707106781*(mt+Fr);Ge[Le+2]=Fr+ct,Ge[Le+6]=Fr-ct;var xt=.382683433*((En=Sr+vr)-(mt=vt+Xe)),wn=.5411961*En+xt,yn=1.306562965*mt+xt,wr=.707106781*(nn=vr+vt),jr=Xe+wr,Wt=Xe-wr;Ge[Le+5]=Wt+wn,Ge[Le+3]=Wt-wn,Ge[Le+1]=jr+yn,Ge[Le+7]=jr-yn,Le+=8}for(Le=0,Rt=0;Rt<8;++Rt){pt=Ge[Le],dt=Ge[Le+8],Ut=Ge[Le+16],Kt=Ge[Le+24],Mt=Ge[Le+32],Jt=Ge[Le+40],$t=Ge[Le+48];var ye=pt+(St=Ge[Le+56]),Te=pt-St,je=dt+$t,Re=dt-$t,it=Ut+Jt,Tt=Ut-Jt,Dt=Kt+Mt,Bt=Kt-Mt,Ct=ye+Dt,yt=ye-Dt,Nt=je+it,en=je-it;Ge[Le]=Ct+Nt,Ge[Le+32]=Ct-Nt;var sn=.707106781*(en+yt);Ge[Le+16]=yt+sn,Ge[Le+48]=yt-sn;var Nn=.382683433*((Ct=Bt+Tt)-(en=Re+Te)),In=.5411961*Ct+Nn,Bn=1.306562965*en+Nn,Mn=.707106781*(Nt=Tt+Re),Ss=Te+Mn,Zs=Te-Mn;Ge[Le+40]=Zs+In,Ge[Le+24]=Zs-In,Ge[Le+8]=Ss+Bn,Ge[Le+56]=Ss-Bn,Le++}for(Rt=0;Rt<64;++Rt)ke=Ge[Rt]*lt[Rt],d[Rt]=ke>0?ke+.5|0:ke-.5|0;return d}(z,J),He=0;He<64;++He)B[T[He]]=Ue[He];var Ke=B[0]-ie;ie=B[0],Ke==0?pe(ce[0]):(pe(ce[f[we=32767+Ke]]),pe(u[we]));for(var Je=63;Je>0&&B[Je]==0;)Je--;if(Je==0)return pe(ue),ie;for(var ft,Oe=1;Oe<=Je;){for(var de=Oe;B[Oe]==0&&Oe<=Je;)++Oe;var Et=Oe-de;if(Et>=16){ft=Et>>4;for(var At=1;At<=ft;++At)pe(fe);Et&=15}we=32767+B[Oe],pe(ge[(Et<<4)+f[we]]),pe(u[we]),Oe++}return Je!=63&&pe(ue),ie}function Ve(z){z=Math.min(Math.max(z,1),100),i!=z&&(function(J){for(var ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ce=0;ce<64;ce++){var ge=o((ie[ce]*J+50)/100);ge=Math.min(Math.max(ge,1),255),a[T[ce]]=ge}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var fe=o((we[ue]*J+50)/100);fe=Math.min(Math.max(fe,1),255),A[T[ue]]=fe}for(var Ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],He=0,Ke=0;Ke<8;Ke++)for(var Je=0;Je<8;Je++)l[He]=1/(a[T[He]]*Ue[Ke]*Ue[Je]*8),c[He]=1/(A[T[He]]*Ue[Ke]*Ue[Je]*8),He++}(z<50?Math.floor(5e3/z):Math.floor(200-2*z)),i=z)}this.encode=function(z,J){J&&Ve(J),b=new Array,E=0,v=7,me(65496),me(65504),me(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),me(1),me(1),se(0),se(0),function(){me(65499),me(132),se(0);for(var dt=0;dt<64;dt++)se(a[dt]);se(1);for(var Ut=0;Ut<64;Ut++)se(A[Ut])}(),function(dt,Ut){me(65472),me(17),se(8),me(Ut),me(dt),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)}(z.width,z.height),function(){me(65476),me(418),se(0);for(var dt=0;dt<16;dt++)se(I[dt+1]);for(var Ut=0;Ut<=11;Ut++)se(O[Ut]);se(16);for(var Kt=0;Kt<16;Kt++)se(M[Kt+1]);for(var Mt=0;Mt<=161;Mt++)se(L[Mt]);se(1);for(var Jt=0;Jt<16;Jt++)se(j[Jt+1]);for(var $t=0;$t<=11;$t++)se(k[$t]);se(17);for(var St=0;St<16;St++)se($[St+1]);for(var Rt=0;Rt<=161;Rt++)se(re[Rt])}(),me(65498),me(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var ie=0,ce=0,ge=0;E=0,v=7,this.encode.displayName="_encode_";for(var we,ue,fe,Ue,He,Ke,Je,ft,Oe,de=z.data,Et=z.width,At=z.height,Ge=4*Et,lt=0;lt<At;){for(we=0;we<Ge;){for(He=Ge*lt+we,Je=-1,ft=0,Oe=0;Oe<64;Oe++)Ke=He+(ft=Oe>>3)*Ge+(Je=4*(7&Oe)),lt+ft>=At&&(Ke-=Ge*(lt+1+ft-At)),we+Je>=Ge&&(Ke-=we+Je-Ge+4),ue=de[Ke++],fe=de[Ke++],Ue=de[Ke++],C[Oe]=(Q[ue]+Q[fe+256>>0]+Q[Ue+512>>0]>>16)-128,S[Oe]=(Q[ue+768>>0]+Q[fe+1024>>0]+Q[Ue+1280>>0]>>16)-128,R[Oe]=(Q[ue+1280>>0]+Q[fe+1536>>0]+Q[Ue+1792>>0]>>16)-128;ie=ve(C,l,ie,e,r),ce=ve(S,c,ce,n,s),ge=ve(R,c,ge,n,s),we+=32}lt+=8}if(v>=0){var pt=[];pt[1]=v+1,pt[0]=(1<<v+1)-1,pe(pt)}return me(65497),new Uint8Array(b)},t=t||50,function(){for(var z=String.fromCharCode,J=0;J<256;J++)P[J]=z(J)}(),e=oe(I,O),n=oe(j,k),r=oe(M,L),s=oe($,re),function(){for(var z=1,J=2,ie=1;ie<=15;ie++){for(var ce=z;ce<J;ce++)f[32767+ce]=ie,u[32767+ce]=[],u[32767+ce][1]=ie,u[32767+ce][0]=ce;for(var ge=-(J-1);ge<=-z;ge++)f[32767+ge]=ie,u[32767+ge]=[],u[32767+ge][1]=ie,u[32767+ge][0]=J-1+ge;z<<=1,J<<=1}}(),function(){for(var z=0;z<256;z++)Q[z]=19595*z,Q[z+256>>0]=38470*z,Q[z+512>>0]=7471*z+32768,Q[z+768>>0]=-11059*z,Q[z+1024>>0]=-21709*z,Q[z+1280>>0]=32768*z+8421375,Q[z+1536>>0]=-27439*z,Q[z+1792>>0]=-5329*z}(),Ve(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function $a(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function TS(t){function e(I){if(!I)throw Error("assert :P")}function n(I,O,M){for(var L=0;4>L;L++)if(I[O+L]!=M.charCodeAt(L))return!0;return!1}function r(I,O,M,L,j){for(var k=0;k<j;k++)I[O+k]=M[L+k]}function s(I,O,M,L){for(var j=0;j<L;j++)I[O+j]=M}function i(I){return new Int32Array(I)}function o(I,O){for(var M=[],L=0;L<I;L++)M.push(new O);return M}function a(I,O){var M=[];return function L(j,k,$){for(var re=$[k],oe=0;oe<re&&(j.push($.length>k+1?[]:new O),!($.length<k+1));oe++)L(j[oe],k+1,$)}(M,0,I),M}var A=function(){var I=this;function O(p,_){for(var N=1<<_-1>>>0;p&N;)N>>>=1;return N?(p&N-1)+N:p}function M(p,_,N,H,G){e(!(H%N));do p[_+(H-=N)]=G;while(0<H)}function L(p,_,N,H,G){if(e(2328>=G),512>=G)var q=i(512);else if((q=i(G))==null)return 0;return function(X,te,ne,le,be,De){var Qe,Ce,tt=te,We=1<<ne,Be=i(16),Ie=i(16);for(e(be!=0),e(le!=null),e(X!=null),e(0<ne),Ce=0;Ce<be;++Ce){if(15<le[Ce])return 0;++Be[le[Ce]]}if(Be[0]==be)return 0;for(Ie[1]=0,Qe=1;15>Qe;++Qe){if(Be[Qe]>1<<Qe)return 0;Ie[Qe+1]=Ie[Qe]+Be[Qe]}for(Ce=0;Ce<be;++Ce)Qe=le[Ce],0<le[Ce]&&(De[Ie[Qe]++]=Ce);if(Ie[15]==1)return(le=new j).g=0,le.value=De[0],M(X,tt,1,We,le),We;var Ze,rt=-1,et=We-1,Lt=0,wt=1,an=1,_t=1<<ne;for(Ce=0,Qe=1,be=2;Qe<=ne;++Qe,be<<=1){if(wt+=an<<=1,0>(an-=Be[Qe]))return 0;for(;0<Be[Qe];--Be[Qe])(le=new j).g=Qe,le.value=De[Ce++],M(X,tt+Lt,be,_t,le),Lt=O(Lt,Qe)}for(Qe=ne+1,be=2;15>=Qe;++Qe,be<<=1){if(wt+=an<<=1,0>(an-=Be[Qe]))return 0;for(;0<Be[Qe];--Be[Qe]){if(le=new j,(Lt&et)!=rt){for(tt+=_t,Ze=1<<(rt=Qe)-ne;15>rt&&!(0>=(Ze-=Be[rt]));)++rt,Ze<<=1;We+=_t=1<<(Ze=rt-ne),X[te+(rt=Lt&et)].g=Ze+ne,X[te+rt].value=tt-te-rt}le.g=Qe-ne,le.value=De[Ce++],M(X,tt+(Lt>>ne),be,_t,le),Lt=O(Lt,Qe)}}return wt!=2*Ie[15]-1?0:We}(p,_,N,H,G,q)}function j(){this.value=this.g=0}function k(){this.value=this.g=0}function $(){this.G=o(5,j),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o($r,k)}function re(p,_,N,H){e(p!=null),e(_!=null),e(2147483648>H),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=_,p.pa=N,p.Jd=_,p.Yc=N+H,p.Zc=4<=H?N+H-4+1:N,we(p)}function oe(p,_){for(var N=0;0<_--;)N|=fe(p,128)<<_;return N}function pe(p,_){var N=oe(p,_);return ue(p)?-N:N}function se(p,_,N,H){var G,q=0;for(e(p!=null),e(_!=null),e(4294967288>H),p.Sb=H,p.Ra=0,p.u=0,p.h=0,4<H&&(H=4),G=0;G<H;++G)q+=_[N+G]<<8*G;p.Ra=q,p.bb=H,p.oa=_,p.pa=N}function me(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<al-8>>>0,++p.bb,p.u-=8;ie(p)&&(p.h=1,p.u=0)}function ve(p,_){if(e(0<=_),!p.h&&_<=ol){var N=J(p)&Wn[_];return p.u+=_,me(p),N}return p.h=1,p.u=0}function Ve(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(p){return p.Ra>>>(p.u&al-1)>>>0}function ie(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>al}function ce(p,_){p.u=_,p.h=ie(p)}function ge(p){p.u>=Ac&&(e(p.u>=Ac),me(p))}function we(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ue(p){return oe(p,1)}function fe(p,_){var N=p.Ca;0>p.b&&we(p);var H=p.b,G=N*_>>>8,q=(p.I>>>H>G)+0;for(q?(N-=G,p.I-=G+1<<H>>>0):N=G+1,H=N,G=0;256<=H;)G+=8,H>>=8;return H=7^G+ni[H],p.b-=H,p.Ca=(N<<H)-1,q}function Ue(p,_,N){p[_+0]=N>>24&255,p[_+1]=N>>16&255,p[_+2]=N>>8&255,p[_+3]=N>>0&255}function He(p,_){return p[_+0]<<0|p[_+1]<<8}function Ke(p,_){return He(p,_)|p[_+2]<<16}function Je(p,_){return He(p,_)|He(p,_+2)<<16}function ft(p,_){var N=1<<_;return e(p!=null),e(0<_),p.X=i(N),p.X==null?0:(p.Mb=32-_,p.Xa=_,1)}function Oe(p,_){e(p!=null),e(_!=null),e(p.Xa==_.Xa),r(_.X,0,p.X,0,1<<_.Xa)}function de(){this.X=[],this.Xa=this.Mb=0}function Et(p,_,N,H){e(N!=null),e(H!=null);var G=N[0],q=H[0];return G==0&&(G=(p*q+_/2)/_),q==0&&(q=(_*G+p/2)/p),0>=G||0>=q?0:(N[0]=G,H[0]=q,1)}function At(p,_){return p+(1<<_)-1>>>_}function Ge(p,_){return((4278255360&p)+(4278255360&_)>>>0&4278255360)+((16711935&p)+(16711935&_)>>>0&16711935)>>>0}function lt(p,_){I[_]=function(N,H,G,q,X,te,ne){var le;for(le=0;le<X;++le){var be=I[p](te[ne+le-1],G,q+le);te[ne+le]=Ge(N[H+le],be)}}}function pt(){this.ud=this.hd=this.jd=0}function dt(p,_){return((4278124286&(p^_))>>>1)+(p&_)>>>0}function Ut(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Kt(p,_){return Ut(p+(p-_+.5>>1))}function Mt(p,_,N){return Math.abs(_-N)-Math.abs(p-N)}function Jt(p,_,N,H,G,q,X){for(H=q[X-1],N=0;N<G;++N)q[X+N]=H=Ge(p[_+N],H)}function $t(p,_,N,H,G){var q;for(q=0;q<N;++q){var X=p[_+q],te=X>>8&255,ne=16711935&(ne=(ne=16711935&X)+((te<<16)+te));H[G+q]=(4278255360&X)+ne>>>0}}function St(p,_){_.jd=p>>0&255,_.hd=p>>8&255,_.ud=p>>16&255}function Rt(p,_,N,H,G,q){var X;for(X=0;X<H;++X){var te=_[N+X],ne=te>>>8,le=te,be=255&(be=(be=te>>>16)+((p.jd<<24>>24)*(ne<<24>>24)>>>5));le=255&(le=(le=le+((p.hd<<24>>24)*(ne<<24>>24)>>>5))+((p.ud<<24>>24)*(be<<24>>24)>>>5)),G[q+X]=(4278255360&te)+(be<<16)+le}}function ke(p,_,N,H,G){I[_]=function(q,X,te,ne,le,be,De,Qe,Ce){for(ne=De;ne<Qe;++ne)for(De=0;De<Ce;++De)le[be++]=G(te[H(q[X++])])},I[p]=function(q,X,te,ne,le,be,De){var Qe=8>>q.b,Ce=q.Ea,tt=q.K[0],We=q.w;if(8>Qe)for(q=(1<<q.b)-1,We=(1<<Qe)-1;X<te;++X){var Be,Ie=0;for(Be=0;Be<Ce;++Be)Be&q||(Ie=H(ne[le++])),be[De++]=G(tt[Ie&We]),Ie>>=Qe}else I["VP8LMapColor"+N](ne,le,tt,We,be,De,X,te,Ce)}}function Le(p,_,N,H,G){for(N=_+N;_<N;){var q=p[_++];H[G++]=q>>16&255,H[G++]=q>>8&255,H[G++]=q>>0&255}}function nt(p,_,N,H,G){for(N=_+N;_<N;){var q=p[_++];H[G++]=q>>16&255,H[G++]=q>>8&255,H[G++]=q>>0&255,H[G++]=q>>24&255}}function Xe(p,_,N,H,G){for(N=_+N;_<N;){var q=(X=p[_++])>>16&240|X>>12&15,X=X>>0&240|X>>28&15;H[G++]=q,H[G++]=X}}function Ot(p,_,N,H,G){for(N=_+N;_<N;){var q=(X=p[_++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;H[G++]=q,H[G++]=X}}function vt(p,_,N,H,G){for(N=_+N;_<N;){var q=p[_++];H[G++]=q>>0&255,H[G++]=q>>8&255,H[G++]=q>>16&255}}function Zt(p,_,N,H,G,q){if(q==0)for(N=_+N;_<N;)Ue(H,((q=p[_++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),G+=32;else r(H,G,p,_,N)}function vr(p,_){I[_][0]=I[p+"0"],I[_][1]=I[p+"1"],I[_][2]=I[p+"2"],I[_][3]=I[p+"3"],I[_][4]=I[p+"4"],I[_][5]=I[p+"5"],I[_][6]=I[p+"6"],I[_][7]=I[p+"7"],I[_][8]=I[p+"8"],I[_][9]=I[p+"9"],I[_][10]=I[p+"10"],I[_][11]=I[p+"11"],I[_][12]=I[p+"12"],I[_][13]=I[p+"13"],I[_][14]=I[p+"0"],I[_][15]=I[p+"0"]}function hn(p){return p==op||p==ap||p==vh||p==pc}function Sr(){this.eb=[],this.size=this.A=this.fb=0}function En(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Fr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Sr,this.f.kb=new En,this.sd=null}function nn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function mt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ct(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function xt(p,_){var N=p.T,H=_.ba.f.RGBA,G=H.eb,q=H.fb+p.ka*H.A,X=go[_.ba.S],te=p.y,ne=p.O,le=p.f,be=p.N,De=p.ea,Qe=p.W,Ce=_.cc,tt=_.dc,We=_.Mc,Be=_.Nc,Ie=p.ka,Ze=p.ka+p.T,rt=p.U,et=rt+1>>1;for(Ie==0?X(te,ne,null,null,le,be,De,Qe,le,be,De,Qe,G,q,null,null,rt):(X(_.ec,_.fc,te,ne,Ce,tt,We,Be,le,be,De,Qe,G,q-H.A,G,q,rt),++N);Ie+2<Ze;Ie+=2)Ce=le,tt=be,We=De,Be=Qe,be+=p.Rc,Qe+=p.Rc,q+=2*H.A,X(te,(ne+=2*p.fa)-p.fa,te,ne,Ce,tt,We,Be,le,be,De,Qe,G,q-H.A,G,q,rt);return ne+=p.fa,p.j+Ze<p.o?(r(_.ec,_.fc,te,ne,rt),r(_.cc,_.dc,le,be,et),r(_.Mc,_.Nc,De,Qe,et),N--):1&Ze||X(te,ne,null,null,le,be,De,Qe,le,be,De,Qe,G,q+H.A,null,null,rt),N}function wn(p,_,N){var H=p.F,G=[p.J];if(H!=null){var q=p.U,X=_.ba.S,te=X==yh||X==vh;_=_.ba.f.RGBA;var ne=[0],le=p.ka;ne[0]=p.T,p.Kb&&(le==0?--ne[0]:(--le,G[0]-=p.width),p.j+p.ka+p.T==p.o&&(ne[0]=p.o-p.j-le));var be=_.eb;le=_.fb+le*_.A,p=cr(H,G[0],p.width,q,ne,be,le+(te?0:3),_.A),e(N==ne),p&&hn(X)&&Ki(be,le,te,q,ne,_.A)}return 0}function yn(p){var _=p.ma,N=_.ba.S,H=11>N,G=N==gh||N==mh||N==yh||N==fc||N==12||hn(N);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!xr(_.Oa,p,G?11:12))return 0;if(G&&hn(N)&&st(),p.da)alert("todo:use_scaling");else{if(H){if(_.Ib=ct,p.Kb){if(N=p.U+1>>1,_.memory=i(p.U+2*N),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+p.U,_.Mc=_.cc,_.Nc=_.dc+N,_.Ib=xt,st()}}else alert("todo:EmitYUV");G&&(_.Jb=wn,H&&Ne())}if(H&&!a0){for(p=0;256>p;++p)Vw[p]=89858*(p-128)+bh>>xh,Gw[p]=-22014*(p-128)+bh,zw[p]=-45773*(p-128),Kw[p]=113618*(p-128)+bh>>xh;for(p=bA;p<cp;++p)_=76283*(p-16)+bh>>xh,Ww[p-bA]=An(_,255),$w[p-bA]=An(_+8>>4,15);a0=1}return 1}function wr(p){var _=p.ma,N=p.U,H=p.T;return e(!(1&p.ka)),0>=N||0>=H?0:(N=_.Ib(p,_),_.Jb!=null&&_.Jb(p,_,N),_.Dc+=N,1)}function jr(p){p.ma.memory=null}function Wt(p,_,N,H){return ve(p,8)!=47?0:(_[0]=ve(p,14)+1,N[0]=ve(p,14)+1,H[0]=ve(p,1),ve(p,3)!=0?0:!p.h)}function ye(p,_){if(4>p)return p+1;var N=p-2>>1;return(2+(1&p)<<N)+ve(_,N)+1}function Te(p,_){return 120<_?_-120:1<=(N=((N=Tw[_-1])>>4)*p+(8-(15&N)))?N:1;var N}function je(p,_,N){var H=J(N),G=p[_+=255&H].g-8;return 0<G&&(ce(N,N.u+8),H=J(N),_+=p[_].value,_+=H&(1<<G)-1),ce(N,N.u+p[_].g),p[_].value}function Re(p,_,N){return N.g+=p.g,N.value+=p.value<<_>>>0,e(8>=N.g),p.g}function it(p,_,N){var H=p.xc;return e((_=H==0?0:p.vc[p.md*(N>>H)+(_>>H)])<p.Wb),p.Ya[_]}function Tt(p,_,N,H){var G=p.ab,q=p.c*_,X=p.C;_=X+_;var te=N,ne=H;for(H=p.Ta,N=p.Ua;0<G--;){var le=p.gc[G],be=X,De=_,Qe=te,Ce=ne,tt=(ne=H,te=N,le.Ea);switch(e(be<De),e(De<=le.nc),le.hc){case 2:Qu(Qe,Ce,(De-be)*tt,ne,te);break;case 0:var We=be,Be=De,Ie=ne,Ze=te,rt=(_t=le).Ea;We==0&&(lc(Qe,Ce,null,null,1,Ie,Ze),Jt(Qe,Ce+1,0,0,rt-1,Ie,Ze+1),Ce+=rt,Ze+=rt,++We);for(var et=1<<_t.b,Lt=et-1,wt=At(rt,_t.b),an=_t.K,_t=_t.w+(We>>_t.b)*wt;We<Be;){var $n=an,Zn=_t,ot=1;for(cc(Qe,Ce,Ie,Ze-rt,1,Ie,Ze);ot<rt;){var jn=(ot&~Lt)+et;jn>rt&&(jn=rt),(0,ri[$n[Zn++]>>8&15])(Qe,Ce+ +ot,Ie,Ze+ot-rt,jn-ot,Ie,Ze+ot),ot=jn}Ce+=rt,Ze+=rt,++We&Lt||(_t+=wt)}De!=le.nc&&r(ne,te-tt,ne,te+(De-be-1)*tt,tt);break;case 1:for(tt=Qe,Be=Ce,rt=(Qe=le.Ea)-(Ze=Qe&~(Ie=(Ce=1<<le.b)-1)),We=At(Qe,le.b),et=le.K,le=le.w+(be>>le.b)*We;be<De;){for(Lt=et,wt=le,an=new pt,_t=Be+Ze,$n=Be+Qe;Be<_t;)St(Lt[wt++],an),mA(an,tt,Be,Ce,ne,te),Be+=Ce,te+=Ce;Be<$n&&(St(Lt[wt++],an),mA(an,tt,Be,rt,ne,te),Be+=rt,te+=rt),++be&Ie||(le+=We)}break;case 3:if(Qe==ne&&Ce==te&&0<le.b){for(Be=ne,Qe=tt=te+(De-be)*tt-(Ze=(De-be)*At(le.Ea,le.b)),Ce=ne,Ie=te,We=[],Ze=(rt=Ze)-1;0<=Ze;--Ze)We[Ze]=Ce[Ie+Ze];for(Ze=rt-1;0<=Ze;--Ze)Be[Qe+Ze]=We[Ze];Tr(le,be,De,ne,tt,ne,te)}else Tr(le,be,De,Qe,Ce,ne,te)}te=H,ne=N}ne!=N&&r(H,N,te,ne,q)}function Dt(p,_){var N=p.V,H=p.Ba+p.c*p.C,G=_-p.C;if(e(_<=p.l.o),e(16>=G),0<G){var q=p.l,X=p.Ta,te=p.Ua,ne=q.width;if(Tt(p,G,N,H),G=te=[te],e((N=p.C)<(H=_)),e(q.v<q.va),H>q.o&&(H=q.o),N<q.j){var le=q.j-N;N=q.j,G[0]+=le*ne}if(N>=H?N=0:(G[0]+=4*q.v,q.ka=N-q.j,q.U=q.va-q.v,q.T=H-N,N=1),N){if(te=te[0],11>(N=p.ca).S){var be=N.f.RGBA,De=(H=N.S,G=q.U,q=q.T,le=be.eb,be.A),Qe=q;for(be=be.fb+p.Ma*be.A;0<Qe--;){var Ce=X,tt=te,We=G,Be=le,Ie=be;switch(H){case ph:si(Ce,tt,We,Be,Ie);break;case gh:ks(Ce,tt,We,Be,Ie);break;case op:ks(Ce,tt,We,Be,Ie),Ki(Be,Ie,0,We,1,0);break;case dl:Hi(Ce,tt,We,Be,Ie);break;case mh:Zt(Ce,tt,We,Be,Ie,1);break;case ap:Zt(Ce,tt,We,Be,Ie,1),Ki(Be,Ie,0,We,1,0);break;case yh:Zt(Ce,tt,We,Be,Ie,0);break;case vh:Zt(Ce,tt,We,Be,Ie,0),Ki(Be,Ie,1,We,1,0);break;case fc:Qa(Ce,tt,We,Be,Ie);break;case pc:Qa(Ce,tt,We,Be,Ie),lr(Be,Ie,We,1,0);break;case Zm:Oa(Ce,tt,We,Be,Ie);break;default:e(0)}te+=ne,be+=De}p.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=N.height)}}p.C=_,e(p.C<=p.i)}function Bt(p){var _;if(0<p.ua)return 0;for(_=0;_<p.Wb;++_){var N=p.Ya[_].G,H=p.Ya[_].H;if(0<N[1][H[1]+0].g||0<N[2][H[2]+0].g||0<N[3][H[3]+0].g)return 0}return 1}function Ct(p,_,N,H,G,q){if(p.Z!=0){var X=p.qd,te=p.rd;for(e(Ka[p.Z]!=null);_<N;++_)Ka[p.Z](X,te,H,G,H,G,q),X=H,te=G,G+=q;p.qd=X,p.rd=te}}function yt(p,_){var N=p.l.ma,H=N.Z==0||N.Z==1?p.l.j:p.C;if(H=p.C<H?H:p.C,e(_<=p.l.o),_>H){var G=p.l.width,q=N.ca,X=N.tb+G*H,te=p.V,ne=p.Ba+p.c*H,le=p.gc;e(p.ab==1),e(le[0].hc==3),Oo(le[0],H,_,te,ne,q,X),Ct(N,H,_,q,X,G)}p.C=p.Ma=_}function Nt(p,_,N,H,G,q,X){var te=p.$/H,ne=p.$%H,le=p.m,be=p.s,De=N+p.$,Qe=De;G=N+H*G;var Ce=N+H*q,tt=280+be.ua,We=p.Pb?te:16777216,Be=0<be.ua?be.Wa:null,Ie=be.wc,Ze=De<Ce?it(be,ne,te):null;e(p.C<q),e(Ce<=G);var rt=!1;e:for(;;){for(;rt||De<Ce;){var et=0;if(te>=We){var Lt=De-N;e((We=p).Pb),We.wd=We.m,We.xd=Lt,0<We.s.ua&&Oe(We.s.Wa,We.s.vb),We=te+kw}if(ne&Ie||(Ze=it(be,ne,te)),e(Ze!=null),Ze.Qb&&(_[De]=Ze.qb,rt=!0),!rt)if(ge(le),Ze.jc){et=le,Lt=_;var wt=De,an=Ze.pd[J(et)&$r-1];e(Ze.jc),256>an.g?(ce(et,et.u+an.g),Lt[wt]=an.value,et=0):(ce(et,et.u+an.g-256),e(256<=an.value),et=an.value),et==0&&(rt=!0)}else et=je(Ze.G[0],Ze.H[0],le);if(le.h)break;if(rt||256>et){if(!rt)if(Ze.nd)_[De]=(Ze.qb|et<<8)>>>0;else{if(ge(le),rt=je(Ze.G[1],Ze.H[1],le),ge(le),Lt=je(Ze.G[2],Ze.H[2],le),wt=je(Ze.G[3],Ze.H[3],le),le.h)break;_[De]=(wt<<24|rt<<16|et<<8|Lt)>>>0}if(rt=!1,++De,++ne>=H&&(ne=0,++te,X!=null&&te<=q&&!(te%16)&&X(p,te),Be!=null))for(;Qe<De;)et=_[Qe++],Be.X[(506832829*et&4294967295)>>>Be.Mb]=et}else if(280>et){if(et=ye(et-256,le),Lt=je(Ze.G[4],Ze.H[4],le),ge(le),Lt=Te(H,Lt=ye(Lt,le)),le.h)break;if(De-N<Lt||G-De<et)break e;for(wt=0;wt<et;++wt)_[De+wt]=_[De+wt-Lt];for(De+=et,ne+=et;ne>=H;)ne-=H,++te,X!=null&&te<=q&&!(te%16)&&X(p,te);if(e(De<=G),ne&Ie&&(Ze=it(be,ne,te)),Be!=null)for(;Qe<De;)et=_[Qe++],Be.X[(506832829*et&4294967295)>>>Be.Mb]=et}else{if(!(et<tt))break e;for(rt=et-280,e(Be!=null);Qe<De;)et=_[Qe++],Be.X[(506832829*et&4294967295)>>>Be.Mb]=et;et=De,e(!(rt>>>(Lt=Be).Xa)),_[et]=Lt.X[rt],rt=!0}rt||e(le.h==ie(le))}if(p.Pb&&le.h&&De<G)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Oe(p.s.vb,p.s.Wa);else{if(le.h)break e;X!=null&&X(p,te>q?q:te),p.a=0,p.$=De-N}return 1}return p.a=3,0}function en(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var _=p.Wa;_!=null&&(_.X=null),p.vb=null,e(p!=null)}function sn(){var p=new sl;return p==null?null:(p.a=0,p.xb=n0,vr("Predictor","VP8LPredictors"),vr("Predictor","VP8LPredictors_C"),vr("PredictorAdd","VP8LPredictorsAdd"),vr("PredictorAdd","VP8LPredictorsAdd_C"),Qu=$t,mA=Rt,si=Le,ks=nt,Qa=Xe,Oa=Ot,Hi=vt,I.VP8LMapColor32b=Mi,I.VP8LMapColor8b=qr,p)}function Nn(p,_,N,H,G){var q=1,X=[p],te=[_],ne=H.m,le=H.s,be=null,De=0;e:for(;;){if(N)for(;q&&ve(ne,1);){var Qe=X,Ce=te,tt=H,We=1,Be=tt.m,Ie=tt.gc[tt.ab],Ze=ve(Be,2);if(tt.Oc&1<<Ze)q=0;else{switch(tt.Oc|=1<<Ze,Ie.hc=Ze,Ie.Ea=Qe[0],Ie.nc=Ce[0],Ie.K=[null],++tt.ab,e(4>=tt.ab),Ze){case 0:case 1:Ie.b=ve(Be,3)+2,We=Nn(At(Ie.Ea,Ie.b),At(Ie.nc,Ie.b),0,tt,Ie.K),Ie.K=Ie.K[0];break;case 3:var rt,et=ve(Be,8)+1,Lt=16<et?0:4<et?1:2<et?2:3;if(Qe[0]=At(Ie.Ea,Lt),Ie.b=Lt,rt=We=Nn(et,1,0,tt,Ie.K)){var wt,an=et,_t=Ie,$n=1<<(8>>_t.b),Zn=i($n);if(Zn==null)rt=0;else{var ot=_t.K[0],jn=_t.w;for(Zn[0]=_t.K[0][0],wt=1;wt<1*an;++wt)Zn[wt]=Ge(ot[jn+wt],Zn[wt-1]);for(;wt<4*$n;++wt)Zn[wt]=0;_t.K[0]=null,_t.K[0]=Zn,rt=1}}We=rt;break;case 2:break;default:e(0)}q=We}}if(X=X[0],te=te[0],q&&ve(ne,1)&&!(q=1<=(De=ve(ne,4))&&11>=De)){H.a=3;break e}var ur;if(ur=q)t:{var er,ln,ns,ii=H,Br=X,Ls=te,ir=De,Gi=N,Wi=ii.m,_r=ii.s,cs=[null],Ps=1,mo=0,Vo=Nw[ir];n:for(;;){if(Gi&&ve(Wi,1)){var ws=ve(Wi,3)+2,Ko=At(Br,ws),hl=At(Ls,ws),mc=Ko*hl;if(!Nn(Ko,hl,0,ii,cs))break n;for(cs=cs[0],_r.xc=ws,er=0;er<mc;++er){var BA=cs[er]>>8&65535;cs[er]=BA,BA>=Ps&&(Ps=BA+1)}}if(Wi.h)break n;for(ln=0;5>ln;++ln){var Or=e0[ln];!ln&&0<ir&&(Or+=1<<ir),mo<Or&&(mo=Or)}var up=o(Ps*Vo,j),u0=Ps,d0=o(u0,$);if(d0==null)var _h=null;else e(65536>=u0),_h=d0;var yc=i(mo);if(_h==null||yc==null||up==null){ii.a=1;break n}var Ch=up;for(er=ns=0;er<Ps;++er){var zo=_h[er],vc=zo.G,fl=zo.H,h0=0,pl=1,f0=0;for(ln=0;5>ln;++ln){Or=e0[ln],vc[ln]=Ch,fl[ln]=ns,!ln&&0<ir&&(Or+=1<<ir);s:{var wc,Vu=Or,Ku=ii,xc=yc,Yw=Ch,p0=ns,zu=0,da=Ku.m,g0=ve(da,1);if(s(xc,0,0,Vu),g0){var m0=ve(da,1)+1,y0=ve(da,1),dp=ve(da,y0==0?1:8);xc[dp]=1,m0==2&&(xc[dp=ve(da,8)]=1);var bc=1}else{var v0=i(19),w0=ve(da,4)+4;if(19<w0){Ku.a=3;var Eh=0;break s}for(wc=0;wc<w0;++wc)v0[wh[wc]]=ve(da,3);var vi=void 0,gl=void 0,x0=Ku,Xw=v0,Ih=Vu,b0=xc,hp=0,_A=x0.m,B0=8,_0=o(128,j);r:for(;L(_0,0,7,Xw,19);){if(ve(_A,1)){var Jw=2+2*ve(_A,3);if((vi=2+ve(_A,Jw))>Ih)break r}else vi=Ih;for(gl=0;gl<Ih&&vi--;){ge(_A);var fp=_0[0+(127&J(_A))];ce(_A,_A.u+fp.g);var Bc=fp.value;if(16>Bc)b0[gl++]=Bc,Bc!=0&&(B0=Bc);else{var pp=Bc==16,gp=Bc-16,js=Sw[gp],_c=ve(_A,Iw[gp])+js;if(gl+_c>Ih)break r;for(var Zw=pp?B0:0;0<_c--;)b0[gl++]=Zw}}hp=1;break r}hp||(x0.a=3),bc=hp}(bc=bc&&!da.h)&&(zu=L(Yw,p0,8,xc,Vu)),bc&&zu!=0?Eh=zu:(Ku.a=3,Eh=0)}if(Eh==0)break n;if(pl&&Fw[ln]==1&&(pl=Ch[ns].g==0),h0+=Ch[ns].g,ns+=Eh,3>=ln){var Gu,Sh=yc[0];for(Gu=1;Gu<Or;++Gu)yc[Gu]>Sh&&(Sh=yc[Gu]);f0+=Sh}}if(zo.nd=pl,zo.Qb=0,pl&&(zo.qb=(vc[3][fl[3]+0].value<<24|vc[1][fl[1]+0].value<<16|vc[2][fl[2]+0].value)>>>0,h0==0&&256>vc[0][fl[0]+0].value&&(zo.Qb=1,zo.qb+=vc[0][fl[0]+0].value<<8)),zo.jc=!zo.Qb&&6>f0,zo.jc){var Cc,za=zo;for(Cc=0;Cc<$r;++Cc){var CA=Cc,EA=za.pd[CA],Fh=za.G[0][za.H[0]+CA];256<=Fh.value?(EA.g=Fh.g+256,EA.value=Fh.value):(EA.g=0,EA.value=0,CA>>=Re(Fh,8,EA),CA>>=Re(za.G[1][za.H[1]+CA],16,EA),CA>>=Re(za.G[2][za.H[2]+CA],0,EA),Re(za.G[3][za.H[3]+CA],24,EA))}}}_r.vc=cs,_r.Wb=Ps,_r.Ya=_h,_r.yc=up,ur=1;break t}ur=0}if(!(q=ur)){H.a=3;break e}if(0<De){if(le.ua=1<<De,!ft(le.Wa,De)){H.a=1,q=0;break e}}else le.ua=0;var mp=H,C0=X,e2=te,yp=mp.s,Th=yp.xc;if(mp.c=C0,mp.i=e2,yp.md=At(C0,Th),yp.wc=Th==0?-1:(1<<Th)-1,N){H.xb=Qw;break e}if((be=i(X*te))==null){H.a=1,q=0;break e}q=(q=Nt(H,be,0,X,te,te,null))&&!ne.h;break e}return q?(G!=null?G[0]=be:(e(be==null),e(N)),H.$=0,N||en(le)):en(le),q}function In(p,_){var N=p.c*p.i,H=N+_+16*_;return e(p.c<=_),p.V=i(H),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+N+_,1)}function Bn(p,_){var N=p.C,H=_-N,G=p.V,q=p.Ba+p.c*N;for(e(_<=p.l.o);0<H;){var X=16<H?16:H,te=p.l.ma,ne=p.l.width,le=ne*X,be=te.ca,De=te.tb+ne*N,Qe=p.Ta,Ce=p.Ua;Tt(p,X,G,q),Xr(Qe,Ce,be,De,le),Ct(te,N,N+X,be,De,ne),H-=X,G+=X*p.c,N+=X}e(N==_),p.C=p.Ma=_}function Mn(){this.ub=this.yd=this.td=this.Rb=0}function Ss(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Zs(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Fs(){this.Yb=function(){var p=[];return function _(N,H,G){for(var q=G[H],X=0;X<q&&(N.push(G.length>H+1?[]:0),!(G.length<H+1));X++)_(N[X],H+1,G)}(p,0,[3,11]),p}()}function Vs(){this.jb=i(3),this.Wc=a([4,8],Fs),this.Xc=a([4,17],Fs)}function to(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function as(){this.ld=this.La=this.dd=this.tc=0}function Ts(){this.Na=this.la=0}function Ns(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function As(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function xn(){this.uc=this.M=this.Nb=0,this.wa=Array(new as),this.Y=0,this.ya=Array(new As),this.aa=0,this.l=new ys}function rr(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ji(){this.cb=this.a=0,this.sc="",this.m=new Ve,this.Od=new Mn,this.Kc=new Ss,this.ed=new to,this.Qa=new Zs,this.Ic=this.$c=this.Aa=0,this.D=new xn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Ve),this.ia=0,this.pb=o(4,Ns),this.Pa=new Vs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new rr),this.Hd=0,this.rb=Array(new Ts),this.sb=0,this.wa=Array(new as),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new As),this.L=this.aa=0,this.gd=a([4,2],as),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ys(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Gn(){var p=new ji;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Mu||(Mu=Aa)),p}function Hn(p,_,N){return p.a==0&&(p.a=_,p.sc=N,p.cb=0),0}function jo(p,_,N){return 3<=N&&p[_+0]==157&&p[_+1]==1&&p[_+2]==42}function Ta(p,_){if(p==null)return 0;if(p.a=0,p.sc="OK",_==null)return Hn(p,2,"null VP8Io passed to VP8GetHeaders()");var N=_.data,H=_.w,G=_.ha;if(4>G)return Hn(p,7,"Truncated header.");var q=N[H+0]|N[H+1]<<8|N[H+2]<<16,X=p.Od;if(X.Rb=!(1&q),X.td=q>>1&7,X.yd=q>>4&1,X.ub=q>>5,3<X.td)return Hn(p,3,"Incorrect keyframe parameters.");if(!X.yd)return Hn(p,4,"Frame not displayable.");H+=3,G-=3;var te=p.Kc;if(X.Rb){if(7>G)return Hn(p,7,"cannot parse picture header");if(!jo(N,H,G))return Hn(p,3,"Bad code word");te.c=16383&(N[H+4]<<8|N[H+3]),te.Td=N[H+4]>>6,te.i=16383&(N[H+6]<<8|N[H+5]),te.Ud=N[H+6]>>6,H+=7,G-=7,p.za=te.c+15>>4,p.Ub=te.i+15>>4,_.width=te.c,_.height=te.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,s((q=p.Pa).jb,0,255,q.jb.length),e((q=p.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,s(q.Zb,0,0,q.Zb.length),s(q.Lb,0,0,q.Lb)}if(X.ub>G)return Hn(p,7,"bad partition length");re(q=p.m,N,H,X.ub),H+=X.ub,G-=X.ub,X.Rb&&(te.Ld=ue(q),te.Kd=ue(q)),te=p.Qa;var ne,le=p.Pa;if(e(q!=null),e(te!=null),te.Cb=ue(q),te.Cb){if(te.Bb=ue(q),ue(q)){for(te.Fb=ue(q),ne=0;4>ne;++ne)te.Zb[ne]=ue(q)?pe(q,7):0;for(ne=0;4>ne;++ne)te.Lb[ne]=ue(q)?pe(q,6):0}if(te.Bb)for(ne=0;3>ne;++ne)le.jb[ne]=ue(q)?oe(q,8):255}else te.Bb=0;if(q.Ka)return Hn(p,3,"cannot parse segment header");if((te=p.ed).zd=ue(q),te.Tb=oe(q,6),te.wb=oe(q,3),te.Pc=ue(q),te.Pc&&ue(q)){for(le=0;4>le;++le)ue(q)&&(te.vd[le]=pe(q,6));for(le=0;4>le;++le)ue(q)&&(te.od[le]=pe(q,6))}if(p.L=te.Tb==0?0:te.zd?1:2,q.Ka)return Hn(p,3,"cannot parse filter header");var be=G;if(G=ne=H,H=ne+be,te=be,p.Xb=(1<<oe(p.m,2))-1,be<3*(le=p.Xb))N=7;else{for(ne+=3*le,te-=3*le,be=0;be<le;++be){var De=N[G+0]|N[G+1]<<8|N[G+2]<<16;De>te&&(De=te),re(p.Jc[+be],N,ne,De),ne+=De,te-=De,G+=3}re(p.Jc[+le],N,ne,te),N=ne<H?0:5}if(N!=0)return Hn(p,N,"cannot parse partitions");for(N=oe(ne=p.m,7),G=ue(ne)?pe(ne,4):0,H=ue(ne)?pe(ne,4):0,te=ue(ne)?pe(ne,4):0,le=ue(ne)?pe(ne,4):0,ne=ue(ne)?pe(ne,4):0,be=p.Qa,De=0;4>De;++De){if(be.Cb){var Qe=be.Zb[De];be.Fb||(Qe+=N)}else{if(0<De){p.pb[De]=p.pb[0];continue}Qe=N}var Ce=p.pb[De];Ce.Sc[0]=Ap[An(Qe+G,127)],Ce.Sc[1]=gc[An(Qe+0,127)],Ce.Eb[0]=2*Ap[An(Qe+H,127)],Ce.Eb[1]=101581*gc[An(Qe+te,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=Ap[An(Qe+le,117)],Ce.Qc[1]=gc[An(Qe+ne,127)],Ce.lc=Qe+ne}if(!X.Rb)return Hn(p,4,"Not a key frame.");for(ue(q),X=p.Pa,N=0;4>N;++N){for(G=0;8>G;++G)for(H=0;3>H;++H)for(te=0;11>te;++te)le=fe(q,Rw[N][G][H][te])?oe(q,8):jw[N][G][H][te],X.Wc[N][G].Yb[H][te]=le;for(G=0;17>G;++G)X.Xc[N][G]=X.Wc[N][Dw[G]]}return p.kc=ue(q),p.kc&&(p.Bd=oe(q,8)),p.cb=1}function Aa(p,_,N,H,G,q,X){var te=_[G].Yb[N];for(N=0;16>G;++G){if(!fe(p,te[N+0]))return G;for(;!fe(p,te[N+1]);)if(te=_[++G].Yb[0],N=0,G==16)return 16;var ne=_[G+1].Yb;if(fe(p,te[N+2])){var le=p,be=0;if(fe(le,(Qe=te)[(De=N)+3]))if(fe(le,Qe[De+6])){for(te=0,De=2*(be=fe(le,Qe[De+8]))+(Qe=fe(le,Qe[De+9+be])),be=0,Qe=Lw[De];Qe[te];++te)be+=be+fe(le,Qe[te]);be+=3+(8<<De)}else fe(le,Qe[De+7])?(be=7+2*fe(le,165),be+=fe(le,145)):be=5+fe(le,159);else be=fe(le,Qe[De+4])?3+fe(le,Qe[De+5]):2;te=ne[2]}else be=1,te=ne[1];ne=X+Pw[G],0>(le=p).b&&we(le);var De,Qe=le.b,Ce=(De=le.Ca>>1)-(le.I>>Qe)>>31;--le.b,le.Ca+=Ce,le.Ca|=1,le.I-=(De+1&Ce)<<Qe,q[ne]=((be^Ce)-Ce)*H[(0<G)+0]}return 16}function la(p){var _=p.rb[p.sb-1];_.la=0,_.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function Na(p,_){if(p==null)return 0;if(_==null)return Hn(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!Ta(p,_))return 0;if(e(p.cb),_.ac==null||_.ac(_)){_.ob&&(p.L=0);var N=Bh[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=_.v-N>>4,p.zb=_.j-N>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=_.o+15+N>>4,p.Hb=_.va+15+N>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var H=p.ed;for(N=0;4>N;++N){var G;if(p.Qa.Cb){var q=p.Qa.Lb[N];p.Qa.Fb||(q+=H.Tb)}else q=H.Tb;for(G=0;1>=G;++G){var X=p.gd[N][G],te=q;if(H.Pc&&(te+=H.vd[0],G&&(te+=H.od[0])),0<(te=0>te?0:63<te?63:te)){var ne=te;0<H.wb&&(ne=4<H.wb?ne>>2:ne>>1)>9-H.wb&&(ne=9-H.wb),1>ne&&(ne=1),X.dd=ne,X.tc=2*te+ne,X.ld=40<=te?2:15<=te?1:0}else X.tc=0;X.La=G}}}N=0}else Hn(p,6,"Frame setup failed"),N=p.a;if(N=N==0){if(N){p.$c=0,0<p.Aa||(p.Ic=qw);e:{N=p.Ic,H=4*(ne=p.za);var le=32*ne,be=ne+1,De=0<p.L?ne*(0<p.Aa?2:1):0,Qe=(p.Aa==2?2:1)*ne;if((X=H+832+(G=3*(16*N+Bh[p.L])/2*le)+(q=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=X)N=0;else{if(X>p.Vb){if(p.Vb=0,p.Ec=i(X),p.Fc=0,p.Ec==null){N=Hn(p,1,"no memory during frame initialization.");break e}p.Vb=X}X=p.Ec,te=p.Fc,p.Ac=X,p.Bc=te,te+=H,p.Gd=o(le,rr),p.Hd=0,p.rb=o(be+1,Ts),p.sb=1,p.wa=De?o(De,as):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=ne),e(!0),p.oc=X,p.pc=te,te+=832,p.ya=o(Qe,As),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=ne),p.R=16*ne,p.B=8*ne,ne=(le=Bh[p.L])*p.R,le=le/2*p.B,p.sa=X,p.ta=te+ne,p.qa=p.sa,p.ra=p.ta+16*N*p.R+le,p.Ha=p.qa,p.Ia=p.ra+8*N*p.B+le,p.$c=0,te+=G,p.mb=q?X:null,p.nb=q?te:null,e(te+q<=p.Fc+p.Vb),la(p),s(p.Ac,p.Bc,0,H),N=1}}if(N){if(_.ka=0,_.y=p.sa,_.O=p.ta,_.f=p.qa,_.N=p.ra,_.ea=p.Ha,_.Vd=p.Ia,_.fa=p.R,_.Rc=p.B,_.F=null,_.J=0,!dh){for(N=-255;255>=N;++N)Qr[255+N]=0>N?-N:N;for(N=-1020;1020>=N;++N)Va[1020+N]=-128>N?-128:127<N?127:N;for(N=-112;112>=N;++N)Ou[112+N]=-16>N?-16:15<N?15:N;for(N=-255;510>=N;++N)wA[255+N]=0>N?0:255<N?255:N;dh=1}mi=cA,Ma=lA,yA=ka,Ws=ec,ho=Xn,Yr=hi,uc=gi,yi=Do,dc=Ra,Al=Ao,ll=tl,Mo=vs,cl=nl,ul=rl,vA=oo,Ha=ti,hc=ao,Vi=Di,Ho[0]=so,Ho[1]=La,Ho[2]=rc,Ho[3]=ua,Ho[4]=sc,Ho[5]=ei,Ho[6]=ic,Ho[7]=zs,Ho[8]=ja,Ho[9]=oc,xA[0]=no,xA[1]=nc,xA[2]=Uo,xA[3]=Pa,xA[4]=Rr,xA[5]=ro,xA[6]=JA,po[0]=pi,po[1]=tc,po[2]=Ua,po[3]=uA,po[4]=io,po[5]=ZA,po[6]=sr,N=1}else N=0}N&&(N=function(Ce,tt){for(Ce.M=0;Ce.M<Ce.Va;++Ce.M){var We,Be=Ce.Jc[Ce.M&Ce.Xb],Ie=Ce.m,Ze=Ce;for(We=0;We<Ze.za;++We){var rt=Ie,et=Ze,Lt=et.Ac,wt=et.Bc+4*We,an=et.zc,_t=et.ya[et.aa+We];if(et.Qa.Bb?_t.$b=fe(rt,et.Pa.jb[0])?2+fe(rt,et.Pa.jb[2]):fe(rt,et.Pa.jb[1]):_t.$b=0,et.kc&&(_t.Ad=fe(rt,et.Bd)),_t.Za=!fe(rt,145)+0,_t.Za){var $n=_t.Ob,Zn=0;for(et=0;4>et;++et){var ot,jn=an[0+et];for(ot=0;4>ot;++ot){jn=Uw[Lt[wt+ot]][jn];for(var ur=t0[fe(rt,jn[0])];0<ur;)ur=t0[2*ur+fe(rt,jn[ur])];jn=-ur,Lt[wt+ot]=jn}r($n,Zn,Lt,wt,4),Zn+=4,an[0+et]=jn}}else jn=fe(rt,156)?fe(rt,128)?1:3:fe(rt,163)?2:0,_t.Ob[0]=jn,s(Lt,wt,jn,4),s(an,0,jn,4);_t.Dd=fe(rt,142)?fe(rt,114)?fe(rt,183)?1:3:2:0}if(Ze.m.Ka)return Hn(Ce,7,"Premature end-of-partition0 encountered.");for(;Ce.ja<Ce.za;++Ce.ja){if(Ze=Be,rt=(Ie=Ce).rb[Ie.sb-1],Lt=Ie.rb[Ie.sb+Ie.ja],We=Ie.ya[Ie.aa+Ie.ja],wt=Ie.kc?We.Ad:0)rt.la=Lt.la=0,We.Za||(rt.Na=Lt.Na=0),We.Hc=0,We.Gc=0,We.ia=0;else{var er,ln;if(rt=Lt,Lt=Ze,wt=Ie.Pa.Xc,an=Ie.ya[Ie.aa+Ie.ja],_t=Ie.pb[an.$b],et=an.ad,$n=0,Zn=Ie.rb[Ie.sb-1],jn=ot=0,s(et,$n,0,384),an.Za)var ns=0,ii=wt[3];else{ur=i(16);var Br=rt.Na+Zn.Na;if(Br=Mu(Lt,wt[1],Br,_t.Eb,0,ur,0),rt.Na=Zn.Na=(0<Br)+0,1<Br)mi(ur,0,et,$n);else{var Ls=ur[0]+3>>3;for(ur=0;256>ur;ur+=16)et[$n+ur]=Ls}ns=1,ii=wt[0]}var ir=15&rt.la,Gi=15&Zn.la;for(ur=0;4>ur;++ur){var Wi=1&Gi;for(Ls=ln=0;4>Ls;++Ls)ir=ir>>1|(Wi=(Br=Mu(Lt,ii,Br=Wi+(1&ir),_t.Sc,ns,et,$n))>ns)<<7,ln=ln<<2|(3<Br?3:1<Br?2:et[$n+0]!=0),$n+=16;ir>>=4,Gi=Gi>>1|Wi<<7,ot=(ot<<8|ln)>>>0}for(ii=ir,ns=Gi>>4,er=0;4>er;er+=2){for(ln=0,ir=rt.la>>4+er,Gi=Zn.la>>4+er,ur=0;2>ur;++ur){for(Wi=1&Gi,Ls=0;2>Ls;++Ls)Br=Wi+(1&ir),ir=ir>>1|(Wi=0<(Br=Mu(Lt,wt[2],Br,_t.Qc,0,et,$n)))<<3,ln=ln<<2|(3<Br?3:1<Br?2:et[$n+0]!=0),$n+=16;ir>>=2,Gi=Gi>>1|Wi<<5}jn|=ln<<4*er,ii|=ir<<4<<er,ns|=(240&Gi)<<er}rt.la=ii,Zn.la=ns,an.Hc=ot,an.Gc=jn,an.ia=43690&jn?0:_t.ia,wt=!(ot|jn)}if(0<Ie.L&&(Ie.wa[Ie.Y+Ie.ja]=Ie.gd[We.$b][We.Za],Ie.wa[Ie.Y+Ie.ja].La|=!wt),Ze.Ka)return Hn(Ce,7,"Premature end-of-file encountered.")}if(la(Ce),Ie=tt,Ze=1,We=(Be=Ce).D,rt=0<Be.L&&Be.M>=Be.zb&&Be.M<=Be.Va,Be.Aa==0)e:{if(We.M=Be.M,We.uc=rt,Pn(Be,We),Ze=1,We=(ln=Be.D).Nb,rt=(jn=Bh[Be.L])*Be.R,Lt=jn/2*Be.B,ur=16*We*Be.R,Ls=8*We*Be.B,wt=Be.sa,an=Be.ta-rt+ur,_t=Be.qa,et=Be.ra-Lt+Ls,$n=Be.Ha,Zn=Be.Ia-Lt+Ls,Gi=(ir=ln.M)==0,ot=ir>=Be.Va-1,Be.Aa==2&&Pn(Be,ln),ln.uc)for(Wi=(Br=Be).D.M,e(Br.D.uc),ln=Br.yb;ln<Br.Hb;++ln){ns=ln,ii=Wi;var _r=(cs=(Or=Br).D).Nb;er=Or.R;var cs=cs.wa[cs.Y+ns],Ps=Or.sa,mo=Or.ta+16*_r*er+16*ns,Vo=cs.dd,ws=cs.tc;if(ws!=0)if(e(3<=ws),Or.L==1)0<ns&&Ha(Ps,mo,er,ws+4),cs.La&&Vi(Ps,mo,er,ws),0<ii&&vA(Ps,mo,er,ws+4),cs.La&&hc(Ps,mo,er,ws);else{var Ko=Or.B,hl=Or.qa,mc=Or.ra+8*_r*Ko+8*ns,BA=Or.Ha,Or=Or.Ia+8*_r*Ko+8*ns;_r=cs.ld,0<ns&&(yi(Ps,mo,er,ws+4,Vo,_r),Al(hl,mc,BA,Or,Ko,ws+4,Vo,_r)),cs.La&&(Mo(Ps,mo,er,ws,Vo,_r),ul(hl,mc,BA,Or,Ko,ws,Vo,_r)),0<ii&&(uc(Ps,mo,er,ws+4,Vo,_r),dc(hl,mc,BA,Or,Ko,ws+4,Vo,_r)),cs.La&&(ll(Ps,mo,er,ws,Vo,_r),cl(hl,mc,BA,Or,Ko,ws,Vo,_r))}}if(Be.ia&&alert("todo:DitherRow"),Ie.put!=null){if(ln=16*ir,ir=16*(ir+1),Gi?(Ie.y=Be.sa,Ie.O=Be.ta+ur,Ie.f=Be.qa,Ie.N=Be.ra+Ls,Ie.ea=Be.Ha,Ie.W=Be.Ia+Ls):(ln-=jn,Ie.y=wt,Ie.O=an,Ie.f=_t,Ie.N=et,Ie.ea=$n,Ie.W=Zn),ot||(ir-=jn),ir>Ie.o&&(ir=Ie.o),Ie.F=null,Ie.J=null,Be.Fa!=null&&0<Be.Fa.length&&ln<ir&&(Ie.J=Qi(Be,Ie,ln,ir-ln),Ie.F=Be.mb,Ie.F==null&&Ie.F.length==0)){Ze=Hn(Be,3,"Could not decode alpha data.");break e}ln<Ie.j&&(jn=Ie.j-ln,ln=Ie.j,e(!(1&jn)),Ie.O+=Be.R*jn,Ie.N+=Be.B*(jn>>1),Ie.W+=Be.B*(jn>>1),Ie.F!=null&&(Ie.J+=Ie.width*jn)),ln<ir&&(Ie.O+=Ie.v,Ie.N+=Ie.v>>1,Ie.W+=Ie.v>>1,Ie.F!=null&&(Ie.J+=Ie.v),Ie.ka=ln-Ie.j,Ie.U=Ie.va-Ie.v,Ie.T=ir-ln,Ze=Ie.put(Ie))}We+1!=Be.Ic||ot||(r(Be.sa,Be.ta-rt,wt,an+16*Be.R,rt),r(Be.qa,Be.ra-Lt,_t,et+8*Be.B,Lt),r(Be.Ha,Be.Ia-Lt,$n,Zn+8*Be.B,Lt))}if(!Ze)return Hn(Ce,6,"Output aborted.")}return 1}(p,_)),_.bc!=null&&_.bc(_),N&=1}return N?(p.cb=0,N):0}function di(p,_,N,H,G){G=p[_+N+32*H]+(G>>3),p[_+N+32*H]=-256&G?0>G?0:255:G}function Ur(p,_,N,H,G,q){di(p,_,0,N,H+G),di(p,_,1,N,H+q),di(p,_,2,N,H-q),di(p,_,3,N,H-G)}function Ks(p){return(20091*p>>16)+p}function Ui(p,_,N,H){var G,q=0,X=i(16);for(G=0;4>G;++G){var te=p[_+0]+p[_+8],ne=p[_+0]-p[_+8],le=(35468*p[_+4]>>16)-Ks(p[_+12]),be=Ks(p[_+4])+(35468*p[_+12]>>16);X[q+0]=te+be,X[q+1]=ne+le,X[q+2]=ne-le,X[q+3]=te-be,q+=4,_++}for(G=q=0;4>G;++G)te=(p=X[q+0]+4)+X[q+8],ne=p-X[q+8],le=(35468*X[q+4]>>16)-Ks(X[q+12]),di(N,H,0,0,te+(be=Ks(X[q+4])+(35468*X[q+12]>>16))),di(N,H,1,0,ne+le),di(N,H,2,0,ne-le),di(N,H,3,0,te-be),q++,H+=32}function hi(p,_,N,H){var G=p[_+0]+4,q=35468*p[_+4]>>16,X=Ks(p[_+4]),te=35468*p[_+1]>>16;Ur(N,H,0,G+X,p=Ks(p[_+1]),te),Ur(N,H,1,G+q,p,te),Ur(N,H,2,G-q,p,te),Ur(N,H,3,G-X,p,te)}function lA(p,_,N,H,G){Ui(p,_,N,H),G&&Ui(p,_+16,N,H+4)}function ka(p,_,N,H){Ma(p,_+0,N,H,1),Ma(p,_+32,N,H+128,1)}function ec(p,_,N,H){var G;for(p=p[_+0]+4,G=0;4>G;++G)for(_=0;4>_;++_)di(N,H,_,G,p)}function Xn(p,_,N,H){p[_+0]&&Ws(p,_+0,N,H),p[_+16]&&Ws(p,_+16,N,H+4),p[_+32]&&Ws(p,_+32,N,H+128),p[_+48]&&Ws(p,_+48,N,H+128+4)}function cA(p,_,N,H){var G,q=i(16);for(G=0;4>G;++G){var X=p[_+0+G]+p[_+12+G],te=p[_+4+G]+p[_+8+G],ne=p[_+4+G]-p[_+8+G],le=p[_+0+G]-p[_+12+G];q[0+G]=X+te,q[8+G]=X-te,q[4+G]=le+ne,q[12+G]=le-ne}for(G=0;4>G;++G)X=(p=q[0+4*G]+3)+q[3+4*G],te=q[1+4*G]+q[2+4*G],ne=q[1+4*G]-q[2+4*G],le=p-q[3+4*G],N[H+0]=X+te>>3,N[H+16]=le+ne>>3,N[H+32]=X-te>>3,N[H+48]=le-ne>>3,H+=64}function fi(p,_,N){var H,G=_-32,q=zi,X=255-p[G-1];for(H=0;H<N;++H){var te,ne=q,le=X+p[_-1];for(te=0;te<N;++te)p[_+te]=ne[le+p[G+te]];_+=32}}function La(p,_){fi(p,_,4)}function tc(p,_){fi(p,_,8)}function nc(p,_){fi(p,_,16)}function Uo(p,_){var N;for(N=0;16>N;++N)r(p,_+32*N,p,_-32,16)}function Pa(p,_){var N;for(N=16;0<N;--N)s(p,_,p[_-1],16),_+=32}function ca(p,_,N){var H;for(H=0;16>H;++H)s(_,N+32*H,p,16)}function no(p,_){var N,H=16;for(N=0;16>N;++N)H+=p[_-1+32*N]+p[_+N-32];ca(H>>5,p,_)}function Rr(p,_){var N,H=8;for(N=0;16>N;++N)H+=p[_-1+32*N];ca(H>>4,p,_)}function ro(p,_){var N,H=8;for(N=0;16>N;++N)H+=p[_+N-32];ca(H>>4,p,_)}function JA(p,_){ca(128,p,_)}function on(p,_,N){return p+2*_+N+2>>2}function rc(p,_){var N,H=_-32;for(H=new Uint8Array([on(p[H-1],p[H+0],p[H+1]),on(p[H+0],p[H+1],p[H+2]),on(p[H+1],p[H+2],p[H+3]),on(p[H+2],p[H+3],p[H+4])]),N=0;4>N;++N)r(p,_+32*N,H,0,H.length)}function ua(p,_){var N=p[_-1],H=p[_-1+32],G=p[_-1+64],q=p[_-1+96];Ue(p,_+0,16843009*on(p[_-1-32],N,H)),Ue(p,_+32,16843009*on(N,H,G)),Ue(p,_+64,16843009*on(H,G,q)),Ue(p,_+96,16843009*on(G,q,q))}function so(p,_){var N,H=4;for(N=0;4>N;++N)H+=p[_+N-32]+p[_-1+32*N];for(H>>=3,N=0;4>N;++N)s(p,_+32*N,H,4)}function sc(p,_){var N=p[_-1+0],H=p[_-1+32],G=p[_-1+64],q=p[_-1-32],X=p[_+0-32],te=p[_+1-32],ne=p[_+2-32],le=p[_+3-32];p[_+0+96]=on(H,G,p[_-1+96]),p[_+1+96]=p[_+0+64]=on(N,H,G),p[_+2+96]=p[_+1+64]=p[_+0+32]=on(q,N,H),p[_+3+96]=p[_+2+64]=p[_+1+32]=p[_+0+0]=on(X,q,N),p[_+3+64]=p[_+2+32]=p[_+1+0]=on(te,X,q),p[_+3+32]=p[_+2+0]=on(ne,te,X),p[_+3+0]=on(le,ne,te)}function ic(p,_){var N=p[_+1-32],H=p[_+2-32],G=p[_+3-32],q=p[_+4-32],X=p[_+5-32],te=p[_+6-32],ne=p[_+7-32];p[_+0+0]=on(p[_+0-32],N,H),p[_+1+0]=p[_+0+32]=on(N,H,G),p[_+2+0]=p[_+1+32]=p[_+0+64]=on(H,G,q),p[_+3+0]=p[_+2+32]=p[_+1+64]=p[_+0+96]=on(G,q,X),p[_+3+32]=p[_+2+64]=p[_+1+96]=on(q,X,te),p[_+3+64]=p[_+2+96]=on(X,te,ne),p[_+3+96]=on(te,ne,ne)}function ei(p,_){var N=p[_-1+0],H=p[_-1+32],G=p[_-1+64],q=p[_-1-32],X=p[_+0-32],te=p[_+1-32],ne=p[_+2-32],le=p[_+3-32];p[_+0+0]=p[_+1+64]=q+X+1>>1,p[_+1+0]=p[_+2+64]=X+te+1>>1,p[_+2+0]=p[_+3+64]=te+ne+1>>1,p[_+3+0]=ne+le+1>>1,p[_+0+96]=on(G,H,N),p[_+0+64]=on(H,N,q),p[_+0+32]=p[_+1+96]=on(N,q,X),p[_+1+32]=p[_+2+96]=on(q,X,te),p[_+2+32]=p[_+3+96]=on(X,te,ne),p[_+3+32]=on(te,ne,le)}function zs(p,_){var N=p[_+0-32],H=p[_+1-32],G=p[_+2-32],q=p[_+3-32],X=p[_+4-32],te=p[_+5-32],ne=p[_+6-32],le=p[_+7-32];p[_+0+0]=N+H+1>>1,p[_+1+0]=p[_+0+64]=H+G+1>>1,p[_+2+0]=p[_+1+64]=G+q+1>>1,p[_+3+0]=p[_+2+64]=q+X+1>>1,p[_+0+32]=on(N,H,G),p[_+1+32]=p[_+0+96]=on(H,G,q),p[_+2+32]=p[_+1+96]=on(G,q,X),p[_+3+32]=p[_+2+96]=on(q,X,te),p[_+3+64]=on(X,te,ne),p[_+3+96]=on(te,ne,le)}function oc(p,_){var N=p[_-1+0],H=p[_-1+32],G=p[_-1+64],q=p[_-1+96];p[_+0+0]=N+H+1>>1,p[_+2+0]=p[_+0+32]=H+G+1>>1,p[_+2+32]=p[_+0+64]=G+q+1>>1,p[_+1+0]=on(N,H,G),p[_+3+0]=p[_+1+32]=on(H,G,q),p[_+3+32]=p[_+1+64]=on(G,q,q),p[_+3+64]=p[_+2+64]=p[_+0+96]=p[_+1+96]=p[_+2+96]=p[_+3+96]=q}function ja(p,_){var N=p[_-1+0],H=p[_-1+32],G=p[_-1+64],q=p[_-1+96],X=p[_-1-32],te=p[_+0-32],ne=p[_+1-32],le=p[_+2-32];p[_+0+0]=p[_+2+32]=N+X+1>>1,p[_+0+32]=p[_+2+64]=H+N+1>>1,p[_+0+64]=p[_+2+96]=G+H+1>>1,p[_+0+96]=q+G+1>>1,p[_+3+0]=on(te,ne,le),p[_+2+0]=on(X,te,ne),p[_+1+0]=p[_+3+32]=on(N,X,te),p[_+1+32]=p[_+3+64]=on(H,N,X),p[_+1+64]=p[_+3+96]=on(G,H,N),p[_+1+96]=on(q,G,H)}function Ua(p,_){var N;for(N=0;8>N;++N)r(p,_+32*N,p,_-32,8)}function uA(p,_){var N;for(N=0;8>N;++N)s(p,_,p[_-1],8),_+=32}function Ri(p,_,N){var H;for(H=0;8>H;++H)s(_,N+32*H,p,8)}function pi(p,_){var N,H=8;for(N=0;8>N;++N)H+=p[_+N-32]+p[_-1+32*N];Ri(H>>4,p,_)}function ZA(p,_){var N,H=4;for(N=0;8>N;++N)H+=p[_+N-32];Ri(H>>3,p,_)}function io(p,_){var N,H=4;for(N=0;8>N;++N)H+=p[_-1+32*N];Ri(H>>3,p,_)}function sr(p,_){Ri(128,p,_)}function dA(p,_,N){var H=p[_-N],G=p[_+0],q=3*(G-H)+hh[1020+p[_-2*N]-p[_+N]],X=fh[112+(q+4>>3)];p[_-N]=zi[255+H+fh[112+(q+3>>3)]],p[_+0]=zi[255+G-X]}function ac(p,_,N,H){var G=p[_+0],q=p[_+N];return fo[255+p[_-2*N]-p[_-N]]>H||fo[255+q-G]>H}function Dr(p,_,N,H){return 4*fo[255+p[_-N]-p[_+0]]+fo[255+p[_-2*N]-p[_+N]]<=H}function el(p,_,N,H,G){var q=p[_-3*N],X=p[_-2*N],te=p[_-N],ne=p[_+0],le=p[_+N],be=p[_+2*N],De=p[_+3*N];return 4*fo[255+te-ne]+fo[255+X-le]>H?0:fo[255+p[_-4*N]-q]<=G&&fo[255+q-X]<=G&&fo[255+X-te]<=G&&fo[255+De-be]<=G&&fo[255+be-le]<=G&&fo[255+le-ne]<=G}function oo(p,_,N,H){var G=2*H+1;for(H=0;16>H;++H)Dr(p,_+H,N,G)&&dA(p,_+H,N)}function ti(p,_,N,H){var G=2*H+1;for(H=0;16>H;++H)Dr(p,_+H*N,1,G)&&dA(p,_+H*N,1)}function ao(p,_,N,H){var G;for(G=3;0<G;--G)oo(p,_+=4*N,N,H)}function Di(p,_,N,H){var G;for(G=3;0<G;--G)ti(p,_+=4,N,H)}function Ro(p,_,N,H,G,q,X,te){for(q=2*q+1;0<G--;){if(el(p,_,N,q,X))if(ac(p,_,N,te))dA(p,_,N);else{var ne=p,le=_,be=N,De=ne[le-2*be],Qe=ne[le-be],Ce=ne[le+0],tt=ne[le+be],We=ne[le+2*be],Be=27*(Ze=hh[1020+3*(Ce-Qe)+hh[1020+De-tt]])+63>>7,Ie=18*Ze+63>>7,Ze=9*Ze+63>>7;ne[le-3*be]=zi[255+ne[le-3*be]+Ze],ne[le-2*be]=zi[255+De+Ie],ne[le-be]=zi[255+Qe+Be],ne[le+0]=zi[255+Ce-Be],ne[le+be]=zi[255+tt-Ie],ne[le+2*be]=zi[255+We-Ze]}_+=H}}function Gs(p,_,N,H,G,q,X,te){for(q=2*q+1;0<G--;){if(el(p,_,N,q,X))if(ac(p,_,N,te))dA(p,_,N);else{var ne=p,le=_,be=N,De=ne[le-be],Qe=ne[le+0],Ce=ne[le+be],tt=fh[112+((We=3*(Qe-De))+4>>3)],We=fh[112+(We+3>>3)],Be=tt+1>>1;ne[le-2*be]=zi[255+ne[le-2*be]+Be],ne[le-be]=zi[255+De+We],ne[le+0]=zi[255+Qe-tt],ne[le+be]=zi[255+Ce-Be]}_+=H}}function gi(p,_,N,H,G,q){Ro(p,_,N,1,16,H,G,q)}function Do(p,_,N,H,G,q){Ro(p,_,1,N,16,H,G,q)}function tl(p,_,N,H,G,q){var X;for(X=3;0<X;--X)Gs(p,_+=4*N,N,1,16,H,G,q)}function vs(p,_,N,H,G,q){var X;for(X=3;0<X;--X)Gs(p,_+=4,1,N,16,H,G,q)}function Ra(p,_,N,H,G,q,X,te){Ro(p,_,G,1,8,q,X,te),Ro(N,H,G,1,8,q,X,te)}function Ao(p,_,N,H,G,q,X,te){Ro(p,_,1,G,8,q,X,te),Ro(N,H,1,G,8,q,X,te)}function nl(p,_,N,H,G,q,X,te){Gs(p,_+4*G,G,1,8,q,X,te),Gs(N,H+4*G,G,1,8,q,X,te)}function rl(p,_,N,H,G,q,X,te){Gs(p,_+4,1,G,8,q,X,te),Gs(N,H+4,1,G,8,q,X,te)}function lo(){this.ba=new Fr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new mt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function hA(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function fA(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function pA(){this.ua=0,this.Wa=new de,this.vb=new de,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new $,this.yc=new j}function sl(){this.xb=this.a=0,this.l=new ys,this.ca=new Fr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new pA,this.ab=0,this.gc=o(4,fA),this.Oc=0}function Da(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ys,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function co(p,_,N,H,G,q,X){for(p=p==null?0:p[_+0],_=0;_<X;++_)G[q+_]=p+N[H+_]&255,p=G[q+_]}function gA(p,_,N,H,G,q,X){var te;if(p==null)co(null,null,N,H,G,q,X);else for(te=0;te<X;++te)G[q+te]=p[_+te]+N[H+te]&255}function Qo(p,_,N,H,G,q,X){if(p==null)co(null,null,N,H,G,q,X);else{var te,ne=p[_+0],le=ne,be=ne;for(te=0;te<X;++te)le=be+(ne=p[_+te])-le,be=N[H+te]+(-256&le?0>le?0:255:le)&255,le=ne,G[q+te]=be}}function Qi(p,_,N,H){var G=_.width,q=_.o;if(e(p!=null&&_!=null),0>N||0>=H||N+H>q)return null;if(!p.Cc){if(p.ga==null){var X;if(p.ga=new Da,(X=p.ga==null)||(X=_.width*_.o,e(p.Gb.length==0),p.Gb=i(X),p.Uc=0,p.Gb==null?X=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,X=1),X=!X),!X){X=p.ga;var te=p.Fa,ne=p.P,le=p.qc,be=p.mb,De=p.nb,Qe=ne+1,Ce=le-1,tt=X.l;if(e(te!=null&&be!=null&&_!=null),Ka[0]=null,Ka[1]=co,Ka[2]=gA,Ka[3]=Qo,X.ca=be,X.tb=De,X.c=_.width,X.i=_.height,e(0<X.c&&0<X.i),1>=le)_=0;else if(X.$a=te[ne+0]>>0&3,X.Z=te[ne+0]>>2&3,X.Lc=te[ne+0]>>4&3,ne=te[ne+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||ne)_=0;else if(tt.put=wr,tt.ac=yn,tt.bc=jr,tt.ma=X,tt.width=_.width,tt.height=_.height,tt.Da=_.Da,tt.v=_.v,tt.va=_.va,tt.j=_.j,tt.o=_.o,X.$a)e:{e(X.$a==1),_=sn();t:for(;;){if(_==null){_=0;break e}if(e(X!=null),X.mc=_,_.c=X.c,_.i=X.i,_.l=X.l,_.l.ma=X,_.l.width=X.c,_.l.height=X.i,_.a=0,se(_.m,te,Qe,Ce),!Nn(X.c,X.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Bt(_.s)?(X.ic=1,te=_.c*_.i,_.Ta=null,_.Ua=0,_.V=i(te),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(X.ic=0,_=In(_,X.c)),!_))break t;_=1;break e}X.mc=null,_=0}else _=Ce>=X.c*X.i;X=!_}if(X)return null;p.ga.Lc!=1?p.Ga=0:H=q-N}e(p.ga!=null),e(N+H<=q);e:{if(_=(te=p.ga).c,q=te.l.o,te.$a==0){if(Qe=p.rc,Ce=p.Vc,tt=p.Fa,ne=p.P+1+N*_,le=p.mb,be=p.nb+N*_,e(ne<=p.P+p.qc),te.Z!=0)for(e(Ka[te.Z]!=null),X=0;X<H;++X)Ka[te.Z](Qe,Ce,tt,ne,le,be,_),Qe=le,Ce=be,be+=_,ne+=_;else for(X=0;X<H;++X)r(le,be,tt,ne,_),Qe=le,Ce=be,be+=_,ne+=_;p.rc=Qe,p.Vc=Ce}else{if(e(te.mc!=null),_=N+H,e((X=te.mc)!=null),e(_<=X.i),X.C>=_)_=1;else if(te.ic||Ne(),te.ic){te=X.V,Qe=X.Ba,Ce=X.c;var We=X.i,Be=(tt=1,ne=X.$/Ce,le=X.$%Ce,be=X.m,De=X.s,X.$),Ie=Ce*We,Ze=Ce*_,rt=De.wc,et=Be<Ze?it(De,le,ne):null;e(Be<=Ie),e(_<=We),e(Bt(De));t:for(;;){for(;!be.h&&Be<Ze;){if(le&rt||(et=it(De,le,ne)),e(et!=null),ge(be),256>(We=je(et.G[0],et.H[0],be)))te[Qe+Be]=We,++Be,++le>=Ce&&(le=0,++ne<=_&&!(ne%16)&&yt(X,ne));else{if(!(280>We)){tt=0;break t}We=ye(We-256,be);var Lt,wt=je(et.G[4],et.H[4],be);if(ge(be),!(Be>=(wt=Te(Ce,wt=ye(wt,be)))&&Ie-Be>=We)){tt=0;break t}for(Lt=0;Lt<We;++Lt)te[Qe+Be+Lt]=te[Qe+Be+Lt-wt];for(Be+=We,le+=We;le>=Ce;)le-=Ce,++ne<=_&&!(ne%16)&&yt(X,ne);Be<Ze&&le&rt&&(et=it(De,le,ne))}e(be.h==ie(be))}yt(X,ne>_?_:ne);break t}!tt||be.h&&Be<Ie?(tt=0,X.a=be.h?5:3):X.$=Be,_=tt}else _=Nt(X,X.V,X.Ba,X.c,X.i,_,Bn);if(!_){H=0;break e}}N+H>=q&&(p.Cc=1),H=1}if(!H)return null;if(p.Cc&&((H=p.ga)!=null&&(H.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+N*G}function F(p,_,N,H,G,q){for(;0<G--;){var X,te=p,ne=_+(N?1:0),le=p,be=_+(N?0:3);for(X=0;X<H;++X){var De=le[be+4*X];De!=255&&(De*=32897,te[ne+4*X+0]=te[ne+4*X+0]*De>>23,te[ne+4*X+1]=te[ne+4*X+1]*De>>23,te[ne+4*X+2]=te[ne+4*X+2]*De>>23)}_+=q}}function W(p,_,N,H,G){for(;0<H--;){var q;for(q=0;q<N;++q){var X=p[_+2*q+0],te=15&(le=p[_+2*q+1]),ne=4369*te,le=(240&le|le>>4)*ne>>16;p[_+2*q+0]=(240&X|X>>4)*ne>>16&240|(15&X|X<<4)*ne>>16>>4&15,p[_+2*q+1]=240&le|te}_+=G}}function he(p,_,N,H,G,q,X,te){var ne,le,be=255;for(le=0;le<G;++le){for(ne=0;ne<H;++ne){var De=p[_+ne];q[X+4*ne]=De,be&=De}_+=N,X+=te}return be!=255}function xe(p,_,N,H,G){var q;for(q=0;q<G;++q)N[H+q]=p[_+q]>>8}function Ne(){Ki=F,lr=W,cr=he,Xr=xe}function ze(p,_,N){I[p]=function(H,G,q,X,te,ne,le,be,De,Qe,Ce,tt,We,Be,Ie,Ze,rt){var et,Lt=rt-1>>1,wt=te[ne+0]|le[be+0]<<16,an=De[Qe+0]|Ce[tt+0]<<16;e(H!=null);var _t=3*wt+an+131074>>2;for(_(H[G+0],255&_t,_t>>16,We,Be),q!=null&&(_t=3*an+wt+131074>>2,_(q[X+0],255&_t,_t>>16,Ie,Ze)),et=1;et<=Lt;++et){var $n=te[ne+et]|le[be+et]<<16,Zn=De[Qe+et]|Ce[tt+et]<<16,ot=wt+$n+an+Zn+524296,jn=ot+2*($n+an)>>3;_t=jn+wt>>1,wt=(ot=ot+2*(wt+Zn)>>3)+$n>>1,_(H[G+2*et-1],255&_t,_t>>16,We,Be+(2*et-1)*N),_(H[G+2*et-0],255&wt,wt>>16,We,Be+(2*et-0)*N),q!=null&&(_t=ot+an>>1,wt=jn+Zn>>1,_(q[X+2*et-1],255&_t,_t>>16,Ie,Ze+(2*et-1)*N),_(q[X+2*et+0],255&wt,wt>>16,Ie,Ze+(2*et+0)*N)),wt=$n,an=Zn}1&rt||(_t=3*wt+an+131074>>2,_(H[G+rt-1],255&_t,_t>>16,We,Be+(rt-1)*N),q!=null&&(_t=3*an+wt+131074>>2,_(q[X+rt-1],255&_t,_t>>16,Ie,Ze+(rt-1)*N)))}}function st(){go[ph]=Ow,go[gh]=Hu,go[dl]=lp,go[mh]=r0,go[yh]=s0,go[fc]=i0,go[Zm]=Mw,go[op]=Hu,go[ap]=r0,go[vh]=s0,go[pc]=i0}function It(p){return p&~Hw?0>p?0:255:p>>o0}function zt(p,_){return It((19077*p>>8)+(26149*_>>8)-14234)}function m(p,_,N){return It((19077*p>>8)-(6419*_>>8)-(13320*N>>8)+8708)}function U(p,_){return It((19077*p>>8)+(33050*_>>8)-17685)}function V(p,_,N,H,G){H[G+0]=zt(p,N),H[G+1]=m(p,_,N),H[G+2]=U(p,_)}function Z(p,_,N,H,G){H[G+0]=U(p,_),H[G+1]=m(p,_,N),H[G+2]=zt(p,N)}function Ee(p,_,N,H,G){var q=m(p,_,N);_=q<<3&224|U(p,_)>>3,H[G+0]=248&zt(p,N)|q>>5,H[G+1]=_}function Se(p,_,N,H,G){var q=240&U(p,_)|15;H[G+0]=240&zt(p,N)|m(p,_,N)>>4,H[G+1]=q}function at(p,_,N,H,G){H[G+0]=255,V(p,_,N,H,G+1)}function pn(p,_,N,H,G){Z(p,_,N,H,G),H[G+3]=255}function Jn(p,_,N,H,G){V(p,_,N,H,G),H[G+3]=255}function An(p,_){return 0>p?0:p>_?_:p}function Ln(p,_,N){I[p]=function(H,G,q,X,te,ne,le,be,De){for(var Qe=be+(-2&De)*N;be!=Qe;)_(H[G+0],q[X+0],te[ne+0],le,be),_(H[G+1],q[X+0],te[ne+0],le,be+N),G+=2,++X,++ne,be+=2*N;1&De&&_(H[G+0],q[X+0],te[ne+0],le,be)}}function Wr(p,_,N){return N==0?p==0?_==0?6:5:_==0?4:0:N}function ls(p,_,N,H,G){switch(p>>>30){case 3:Ma(_,N,H,G,0);break;case 2:Yr(_,N,H,G);break;case 1:Ws(_,N,H,G)}}function Pn(p,_){var N,H,G=_.M,q=_.Nb,X=p.oc,te=p.pc+40,ne=p.oc,le=p.pc+584,be=p.oc,De=p.pc+600;for(N=0;16>N;++N)X[te+32*N-1]=129;for(N=0;8>N;++N)ne[le+32*N-1]=129,be[De+32*N-1]=129;for(0<G?X[te-1-32]=ne[le-1-32]=be[De-1-32]=129:(s(X,te-32-1,127,21),s(ne,le-32-1,127,9),s(be,De-32-1,127,9)),H=0;H<p.za;++H){var Qe=_.ya[_.aa+H];if(0<H){for(N=-1;16>N;++N)r(X,te+32*N-4,X,te+32*N+12,4);for(N=-1;8>N;++N)r(ne,le+32*N-4,ne,le+32*N+4,4),r(be,De+32*N-4,be,De+32*N+4,4)}var Ce=p.Gd,tt=p.Hd+H,We=Qe.ad,Be=Qe.Hc;if(0<G&&(r(X,te-32,Ce[tt].y,0,16),r(ne,le-32,Ce[tt].f,0,8),r(be,De-32,Ce[tt].ea,0,8)),Qe.Za){var Ie=X,Ze=te-32+16;for(0<G&&(H>=p.za-1?s(Ie,Ze,Ce[tt].y[15],4):r(Ie,Ze,Ce[tt+1].y,0,4)),N=0;4>N;N++)Ie[Ze+128+N]=Ie[Ze+256+N]=Ie[Ze+384+N]=Ie[Ze+0+N];for(N=0;16>N;++N,Be<<=2)Ie=X,Ze=te+A0[N],Ho[Qe.Ob[N]](Ie,Ze),ls(Be,We,16*+N,Ie,Ze)}else if(Ie=Wr(H,G,Qe.Ob[0]),xA[Ie](X,te),Be!=0)for(N=0;16>N;++N,Be<<=2)ls(Be,We,16*+N,X,te+A0[N]);for(N=Qe.Gc,Ie=Wr(H,G,Qe.Dd),po[Ie](ne,le),po[Ie](be,De),Be=We,Ie=ne,Ze=le,255&(Qe=N>>0)&&(170&Qe?yA(Be,256,Ie,Ze):ho(Be,256,Ie,Ze)),Qe=be,Be=De,255&(N>>=8)&&(170&N?yA(We,320,Qe,Be):ho(We,320,Qe,Be)),G<p.Ub-1&&(r(Ce[tt].y,0,X,te+480,16),r(Ce[tt].f,0,ne,le+224,8),r(Ce[tt].ea,0,be,De+224,8)),N=8*q*p.B,Ce=p.sa,tt=p.ta+16*H+16*q*p.R,We=p.qa,Qe=p.ra+8*H+N,Be=p.Ha,Ie=p.Ia+8*H+N,N=0;16>N;++N)r(Ce,tt+N*p.R,X,te+32*N,16);for(N=0;8>N;++N)r(We,Qe+N*p.B,ne,le+32*N,8),r(Be,Ie+N*p.B,be,De+32*N,8)}}function uo(p,_,N,H,G,q,X,te,ne){var le=[0],be=[0],De=0,Qe=ne!=null?ne.kd:0,Ce=ne??new hA;if(p==null||12>N)return 7;Ce.data=p,Ce.w=_,Ce.ha=N,_=[_],N=[N],Ce.gb=[Ce.gb];e:{var tt=_,We=N,Be=Ce.gb;if(e(p!=null),e(We!=null),e(Be!=null),Be[0]=0,12<=We[0]&&!n(p,tt[0],"RIFF")){if(n(p,tt[0]+8,"WEBP")){Be=3;break e}var Ie=Je(p,tt[0]+4);if(12>Ie||4294967286<Ie){Be=3;break e}if(Qe&&Ie>We[0]-8){Be=7;break e}Be[0]=Ie,tt[0]+=12,We[0]-=12}Be=0}if(Be!=0)return Be;for(Ie=0<Ce.gb[0],N=N[0];;){e:{var Ze=p;We=_,Be=N;var rt=le,et=be,Lt=tt=[0];if((_t=De=[De])[0]=0,8>Be[0])Be=7;else{if(!n(Ze,We[0],"VP8X")){if(Je(Ze,We[0]+4)!=10){Be=3;break e}if(18>Be[0]){Be=7;break e}var wt=Je(Ze,We[0]+8),an=1+Ke(Ze,We[0]+12);if(2147483648<=an*(Ze=1+Ke(Ze,We[0]+15))){Be=3;break e}Lt!=null&&(Lt[0]=wt),rt!=null&&(rt[0]=an),et!=null&&(et[0]=Ze),We[0]+=18,Be[0]-=18,_t[0]=1}Be=0}}if(De=De[0],tt=tt[0],Be!=0)return Be;if(We=!!(2&tt),!Ie&&De)return 3;if(q!=null&&(q[0]=!!(16&tt)),X!=null&&(X[0]=We),te!=null&&(te[0]=0),X=le[0],tt=be[0],De&&We&&ne==null){Be=0;break}if(4>N){Be=7;break}if(Ie&&De||!Ie&&!De&&!n(p,_[0],"ALPH")){N=[N],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];e:{wt=p,Be=_,Ie=N;var _t=Ce.gb;rt=Ce.na,et=Ce.P,Lt=Ce.Sa,an=22,e(wt!=null),e(Ie!=null),Ze=Be[0];var $n=Ie[0];for(e(rt!=null),e(Lt!=null),rt[0]=null,et[0]=null,Lt[0]=0;;){if(Be[0]=Ze,Ie[0]=$n,8>$n){Be=7;break e}var Zn=Je(wt,Ze+4);if(4294967286<Zn){Be=3;break e}var ot=8+Zn+1&-2;if(an+=ot,0<_t&&an>_t){Be=3;break e}if(!n(wt,Ze,"VP8 ")||!n(wt,Ze,"VP8L")){Be=0;break e}if($n[0]<ot){Be=7;break e}n(wt,Ze,"ALPH")||(rt[0]=wt,et[0]=Ze+8,Lt[0]=Zn),Ze+=ot,$n-=ot}}if(N=N[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],Be!=0)break}N=[N],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];e:if(_t=p,Be=_,Ie=N,rt=Ce.gb[0],et=Ce.Ja,Lt=Ce.xa,wt=Be[0],Ze=!n(_t,wt,"VP8 "),an=!n(_t,wt,"VP8L"),e(_t!=null),e(Ie!=null),e(et!=null),e(Lt!=null),8>Ie[0])Be=7;else{if(Ze||an){if(_t=Je(_t,wt+4),12<=rt&&_t>rt-12){Be=3;break e}if(Qe&&_t>Ie[0]-8){Be=7;break e}et[0]=_t,Be[0]+=8,Ie[0]-=8,Lt[0]=an}else Lt[0]=5<=Ie[0]&&_t[wt+0]==47&&!(_t[wt+4]>>5),et[0]=Ie[0];Be=0}if(N=N[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],_=_[0],Be!=0)break;if(4294967286<Ce.Ja)return 3;if(te==null||We||(te[0]=Ce.xa?2:1),X=[X],tt=[tt],Ce.xa){if(5>N){Be=7;break}te=X,Qe=tt,We=q,p==null||5>N?p=0:5<=N&&p[_+0]==47&&!(p[_+4]>>5)?(Ie=[0],_t=[0],rt=[0],se(et=new z,p,_,N),Wt(et,Ie,_t,rt)?(te!=null&&(te[0]=Ie[0]),Qe!=null&&(Qe[0]=_t[0]),We!=null&&(We[0]=rt[0]),p=1):p=0):p=0}else{if(10>N){Be=7;break}te=tt,p==null||10>N||!jo(p,_+3,N-3)?p=0:(Qe=p[_+0]|p[_+1]<<8|p[_+2]<<16,We=16383&(p[_+7]<<8|p[_+6]),p=16383&(p[_+9]<<8|p[_+8]),1&Qe||3<(Qe>>1&7)||!(Qe>>4&1)||Qe>>5>=Ce.Ja||!We||!p?p=0:(X&&(X[0]=We),te&&(te[0]=p),p=1))}if(!p||(X=X[0],tt=tt[0],De&&(le[0]!=X||be[0]!=tt)))return 3;ne!=null&&(ne[0]=Ce,ne.offset=_-ne.w,e(4294967286>_-ne.w),e(ne.offset==ne.ha-N));break}return Be==0||Be==7&&De&&ne==null?(q!=null&&(q[0]|=Ce.na!=null&&0<Ce.na.length),H!=null&&(H[0]=X),G!=null&&(G[0]=tt),0):Be}function xr(p,_,N){var H=_.width,G=_.height,q=0,X=0,te=H,ne=G;if(_.Da=p!=null&&0<p.Da,_.Da&&(te=p.cd,ne=p.bd,q=p.v,X=p.j,11>N||(q&=-2,X&=-2),0>q||0>X||0>=te||0>=ne||q+te>H||X+ne>G))return 0;if(_.v=q,_.j=X,_.va=q+te,_.o=X+ne,_.U=te,_.T=ne,_.da=p!=null&&0<p.da,_.da){if(!Et(te,ne,N=[p.ib],q=[p.hb]))return 0;_.ib=N[0],_.hb=q[0]}return _.ob=p!=null&&p.ob,_.Kb=p==null||!p.Sd,_.da&&(_.ob=_.ib<3*H/4&&_.hb<3*G/4,_.Kb=0),1}function il(p){if(p==null)return 2;if(11>p.S){var _=p.f.RGBA;_.fb+=(p.height-1)*_.A,_.A=-_.A}else _=p.f.kb,p=p.height,_.O+=(p-1)*_.fa,_.fa=-_.fa,_.N+=(p-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(p-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(p-1)*_.lb,_.lb=-_.lb);return 0}function Oi(p,_,N,H){if(H==null||0>=p||0>=_)return 2;if(N!=null){if(N.Da){var G=N.cd,q=N.bd,X=-2&N.v,te=-2&N.j;if(0>X||0>te||0>=G||0>=q||X+G>p||te+q>_)return 2;p=G,_=q}if(N.da){if(!Et(p,_,G=[N.ib],q=[N.hb]))return 2;p=G[0],_=q[0]}}H.width=p,H.height=_;e:{var ne=H.width,le=H.height;if(p=H.S,0>=ne||0>=le||!(p>=ph&&13>p))p=2;else{if(0>=H.Rd&&H.sd==null){X=q=G=_=0;var be=(te=ne*c0[p])*le;if(11>p||(q=(le+1)/2*(_=(ne+1)/2),p==12&&(X=(G=ne)*le)),(le=i(be+2*q+X))==null){p=1;break e}H.sd=le,11>p?((ne=H.f.RGBA).eb=le,ne.fb=0,ne.A=te,ne.size=be):((ne=H.f.kb).y=le,ne.O=0,ne.fa=te,ne.Fd=be,ne.f=le,ne.N=0+be,ne.Ab=_,ne.Cd=q,ne.ea=le,ne.W=0+be+q,ne.Db=_,ne.Ed=q,p==12&&(ne.F=le,ne.J=0+be+2*q),ne.Tc=X,ne.lb=G)}if(_=1,G=H.S,q=H.width,X=H.height,G>=ph&&13>G)if(11>G)p=H.f.RGBA,_&=(te=Math.abs(p.A))*(X-1)+q<=p.size,_&=te>=q*c0[G],_&=p.eb!=null;else{p=H.f.kb,te=(q+1)/2,be=(X+1)/2,ne=Math.abs(p.fa),le=Math.abs(p.Ab);var De=Math.abs(p.Db),Qe=Math.abs(p.lb),Ce=Qe*(X-1)+q;_&=ne*(X-1)+q<=p.Fd,_&=le*(be-1)+te<=p.Cd,_=(_&=De*(be-1)+te<=p.Ed)&ne>=q&le>=te&De>=te,_&=p.y!=null,_&=p.f!=null,_&=p.ea!=null,G==12&&(_&=Qe>=q,_&=Ce<=p.Tc,_&=p.F!=null)}else _=0;p=_?0:2}}return p!=0||N!=null&&N.fd&&(p=il(H)),p}var $r=64,Wn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ol=24,al=32,Ac=8,ni=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];lt("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(p){return p},I.Predictor2=function(p,_,N){return _[N+0]},I.Predictor3=function(p,_,N){return _[N+1]},I.Predictor4=function(p,_,N){return _[N-1]},I.Predictor5=function(p,_,N){return dt(dt(p,_[N+1]),_[N+0])},I.Predictor6=function(p,_,N){return dt(p,_[N-1])},I.Predictor7=function(p,_,N){return dt(p,_[N+0])},I.Predictor8=function(p,_,N){return dt(_[N-1],_[N+0])},I.Predictor9=function(p,_,N){return dt(_[N+0],_[N+1])},I.Predictor10=function(p,_,N){return dt(dt(p,_[N-1]),dt(_[N+0],_[N+1]))},I.Predictor11=function(p,_,N){var H=_[N+0];return 0>=Mt(H>>24&255,p>>24&255,(_=_[N-1])>>24&255)+Mt(H>>16&255,p>>16&255,_>>16&255)+Mt(H>>8&255,p>>8&255,_>>8&255)+Mt(255&H,255&p,255&_)?H:p},I.Predictor12=function(p,_,N){var H=_[N+0];return(Ut((p>>24&255)+(H>>24&255)-((_=_[N-1])>>24&255))<<24|Ut((p>>16&255)+(H>>16&255)-(_>>16&255))<<16|Ut((p>>8&255)+(H>>8&255)-(_>>8&255))<<8|Ut((255&p)+(255&H)-(255&_)))>>>0},I.Predictor13=function(p,_,N){var H=_[N-1];return(Kt((p=dt(p,_[N+0]))>>24&255,H>>24&255)<<24|Kt(p>>16&255,H>>16&255)<<16|Kt(p>>8&255,H>>8&255)<<8|Kt(p>>0&255,H>>0&255))>>>0};var lc=I.PredictorAdd0;I.PredictorAdd1=Jt,lt("Predictor2","PredictorAdd2"),lt("Predictor3","PredictorAdd3"),lt("Predictor4","PredictorAdd4"),lt("Predictor5","PredictorAdd5"),lt("Predictor6","PredictorAdd6"),lt("Predictor7","PredictorAdd7"),lt("Predictor8","PredictorAdd8"),lt("Predictor9","PredictorAdd9"),lt("Predictor10","PredictorAdd10"),lt("Predictor11","PredictorAdd11"),lt("Predictor12","PredictorAdd12"),lt("Predictor13","PredictorAdd13");var cc=I.PredictorAdd2;ke("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),ke("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Qu,Tr=I.ColorIndexInverseTransform,Mi=I.MapARGB,Oo=I.VP8LColorIndexInverseTransformAlpha,qr=I.MapAlpha,ri=I.VP8LPredictorsAdd=[];ri.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var mA,si,ks,Qa,Oa,Hi,mi,Ma,Yr,yA,Ws,ho,uc,yi,dc,Al,ll,Mo,cl,ul,vA,Ha,hc,Vi,Ki,lr,cr,Xr,Qr=i(511),Va=i(2041),Ou=i(225),wA=i(767),dh=0,hh=Va,fh=Ou,zi=wA,fo=Qr,ph=0,gh=1,dl=2,mh=3,yh=4,fc=5,Zm=6,op=7,ap=8,vh=9,pc=10,Iw=[2,3,7],Sw=[3,3,11],e0=[280,256,256,256,40],Fw=[0,1,1,1,0],wh=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Tw=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Nw=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],kw=8,Ap=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],gc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Mu=null,Lw=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Pw=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],t0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],jw=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Uw=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Rw=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Dw=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],xA=[],Ho=[],po=[],Qw=1,n0=2,Ka=[],go=[];ze("UpsampleRgbLinePair",V,3),ze("UpsampleBgrLinePair",Z,3),ze("UpsampleRgbaLinePair",Jn,4),ze("UpsampleBgraLinePair",pn,4),ze("UpsampleArgbLinePair",at,4),ze("UpsampleRgba4444LinePair",Se,2),ze("UpsampleRgb565LinePair",Ee,2);var Ow=I.UpsampleRgbLinePair,lp=I.UpsampleBgrLinePair,Hu=I.UpsampleRgbaLinePair,r0=I.UpsampleBgraLinePair,s0=I.UpsampleArgbLinePair,i0=I.UpsampleRgba4444LinePair,Mw=I.UpsampleRgb565LinePair,xh=16,bh=1<<xh-1,bA=-227,cp=482,o0=6,Hw=(256<<o0)-1,a0=0,Vw=i(256),Kw=i(256),zw=i(256),Gw=i(256),Ww=i(cp-bA),$w=i(cp-bA);Ln("YuvToRgbRow",V,3),Ln("YuvToBgrRow",Z,3),Ln("YuvToRgbaRow",Jn,4),Ln("YuvToBgraRow",pn,4),Ln("YuvToArgbRow",at,4),Ln("YuvToRgba4444Row",Se,2),Ln("YuvToRgb565Row",Ee,2);var A0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bh=[0,2,8],l0=[8,7,6,4,4,2,2,2,1,1,1,1],qw=1;this.WebPDecodeRGBA=function(p,_,N,H,G){var q=gh,X=new lo,te=new Fr;X.ba=te,te.S=q,te.width=[te.width],te.height=[te.height];var ne=te.width,le=te.height,be=new nn;if(be==null||p==null)var De=2;else e(be!=null),De=uo(p,_,N,be.width,be.height,be.Pd,be.Qd,be.format,null);if(De!=0?ne=0:(ne!=null&&(ne[0]=be.width[0]),le!=null&&(le[0]=be.height[0]),ne=1),ne){te.width=te.width[0],te.height=te.height[0],H!=null&&(H[0]=te.width),G!=null&&(G[0]=te.height);e:{if(H=new ys,(G=new hA).data=p,G.w=_,G.ha=N,G.kd=1,_=[0],e(G!=null),((p=uo(G.data,G.w,G.ha,null,null,null,_,null,G))==0||p==7)&&_[0]&&(p=4),(_=p)==0){if(e(X!=null),H.data=G.data,H.w=G.w+G.offset,H.ha=G.ha-G.offset,H.put=wr,H.ac=yn,H.bc=jr,H.ma=X,G.xa){if((p=sn())==null){X=1;break e}if(function(Qe,Ce){var tt=[0],We=[0],Be=[0];t:for(;;){if(Qe==null)return 0;if(Ce==null)return Qe.a=2,0;if(Qe.l=Ce,Qe.a=0,se(Qe.m,Ce.data,Ce.w,Ce.ha),!Wt(Qe.m,tt,We,Be)){Qe.a=3;break t}if(Qe.xb=n0,Ce.width=tt[0],Ce.height=We[0],!Nn(tt[0],We[0],1,Qe,null))break t;return 1}return e(Qe.a!=0),0}(p,H)){if(H=(_=Oi(H.width,H.height,X.Oa,X.ba))==0){t:{H=p;n:for(;;){if(H==null){H=0;break t}if(e(H.s.yc!=null),e(H.s.Ya!=null),e(0<H.s.Wb),e((N=H.l)!=null),e((G=N.ma)!=null),H.xb!=0){if(H.ca=G.ba,H.tb=G.tb,e(H.ca!=null),!xr(G.Oa,N,mh)){H.a=2;break n}if(!In(H,N.width)||N.da)break n;if((N.da||hn(H.ca.S))&&Ne(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Ne()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!ft(H.s.vb,H.s.Wa.Xa)){H.a=1;break n}H.xb=0}if(!Nt(H,H.V,H.Ba,H.c,H.i,N.o,Dt))break n;G.Dc=H.Ma,H=1;break t}e(H.a!=0),H=0}H=!H}H&&(_=p.a)}else _=p.a}else{if((p=new Gn)==null){X=1;break e}if(p.Fa=G.na,p.P=G.P,p.qc=G.Sa,Ta(p,H)){if((_=Oi(H.width,H.height,X.Oa,X.ba))==0){if(p.Aa=0,N=X.Oa,e((G=p)!=null),N!=null){if(0<(ne=0>(ne=N.Md)?0:100<ne?255:255*ne/100)){for(le=be=0;4>le;++le)12>(De=G.pb[le]).lc&&(De.ia=ne*l0[0>De.lc?0:De.lc]>>3),be|=De.ia;be&&(alert("todo:VP8InitRandom"),G.ia=1)}G.Ga=N.Id,100<G.Ga?G.Ga=100:0>G.Ga&&(G.Ga=0)}Na(p,H)||(_=p.a)}}else _=p.a}_==0&&X.Oa!=null&&X.Oa.fd&&(_=il(X.ba))}X=_}q=X!=0?null:11>q?te.f.RGBA.eb:te.f.kb.y}else q=null;return q};var c0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(I,O){for(var M="",L=0;L<4;L++)M+=String.fromCharCode(I[O++]);return M}function c(I,O){return(I[O+0]<<0|I[O+1]<<8|I[O+2]<<16)>>>0}function u(I,O){return(I[O+0]<<0|I[O+1]<<8|I[O+2]<<16|I[O+3]<<24)>>>0}new A;var f=[0],d=[0],B=[],b=new A,E=t,v=function(I,O){var M={},L=0,j=!1,k=0,$=0;if(M.frames=[],!function(J,ie,ce,ge){for(var we=0;we<ge;we++)if(J[ie+we]!=ce.charCodeAt(we))return!0;return!1}(I,O,"RIFF",4)){for(u(I,O+=4),O+=8;O<I.length;){var re=l(I,O),oe=u(I,O+=4);O+=4;var pe=oe+(1&oe);switch(re){case"VP8 ":case"VP8L":M.frames[L]===void 0&&(M.frames[L]={}),(ve=M.frames[L]).src_off=j?$:O-8,ve.src_size=k+oe+8,L++,j&&(j=!1,k=0,$=0);break;case"VP8X":(ve=M.header={}).feature_flags=I[O];var se=O+4;ve.canvas_width=1+c(I,se),se+=3,ve.canvas_height=1+c(I,se),se+=3;break;case"ALPH":j=!0,k=pe+8,$=O-8;break;case"ANIM":(ve=M.header).bgcolor=u(I,O),se=O+4,ve.loop_count=(Ve=I)[(z=se)+0]<<0|Ve[z+1]<<8,se+=2;break;case"ANMF":var me,ve;(ve=M.frames[L]={}).offset_x=2*c(I,O),O+=3,ve.offset_y=2*c(I,O),O+=3,ve.width=1+c(I,O),O+=3,ve.height=1+c(I,O),O+=3,ve.duration=c(I,O),O+=3,me=I[O++],ve.dispose=1&me,ve.blend=me>>1&1}re!="ANMF"&&(O+=pe)}var Ve,z;return M}}(E,0);v.response=E,v.rgbaoutput=!0,v.dataurl=!1;var C=v.header?v.header:null,S=v.frames?v.frames:null;if(C){C.loop_counter=C.loop_count,f=[C.canvas_height],d=[C.canvas_width];for(var R=0;R<S.length&&S[R].blend!=0;R++);}var P=S[0],Q=b.WebPDecodeRGBA(E,P.src_off,P.src_size,d,f);P.rgba=Q,P.imgwidth=d[0],P.imgheight=f[0];for(var T=0;T<d[0]*f[0]*4;T++)B[T]=Q[T];return this.width=d,this.height=f,this.data=B,this}(function(t){var e=function(){return typeof aB=="function"},n=function(f,d,B,b){var E=4,v=o;switch(b){case t.image_compression.FAST:E=1,v=i;break;case t.image_compression.MEDIUM:E=6,v=a;break;case t.image_compression.SLOW:E=9,v=A}f=r(f,d,B,v);var C=aB(f,{level:E});return t.__addimage__.arrayBufferToBinaryString(C)},r=function(f,d,B,b){for(var E,v,C,S=f.length/d,R=new Uint8Array(f.length+S),P=c(),Q=0;Q<S;Q+=1){if(C=Q*d,E=f.subarray(C,C+d),b)R.set(b(E,B,v),C+Q);else{for(var T,I=P.length,O=[];T<I;T+=1)O[T]=P[T](E,B,v);var M=u(O.concat());R.set(O[M],C+Q)}v=E}return R},s=function(f){var d=Array.apply([],f);return d.unshift(0),d},i=function(f,d){var B,b=[],E=f.length;b[0]=1;for(var v=0;v<E;v+=1)B=f[v-d]||0,b[v+1]=f[v]-B+256&255;return b},o=function(f,d,B){var b,E=[],v=f.length;E[0]=2;for(var C=0;C<v;C+=1)b=B&&B[C]||0,E[C+1]=f[C]-b+256&255;return E},a=function(f,d,B){var b,E,v=[],C=f.length;v[0]=3;for(var S=0;S<C;S+=1)b=f[S-d]||0,E=B&&B[S]||0,v[S+1]=f[S]+256-(b+E>>>1)&255;return v},A=function(f,d,B){var b,E,v,C,S=[],R=f.length;S[0]=4;for(var P=0;P<R;P+=1)b=f[P-d]||0,E=B&&B[P]||0,v=B&&B[P-d]||0,C=l(b,E,v),S[P+1]=f[P]-C+256&255;return S},l=function(f,d,B){if(f===d&&d===B)return f;var b=Math.abs(d-B),E=Math.abs(f-B),v=Math.abs(f+d-B-B);return b<=E&&b<=v?f:E<=v?d:B},c=function(){return[s,i,o,a,A]},u=function(f){var d=f.map(function(B){return B.reduce(function(b,E){return b+Math.abs(E)},0)});return d.indexOf(Math.min.apply(null,d))};t.processPNG=function(f,d,B,b){var E,v,C,S,R,P,Q,T,I,O,M,L,j,k,$,re=this.decode.FLATE_DECODE,oe="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(C=new BW(f)).imgData,v=C.bits,E=C.colorSpace,R=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){I=(T=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,M=new Uint8Array(I*C.colors),O=new Uint8Array(I);var pe,se=C.pixelBitlength-C.bits;for(k=0,$=0;k<I;k++){for(j=T[k],pe=0;pe<se;)M[$++]=j>>>pe&255,pe+=C.bits;O[k]=j>>>pe&255}}if(C.bits===16){I=(T=new Uint32Array(C.decodePixels().buffer)).length,M=new Uint8Array(I*(32/C.pixelBitlength)*C.colors),O=new Uint8Array(I*(32/C.pixelBitlength)),L=C.colors>1,k=0,$=0;for(var me=0;k<I;)j=T[k++],M[$++]=j>>>0&255,L&&(M[$++]=j>>>16&255,j=T[k++],M[$++]=j>>>0&255),O[me++]=j>>>16&255;v=8}b!==t.image_compression.NONE&&e()?(f=n(M,C.width*C.colors,C.colors,b),Q=n(O,C.width,1,b)):(f=M,Q=O,re=void 0)}if(C.colorType===3&&(E=this.color_spaces.INDEXED,P=C.palette,C.transparency.indexed)){var ve=C.transparency.indexed,Ve=0;for(k=0,I=ve.length;k<I;++k)Ve+=ve[k];if((Ve/=255)===I-1&&ve.indexOf(0)!==-1)S=[ve.indexOf(0)];else if(Ve!==I){for(T=C.decodePixels(),O=new Uint8Array(T.length),k=0,I=T.length;k<I;k++)O[k]=ve[T[k]];Q=n(O,C.width,1)}}var z=function(J){var ie;switch(J){case t.image_compression.FAST:ie=11;break;case t.image_compression.MEDIUM:ie=13;break;case t.image_compression.SLOW:ie=14;break;default:ie=12}return ie}(b);return re===this.decode.FLATE_DECODE&&(oe="/Predictor "+z+" "),oe+="/Colors "+R+" /BitsPerComponent "+v+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(Q&&this.__addimage__.isArrayBuffer(Q)||this.__addimage__.isArrayBufferView(Q))&&(Q=this.__addimage__.arrayBufferToBinaryString(Q)),{alias:B,data:f,index:d,filter:re,decodeParameters:oe,transparency:S,palette:P,sMask:Q,predictor:z,width:C.width,height:C.height,bitsPerComponent:v,colorSpace:E}}}})(fn.API),function(t){t.processGIF89A=function(e,n,r,s){var i=new _W(e),o=i.width,a=i.height,A=[];i.decodeAndBlitFrameRGBA(0,A);var l={data:A,width:o,height:a},c=new hx(100).encode(l,100);return t.processJPEG.call(this,c,n,r,s)},t.processGIF87A=t.processGIF89A}(fn.API),$a.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},$a.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){br.log("bit decode error:"+n)}},$a.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*s*4,a=0;a<8&&8*s+a<this.width;a++){var A=this.palette[i>>7-a&1];this.data[o+4*a]=A.blue,this.data[o+4*a+1]=A.green,this.data[o+4*a+2]=A.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},$a.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*s*4,a=i>>4,A=15&i,l=this.palette[a];if(this.data[o]=l.blue,this.data[o+1]=l.green,this.data[o+2]=l.red,this.data[o+3]=255,2*s+1>=this.width)break;l=this.palette[A],this.data[o+4]=l.blue,this.data[o+4+1]=l.green,this.data[o+4+2]=l.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},$a.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},$a.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,a=(i>>5&e)/e*255|0,A=(i>>10&e)/e*255|0,l=i>>15?255:0,c=r*this.width*4+4*s;this.data[c]=A,this.data[c+1]=a,this.data[c+2]=o,this.data[c+3]=l}this.pos+=t}},$a.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,A=(o>>5&n)/n*255|0,l=(o>>11)/e*255|0,c=s*this.width*4+4*i;this.data[c]=l,this.data[c+1]=A,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},$a.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},$a.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=r,this.data[a+3]=o}},$a.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,s){var i=new $a(e,!1),o=i.width,a=i.height,A={data:i.getData(),width:o,height:a},l=new hx(100).encode(A,100);return t.processJPEG.call(this,l,n,r,s)}}(fn.API),TS.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,s){var i=new TS(e),o=i.width,a=i.height,A={data:i.getData(),width:o,height:a},l=new hx(100).encode(A,100);return t.processJPEG.call(this,l,n,r,s)}}(fn.API),fn.API.processRGBA=function(t,e,n){for(var r=t.data,s=r.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),a=0,A=0,l=0;l<s;l+=4){var c=r[l],u=r[l+1],f=r[l+2],d=r[l+3];i[a++]=c,i[a++]=u,i[a++]=f,o[A++]=d}var B=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:B,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},fn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},zh=fn.API,gy=zh.getCharWidthsArray=function(t,e){var n,r,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:s.metadata.Unicode.widths,A=a.fof?a.fof:1,l=e.kerning?e.kerning:s.metadata.Unicode.kerning,c=l.fof?l.fof:1,u=e.doKerning!==!1,f=0,d=t.length,B=0,b=a[0]||A,E=[];for(n=0;n<d;n++)r=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?E.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+o*(1e3/i)||0)/1e3):(f=u&&pr(l[r])==="object"&&!isNaN(parseInt(l[r][B],10))?l[r][B]/c:0,E.push((a[r]||b)/A+f)),B=r;return E},ES=zh.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return zh.processArabic&&(t=zh.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,s)/n:gy.apply(this,arguments).reduce(function(i,o){return i+o},0)},IS=function(t,e,n,r){for(var s=[],i=0,o=t.length,a=0;i!==o&&a+e[i]<n;)a+=e[i],i++;s.push(t.slice(0,i));var A=i;for(a=0;i!==o;)a+e[i]>r&&(s.push(t.slice(A,i)),a=0,A=i),a+=e[i],i++;return A!==i&&s.push(t.slice(A,i)),s},SS=function(t,e,n){n||(n={});var r,s,i,o,a,A,l,c=[],u=[c],f=n.textIndent||0,d=0,B=0,b=t.split(" "),E=gy.apply(this,[" ",n])[0];if(A=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var v=Array(A).join(" "),C=[];b.map(function(R){(R=R.split(/\s*\n/)).length>1?C=C.concat(R.map(function(P,Q){return(Q&&P.length?`
`:"")+P})):C.push(R[0])}),b=C,A=ES.apply(this,[v,n])}for(i=0,o=b.length;i<o;i++){var S=0;if(r=b[i],A&&r[0]==`
`&&(r=r.substr(1),S=1),f+d+(B=(s=gy.apply(this,[r,n])).reduce(function(R,P){return R+P},0))>e||S){if(B>e){for(a=IS.apply(this,[r,s,e-(f+d),e]),c.push(a.shift()),c=[a.pop()];a.length;)u.push([a.shift()]);B=s.slice(r.length-(c[0]?c[0].length:0)).reduce(function(R,P){return R+P},0)}else c=[r];u.push(c),f=B+A,d=E}else c.push(r),f+=d+B,d=E}return l=A?function(R,P){return(P?v:"")+R.join(" ")}:function(R){return R.join(" ")},u.map(l)},zh.splitTextToSize=function(t,e,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var u=this.internal.getFont(c.fontName,c.fontStyle);return u.metadata.Unicode?{widths:u.metadata.Unicode.widths||{0:1},kerning:u.metadata.Unicode.kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var a,A,l=[];for(a=0,A=r.length;a<A;a++)l=l.concat(SS.apply(this,[r[a],o,i]));return l},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},s=0;s<e.length;s++)n[e[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=e[s];var i=function(u){return"0x"+parseInt(u,10).toString(16)},o=t.__fontmetrics__.compress=function(u){var f,d,B,b,E=["{"];for(var v in u){if(f=u[v],isNaN(parseInt(v,10))?d="'"+v+"'":(v=parseInt(v,10),d=(d=i(v).slice(2)).slice(0,-1)+r[d.slice(-1)]),typeof f=="number")f<0?(B=i(f).slice(3),b="-"):(B=i(f).slice(2),b=""),B=b+B.slice(0,-1)+r[B.slice(-1)];else{if(pr(f)!=="object")throw new Error("Don't know what to do with value type "+pr(f)+".");B=o(f)}E.push(d+B)}return E.push("}"),E.join("")},a=t.__fontmetrics__.uncompress=function(u){if(typeof u!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,d,B,b,E={},v=1,C=E,S=[],R="",P="",Q=u.length-1,T=1;T<Q;T+=1)(b=u[T])=="'"?f?(B=f.join(""),f=void 0):f=[]:f?f.push(b):b=="{"?(S.push([C,B]),C={},B=void 0):b=="}"?((d=S.pop())[0][d[1]]=C,B=void 0,C=d[0]):b=="-"?v=-1:B===void 0?n.hasOwnProperty(b)?(R+=n[b],B=parseInt(R,16)*v,v=1,R=""):R+=b:n.hasOwnProperty(b)?(P+=n[b],C[B]=parseInt(P,16)*v,v=1,B=void 0,P=""):P+=b;return E},A={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},l={Unicode:{Courier:A,"Courier-Bold":A,"Courier-BoldOblique":A,"Courier-Oblique":A,Helvetica:A,"Helvetica-Bold":A,"Helvetica-BoldOblique":A,"Helvetica-Oblique":A,"Times-Roman":A,"Times-Bold":A,"Times-BoldItalic":A,"Times-Italic":A}},c={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(u){var f=u.font,d=c.Unicode[f.postScriptName];d&&(f.metadata.Unicode={},f.metadata.Unicode.widths=d.widths,f.metadata.Unicode.kerning=d.kerning);var B=l.Unicode[f.postScriptName];B&&(f.metadata.Unicode.encoding=B,f.encoding=B.codePages[0])}])}(fn.API),function(t){var e=function(n){for(var r=n.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=n.charCodeAt(i);return s};t.API.events.push(["addFont",function(n){var r=void 0,s=n.font,i=n.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Ig(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,r)}}])}(fn),function(t){function e(){return(gn.canvg?Promise.resolve(gn.canvg):u1(()=>import("./index.es-dfea8121.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}fn.API.addSvgAsImage=function(n,r,s,i,o,a,A,l){if(isNaN(r)||isNaN(s))throw br.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw br.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=o;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return e().then(function(B){return B.fromString(u,n,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(B){return B.render(f)}).then(function(){d.addImage(c.toDataURL("image/jpeg",1),r,s,i,o,A,l)})}}(),fn.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,n);return this},fn.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),A=[],l=0,c=0,u=0;function f(B,b){var E,v=!1;for(E=0;E<B.length;E+=1)B[E]===b&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var d=a.length;for(u=0;u<d;u+=1)n[a[u]].value=n[a[u]].defaultValue,n[a[u]].explicitSet=!1}if(pr(t)==="object"){for(s in t)if(i=t[s],f(a,s)&&i!==void 0){if(n[s].type==="boolean"&&typeof i=="boolean")n[s].value=i;else if(n[s].type==="name"&&f(n[s].valueSet,i))n[s].value=i;else if(n[s].type==="integer"&&Number.isInteger(i))n[s].value=i;else if(n[s].type==="array"){for(l=0;l<i.length;l+=1)if(r=!0,i[l].length===1&&typeof i[l][0]=="number")A.push(String(i[l]-1));else if(i[l].length>1){for(c=0;c<i[l].length;c+=1)typeof i[l][c]!="number"&&(r=!1);r===!0&&A.push([i[l][0]-1,i[l][1]-1].join(" "))}n[s].value="["+A.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var B,b=[];for(B in n)n[B].explicitSet===!0&&(n[B].type==="name"?b.push("/"+B+" /"+n[B].value):b.push("/"+B+" "+n[B].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),A=unescape(encodeURIComponent("</x:xmpmeta>")),l=i.length+o.length+a.length+s.length+A.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+a+A),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(fn.API),function(t){var e=t.API,n=e.pdfEscape16=function(i,o){for(var a,A=o.metadata.Unicode.widths,l=["","0","00","000","0000"],c=[""],u=0,f=i.length;u<f;++u){if(a=o.metadata.characterToGlyph(i.charCodeAt(u)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=i.charCodeAt(u),A.indexOf(a)==-1&&(A.push(a),A.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return c.join("");a=a.toString(16),c.push(l[4-a.length],a)}return c.join("")},r=function(i){var o,a,A,l,c,u,f;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,A=[],u=0,f=(a=Object.keys(i).sort(function(d,B){return d-B})).length;u<f;u++)o=a[u],A.length>=100&&(c+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar`,A=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(l=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),A.push("<"+o+"><"+l+">"));return A.length&&(c+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var a=o.font,A=o.out,l=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var u=a.metadata.Unicode.widths,f=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),d="",B=0;B<f.length;B++)d+=String.fromCharCode(f[B]);var b=l();c({data:d,addLength1:!0,objectId:b}),A("endobj");var E=l();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:E}),A("endobj");var v=l();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+Zh(a.fontName)),A("/FontFile2 "+b+" 0 R"),A("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),A("/Flags "+a.metadata.flags),A("/StemV "+a.metadata.stemV),A("/ItalicAngle "+a.metadata.italicAngle),A("/Ascent "+a.metadata.ascender),A("/Descent "+a.metadata.decender),A("/CapHeight "+a.metadata.capHeight),A(">>"),A("endobj");var C=l();A("<<"),A("/Type /Font"),A("/BaseFont /"+Zh(a.fontName)),A("/FontDescriptor "+v+" 0 R"),A("/W "+t.API.PDFObject.convert(u)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+a.encoding+")"),A(">>"),A(">>"),A("endobj"),a.objectNumber=l(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+E+" 0 R"),A("/BaseFont /"+Zh(a.fontName)),A("/Encoding /"+a.encoding),A("/DescendantFonts ["+C+" 0 R]"),A(">>"),A("endobj"),a.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var a=o.font,A=o.out,l=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var u=a.metadata.rawData,f="",d=0;d<u.length;d++)f+=String.fromCharCode(u[d]);var B=l();c({data:f,addLength1:!0,objectId:B}),A("endobj");var b=l();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:b}),A("endobj");var E=l();A("<<"),A("/Descent "+a.metadata.decender),A("/CapHeight "+a.metadata.capHeight),A("/StemV "+a.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+B+" 0 R"),A("/Flags 96"),A("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),A("/FontName /"+Zh(a.fontName)),A("/ItalicAngle "+a.metadata.italicAngle),A("/Ascent "+a.metadata.ascender),A(">>"),A("endobj"),a.objectNumber=l();for(var v=0;v<a.metadata.hmtx.widths.length;v++)a.metadata.hmtx.widths[v]=parseInt(a.metadata.hmtx.widths[v]*(1e3/a.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Zh(a.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),A("endobj"),a.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,a=i.text||"",A=i.x,l=i.y,c=i.options||{},u=i.mutex||{},f=u.pdfEscape,d=u.activeFontKey,B=u.fonts,b=d,E="",v=0,C="",S=B[b].encoding;if(B[b].encoding!=="Identity-H")return{text:a,x:A,y:l,options:c,mutex:u};for(C=a,b=d,Array.isArray(a)&&(C=a[0]),v=0;v<C.length;v+=1)B[b].metadata.hasOwnProperty("cmap")&&(o=B[b].metadata.cmap.unicode.codeMap[C[v].charCodeAt(0)]),o||C[v].charCodeAt(0)<256&&B[b].metadata.hasOwnProperty("Unicode")?E+=C[v]:E+="";var R="";return parseInt(b.slice(1))<14||S==="WinAnsiEncoding"?R=f(E,b).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(R=n(E,B[b])),u.isHex=!0,{text:R,x:A,y:l,options:c,mutex:u}};e.events.push(["postProcessText",function(i){var o=i.text||"",a=[],A={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var l=0;for(l=0;l<o.length;l+=1)Array.isArray(o[l])&&o[l].length===3?a.push([s(Object.assign({},A,{text:o[l][0]})).text,o[l][1],o[l][2]]):a.push(s(Object.assign({},A,{text:o[l]})).text);i.text=a}else i.text=s(Object.assign({},A,{text:o})).text}])}(fn),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(fn.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var s,i,o,a,A,l,c,u=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],B={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,S=0;this.__bidiEngine__={};var R=function(L){var j=L.charCodeAt(),k=j>>8,$=b[k];return $!==void 0?u[256*$+(255&j)]:k===252||k===253?"AL":v.test(k)?"L":k===8?"R":"N"},P=function(L){for(var j,k=0;k<L.length;k++){if((j=R(L.charAt(k)))==="L")return!1;if(j==="R")return!0}return!1},Q=function(L,j,k,$){var re,oe,pe,se,me=j[$];switch(me){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(me="AN");break;case"AL":C=!0,me="R";break;case"WS":me="N";break;case"CS":$<1||$+1>=j.length||(re=k[$-1])!=="EN"&&re!=="AN"||(oe=j[$+1])!=="EN"&&oe!=="AN"?me="N":C&&(oe="AN"),me=oe===re?oe:"N";break;case"ES":me=(re=$>0?k[$-1]:"B")==="EN"&&$+1<j.length&&j[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&k[$-1]==="EN"){me="EN";break}if(C){me="N";break}for(pe=$+1,se=j.length;pe<se&&j[pe]==="ET";)pe++;me=pe<se&&j[pe]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(se=j.length,pe=$+1;pe<se&&j[pe]==="NSM";)pe++;if(pe<se){var ve=L[$],Ve=ve>=1425&&ve<=2303||ve===64286;if(re=j[pe],Ve&&(re==="R"||re==="AL")){me="R";break}}}me=$<1||(re=j[$-1])==="B"?"N":k[$-1];break;case"B":C=!1,s=!0,me=S;break;case"S":i=!0,me="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":me="N"}return me},T=function(L,j,k){var $=L.split("");return k&&I($,k,{hiLevel:S}),$.reverse(),j&&j.reverse(),$.join("")},I=function(L,j,k){var $,re,oe,pe,se,me=-1,ve=L.length,Ve=0,z=[],J=S?d:f,ie=[];for(C=!1,s=!1,i=!1,re=0;re<ve;re++)ie[re]=R(L[re]);for(oe=0;oe<ve;oe++){if(se=Ve,z[oe]=Q(L,ie,z,oe),$=240&(Ve=J[se][B[z[oe]]]),Ve&=15,j[oe]=pe=J[Ve][5],$>0)if($===16){for(re=me;re<oe;re++)j[re]=1;me=-1}else me=-1;if(J[Ve][6])me===-1&&(me=oe);else if(me>-1){for(re=me;re<oe;re++)j[re]=pe;me=-1}ie[oe]==="B"&&(j[oe]=0),k.hiLevel|=pe}i&&function(ce,ge,we){for(var ue=0;ue<we;ue++)if(ce[ue]==="S"){ge[ue]=S;for(var fe=ue-1;fe>=0&&ce[fe]==="WS";fe--)ge[fe]=S}}(ie,j,ve)},O=function(L,j,k,$,re){if(!(re.hiLevel<L)){if(L===1&&S===1&&!s)return j.reverse(),void(k&&k.reverse());for(var oe,pe,se,me,ve=j.length,Ve=0;Ve<ve;){if($[Ve]>=L){for(se=Ve+1;se<ve&&$[se]>=L;)se++;for(me=Ve,pe=se-1;me<pe;me++,pe--)oe=j[me],j[me]=j[pe],j[pe]=oe,k&&(oe=k[me],k[me]=k[pe],k[pe]=oe);Ve=se}Ve++}}},M=function(L,j,k){var $=L.split(""),re={hiLevel:S};return k||(k=[]),I($,k,re),function(oe,pe,se){if(se.hiLevel!==0&&c)for(var me,ve=0;ve<oe.length;ve++)pe[ve]===1&&(me=E.indexOf(oe[ve]))>=0&&(oe[ve]=E[me+1])}($,k,re),O(2,$,j,k,re),O(1,$,j,k,re),$.join("")};return this.__bidiEngine__.doBidiReorder=function(L,j,k){if(function(re,oe){if(oe)for(var pe=0;pe<re.length;pe++)oe[pe]=pe;a===void 0&&(a=P(re)),l===void 0&&(l=P(re))}(L,j),o||!A||l)if(o&&A&&a^l)S=a?1:0,L=T(L,j,k);else if(!o&&A&&l)S=a?1:0,L=M(L,j,k),L=T(L,j);else if(!o||a||A||l){if(o&&!A&&a^l)L=T(L,j),a?(S=0,L=M(L,j,k)):(S=1,L=M(L,j,k),L=T(L,j));else if(o&&a&&!A&&l)S=1,L=M(L,j,k),L=T(L,j);else if(!o&&!A&&a^l){var $=c;a?(S=1,L=M(L,j,k),S=0,c=!1,L=M(L,j,k),c=$):(S=0,L=M(L,j,k),L=T(L,j),S=1,c=!1,L=M(L,j,k),c=$,L=T(L,j))}}else S=0,L=M(L,j,k);else S=a?1:0,L=M(L,j,k);return L},this.__bidiEngine__.setOptions=function(L){L&&(o=L.isInputVisual,A=L.isOutputVisual,a=L.isInputRtl,l=L.isOutputRtl,c=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var a=0;for(o=[],a=0;a<s.length;a+=1)Object.prototype.toString.call(s[a])==="[object Array]"?o.push([n.doBidiReorder(s[a][0]),s[a][1],s[a][2]]):o.push([n.doBidiReorder(s[a])]);r.text=o}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(fn),fn.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Iu(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new QW(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new CW(this.contents),this.head=new IW(this),this.name=new kW(this),this.cmap=new Fj(this),this.toUnicode={},this.hhea=new SW(this),this.maxp=new LW(this),this.hmtx=new PW(this),this.post=new TW(this),this.os2=new FW(this),this.loca=new DW(this),this.glyf=new jW(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,A,l;for(l=[],o=0,a=(A=this.bbox).length;o<a;o++)e=A[o],l.push(Math.round(e*this.scaleFactor));return l}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var s,i,o,a;for(o=0,i=0,a=(e=""+e).length;0<=a?i<a:i>a;i=0<=a?++i:--i)s=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var AA,Iu=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,s;for(s=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,s,i,o,a,A;return e=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),A=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^a)+(255^A)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*s+16777216*i+65536*o+256*a+A},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,s,i;for(i=[],r=0,s=e.length;r<s;r++)n=e[r],i.push(this.writeByte(n));return i},t}(),CW=function(){var t;function e(n){var r,s,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,s,i,o,a,A,l,c,u,f,d,B,b;for(b in d=Object.keys(n).length,A=Math.log(2),u=16*Math.floor(Math.log(d)/A),o=Math.floor(u/A),c=16*d-u,(s=new Iu).writeInt(this.scalarType),s.writeShort(d),s.writeShort(u),s.writeShort(o),s.writeShort(c),i=16*d,l=s.pos+i,a=null,B=[],n)for(f=n[b],s.writeString(b),s.writeInt(t(f)),s.writeInt(l),s.writeInt(f.length),B=B.concat(f),b==="head"&&(a=l),l+=f.length;l%4;)B.push(0),l++;return s.write(B),r=2981146554-t(s.data),s.pos=a+8,s.writeUInt32(r),s.data},t=function(n){var r,s,i,o;for(n=Tj.call(n);n.length%4;)n.push(0);for(i=new Iu(n),s=0,r=0,o=n.length;r<o;r=r+=4)s+=i.readUInt32();return 4294967295&s},e}(),EW={}.hasOwnProperty,XA=function(t,e){for(var n in e)EW.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};AA=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var IW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return XA(e,AA),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Iu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),NS=function(){function t(e,n){var r,s,i,o,a,A,l,c,u,f,d,B,b,E,v,C,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(A=0;A<256;++A)this.codeMap[A]=e.readByte();break;case 4:for(d=e.readUInt16(),f=d/2,e.pos+=6,i=function(){var R,P;for(P=[],A=R=0;0<=f?R<f:R>f;A=0<=f?++R:--R)P.push(e.readUInt16());return P}(),e.pos+=2,b=function(){var R,P;for(P=[],A=R=0;0<=f?R<f:R>f;A=0<=f?++R:--R)P.push(e.readUInt16());return P}(),l=function(){var R,P;for(P=[],A=R=0;0<=f?R<f:R>f;A=0<=f?++R:--R)P.push(e.readUInt16());return P}(),c=function(){var R,P;for(P=[],A=R=0;0<=f?R<f:R>f;A=0<=f?++R:--R)P.push(e.readUInt16());return P}(),s=(this.length-e.pos+this.offset)/2,a=function(){var R,P;for(P=[],A=R=0;0<=s?R<s:R>s;A=0<=s?++R:--R)P.push(e.readUInt16());return P}(),A=v=0,S=i.length;v<S;A=++v)for(E=i[A],r=C=B=b[A];B<=E?C<=E:C>=E;r=B<=E?++C:--C)c[A]===0?o=r+l[A]:(o=a[c[A]/2+(r-B)-(f-A)]||0)!==0&&(o+=l[A]),this.codeMap[r]=65535&o}e.pos=u}return t.encode=function(e,n){var r,s,i,o,a,A,l,c,u,f,d,B,b,E,v,C,S,R,P,Q,T,I,O,M,L,j,k,$,re,oe,pe,se,me,ve,Ve,z,J,ie,ce,ge,we,ue,fe,Ue,He,Ke;switch($=new Iu,o=Object.keys(e).sort(function(Je,ft){return Je-ft}),n){case"macroman":for(b=0,E=function(){var Je=[];for(B=0;B<256;++B)Je.push(0);return Je}(),C={0:0},i={},re=0,me=o.length;re<me;re++)C[fe=e[s=o[re]]]==null&&(C[fe]=++b),i[s]={old:e[s],new:C[e[s]]},E[s]=C[e[s]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(E),{charMap:i,subtable:$.data,maxGlyphID:b+1};case"unicode":for(j=[],u=[],S=0,C={},r={},v=l=null,oe=0,ve=o.length;oe<ve;oe++)C[P=e[s=o[oe]]]==null&&(C[P]=++S),r[s]={old:P,new:C[P]},a=C[P]-s,v!=null&&a===l||(v&&u.push(v),j.push(s),l=a),v=s;for(v&&u.push(v),u.push(65535),j.push(65535),M=2*(O=j.length),I=2*Math.pow(Math.log(O)/Math.LN2,2),f=Math.log(I/2)/Math.LN2,T=2*O-I,A=[],Q=[],d=[],B=pe=0,Ve=j.length;pe<Ve;B=++pe){if(L=j[B],c=u[B],L===65535){A.push(0),Q.push(0);break}if(L-(k=r[L].new)>=32768)for(A.push(0),Q.push(2*(d.length+O-B)),s=se=L;L<=c?se<=c:se>=c;s=L<=c?++se:--se)d.push(r[s].new);else A.push(k-L),Q.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*O+2*d.length),$.writeUInt16(0),$.writeUInt16(M),$.writeUInt16(I),$.writeUInt16(f),$.writeUInt16(T),we=0,z=u.length;we<z;we++)s=u[we],$.writeUInt16(s);for($.writeUInt16(0),ue=0,J=j.length;ue<J;ue++)s=j[ue],$.writeUInt16(s);for(Ue=0,ie=A.length;Ue<ie;Ue++)a=A[Ue],$.writeUInt16(a);for(He=0,ce=Q.length;He<ce;He++)R=Q[He],$.writeUInt16(R);for(Ke=0,ge=d.length;Ke<ge;Ke++)b=d[Ke],$.writeUInt16(b);return{charMap:r,subtable:$.data,maxGlyphID:S+1}}},t}(),Fj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return XA(e,AA),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,s,i;for(n.pos=this.offset,this.version=n.readUInt16(),i=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)r=new NS(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var s,i;return r==null&&(r="macroman"),s=NS.encode(n,r),(i=new Iu).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e}(),SW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return XA(e,AA),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),FW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return XA(e,AA),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(n.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),TW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return XA(e,AA),e.prototype.tag="post",e.prototype.parse=function(n){var r,s,i;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(s=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],i=[];n.pos<this.offset+this.length;)r=n.readByte(),i.push(this.names.push(n.readString(r)));return i;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var a,A,l;for(l=[],o=a=0,A=this.file.maxp.numGlyphs;0<=A?a<A:a>A;o=0<=A?++a:--a)l.push(n.readUInt32());return l}).call(this)}},e}(),NW=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},kW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return XA(e,AA),e.prototype.tag="name",e.prototype.parse=function(n){var r,s,i,o,a,A,l,c,u,f,d;for(n.pos=this.offset,n.readShort(),r=n.readShort(),A=n.readShort(),s=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+A+n.readShort()});for(l={},o=u=0,f=s.length;u<f;o=++u)i=s[o],n.pos=i.offset,c=n.readString(i.length),a=new NW(c,i),l[d=i.nameID]==null&&(l[d]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),LW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return XA(e,AA),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),PW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return XA(e,AA),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,s,i,o,a,A,l;for(n.pos=this.offset,this.metrics=[],r=0,A=this.file.hhea.numberOfMetrics;0<=A?r<A:r>A;r=0<=A?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)u.push(n.readInt16());return u}(),this.widths=(function(){var c,u,f,d;for(d=[],c=0,u=(f=this.metrics).length;c<u;c++)o=f[c],d.push(o.advance);return d}).call(this),s=this.widths[this.widths.length-1],l=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)l.push(this.widths.push(s));return l},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),Tj=[].slice,jW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return XA(e,AA),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,s,i,o,a,A,l,c,u,f;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,s=o.indexOf(n),(i=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+s,a=(A=new Iu(r.read(i))).readShort(),c=A.readShort(),f=A.readShort(),l=A.readShort(),u=A.readShort(),this.cache[n]=a===-1?new RW(A,c,f,l,u):new UW(A,a,c,f,l,u),this.cache[n]))},e.prototype.encode=function(n,r,s){var i,o,a,A,l;for(a=[],o=[],A=0,l=r.length;A<l;A++)i=n[r[A]],o.push(a.length),i&&(a=a.concat(i.encode(s)));return o.push(a.length),{table:a,offsets:o}},e}(),UW=function(){function t(e,n,r,s,i,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),RW=function(){function t(e,n,r,s,i){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Iu(Tj.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),DW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return XA(e,AA),e.prototype.tag="loca",e.prototype.parse=function(n){var r,s;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var s=new Uint32Array(this.offsets.length),i=0,o=0,a=0;a<s.length;++a)if(s[a]=i,o<r.length&&r[o]==a){++o,s[a]=i;var A=this.offsets[a],l=this.offsets[a+1]-A;l>0&&(i+=l)}for(var c=new Array(4*s.length),u=0;u<s.length;++u)c[4*u+3]=255&s[u],c[4*u+2]=(65280&s[u])>>8,c[4*u+1]=(16711680&s[u])>>16,c[4*u]=(4278190080&s[u])>>24;return c},e}(),QW=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,s,i;for(n in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[n],e[n]=s[r];return e},t.prototype.glyphsFor=function(e){var n,r,s,i,o,a,A;for(s={},o=0,a=e.length;o<a;o++)s[i=e[o]]=this.font.glyf.glyphFor(i);for(i in n=[],s)(r=s[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in A=this.glyphsFor(n))r=A[i],s[i]=r;return s},t.prototype.encode=function(e,n){var r,s,i,o,a,A,l,c,u,f,d,B,b,E,v;for(s in r=Fj.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),d={0:0},v=r.charMap)d[(A=v[s]).old]=A.new;for(B in f=r.maxGlyphID,o)B in d||(d[B]=f++);return c=function(C){var S,R;for(S in R={},C)R[C[S]]=S;return R}(d),u=Object.keys(c).sort(function(C,S){return C-S}),b=function(){var C,S,R;for(R=[],C=0,S=u.length;C<S;C++)a=u[C],R.push(c[a]);return R}(),i=this.font.glyf.encode(o,b,d),l=this.font.loca.encode(i.offsets,b),E={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},t}();fn.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,s,i,o;if(Array.isArray(n))return"["+function(){var a,A,l;for(l=[],a=0,A=n.length;a<A;a++)r=n[a],l.push(e.convert(r));return l}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in i=["<<"],n)o=n[s],i.push("/"+s+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+n},e}();const OW=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:mW,AcroFormAppearance:Vt,AcroFormButton:Rs,AcroFormCheckBox:Tg,AcroFormChoiceField:Td,AcroFormComboBox:kd,AcroFormEditBox:Sg,AcroFormListBox:Nd,AcroFormPasswordField:Ng,AcroFormPushButton:Fg,AcroFormRadioButton:Ld,AcroFormTextField:yu,GState:wm,ShadingPattern:$c,TilingPattern:bd,default:fn,jsPDF:fn},Symbol.toStringTag,{value:"Module"})),MW=pD(OW);var fx={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var kS;function HW(){return kS||(kS=1,function(t,e){(function(n,r){t.exports=r()})(Il,function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var n=function(y,g){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var D in w)Object.prototype.hasOwnProperty.call(w,D)&&(x[D]=w[D])},n(y,g)};function r(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");n(y,g);function x(){this.constructor=y}y.prototype=g===null?Object.create(g):(x.prototype=g.prototype,new x)}var s=function(){return s=Object.assign||function(g){for(var x,w=1,D=arguments.length;w<D;w++){x=arguments[w];for(var K in x)Object.prototype.hasOwnProperty.call(x,K)&&(g[K]=x[K])}return g},s.apply(this,arguments)};function i(y,g,x,w){function D(K){return K instanceof x?K:new x(function(Y){Y(K)})}return new(x||(x=Promise))(function(K,Y){function Ae(Fe){try{_e(w.next(Fe))}catch(Pe){Y(Pe)}}function ae(Fe){try{_e(w.throw(Fe))}catch(Pe){Y(Pe)}}function _e(Fe){Fe.done?K(Fe.value):D(Fe.value).then(Ae,ae)}_e((w=w.apply(y,g||[])).next())})}function o(y,g){var x={label:0,sent:function(){if(K[0]&1)throw K[1];return K[1]},trys:[],ops:[]},w,D,K,Y;return Y={next:Ae(0),throw:Ae(1),return:Ae(2)},typeof Symbol=="function"&&(Y[Symbol.iterator]=function(){return this}),Y;function Ae(_e){return function(Fe){return ae([_e,Fe])}}function ae(_e){if(w)throw new TypeError("Generator is already executing.");for(;x;)try{if(w=1,D&&(K=_e[0]&2?D.return:_e[0]?D.throw||((K=D.return)&&K.call(D),0):D.next)&&!(K=K.call(D,_e[1])).done)return K;switch(D=0,K&&(_e=[_e[0]&2,K.value]),_e[0]){case 0:case 1:K=_e;break;case 4:return x.label++,{value:_e[1],done:!1};case 5:x.label++,D=_e[1],_e=[0];continue;case 7:_e=x.ops.pop(),x.trys.pop();continue;default:if(K=x.trys,!(K=K.length>0&&K[K.length-1])&&(_e[0]===6||_e[0]===2)){x=0;continue}if(_e[0]===3&&(!K||_e[1]>K[0]&&_e[1]<K[3])){x.label=_e[1];break}if(_e[0]===6&&x.label<K[1]){x.label=K[1],K=_e;break}if(K&&x.label<K[2]){x.label=K[2],x.ops.push(_e);break}K[2]&&x.ops.pop(),x.trys.pop();continue}_e=g.call(y,x)}catch(Fe){_e=[6,Fe],D=0}finally{w=K=0}if(_e[0]&5)throw _e[1];return{value:_e[0]?_e[1]:void 0,done:!0}}}function a(y,g,x){if(x||arguments.length===2)for(var w=0,D=g.length,K;w<D;w++)(K||!(w in g))&&(K||(K=Array.prototype.slice.call(g,0,w)),K[w]=g[w]);return y.concat(K||g)}for(var A=function(){function y(g,x,w,D){this.left=g,this.top=x,this.width=w,this.height=D}return y.prototype.add=function(g,x,w,D){return new y(this.left+g,this.top+x,this.width+w,this.height+D)},y.fromClientRect=function(g,x){return new y(x.left+g.windowBounds.left,x.top+g.windowBounds.top,x.width,x.height)},y.fromDOMRectList=function(g,x){var w=Array.from(x).find(function(D){return D.width!==0});return w?new y(w.left+g.windowBounds.left,w.top+g.windowBounds.top,w.width,w.height):y.EMPTY},y.EMPTY=new y(0,0,0,0),y}(),l=function(y,g){return A.fromClientRect(y,g.getBoundingClientRect())},c=function(y){var g=y.body,x=y.documentElement;if(!g||!x)throw new Error("Unable to get document size");var w=Math.max(Math.max(g.scrollWidth,x.scrollWidth),Math.max(g.offsetWidth,x.offsetWidth),Math.max(g.clientWidth,x.clientWidth)),D=Math.max(Math.max(g.scrollHeight,x.scrollHeight),Math.max(g.offsetHeight,x.offsetHeight),Math.max(g.clientHeight,x.clientHeight));return new A(0,0,w,D)},u=function(y){for(var g=[],x=0,w=y.length;x<w;){var D=y.charCodeAt(x++);if(D>=55296&&D<=56319&&x<w){var K=y.charCodeAt(x++);(K&64512)===56320?g.push(((D&1023)<<10)+(K&1023)+65536):(g.push(D),x--)}else g.push(D)}return g},f=function(){for(var y=[],g=0;g<arguments.length;g++)y[g]=arguments[g];if(String.fromCodePoint)return String.fromCodePoint.apply(String,y);var x=y.length;if(!x)return"";for(var w=[],D=-1,K="";++D<x;){var Y=y[D];Y<=65535?w.push(Y):(Y-=65536,w.push((Y>>10)+55296,Y%1024+56320)),(D+1===x||w.length>16384)&&(K+=String.fromCharCode.apply(String,w),w.length=0)}return K},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=typeof Uint8Array>"u"?[]:new Uint8Array(256),b=0;b<d.length;b++)B[d.charCodeAt(b)]=b;for(var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v=typeof Uint8Array>"u"?[]:new Uint8Array(256),C=0;C<E.length;C++)v[E.charCodeAt(C)]=C;for(var S=function(y){var g=y.length*.75,x=y.length,w,D=0,K,Y,Ae,ae;y[y.length-1]==="="&&(g--,y[y.length-2]==="="&&g--);var _e=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(g):new Array(g),Fe=Array.isArray(_e)?_e:new Uint8Array(_e);for(w=0;w<x;w+=4)K=v[y.charCodeAt(w)],Y=v[y.charCodeAt(w+1)],Ae=v[y.charCodeAt(w+2)],ae=v[y.charCodeAt(w+3)],Fe[D++]=K<<2|Y>>4,Fe[D++]=(Y&15)<<4|Ae>>2,Fe[D++]=(Ae&3)<<6|ae&63;return _e},R=function(y){for(var g=y.length,x=[],w=0;w<g;w+=2)x.push(y[w+1]<<8|y[w]);return x},P=function(y){for(var g=y.length,x=[],w=0;w<g;w+=4)x.push(y[w+3]<<24|y[w+2]<<16|y[w+1]<<8|y[w]);return x},Q=5,T=6+5,I=2,O=T-Q,M=65536>>Q,L=1<<Q,j=L-1,k=1024>>Q,$=M+k,re=$,oe=32,pe=re+oe,se=65536>>T,me=1<<O,ve=me-1,Ve=function(y,g,x){return y.slice?y.slice(g,x):new Uint16Array(Array.prototype.slice.call(y,g,x))},z=function(y,g,x){return y.slice?y.slice(g,x):new Uint32Array(Array.prototype.slice.call(y,g,x))},J=function(y,g){var x=S(y),w=Array.isArray(x)?P(x):new Uint32Array(x),D=Array.isArray(x)?R(x):new Uint16Array(x),K=24,Y=Ve(D,K/2,w[4]/2),Ae=w[5]===2?Ve(D,(K+w[4])/2):z(w,Math.ceil((K+w[4])/4));return new ie(w[0],w[1],w[2],w[3],Y,Ae)},ie=function(){function y(g,x,w,D,K,Y){this.initialValue=g,this.errorValue=x,this.highStart=w,this.highValueIndex=D,this.index=K,this.data=Y}return y.prototype.get=function(g){var x;if(g>=0){if(g<55296||g>56319&&g<=65535)return x=this.index[g>>Q],x=(x<<I)+(g&j),this.data[x];if(g<=65535)return x=this.index[M+(g-55296>>Q)],x=(x<<I)+(g&j),this.data[x];if(g<this.highStart)return x=pe-se+(g>>T),x=this.index[x],x+=g>>Q&ve,x=this.index[x],x=(x<<I)+(g&j),this.data[x];if(g<=1114111)return this.data[this.highValueIndex]}return this.errorValue},y}(),ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ge=typeof Uint8Array>"u"?[]:new Uint8Array(256),we=0;we<ce.length;we++)ge[ce.charCodeAt(we)]=we;var ue="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",fe=50,Ue=1,He=2,Ke=3,Je=4,ft=5,Oe=7,de=8,Et=9,At=10,Ge=11,lt=12,pt=13,dt=14,Ut=15,Kt=16,Mt=17,Jt=18,$t=19,St=20,Rt=21,ke=22,Le=23,nt=24,Xe=25,Ot=26,vt=27,Zt=28,vr=29,hn=30,Sr=31,En=32,Fr=33,nn=34,mt=35,ct=36,xt=37,wn=38,yn=39,wr=40,jr=41,Wt=42,ye=43,Te=[9001,65288],je="!",Re="×",it="÷",Tt=J(ue),Dt=[hn,ct],Bt=[Ue,He,Ke,ft],Ct=[At,de],yt=[vt,Ot],Nt=Bt.concat(Ct),en=[wn,yn,wr,nn,mt],sn=[Ut,pt],Nn=function(y,g){g===void 0&&(g="strict");var x=[],w=[],D=[];return y.forEach(function(K,Y){var Ae=Tt.get(K);if(Ae>fe?(D.push(!0),Ae-=fe):D.push(!1),["normal","auto","loose"].indexOf(g)!==-1&&[8208,8211,12316,12448].indexOf(K)!==-1)return w.push(Y),x.push(Kt);if(Ae===Je||Ae===Ge){if(Y===0)return w.push(Y),x.push(hn);var ae=x[Y-1];return Nt.indexOf(ae)===-1?(w.push(w[Y-1]),x.push(ae)):(w.push(Y),x.push(hn))}if(w.push(Y),Ae===Sr)return x.push(g==="strict"?Rt:xt);if(Ae===Wt||Ae===vr)return x.push(hn);if(Ae===ye)return K>=131072&&K<=196605||K>=196608&&K<=262141?x.push(xt):x.push(hn);x.push(Ae)}),[w,x,D]},In=function(y,g,x,w){var D=w[x];if(Array.isArray(y)?y.indexOf(D)!==-1:y===D)for(var K=x;K<=w.length;){K++;var Y=w[K];if(Y===g)return!0;if(Y!==At)break}if(D===At)for(var K=x;K>0;){K--;var Ae=w[K];if(Array.isArray(y)?y.indexOf(Ae)!==-1:y===Ae)for(var ae=x;ae<=w.length;){ae++;var Y=w[ae];if(Y===g)return!0;if(Y!==At)break}if(Ae!==At)break}return!1},Bn=function(y,g){for(var x=y;x>=0;){var w=g[x];if(w===At)x--;else return w}return 0},Mn=function(y,g,x,w,D){if(x[w]===0)return Re;var K=w-1;if(Array.isArray(D)&&D[K]===!0)return Re;var Y=K-1,Ae=K+1,ae=g[K],_e=Y>=0?g[Y]:0,Fe=g[Ae];if(ae===He&&Fe===Ke)return Re;if(Bt.indexOf(ae)!==-1)return je;if(Bt.indexOf(Fe)!==-1||Ct.indexOf(Fe)!==-1)return Re;if(Bn(K,g)===de)return it;if(Tt.get(y[K])===Ge||(ae===En||ae===Fr)&&Tt.get(y[Ae])===Ge||ae===Oe||Fe===Oe||ae===Et||[At,pt,Ut].indexOf(ae)===-1&&Fe===Et||[Mt,Jt,$t,nt,Zt].indexOf(Fe)!==-1||Bn(K,g)===ke||In(Le,ke,K,g)||In([Mt,Jt],Rt,K,g)||In(lt,lt,K,g))return Re;if(ae===At)return it;if(ae===Le||Fe===Le)return Re;if(Fe===Kt||ae===Kt)return it;if([pt,Ut,Rt].indexOf(Fe)!==-1||ae===dt||_e===ct&&sn.indexOf(ae)!==-1||ae===Zt&&Fe===ct||Fe===St||Dt.indexOf(Fe)!==-1&&ae===Xe||Dt.indexOf(ae)!==-1&&Fe===Xe||ae===vt&&[xt,En,Fr].indexOf(Fe)!==-1||[xt,En,Fr].indexOf(ae)!==-1&&Fe===Ot||Dt.indexOf(ae)!==-1&&yt.indexOf(Fe)!==-1||yt.indexOf(ae)!==-1&&Dt.indexOf(Fe)!==-1||[vt,Ot].indexOf(ae)!==-1&&(Fe===Xe||[ke,Ut].indexOf(Fe)!==-1&&g[Ae+1]===Xe)||[ke,Ut].indexOf(ae)!==-1&&Fe===Xe||ae===Xe&&[Xe,Zt,nt].indexOf(Fe)!==-1)return Re;if([Xe,Zt,nt,Mt,Jt].indexOf(Fe)!==-1)for(var Pe=K;Pe>=0;){var qe=g[Pe];if(qe===Xe)return Re;if([Zt,nt].indexOf(qe)!==-1)Pe--;else break}if([vt,Ot].indexOf(Fe)!==-1)for(var Pe=[Mt,Jt].indexOf(ae)!==-1?Y:K;Pe>=0;){var qe=g[Pe];if(qe===Xe)return Re;if([Zt,nt].indexOf(qe)!==-1)Pe--;else break}if(wn===ae&&[wn,yn,nn,mt].indexOf(Fe)!==-1||[yn,nn].indexOf(ae)!==-1&&[yn,wr].indexOf(Fe)!==-1||[wr,mt].indexOf(ae)!==-1&&Fe===wr||en.indexOf(ae)!==-1&&[St,Ot].indexOf(Fe)!==-1||en.indexOf(Fe)!==-1&&ae===vt||Dt.indexOf(ae)!==-1&&Dt.indexOf(Fe)!==-1||ae===nt&&Dt.indexOf(Fe)!==-1||Dt.concat(Xe).indexOf(ae)!==-1&&Fe===ke&&Te.indexOf(y[Ae])===-1||Dt.concat(Xe).indexOf(Fe)!==-1&&ae===Jt)return Re;if(ae===jr&&Fe===jr){for(var Qt=x[K],gt=1;Qt>0&&(Qt--,g[Qt]===jr);)gt++;if(gt%2!==0)return Re}return ae===En&&Fe===Fr?Re:it},Ss=function(y,g){g||(g={lineBreak:"normal",wordBreak:"normal"});var x=Nn(y,g.lineBreak),w=x[0],D=x[1],K=x[2];(g.wordBreak==="break-all"||g.wordBreak==="break-word")&&(D=D.map(function(Ae){return[Xe,hn,Wt].indexOf(Ae)!==-1?xt:Ae}));var Y=g.wordBreak==="keep-all"?K.map(function(Ae,ae){return Ae&&y[ae]>=19968&&y[ae]<=40959}):void 0;return[w,D,Y]},Zs=function(){function y(g,x,w,D){this.codePoints=g,this.required=x===je,this.start=w,this.end=D}return y.prototype.slice=function(){return f.apply(void 0,this.codePoints.slice(this.start,this.end))},y}(),Fs=function(y,g){var x=u(y),w=Ss(x,g),D=w[0],K=w[1],Y=w[2],Ae=x.length,ae=0,_e=0;return{next:function(){if(_e>=Ae)return{done:!0,value:null};for(var Fe=Re;_e<Ae&&(Fe=Mn(x,K,D,++_e,Y))===Re;);if(Fe!==Re||_e===Ae){var Pe=new Zs(x,Fe,ae,_e);return ae=_e,{value:Pe,done:!1}}return{done:!0,value:null}}}},Vs=1,to=2,as=4,Ts=8,Ns=10,As=47,xn=92,rr=9,ji=32,ys=34,Gn=61,Hn=35,jo=36,Ta=37,Aa=39,la=40,Na=41,di=95,Ur=45,Ks=33,Ui=60,hi=62,lA=64,ka=91,ec=93,Xn=61,cA=123,fi=63,La=125,tc=124,nc=126,Uo=128,Pa=65533,ca=42,no=43,Rr=44,ro=58,JA=59,on=46,rc=0,ua=8,so=11,sc=14,ic=31,ei=127,zs=-1,oc=48,ja=97,Ua=101,uA=102,Ri=117,pi=122,ZA=65,io=69,sr=70,dA=85,ac=90,Dr=function(y){return y>=oc&&y<=57},el=function(y){return y>=55296&&y<=57343},oo=function(y){return Dr(y)||y>=ZA&&y<=sr||y>=ja&&y<=uA},ti=function(y){return y>=ja&&y<=pi},ao=function(y){return y>=ZA&&y<=ac},Di=function(y){return ti(y)||ao(y)},Ro=function(y){return y>=Uo},Gs=function(y){return y===Ns||y===rr||y===ji},gi=function(y){return Di(y)||Ro(y)||y===di},Do=function(y){return gi(y)||Dr(y)||y===Ur},tl=function(y){return y>=rc&&y<=ua||y===so||y>=sc&&y<=ic||y===ei},vs=function(y,g){return y!==xn?!1:g!==Ns},Ra=function(y,g,x){return y===Ur?gi(g)||vs(g,x):gi(y)?!0:!!(y===xn&&vs(y,g))},Ao=function(y,g,x){return y===no||y===Ur?Dr(g)?!0:g===on&&Dr(x):Dr(y===on?g:y)},nl=function(y){var g=0,x=1;(y[g]===no||y[g]===Ur)&&(y[g]===Ur&&(x=-1),g++);for(var w=[];Dr(y[g]);)w.push(y[g++]);var D=w.length?parseInt(f.apply(void 0,w),10):0;y[g]===on&&g++;for(var K=[];Dr(y[g]);)K.push(y[g++]);var Y=K.length,Ae=Y?parseInt(f.apply(void 0,K),10):0;(y[g]===io||y[g]===Ua)&&g++;var ae=1;(y[g]===no||y[g]===Ur)&&(y[g]===Ur&&(ae=-1),g++);for(var _e=[];Dr(y[g]);)_e.push(y[g++]);var Fe=_e.length?parseInt(f.apply(void 0,_e),10):0;return x*(D+Ae*Math.pow(10,-Y))*Math.pow(10,ae*Fe)},rl={type:2},lo={type:3},hA={type:4},fA={type:13},pA={type:8},sl={type:21},Da={type:9},co={type:10},gA={type:11},Qo={type:12},Qi={type:14},F={type:23},W={type:1},he={type:25},xe={type:24},Ne={type:26},ze={type:27},st={type:28},It={type:29},zt={type:31},m={type:32},U=function(){function y(){this._value=[]}return y.prototype.write=function(g){this._value=this._value.concat(u(g))},y.prototype.read=function(){for(var g=[],x=this.consumeToken();x!==m;)g.push(x),x=this.consumeToken();return g},y.prototype.consumeToken=function(){var g=this.consumeCodePoint();switch(g){case ys:return this.consumeStringToken(ys);case Hn:var x=this.peekCodePoint(0),w=this.peekCodePoint(1),D=this.peekCodePoint(2);if(Do(x)||vs(w,D)){var K=Ra(x,w,D)?to:Vs,Y=this.consumeName();return{type:5,value:Y,flags:K}}break;case jo:if(this.peekCodePoint(0)===Gn)return this.consumeCodePoint(),fA;break;case Aa:return this.consumeStringToken(Aa);case la:return rl;case Na:return lo;case ca:if(this.peekCodePoint(0)===Gn)return this.consumeCodePoint(),Qi;break;case no:if(Ao(g,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(g),this.consumeNumericToken();break;case Rr:return hA;case Ur:var Ae=g,ae=this.peekCodePoint(0),_e=this.peekCodePoint(1);if(Ao(Ae,ae,_e))return this.reconsumeCodePoint(g),this.consumeNumericToken();if(Ra(Ae,ae,_e))return this.reconsumeCodePoint(g),this.consumeIdentLikeToken();if(ae===Ur&&_e===hi)return this.consumeCodePoint(),this.consumeCodePoint(),xe;break;case on:if(Ao(g,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(g),this.consumeNumericToken();break;case As:if(this.peekCodePoint(0)===ca)for(this.consumeCodePoint();;){var Fe=this.consumeCodePoint();if(Fe===ca&&(Fe=this.consumeCodePoint(),Fe===As))return this.consumeToken();if(Fe===zs)return this.consumeToken()}break;case ro:return Ne;case JA:return ze;case Ui:if(this.peekCodePoint(0)===Ks&&this.peekCodePoint(1)===Ur&&this.peekCodePoint(2)===Ur)return this.consumeCodePoint(),this.consumeCodePoint(),he;break;case lA:var Pe=this.peekCodePoint(0),qe=this.peekCodePoint(1),Qt=this.peekCodePoint(2);if(Ra(Pe,qe,Qt)){var Y=this.consumeName();return{type:7,value:Y}}break;case ka:return st;case xn:if(vs(g,this.peekCodePoint(0)))return this.reconsumeCodePoint(g),this.consumeIdentLikeToken();break;case ec:return It;case Xn:if(this.peekCodePoint(0)===Gn)return this.consumeCodePoint(),pA;break;case cA:return gA;case La:return Qo;case Ri:case dA:var gt=this.peekCodePoint(0),Ft=this.peekCodePoint(1);return gt===no&&(oo(Ft)||Ft===fi)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(g),this.consumeIdentLikeToken();case tc:if(this.peekCodePoint(0)===Gn)return this.consumeCodePoint(),Da;if(this.peekCodePoint(0)===tc)return this.consumeCodePoint(),sl;break;case nc:if(this.peekCodePoint(0)===Gn)return this.consumeCodePoint(),co;break;case zs:return m}return Gs(g)?(this.consumeWhiteSpace(),zt):Dr(g)?(this.reconsumeCodePoint(g),this.consumeNumericToken()):gi(g)?(this.reconsumeCodePoint(g),this.consumeIdentLikeToken()):{type:6,value:f(g)}},y.prototype.consumeCodePoint=function(){var g=this._value.shift();return typeof g>"u"?-1:g},y.prototype.reconsumeCodePoint=function(g){this._value.unshift(g)},y.prototype.peekCodePoint=function(g){return g>=this._value.length?-1:this._value[g]},y.prototype.consumeUnicodeRangeToken=function(){for(var g=[],x=this.consumeCodePoint();oo(x)&&g.length<6;)g.push(x),x=this.consumeCodePoint();for(var w=!1;x===fi&&g.length<6;)g.push(x),x=this.consumeCodePoint(),w=!0;if(w){var D=parseInt(f.apply(void 0,g.map(function(ae){return ae===fi?oc:ae})),16),K=parseInt(f.apply(void 0,g.map(function(ae){return ae===fi?sr:ae})),16);return{type:30,start:D,end:K}}var Y=parseInt(f.apply(void 0,g),16);if(this.peekCodePoint(0)===Ur&&oo(this.peekCodePoint(1))){this.consumeCodePoint(),x=this.consumeCodePoint();for(var Ae=[];oo(x)&&Ae.length<6;)Ae.push(x),x=this.consumeCodePoint();var K=parseInt(f.apply(void 0,Ae),16);return{type:30,start:Y,end:K}}else return{type:30,start:Y,end:Y}},y.prototype.consumeIdentLikeToken=function(){var g=this.consumeName();return g.toLowerCase()==="url"&&this.peekCodePoint(0)===la?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===la?(this.consumeCodePoint(),{type:19,value:g}):{type:20,value:g}},y.prototype.consumeUrlToken=function(){var g=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===zs)return{type:22,value:""};var x=this.peekCodePoint(0);if(x===Aa||x===ys){var w=this.consumeStringToken(this.consumeCodePoint());return w.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===zs||this.peekCodePoint(0)===Na)?(this.consumeCodePoint(),{type:22,value:w.value}):(this.consumeBadUrlRemnants(),F)}for(;;){var D=this.consumeCodePoint();if(D===zs||D===Na)return{type:22,value:f.apply(void 0,g)};if(Gs(D))return this.consumeWhiteSpace(),this.peekCodePoint(0)===zs||this.peekCodePoint(0)===Na?(this.consumeCodePoint(),{type:22,value:f.apply(void 0,g)}):(this.consumeBadUrlRemnants(),F);if(D===ys||D===Aa||D===la||tl(D))return this.consumeBadUrlRemnants(),F;if(D===xn)if(vs(D,this.peekCodePoint(0)))g.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),F;else g.push(D)}},y.prototype.consumeWhiteSpace=function(){for(;Gs(this.peekCodePoint(0));)this.consumeCodePoint()},y.prototype.consumeBadUrlRemnants=function(){for(;;){var g=this.consumeCodePoint();if(g===Na||g===zs)return;vs(g,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},y.prototype.consumeStringSlice=function(g){for(var x=5e4,w="";g>0;){var D=Math.min(x,g);w+=f.apply(void 0,this._value.splice(0,D)),g-=D}return this._value.shift(),w},y.prototype.consumeStringToken=function(g){var x="",w=0;do{var D=this._value[w];if(D===zs||D===void 0||D===g)return x+=this.consumeStringSlice(w),{type:0,value:x};if(D===Ns)return this._value.splice(0,w),W;if(D===xn){var K=this._value[w+1];K!==zs&&K!==void 0&&(K===Ns?(x+=this.consumeStringSlice(w),w=-1,this._value.shift()):vs(D,K)&&(x+=this.consumeStringSlice(w),x+=f(this.consumeEscapedCodePoint()),w=-1))}w++}while(!0)},y.prototype.consumeNumber=function(){var g=[],x=as,w=this.peekCodePoint(0);for((w===no||w===Ur)&&g.push(this.consumeCodePoint());Dr(this.peekCodePoint(0));)g.push(this.consumeCodePoint());w=this.peekCodePoint(0);var D=this.peekCodePoint(1);if(w===on&&Dr(D))for(g.push(this.consumeCodePoint(),this.consumeCodePoint()),x=Ts;Dr(this.peekCodePoint(0));)g.push(this.consumeCodePoint());w=this.peekCodePoint(0),D=this.peekCodePoint(1);var K=this.peekCodePoint(2);if((w===io||w===Ua)&&((D===no||D===Ur)&&Dr(K)||Dr(D)))for(g.push(this.consumeCodePoint(),this.consumeCodePoint()),x=Ts;Dr(this.peekCodePoint(0));)g.push(this.consumeCodePoint());return[nl(g),x]},y.prototype.consumeNumericToken=function(){var g=this.consumeNumber(),x=g[0],w=g[1],D=this.peekCodePoint(0),K=this.peekCodePoint(1),Y=this.peekCodePoint(2);if(Ra(D,K,Y)){var Ae=this.consumeName();return{type:15,number:x,flags:w,unit:Ae}}return D===Ta?(this.consumeCodePoint(),{type:16,number:x,flags:w}):{type:17,number:x,flags:w}},y.prototype.consumeEscapedCodePoint=function(){var g=this.consumeCodePoint();if(oo(g)){for(var x=f(g);oo(this.peekCodePoint(0))&&x.length<6;)x+=f(this.consumeCodePoint());Gs(this.peekCodePoint(0))&&this.consumeCodePoint();var w=parseInt(x,16);return w===0||el(w)||w>1114111?Pa:w}return g===zs?Pa:g},y.prototype.consumeName=function(){for(var g="";;){var x=this.consumeCodePoint();if(Do(x))g+=f(x);else if(vs(x,this.peekCodePoint(0)))g+=f(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(x),g}},y}(),V=function(){function y(g){this._tokens=g}return y.create=function(g){var x=new U;return x.write(g),new y(x.read())},y.parseValue=function(g){return y.create(g).parseComponentValue()},y.parseValues=function(g){return y.create(g).parseComponentValues()},y.prototype.parseComponentValue=function(){for(var g=this.consumeToken();g.type===31;)g=this.consumeToken();if(g.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(g);var x=this.consumeComponentValue();do g=this.consumeToken();while(g.type===31);if(g.type===32)return x;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},y.prototype.parseComponentValues=function(){for(var g=[];;){var x=this.consumeComponentValue();if(x.type===32)return g;g.push(x),g.push()}},y.prototype.consumeComponentValue=function(){var g=this.consumeToken();switch(g.type){case 11:case 28:case 2:return this.consumeSimpleBlock(g.type);case 19:return this.consumeFunction(g)}return g},y.prototype.consumeSimpleBlock=function(g){for(var x={type:g,values:[]},w=this.consumeToken();;){if(w.type===32||Wr(w,g))return x;this.reconsumeToken(w),x.values.push(this.consumeComponentValue()),w=this.consumeToken()}},y.prototype.consumeFunction=function(g){for(var x={name:g.value,values:[],type:18};;){var w=this.consumeToken();if(w.type===32||w.type===3)return x;this.reconsumeToken(w),x.values.push(this.consumeComponentValue())}},y.prototype.consumeToken=function(){var g=this._tokens.shift();return typeof g>"u"?m:g},y.prototype.reconsumeToken=function(g){this._tokens.unshift(g)},y}(),Z=function(y){return y.type===15},Ee=function(y){return y.type===17},Se=function(y){return y.type===20},at=function(y){return y.type===0},pn=function(y,g){return Se(y)&&y.value===g},Jn=function(y){return y.type!==31},An=function(y){return y.type!==31&&y.type!==4},Ln=function(y){var g=[],x=[];return y.forEach(function(w){if(w.type===4){if(x.length===0)throw new Error("Error parsing function args, zero tokens for arg");g.push(x),x=[];return}w.type!==31&&x.push(w)}),x.length&&g.push(x),g},Wr=function(y,g){return g===11&&y.type===12||g===28&&y.type===29?!0:g===2&&y.type===3},ls=function(y){return y.type===17||y.type===15},Pn=function(y){return y.type===16||ls(y)},uo=function(y){return y.length>1?[y[0],y[1]]:[y[0]]},xr={type:17,number:0,flags:as},il={type:16,number:50,flags:as},Oi={type:16,number:100,flags:as},$r=function(y,g,x){var w=y[0],D=y[1];return[Wn(w,g),Wn(typeof D<"u"?D:w,x)]},Wn=function(y,g){if(y.type===16)return y.number/100*g;if(Z(y))switch(y.unit){case"rem":case"em":return 16*y.number;case"px":default:return y.number}return y.number},ol="deg",al="grad",Ac="rad",ni="turn",lc={name:"angle",parse:function(y,g){if(g.type===15)switch(g.unit){case ol:return Math.PI*g.number/180;case al:return Math.PI/200*g.number;case Ac:return g.number;case ni:return Math.PI*2*g.number}throw new Error("Unsupported angle type")}},cc=function(y){return y.type===15&&(y.unit===ol||y.unit===al||y.unit===Ac||y.unit===ni)},Qu=function(y){var g=y.filter(Se).map(function(x){return x.value}).join(" ");switch(g){case"to bottom right":case"to right bottom":case"left top":case"top left":return[xr,xr];case"to top":case"bottom":return Tr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[xr,Oi];case"to right":case"left":return Tr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Oi,Oi];case"to bottom":case"top":return Tr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Oi,xr];case"to left":case"right":return Tr(270)}return 0},Tr=function(y){return Math.PI*y/180},Mi={name:"color",parse:function(y,g){if(g.type===18){var x=Oa[g.name];if(typeof x>"u")throw new Error('Attempting to parse an unsupported color function "'+g.name+'"');return x(y,g.values)}if(g.type===5){if(g.value.length===3){var w=g.value.substring(0,1),D=g.value.substring(1,2),K=g.value.substring(2,3);return ri(parseInt(w+w,16),parseInt(D+D,16),parseInt(K+K,16),1)}if(g.value.length===4){var w=g.value.substring(0,1),D=g.value.substring(1,2),K=g.value.substring(2,3),Y=g.value.substring(3,4);return ri(parseInt(w+w,16),parseInt(D+D,16),parseInt(K+K,16),parseInt(Y+Y,16)/255)}if(g.value.length===6){var w=g.value.substring(0,2),D=g.value.substring(2,4),K=g.value.substring(4,6);return ri(parseInt(w,16),parseInt(D,16),parseInt(K,16),1)}if(g.value.length===8){var w=g.value.substring(0,2),D=g.value.substring(2,4),K=g.value.substring(4,6),Y=g.value.substring(6,8);return ri(parseInt(w,16),parseInt(D,16),parseInt(K,16),parseInt(Y,16)/255)}}if(g.type===20){var Ae=mi[g.value.toUpperCase()];if(typeof Ae<"u")return Ae}return mi.TRANSPARENT}},Oo=function(y){return(255&y)===0},qr=function(y){var g=255&y,x=255&y>>8,w=255&y>>16,D=255&y>>24;return g<255?"rgba("+D+","+w+","+x+","+g/255+")":"rgb("+D+","+w+","+x+")"},ri=function(y,g,x,w){return(y<<24|g<<16|x<<8|Math.round(w*255)<<0)>>>0},mA=function(y,g){if(y.type===17)return y.number;if(y.type===16){var x=g===3?1:255;return g===3?y.number/100*x:Math.round(y.number/100*x)}return 0},si=function(y,g){var x=g.filter(An);if(x.length===3){var w=x.map(mA),D=w[0],K=w[1],Y=w[2];return ri(D,K,Y,1)}if(x.length===4){var Ae=x.map(mA),D=Ae[0],K=Ae[1],Y=Ae[2],ae=Ae[3];return ri(D,K,Y,ae)}return 0};function ks(y,g,x){return x<0&&(x+=1),x>=1&&(x-=1),x<1/6?(g-y)*x*6+y:x<1/2?g:x<2/3?(g-y)*6*(2/3-x)+y:y}var Qa=function(y,g){var x=g.filter(An),w=x[0],D=x[1],K=x[2],Y=x[3],Ae=(w.type===17?Tr(w.number):lc.parse(y,w))/(Math.PI*2),ae=Pn(D)?D.number/100:0,_e=Pn(K)?K.number/100:0,Fe=typeof Y<"u"&&Pn(Y)?Wn(Y,1):1;if(ae===0)return ri(_e*255,_e*255,_e*255,1);var Pe=_e<=.5?_e*(ae+1):_e+ae-_e*ae,qe=_e*2-Pe,Qt=ks(qe,Pe,Ae+1/3),gt=ks(qe,Pe,Ae),Ft=ks(qe,Pe,Ae-1/3);return ri(Qt*255,gt*255,Ft*255,Fe)},Oa={hsl:Qa,hsla:Qa,rgb:si,rgba:si},Hi=function(y,g){return Mi.parse(y,V.create(g).parseComponentValue())},mi={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ma={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(y,g){return g.map(function(x){if(Se(x))switch(x.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Yr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yA=function(y,g){var x=Mi.parse(y,g[0]),w=g[1];return w&&Pn(w)?{color:x,stop:w}:{color:x,stop:null}},Ws=function(y,g){var x=y[0],w=y[y.length-1];x.stop===null&&(x.stop=xr),w.stop===null&&(w.stop=Oi);for(var D=[],K=0,Y=0;Y<y.length;Y++){var Ae=y[Y].stop;if(Ae!==null){var ae=Wn(Ae,g);ae>K?D.push(ae):D.push(K),K=ae}else D.push(null)}for(var _e=null,Y=0;Y<D.length;Y++){var Fe=D[Y];if(Fe===null)_e===null&&(_e=Y);else if(_e!==null){for(var Pe=Y-_e,qe=D[_e-1],Qt=(Fe-qe)/(Pe+1),gt=1;gt<=Pe;gt++)D[_e+gt-1]=Qt*gt;_e=null}}return y.map(function(Ft,Sn){var qt=Ft.color;return{color:qt,stop:Math.max(Math.min(1,D[Sn]/g),0)}})},ho=function(y,g,x){var w=g/2,D=x/2,K=Wn(y[0],g)-w,Y=D-Wn(y[1],x);return(Math.atan2(Y,K)+Math.PI*2)%(Math.PI*2)},uc=function(y,g,x){var w=typeof y=="number"?y:ho(y,g,x),D=Math.abs(g*Math.sin(w))+Math.abs(x*Math.cos(w)),K=g/2,Y=x/2,Ae=D/2,ae=Math.sin(w-Math.PI/2)*Ae,_e=Math.cos(w-Math.PI/2)*Ae;return[D,K-_e,K+_e,Y-ae,Y+ae]},yi=function(y,g){return Math.sqrt(y*y+g*g)},dc=function(y,g,x,w,D){var K=[[0,0],[0,g],[y,0],[y,g]];return K.reduce(function(Y,Ae){var ae=Ae[0],_e=Ae[1],Fe=yi(x-ae,w-_e);return(D?Fe<Y.optimumDistance:Fe>Y.optimumDistance)?{optimumCorner:Ae,optimumDistance:Fe}:Y},{optimumDistance:D?1/0:-1/0,optimumCorner:null}).optimumCorner},Al=function(y,g,x,w,D){var K=0,Y=0;switch(y.size){case 0:y.shape===0?K=Y=Math.min(Math.abs(g),Math.abs(g-w),Math.abs(x),Math.abs(x-D)):y.shape===1&&(K=Math.min(Math.abs(g),Math.abs(g-w)),Y=Math.min(Math.abs(x),Math.abs(x-D)));break;case 2:if(y.shape===0)K=Y=Math.min(yi(g,x),yi(g,x-D),yi(g-w,x),yi(g-w,x-D));else if(y.shape===1){var Ae=Math.min(Math.abs(x),Math.abs(x-D))/Math.min(Math.abs(g),Math.abs(g-w)),ae=dc(w,D,g,x,!0),_e=ae[0],Fe=ae[1];K=yi(_e-g,(Fe-x)/Ae),Y=Ae*K}break;case 1:y.shape===0?K=Y=Math.max(Math.abs(g),Math.abs(g-w),Math.abs(x),Math.abs(x-D)):y.shape===1&&(K=Math.max(Math.abs(g),Math.abs(g-w)),Y=Math.max(Math.abs(x),Math.abs(x-D)));break;case 3:if(y.shape===0)K=Y=Math.max(yi(g,x),yi(g,x-D),yi(g-w,x),yi(g-w,x-D));else if(y.shape===1){var Ae=Math.max(Math.abs(x),Math.abs(x-D))/Math.max(Math.abs(g),Math.abs(g-w)),Pe=dc(w,D,g,x,!1),_e=Pe[0],Fe=Pe[1];K=yi(_e-g,(Fe-x)/Ae),Y=Ae*K}break}return Array.isArray(y.size)&&(K=Wn(y.size[0],w),Y=y.size.length===2?Wn(y.size[1],D):K),[K,Y]},ll=function(y,g){var x=Tr(180),w=[];return Ln(g).forEach(function(D,K){if(K===0){var Y=D[0];if(Y.type===20&&Y.value==="to"){x=Qu(D);return}else if(cc(Y)){x=lc.parse(y,Y);return}}var Ae=yA(y,D);w.push(Ae)}),{angle:x,stops:w,type:1}},Mo=function(y,g){var x=Tr(180),w=[];return Ln(g).forEach(function(D,K){if(K===0){var Y=D[0];if(Y.type===20&&["top","left","right","bottom"].indexOf(Y.value)!==-1){x=Qu(D);return}else if(cc(Y)){x=(lc.parse(y,Y)+Tr(270))%Tr(360);return}}var Ae=yA(y,D);w.push(Ae)}),{angle:x,stops:w,type:1}},cl=function(y,g){var x=Tr(180),w=[],D=1,K=0,Y=3,Ae=[];return Ln(g).forEach(function(ae,_e){var Fe=ae[0];if(_e===0){if(Se(Fe)&&Fe.value==="linear"){D=1;return}else if(Se(Fe)&&Fe.value==="radial"){D=2;return}}if(Fe.type===18){if(Fe.name==="from"){var Pe=Mi.parse(y,Fe.values[0]);w.push({stop:xr,color:Pe})}else if(Fe.name==="to"){var Pe=Mi.parse(y,Fe.values[0]);w.push({stop:Oi,color:Pe})}else if(Fe.name==="color-stop"){var qe=Fe.values.filter(An);if(qe.length===2){var Pe=Mi.parse(y,qe[1]),Qt=qe[0];Ee(Qt)&&w.push({stop:{type:16,number:Qt.number*100,flags:Qt.flags},color:Pe})}}}}),D===1?{angle:(x+Tr(180))%Tr(360),stops:w,type:D}:{size:Y,shape:K,stops:w,position:Ae,type:D}},ul="closest-side",vA="farthest-side",Ha="closest-corner",hc="farthest-corner",Vi="circle",Ki="ellipse",lr="cover",cr="contain",Xr=function(y,g){var x=0,w=3,D=[],K=[];return Ln(g).forEach(function(Y,Ae){var ae=!0;if(Ae===0){var _e=!1;ae=Y.reduce(function(Pe,qe){if(_e)if(Se(qe))switch(qe.value){case"center":return K.push(il),Pe;case"top":case"left":return K.push(xr),Pe;case"right":case"bottom":return K.push(Oi),Pe}else(Pn(qe)||ls(qe))&&K.push(qe);else if(Se(qe))switch(qe.value){case Vi:return x=0,!1;case Ki:return x=1,!1;case"at":return _e=!0,!1;case ul:return w=0,!1;case lr:case vA:return w=1,!1;case cr:case Ha:return w=2,!1;case hc:return w=3,!1}else if(ls(qe)||Pn(qe))return Array.isArray(w)||(w=[]),w.push(qe),!1;return Pe},ae)}if(ae){var Fe=yA(y,Y);D.push(Fe)}}),{size:w,shape:x,stops:D,position:K,type:2}},Qr=function(y,g){var x=0,w=3,D=[],K=[];return Ln(g).forEach(function(Y,Ae){var ae=!0;if(Ae===0?ae=Y.reduce(function(Fe,Pe){if(Se(Pe))switch(Pe.value){case"center":return K.push(il),!1;case"top":case"left":return K.push(xr),!1;case"right":case"bottom":return K.push(Oi),!1}else if(Pn(Pe)||ls(Pe))return K.push(Pe),!1;return Fe},ae):Ae===1&&(ae=Y.reduce(function(Fe,Pe){if(Se(Pe))switch(Pe.value){case Vi:return x=0,!1;case Ki:return x=1,!1;case cr:case ul:return w=0,!1;case vA:return w=1,!1;case Ha:return w=2,!1;case lr:case hc:return w=3,!1}else if(ls(Pe)||Pn(Pe))return Array.isArray(w)||(w=[]),w.push(Pe),!1;return Fe},ae)),ae){var _e=yA(y,Y);D.push(_e)}}),{size:w,shape:x,stops:D,position:K,type:2}},Va=function(y){return y.type===1},Ou=function(y){return y.type===2},wA={name:"image",parse:function(y,g){if(g.type===22){var x={url:g.value,type:0};return y.cache.addImage(g.value),x}if(g.type===18){var w=hh[g.name];if(typeof w>"u")throw new Error('Attempting to parse an unsupported image function "'+g.name+'"');return w(y,g.values)}throw new Error("Unsupported image type "+g.type)}};function dh(y){return!(y.type===20&&y.value==="none")&&(y.type!==18||!!hh[y.name])}var hh={"linear-gradient":ll,"-moz-linear-gradient":Mo,"-ms-linear-gradient":Mo,"-o-linear-gradient":Mo,"-webkit-linear-gradient":Mo,"radial-gradient":Xr,"-moz-radial-gradient":Qr,"-ms-radial-gradient":Qr,"-o-radial-gradient":Qr,"-webkit-radial-gradient":Qr,"-webkit-gradient":cl},fh={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(y,g){if(g.length===0)return[];var x=g[0];return x.type===20&&x.value==="none"?[]:g.filter(function(w){return An(w)&&dh(w)}).map(function(w){return wA.parse(y,w)})}},zi={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(y,g){return g.map(function(x){if(Se(x))switch(x.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fo={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(y,g){return Ln(g).map(function(x){return x.filter(Pn)}).map(uo)}},ph={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(y,g){return Ln(g).map(function(x){return x.filter(Se).map(function(w){return w.value}).join(" ")}).map(gh)}},gh=function(y){switch(y){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},dl;(function(y){y.AUTO="auto",y.CONTAIN="contain",y.COVER="cover"})(dl||(dl={}));var mh={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(y,g){return Ln(g).map(function(x){return x.filter(yh)})}},yh=function(y){return Se(y)||Pn(y)},fc=function(y){return{name:"border-"+y+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Zm=fc("top"),op=fc("right"),ap=fc("bottom"),vh=fc("left"),pc=function(y){return{name:"border-radius-"+y,initialValue:"0 0",prefix:!1,type:1,parse:function(g,x){return uo(x.filter(Pn))}}},Iw=pc("top-left"),Sw=pc("top-right"),e0=pc("bottom-right"),Fw=pc("bottom-left"),wh=function(y){return{name:"border-"+y+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(g,x){switch(x){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Tw=wh("top"),Nw=wh("right"),kw=wh("bottom"),Ap=wh("left"),gc=function(y){return{name:"border-"+y+"-width",initialValue:"0",type:0,prefix:!1,parse:function(g,x){return Z(x)?x.number:0}}},Mu=gc("top"),Lw=gc("right"),Pw=gc("bottom"),t0=gc("left"),jw={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Uw={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(y,g){switch(g){case"rtl":return 1;case"ltr":default:return 0}}},Rw={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(y,g){return g.filter(Se).reduce(function(x,w){return x|Dw(w.value)},0)}},Dw=function(y){switch(y){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},xA={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(y,g){switch(g){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Ho={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(y,g){return g.type===20&&g.value==="normal"?0:g.type===17||g.type===15?g.number:0}},po;(function(y){y.NORMAL="normal",y.STRICT="strict"})(po||(po={}));var Qw={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(y,g){switch(g){case"strict":return po.STRICT;case"normal":default:return po.NORMAL}}},n0={name:"line-height",initialValue:"normal",prefix:!1,type:4},Ka=function(y,g){return Se(y)&&y.value==="normal"?1.2*g:y.type===17?g*y.number:Pn(y)?Wn(y,g):g},go={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(y,g){return g.type===20&&g.value==="none"?null:wA.parse(y,g)}},Ow={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(y,g){switch(g){case"inside":return 0;case"outside":default:return 1}}},lp={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(y,g){switch(g){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Hu=function(y){return{name:"margin-"+y,initialValue:"0",prefix:!1,type:4}},r0=Hu("top"),s0=Hu("right"),i0=Hu("bottom"),Mw=Hu("left"),xh={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(y,g){return g.filter(Se).map(function(x){switch(x.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},bh={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(y,g){switch(g){case"break-word":return"break-word";case"normal":default:return"normal"}}},bA=function(y){return{name:"padding-"+y,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},cp=bA("top"),o0=bA("right"),Hw=bA("bottom"),a0=bA("left"),Vw={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(y,g){switch(g){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Kw={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(y,g){switch(g){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},zw={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(y,g){return g.length===1&&pn(g[0],"none")?[]:Ln(g).map(function(x){for(var w={color:mi.TRANSPARENT,offsetX:xr,offsetY:xr,blur:xr},D=0,K=0;K<x.length;K++){var Y=x[K];ls(Y)?(D===0?w.offsetX=Y:D===1?w.offsetY=Y:w.blur=Y,D++):w.color=Mi.parse(y,Y)}return w})}},Gw={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(y,g){switch(g){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Ww={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(y,g){if(g.type===20&&g.value==="none")return null;if(g.type===18){var x=Bh[g.name];if(typeof x>"u")throw new Error('Attempting to parse an unsupported transform function "'+g.name+'"');return x(g.values)}return null}},$w=function(y){var g=y.filter(function(x){return x.type===17}).map(function(x){return x.number});return g.length===6?g:null},A0=function(y){var g=y.filter(function(ae){return ae.type===17}).map(function(ae){return ae.number}),x=g[0],w=g[1];g[2],g[3];var D=g[4],K=g[5];g[6],g[7],g[8],g[9],g[10],g[11];var Y=g[12],Ae=g[13];return g[14],g[15],g.length===16?[x,w,D,K,Y,Ae]:null},Bh={matrix:$w,matrix3d:A0},l0={type:16,number:50,flags:as},qw=[l0,l0],c0={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(y,g){var x=g.filter(Pn);return x.length!==2?qw:[x[0],x[1]]}},p={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(y,g){switch(g){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},_;(function(y){y.NORMAL="normal",y.BREAK_ALL="break-all",y.KEEP_ALL="keep-all"})(_||(_={}));for(var N={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(y,g){switch(g){case"break-all":return _.BREAK_ALL;case"keep-all":return _.KEEP_ALL;case"normal":default:return _.NORMAL}}},H={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(y,g){if(g.type===20)return{auto:!0,order:0};if(Ee(g))return{auto:!1,order:g.number};throw new Error("Invalid z-index number parsed")}},G={name:"time",parse:function(y,g){if(g.type===15)switch(g.unit.toLowerCase()){case"s":return 1e3*g.number;case"ms":return g.number}throw new Error("Unsupported time type")}},q={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(y,g){return Ee(g)?g.number:1}},X={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},te={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(y,g){return g.filter(Se).map(function(x){switch(x.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(x){return x!==0})}},ne={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(y,g){var x=[],w=[];return g.forEach(function(D){switch(D.type){case 20:case 0:x.push(D.value);break;case 17:x.push(D.number.toString());break;case 4:w.push(x.join(" ")),x.length=0;break}}),x.length&&w.push(x.join(" ")),w.map(function(D){return D.indexOf(" ")===-1?D:"'"+D+"'"})}},le={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},be={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(y,g){if(Ee(g))return g.number;if(Se(g))switch(g.value){case"bold":return 700;case"normal":default:return 400}return 400}},De={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(y,g){return g.filter(Se).map(function(x){return x.value})}},Qe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(y,g){switch(g){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ce=function(y,g){return(y&g)!==0},tt={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(y,g){if(g.length===0)return[];var x=g[0];return x.type===20&&x.value==="none"?[]:g}},We={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(y,g){if(g.length===0)return null;var x=g[0];if(x.type===20&&x.value==="none")return null;for(var w=[],D=g.filter(Jn),K=0;K<D.length;K++){var Y=D[K],Ae=D[K+1];if(Y.type===20){var ae=Ae&&Ee(Ae)?Ae.number:1;w.push({counter:Y.value,increment:ae})}}return w}},Be={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(y,g){if(g.length===0)return[];for(var x=[],w=g.filter(Jn),D=0;D<w.length;D++){var K=w[D],Y=w[D+1];if(Se(K)&&K.value!=="none"){var Ae=Y&&Ee(Y)?Y.number:0;x.push({counter:K.value,reset:Ae})}}return x}},Ie={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(y,g){return g.filter(Z).map(function(x){return G.parse(y,x)})}},Ze={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(y,g){if(g.length===0)return null;var x=g[0];if(x.type===20&&x.value==="none")return null;var w=[],D=g.filter(at);if(D.length%2!==0)return null;for(var K=0;K<D.length;K+=2){var Y=D[K].value,Ae=D[K+1].value;w.push({open:Y,close:Ae})}return w}},rt=function(y,g,x){if(!y)return"";var w=y[Math.min(g,y.length-1)];return w?x?w.open:w.close:""},et={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(y,g){return g.length===1&&pn(g[0],"none")?[]:Ln(g).map(function(x){for(var w={color:255,offsetX:xr,offsetY:xr,blur:xr,spread:xr,inset:!1},D=0,K=0;K<x.length;K++){var Y=x[K];pn(Y,"inset")?w.inset=!0:ls(Y)?(D===0?w.offsetX=Y:D===1?w.offsetY=Y:D===2?w.blur=Y:w.spread=Y,D++):w.color=Mi.parse(y,Y)}return w})}},Lt={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(y,g){var x=[0,1,2],w=[];return g.filter(Se).forEach(function(D){switch(D.value){case"stroke":w.push(1);break;case"fill":w.push(0);break;case"markers":w.push(2);break}}),x.forEach(function(D){w.indexOf(D)===-1&&w.push(D)}),w}},wt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},an={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(y,g){return Z(g)?g.number:0}},_t=function(){function y(g,x){var w,D;this.animationDuration=ot(g,Ie,x.animationDuration),this.backgroundClip=ot(g,Ma,x.backgroundClip),this.backgroundColor=ot(g,Yr,x.backgroundColor),this.backgroundImage=ot(g,fh,x.backgroundImage),this.backgroundOrigin=ot(g,zi,x.backgroundOrigin),this.backgroundPosition=ot(g,fo,x.backgroundPosition),this.backgroundRepeat=ot(g,ph,x.backgroundRepeat),this.backgroundSize=ot(g,mh,x.backgroundSize),this.borderTopColor=ot(g,Zm,x.borderTopColor),this.borderRightColor=ot(g,op,x.borderRightColor),this.borderBottomColor=ot(g,ap,x.borderBottomColor),this.borderLeftColor=ot(g,vh,x.borderLeftColor),this.borderTopLeftRadius=ot(g,Iw,x.borderTopLeftRadius),this.borderTopRightRadius=ot(g,Sw,x.borderTopRightRadius),this.borderBottomRightRadius=ot(g,e0,x.borderBottomRightRadius),this.borderBottomLeftRadius=ot(g,Fw,x.borderBottomLeftRadius),this.borderTopStyle=ot(g,Tw,x.borderTopStyle),this.borderRightStyle=ot(g,Nw,x.borderRightStyle),this.borderBottomStyle=ot(g,kw,x.borderBottomStyle),this.borderLeftStyle=ot(g,Ap,x.borderLeftStyle),this.borderTopWidth=ot(g,Mu,x.borderTopWidth),this.borderRightWidth=ot(g,Lw,x.borderRightWidth),this.borderBottomWidth=ot(g,Pw,x.borderBottomWidth),this.borderLeftWidth=ot(g,t0,x.borderLeftWidth),this.boxShadow=ot(g,et,x.boxShadow),this.color=ot(g,jw,x.color),this.direction=ot(g,Uw,x.direction),this.display=ot(g,Rw,x.display),this.float=ot(g,xA,x.cssFloat),this.fontFamily=ot(g,ne,x.fontFamily),this.fontSize=ot(g,le,x.fontSize),this.fontStyle=ot(g,Qe,x.fontStyle),this.fontVariant=ot(g,De,x.fontVariant),this.fontWeight=ot(g,be,x.fontWeight),this.letterSpacing=ot(g,Ho,x.letterSpacing),this.lineBreak=ot(g,Qw,x.lineBreak),this.lineHeight=ot(g,n0,x.lineHeight),this.listStyleImage=ot(g,go,x.listStyleImage),this.listStylePosition=ot(g,Ow,x.listStylePosition),this.listStyleType=ot(g,lp,x.listStyleType),this.marginTop=ot(g,r0,x.marginTop),this.marginRight=ot(g,s0,x.marginRight),this.marginBottom=ot(g,i0,x.marginBottom),this.marginLeft=ot(g,Mw,x.marginLeft),this.opacity=ot(g,q,x.opacity);var K=ot(g,xh,x.overflow);this.overflowX=K[0],this.overflowY=K[K.length>1?1:0],this.overflowWrap=ot(g,bh,x.overflowWrap),this.paddingTop=ot(g,cp,x.paddingTop),this.paddingRight=ot(g,o0,x.paddingRight),this.paddingBottom=ot(g,Hw,x.paddingBottom),this.paddingLeft=ot(g,a0,x.paddingLeft),this.paintOrder=ot(g,Lt,x.paintOrder),this.position=ot(g,Kw,x.position),this.textAlign=ot(g,Vw,x.textAlign),this.textDecorationColor=ot(g,X,(w=x.textDecorationColor)!==null&&w!==void 0?w:x.color),this.textDecorationLine=ot(g,te,(D=x.textDecorationLine)!==null&&D!==void 0?D:x.textDecoration),this.textShadow=ot(g,zw,x.textShadow),this.textTransform=ot(g,Gw,x.textTransform),this.transform=ot(g,Ww,x.transform),this.transformOrigin=ot(g,c0,x.transformOrigin),this.visibility=ot(g,p,x.visibility),this.webkitTextStrokeColor=ot(g,wt,x.webkitTextStrokeColor),this.webkitTextStrokeWidth=ot(g,an,x.webkitTextStrokeWidth),this.wordBreak=ot(g,N,x.wordBreak),this.zIndex=ot(g,H,x.zIndex)}return y.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},y.prototype.isTransparent=function(){return Oo(this.backgroundColor)},y.prototype.isTransformed=function(){return this.transform!==null},y.prototype.isPositioned=function(){return this.position!==0},y.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},y.prototype.isFloating=function(){return this.float!==0},y.prototype.isInlineLevel=function(){return Ce(this.display,4)||Ce(this.display,33554432)||Ce(this.display,268435456)||Ce(this.display,536870912)||Ce(this.display,67108864)||Ce(this.display,134217728)},y}(),$n=function(){function y(g,x){this.content=ot(g,tt,x.content),this.quotes=ot(g,Ze,x.quotes)}return y}(),Zn=function(){function y(g,x){this.counterIncrement=ot(g,We,x.counterIncrement),this.counterReset=ot(g,Be,x.counterReset)}return y}(),ot=function(y,g,x){var w=new U,D=x!==null&&typeof x<"u"?x.toString():g.initialValue;w.write(D);var K=new V(w.read());switch(g.type){case 2:var Y=K.parseComponentValue();return g.parse(y,Se(Y)?Y.value:g.initialValue);case 0:return g.parse(y,K.parseComponentValue());case 1:return g.parse(y,K.parseComponentValues());case 4:return K.parseComponentValue();case 3:switch(g.format){case"angle":return lc.parse(y,K.parseComponentValue());case"color":return Mi.parse(y,K.parseComponentValue());case"image":return wA.parse(y,K.parseComponentValue());case"length":var Ae=K.parseComponentValue();return ls(Ae)?Ae:xr;case"length-percentage":var ae=K.parseComponentValue();return Pn(ae)?ae:xr;case"time":return G.parse(y,K.parseComponentValue())}break}},jn="data-html2canvas-debug",ur=function(y){var g=y.getAttribute(jn);switch(g){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},er=function(y,g){var x=ur(y);return x===1||g===x},ln=function(){function y(g,x){if(this.context=g,this.textNodes=[],this.elements=[],this.flags=0,er(x,3))debugger;this.styles=new _t(g,window.getComputedStyle(x,null)),r2(x)&&(this.styles.animationDuration.some(function(w){return w>0})&&(x.style.animationDuration="0s"),this.styles.transform!==null&&(x.style.transform="none")),this.bounds=l(this.context,x),er(x,4)&&(this.flags|=16)}return y}(),ns="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",ii="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Br=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ls=0;Ls<ii.length;Ls++)Br[ii.charCodeAt(Ls)]=Ls;for(var ir=function(y){var g=y.length*.75,x=y.length,w,D=0,K,Y,Ae,ae;y[y.length-1]==="="&&(g--,y[y.length-2]==="="&&g--);var _e=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(g):new Array(g),Fe=Array.isArray(_e)?_e:new Uint8Array(_e);for(w=0;w<x;w+=4)K=Br[y.charCodeAt(w)],Y=Br[y.charCodeAt(w+1)],Ae=Br[y.charCodeAt(w+2)],ae=Br[y.charCodeAt(w+3)],Fe[D++]=K<<2|Y>>4,Fe[D++]=(Y&15)<<4|Ae>>2,Fe[D++]=(Ae&3)<<6|ae&63;return _e},Gi=function(y){for(var g=y.length,x=[],w=0;w<g;w+=2)x.push(y[w+1]<<8|y[w]);return x},Wi=function(y){for(var g=y.length,x=[],w=0;w<g;w+=4)x.push(y[w+3]<<24|y[w+2]<<16|y[w+1]<<8|y[w]);return x},_r=5,cs=6+5,Ps=2,mo=cs-_r,Vo=65536>>_r,ws=1<<_r,Ko=ws-1,hl=1024>>_r,mc=Vo+hl,BA=mc,Or=32,up=BA+Or,u0=65536>>cs,d0=1<<mo,_h=d0-1,yc=function(y,g,x){return y.slice?y.slice(g,x):new Uint16Array(Array.prototype.slice.call(y,g,x))},Ch=function(y,g,x){return y.slice?y.slice(g,x):new Uint32Array(Array.prototype.slice.call(y,g,x))},zo=function(y,g){var x=ir(y),w=Array.isArray(x)?Wi(x):new Uint32Array(x),D=Array.isArray(x)?Gi(x):new Uint16Array(x),K=24,Y=yc(D,K/2,w[4]/2),Ae=w[5]===2?yc(D,(K+w[4])/2):Ch(w,Math.ceil((K+w[4])/4));return new vc(w[0],w[1],w[2],w[3],Y,Ae)},vc=function(){function y(g,x,w,D,K,Y){this.initialValue=g,this.errorValue=x,this.highStart=w,this.highValueIndex=D,this.index=K,this.data=Y}return y.prototype.get=function(g){var x;if(g>=0){if(g<55296||g>56319&&g<=65535)return x=this.index[g>>_r],x=(x<<Ps)+(g&Ko),this.data[x];if(g<=65535)return x=this.index[Vo+(g-55296>>_r)],x=(x<<Ps)+(g&Ko),this.data[x];if(g<this.highStart)return x=up-u0+(g>>cs),x=this.index[x],x+=g>>_r&_h,x=this.index[x],x=(x<<Ps)+(g&Ko),this.data[x];if(g<=1114111)return this.data[this.highValueIndex]}return this.errorValue},y}(),fl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h0=typeof Uint8Array>"u"?[]:new Uint8Array(256),pl=0;pl<fl.length;pl++)h0[fl.charCodeAt(pl)]=pl;var f0=1,wc=2,Vu=3,Ku=4,xc=5,Yw=7,p0=8,zu=9,da=10,g0=11,m0=12,y0=13,dp=14,bc=15,v0=function(y){for(var g=[],x=0,w=y.length;x<w;){var D=y.charCodeAt(x++);if(D>=55296&&D<=56319&&x<w){var K=y.charCodeAt(x++);(K&64512)===56320?g.push(((D&1023)<<10)+(K&1023)+65536):(g.push(D),x--)}else g.push(D)}return g},w0=function(){for(var y=[],g=0;g<arguments.length;g++)y[g]=arguments[g];if(String.fromCodePoint)return String.fromCodePoint.apply(String,y);var x=y.length;if(!x)return"";for(var w=[],D=-1,K="";++D<x;){var Y=y[D];Y<=65535?w.push(Y):(Y-=65536,w.push((Y>>10)+55296,Y%1024+56320)),(D+1===x||w.length>16384)&&(K+=String.fromCharCode.apply(String,w),w.length=0)}return K},Eh=zo(ns),vi="×",gl="÷",x0=function(y){return Eh.get(y)},Xw=function(y,g,x){var w=x-2,D=g[w],K=g[x-1],Y=g[x];if(K===wc&&Y===Vu)return vi;if(K===wc||K===Vu||K===Ku||Y===wc||Y===Vu||Y===Ku)return gl;if(K===p0&&[p0,zu,g0,m0].indexOf(Y)!==-1||(K===g0||K===zu)&&(Y===zu||Y===da)||(K===m0||K===da)&&Y===da||Y===y0||Y===xc||Y===Yw||K===f0)return vi;if(K===y0&&Y===dp){for(;D===xc;)D=g[--w];if(D===dp)return vi}if(K===bc&&Y===bc){for(var Ae=0;D===bc;)Ae++,D=g[--w];if(Ae%2===0)return vi}return gl},Ih=function(y){var g=v0(y),x=g.length,w=0,D=0,K=g.map(x0);return{next:function(){if(w>=x)return{done:!0,value:null};for(var Y=vi;w<x&&(Y=Xw(g,K,++w))===vi;);if(Y!==vi||w===x){var Ae=w0.apply(null,g.slice(D,w));return D=w,{value:Ae,done:!1}}return{done:!0,value:null}}}},b0=function(y){for(var g=Ih(y),x=[],w;!(w=g.next()).done;)w.value&&x.push(w.value.slice());return x},hp=function(y){var g=123;if(y.createRange){var x=y.createRange();if(x.getBoundingClientRect){var w=y.createElement("boundtest");w.style.height=g+"px",w.style.display="block",y.body.appendChild(w),x.selectNode(w);var D=x.getBoundingClientRect(),K=Math.round(D.height);if(y.body.removeChild(w),K===g)return!0}}return!1},_A=function(y){var g=y.createElement("boundtest");g.style.width="50px",g.style.display="block",g.style.fontSize="12px",g.style.letterSpacing="0px",g.style.wordSpacing="0px",y.body.appendChild(g);var x=y.createRange();g.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var w=g.firstChild,D=u(w.data).map(function(ae){return f(ae)}),K=0,Y={},Ae=D.every(function(ae,_e){x.setStart(w,K),x.setEnd(w,K+ae.length);var Fe=x.getBoundingClientRect();K+=ae.length;var Pe=Fe.x>Y.x||Fe.y>Y.y;return Y=Fe,_e===0?!0:Pe});return y.body.removeChild(g),Ae},B0=function(){return typeof new Image().crossOrigin<"u"},_0=function(){return typeof new XMLHttpRequest().responseType=="string"},Jw=function(y){var g=new Image,x=y.createElement("canvas"),w=x.getContext("2d");if(!w)return!1;g.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{w.drawImage(g,0,0),x.toDataURL()}catch{return!1}return!0},fp=function(y){return y[0]===0&&y[1]===255&&y[2]===0&&y[3]===255},Bc=function(y){var g=y.createElement("canvas"),x=100;g.width=x,g.height=x;var w=g.getContext("2d");if(!w)return Promise.reject(!1);w.fillStyle="rgb(0, 255, 0)",w.fillRect(0,0,x,x);var D=new Image,K=g.toDataURL();D.src=K;var Y=pp(x,x,0,0,D);return w.fillStyle="red",w.fillRect(0,0,x,x),gp(Y).then(function(Ae){w.drawImage(Ae,0,0);var ae=w.getImageData(0,0,x,x).data;w.fillStyle="red",w.fillRect(0,0,x,x);var _e=y.createElement("div");return _e.style.backgroundImage="url("+K+")",_e.style.height=x+"px",fp(ae)?gp(pp(x,x,0,0,_e)):Promise.reject(!1)}).then(function(Ae){return w.drawImage(Ae,0,0),fp(w.getImageData(0,0,x,x).data)}).catch(function(){return!1})},pp=function(y,g,x,w,D){var K="http://www.w3.org/2000/svg",Y=document.createElementNS(K,"svg"),Ae=document.createElementNS(K,"foreignObject");return Y.setAttributeNS(null,"width",y.toString()),Y.setAttributeNS(null,"height",g.toString()),Ae.setAttributeNS(null,"width","100%"),Ae.setAttributeNS(null,"height","100%"),Ae.setAttributeNS(null,"x",x.toString()),Ae.setAttributeNS(null,"y",w.toString()),Ae.setAttributeNS(null,"externalResourcesRequired","true"),Y.appendChild(Ae),Ae.appendChild(D),Y},gp=function(y){return new Promise(function(g,x){var w=new Image;w.onload=function(){return g(w)},w.onerror=x,w.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(y))})},js={get SUPPORT_RANGE_BOUNDS(){var y=hp(document);return Object.defineProperty(js,"SUPPORT_RANGE_BOUNDS",{value:y}),y},get SUPPORT_WORD_BREAKING(){var y=js.SUPPORT_RANGE_BOUNDS&&_A(document);return Object.defineProperty(js,"SUPPORT_WORD_BREAKING",{value:y}),y},get SUPPORT_SVG_DRAWING(){var y=Jw(document);return Object.defineProperty(js,"SUPPORT_SVG_DRAWING",{value:y}),y},get SUPPORT_FOREIGNOBJECT_DRAWING(){var y=typeof Array.from=="function"&&typeof window.fetch=="function"?Bc(document):Promise.resolve(!1);return Object.defineProperty(js,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:y}),y},get SUPPORT_CORS_IMAGES(){var y=B0();return Object.defineProperty(js,"SUPPORT_CORS_IMAGES",{value:y}),y},get SUPPORT_RESPONSE_TYPE(){var y=_0();return Object.defineProperty(js,"SUPPORT_RESPONSE_TYPE",{value:y}),y},get SUPPORT_CORS_XHR(){var y="withCredentials"in new XMLHttpRequest;return Object.defineProperty(js,"SUPPORT_CORS_XHR",{value:y}),y},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var y=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(js,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:y}),y}},_c=function(){function y(g,x){this.text=g,this.bounds=x}return y}(),Zw=function(y,g,x,w){var D=CA(g,x),K=[],Y=0;return D.forEach(function(Ae){if(x.textDecorationLine.length||Ae.trim().length>0)if(js.SUPPORT_RANGE_BOUNDS){var ae=Sh(w,Y,Ae.length).getClientRects();if(ae.length>1){var _e=Cc(Ae),Fe=0;_e.forEach(function(qe){K.push(new _c(qe,A.fromDOMRectList(y,Sh(w,Fe+Y,qe.length).getClientRects()))),Fe+=qe.length})}else K.push(new _c(Ae,A.fromDOMRectList(y,ae)))}else{var Pe=w.splitText(Ae.length);K.push(new _c(Ae,Gu(y,w))),w=Pe}else js.SUPPORT_RANGE_BOUNDS||(w=w.splitText(Ae.length));Y+=Ae.length}),K},Gu=function(y,g){var x=g.ownerDocument;if(x){var w=x.createElement("html2canvaswrapper");w.appendChild(g.cloneNode(!0));var D=g.parentNode;if(D){D.replaceChild(w,g);var K=l(y,w);return w.firstChild&&D.replaceChild(w.firstChild,w),K}}return A.EMPTY},Sh=function(y,g,x){var w=y.ownerDocument;if(!w)throw new Error("Node has no owner document");var D=w.createRange();return D.setStart(y,g),D.setEnd(y,g+x),D},Cc=function(y){if(js.SUPPORT_NATIVE_TEXT_SEGMENTATION){var g=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(g.segment(y)).map(function(x){return x.segment})}return b0(y)},za=function(y,g){if(js.SUPPORT_NATIVE_TEXT_SEGMENTATION){var x=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(x.segment(y)).map(function(w){return w.segment})}return Fh(y,g)},CA=function(y,g){return g.letterSpacing!==0?Cc(y):za(y,g)},EA=[32,160,4961,65792,65793,4153,4241],Fh=function(y,g){for(var x=Fs(y,{lineBreak:g.lineBreak,wordBreak:g.overflowWrap==="break-word"?"break-word":g.wordBreak}),w=[],D,K=function(){if(D.value){var Y=D.value.slice(),Ae=u(Y),ae="";Ae.forEach(function(_e){EA.indexOf(_e)===-1?ae+=f(_e):(ae.length&&w.push(ae),w.push(f(_e)),ae="")}),ae.length&&w.push(ae)}};!(D=x.next()).done;)K();return w},mp=function(){function y(g,x,w){this.text=C0(x.data,w.textTransform),this.textBounds=Zw(g,this.text,w,x)}return y}(),C0=function(y,g){switch(g){case 1:return y.toLowerCase();case 3:return y.replace(e2,yp);case 2:return y.toUpperCase();default:return y}},e2=/(^|\s|:|-|\(|\))([a-z])/g,yp=function(y,g,x){return y.length>0?g+x.toUpperCase():y},Th=function(y){r(g,y);function g(x,w){var D=y.call(this,x,w)||this;return D.src=w.currentSrc||w.src,D.intrinsicWidth=w.naturalWidth,D.intrinsicHeight=w.naturalHeight,D.context.cache.addImage(D.src),D}return g}(ln),tC=function(y){r(g,y);function g(x,w){var D=y.call(this,x,w)||this;return D.canvas=w,D.intrinsicWidth=w.width,D.intrinsicHeight=w.height,D}return g}(ln),nC=function(y){r(g,y);function g(x,w){var D=y.call(this,x,w)||this,K=new XMLSerializer,Y=l(x,w);return w.setAttribute("width",Y.width+"px"),w.setAttribute("height",Y.height+"px"),D.svg="data:image/svg+xml,"+encodeURIComponent(K.serializeToString(w)),D.intrinsicWidth=w.width.baseVal.value,D.intrinsicHeight=w.height.baseVal.value,D.context.cache.addImage(D.svg),D}return g}(ln),rC=function(y){r(g,y);function g(x,w){var D=y.call(this,x,w)||this;return D.value=w.value,D}return g}(ln),t2=function(y){r(g,y);function g(x,w){var D=y.call(this,x,w)||this;return D.start=w.start,D.reversed=typeof w.reversed=="boolean"&&w.reversed===!0,D}return g}(ln),tR=[{type:15,flags:0,unit:"px",number:3}],nR=[{type:16,flags:0,number:50}],rR=function(y){return y.width>y.height?new A(y.left+(y.width-y.height)/2,y.top,y.height,y.height):y.width<y.height?new A(y.left,y.top+(y.height-y.width)/2,y.width,y.width):y},sR=function(y){var g=y.type===iR?new Array(y.value.length+1).join("•"):y.value;return g.length===0?y.placeholder||"":g},E0="checkbox",I0="radio",iR="password",sC=707406591,n2=function(y){r(g,y);function g(x,w){var D=y.call(this,x,w)||this;switch(D.type=w.type.toLowerCase(),D.checked=w.checked,D.value=sR(w),(D.type===E0||D.type===I0)&&(D.styles.backgroundColor=3739148031,D.styles.borderTopColor=D.styles.borderRightColor=D.styles.borderBottomColor=D.styles.borderLeftColor=2779096575,D.styles.borderTopWidth=D.styles.borderRightWidth=D.styles.borderBottomWidth=D.styles.borderLeftWidth=1,D.styles.borderTopStyle=D.styles.borderRightStyle=D.styles.borderBottomStyle=D.styles.borderLeftStyle=1,D.styles.backgroundClip=[0],D.styles.backgroundOrigin=[0],D.bounds=rR(D.bounds)),D.type){case E0:D.styles.borderTopRightRadius=D.styles.borderTopLeftRadius=D.styles.borderBottomRightRadius=D.styles.borderBottomLeftRadius=tR;break;case I0:D.styles.borderTopRightRadius=D.styles.borderTopLeftRadius=D.styles.borderBottomRightRadius=D.styles.borderBottomLeftRadius=nR;break}return D}return g}(ln),iC=function(y){r(g,y);function g(x,w){var D=y.call(this,x,w)||this,K=w.options[w.selectedIndex||0];return D.value=K&&K.text||"",D}return g}(ln),oC=function(y){r(g,y);function g(x,w){var D=y.call(this,x,w)||this;return D.value=w.value,D}return g}(ln),aC=function(y){r(g,y);function g(x,w){var D=y.call(this,x,w)||this;D.src=w.src,D.width=parseInt(w.width,10)||0,D.height=parseInt(w.height,10)||0,D.backgroundColor=D.styles.backgroundColor;try{if(w.contentWindow&&w.contentWindow.document&&w.contentWindow.document.documentElement){D.tree=lC(x,w.contentWindow.document.documentElement);var K=w.contentWindow.document.documentElement?Hi(x,getComputedStyle(w.contentWindow.document.documentElement).backgroundColor):mi.TRANSPARENT,Y=w.contentWindow.document.body?Hi(x,getComputedStyle(w.contentWindow.document.body).backgroundColor):mi.TRANSPARENT;D.backgroundColor=Oo(K)?Oo(Y)?D.styles.backgroundColor:Y:K}}catch{}return D}return g}(ln),oR=["OL","UL","MENU"],S0=function(y,g,x,w){for(var D=g.firstChild,K=void 0;D;D=K)if(K=D.nextSibling,cC(D)&&D.data.trim().length>0)x.textNodes.push(new mp(y,D,x.styles));else if(Nh(D))if(gC(D)&&D.assignedNodes)D.assignedNodes().forEach(function(Ae){return S0(y,Ae,x,w)});else{var Y=AC(y,D);Y.styles.isVisible()&&(aR(D,Y,w)?Y.flags|=4:AR(Y.styles)&&(Y.flags|=2),oR.indexOf(D.tagName)!==-1&&(Y.flags|=8),x.elements.push(Y),D.slot,D.shadowRoot?S0(y,D.shadowRoot,Y,w):!T0(D)&&!uC(D)&&!N0(D)&&S0(y,D,Y,w))}},AC=function(y,g){return i2(g)?new Th(y,g):dC(g)?new tC(y,g):uC(g)?new nC(y,g):lR(g)?new rC(y,g):cR(g)?new t2(y,g):uR(g)?new n2(y,g):N0(g)?new iC(y,g):T0(g)?new oC(y,g):fC(g)?new aC(y,g):new ln(y,g)},lC=function(y,g){var x=AC(y,g);return x.flags|=4,S0(y,g,x,x),x},aR=function(y,g,x){return g.styles.isPositionedWithZIndex()||g.styles.opacity<1||g.styles.isTransformed()||s2(y)&&x.styles.isTransparent()},AR=function(y){return y.isPositioned()||y.isFloating()},cC=function(y){return y.nodeType===Node.TEXT_NODE},Nh=function(y){return y.nodeType===Node.ELEMENT_NODE},r2=function(y){return Nh(y)&&typeof y.style<"u"&&!F0(y)},F0=function(y){return typeof y.className=="object"},lR=function(y){return y.tagName==="LI"},cR=function(y){return y.tagName==="OL"},uR=function(y){return y.tagName==="INPUT"},dR=function(y){return y.tagName==="HTML"},uC=function(y){return y.tagName==="svg"},s2=function(y){return y.tagName==="BODY"},dC=function(y){return y.tagName==="CANVAS"},hC=function(y){return y.tagName==="VIDEO"},i2=function(y){return y.tagName==="IMG"},fC=function(y){return y.tagName==="IFRAME"},pC=function(y){return y.tagName==="STYLE"},hR=function(y){return y.tagName==="SCRIPT"},T0=function(y){return y.tagName==="TEXTAREA"},N0=function(y){return y.tagName==="SELECT"},gC=function(y){return y.tagName==="SLOT"},mC=function(y){return y.tagName.indexOf("-")>0},fR=function(){function y(){this.counters={}}return y.prototype.getCounterValue=function(g){var x=this.counters[g];return x&&x.length?x[x.length-1]:1},y.prototype.getCounterValues=function(g){var x=this.counters[g];return x||[]},y.prototype.pop=function(g){var x=this;g.forEach(function(w){return x.counters[w].pop()})},y.prototype.parse=function(g){var x=this,w=g.counterIncrement,D=g.counterReset,K=!0;w!==null&&w.forEach(function(Ae){var ae=x.counters[Ae.counter];ae&&Ae.increment!==0&&(K=!1,ae.length||ae.push(1),ae[Math.max(0,ae.length-1)]+=Ae.increment)});var Y=[];return K&&D.forEach(function(Ae){var ae=x.counters[Ae.counter];Y.push(Ae.counter),ae||(ae=x.counters[Ae.counter]=[]),ae.push(Ae.reset)}),Y},y}(),yC={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},vC={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},pR={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},gR={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},kh=function(y,g,x,w,D,K){return y<g||y>x?wp(y,D,K.length>0):w.integers.reduce(function(Y,Ae,ae){for(;y>=Ae;)y-=Ae,Y+=w.values[ae];return Y},"")+K},wC=function(y,g,x,w){var D="";do x||y--,D=w(y)+D,y/=g;while(y*g>=g);return D},us=function(y,g,x,w,D){var K=x-g+1;return(y<0?"-":"")+(wC(Math.abs(y),K,w,function(Y){return f(Math.floor(Y%K)+g)})+D)},Wu=function(y,g,x){x===void 0&&(x=". ");var w=g.length;return wC(Math.abs(y),w,!1,function(D){return g[Math.floor(D%w)]})+x},Lh=1,Ec=2,Ic=4,vp=8,ml=function(y,g,x,w,D,K){if(y<-9999||y>9999)return wp(y,4,D.length>0);var Y=Math.abs(y),Ae=D;if(Y===0)return g[0]+Ae;for(var ae=0;Y>0&&ae<=4;ae++){var _e=Y%10;_e===0&&Ce(K,Lh)&&Ae!==""?Ae=g[_e]+Ae:_e>1||_e===1&&ae===0||_e===1&&ae===1&&Ce(K,Ec)||_e===1&&ae===1&&Ce(K,Ic)&&y>100||_e===1&&ae>1&&Ce(K,vp)?Ae=g[_e]+(ae>0?x[ae-1]:"")+Ae:_e===1&&ae>0&&(Ae=x[ae-1]+Ae),Y=Math.floor(Y/10)}return(y<0?w:"")+Ae},xC="十百千萬",bC="拾佰仟萬",BC="マイナス",o2="마이너스",wp=function(y,g,x){var w=x?". ":"",D=x?"、":"",K=x?", ":"",Y=x?" ":"";switch(g){case 0:return"•"+Y;case 1:return"◦"+Y;case 2:return"◾"+Y;case 5:var Ae=us(y,48,57,!0,w);return Ae.length<4?"0"+Ae:Ae;case 4:return Wu(y,"〇一二三四五六七八九",D);case 6:return kh(y,1,3999,yC,3,w).toLowerCase();case 7:return kh(y,1,3999,yC,3,w);case 8:return us(y,945,969,!1,w);case 9:return us(y,97,122,!1,w);case 10:return us(y,65,90,!1,w);case 11:return us(y,1632,1641,!0,w);case 12:case 49:return kh(y,1,9999,vC,3,w);case 35:return kh(y,1,9999,vC,3,w).toLowerCase();case 13:return us(y,2534,2543,!0,w);case 14:case 30:return us(y,6112,6121,!0,w);case 15:return Wu(y,"子丑寅卯辰巳午未申酉戌亥",D);case 16:return Wu(y,"甲乙丙丁戊己庚辛壬癸",D);case 17:case 48:return ml(y,"零一二三四五六七八九",xC,"負",D,Ec|Ic|vp);case 47:return ml(y,"零壹貳參肆伍陸柒捌玖",bC,"負",D,Lh|Ec|Ic|vp);case 42:return ml(y,"零一二三四五六七八九",xC,"负",D,Ec|Ic|vp);case 41:return ml(y,"零壹贰叁肆伍陆柒捌玖",bC,"负",D,Lh|Ec|Ic|vp);case 26:return ml(y,"〇一二三四五六七八九","十百千万",BC,D,0);case 25:return ml(y,"零壱弐参四伍六七八九","拾百千万",BC,D,Lh|Ec|Ic);case 31:return ml(y,"영일이삼사오육칠팔구","십백천만",o2,K,Lh|Ec|Ic);case 33:return ml(y,"零一二三四五六七八九","十百千萬",o2,K,0);case 32:return ml(y,"零壹貳參四五六七八九","拾百千",o2,K,Lh|Ec|Ic);case 18:return us(y,2406,2415,!0,w);case 20:return kh(y,1,19999,gR,3,w);case 21:return us(y,2790,2799,!0,w);case 22:return us(y,2662,2671,!0,w);case 22:return kh(y,1,10999,pR,3,w);case 23:return Wu(y,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Wu(y,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return us(y,3302,3311,!0,w);case 28:return Wu(y,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",D);case 29:return Wu(y,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",D);case 34:return us(y,3792,3801,!0,w);case 37:return us(y,6160,6169,!0,w);case 38:return us(y,4160,4169,!0,w);case 39:return us(y,2918,2927,!0,w);case 40:return us(y,1776,1785,!0,w);case 43:return us(y,3046,3055,!0,w);case 44:return us(y,3174,3183,!0,w);case 45:return us(y,3664,3673,!0,w);case 46:return us(y,3872,3881,!0,w);case 3:default:return us(y,48,57,!0,w)}},_C="data-html2canvas-ignore",CC=function(){function y(g,x,w){if(this.context=g,this.options=w,this.scrolledElements=[],this.referenceElement=x,this.counters=new fR,this.quoteDepth=0,!x.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(x.ownerDocument.documentElement,!1)}return y.prototype.toIFrame=function(g,x){var w=this,D=mR(g,x);if(!D.contentWindow)return Promise.reject("Unable to find iframe window");var K=g.defaultView.pageXOffset,Y=g.defaultView.pageYOffset,Ae=D.contentWindow,ae=Ae.document,_e=wR(D).then(function(){return i(w,void 0,void 0,function(){var Fe,Pe;return o(this,function(qe){switch(qe.label){case 0:return this.scrolledElements.forEach(_R),Ae&&(Ae.scrollTo(x.left,x.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Ae.scrollY!==x.top||Ae.scrollX!==x.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Ae.scrollX-x.left,Ae.scrollY-x.top,0,0))),Fe=this.options.onclone,Pe=this.clonedReferenceElement,typeof Pe>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:ae.fonts&&ae.fonts.ready?[4,ae.fonts.ready]:[3,2];case 1:qe.sent(),qe.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,vR(ae)]:[3,4];case 3:qe.sent(),qe.label=4;case 4:return typeof Fe=="function"?[2,Promise.resolve().then(function(){return Fe(ae,Pe)}).then(function(){return D})]:[2,D]}})})});return ae.open(),ae.write(bR(document.doctype)+"<html></html>"),BR(this.referenceElement.ownerDocument,K,Y),ae.replaceChild(ae.adoptNode(this.documentElement),ae.documentElement),ae.close(),_e},y.prototype.createElementClone=function(g){if(er(g,2))debugger;if(dC(g))return this.createCanvasClone(g);if(hC(g))return this.createVideoClone(g);if(pC(g))return this.createStyleClone(g);var x=g.cloneNode(!1);return i2(x)&&(i2(g)&&g.currentSrc&&g.currentSrc!==g.src&&(x.src=g.currentSrc,x.srcset=""),x.loading==="lazy"&&(x.loading="eager")),mC(x)?this.createCustomElementClone(x):x},y.prototype.createCustomElementClone=function(g){var x=document.createElement("html2canvascustomelement");return a2(g.style,x),x},y.prototype.createStyleClone=function(g){try{var x=g.sheet;if(x&&x.cssRules){var w=[].slice.call(x.cssRules,0).reduce(function(K,Y){return Y&&typeof Y.cssText=="string"?K+Y.cssText:K},""),D=g.cloneNode(!1);return D.textContent=w,D}}catch(K){if(this.context.logger.error("Unable to access cssRules property",K),K.name!=="SecurityError")throw K}return g.cloneNode(!1)},y.prototype.createCanvasClone=function(g){var x;if(this.options.inlineImages&&g.ownerDocument){var w=g.ownerDocument.createElement("img");try{return w.src=g.toDataURL(),w}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",g)}}var D=g.cloneNode(!1);try{D.width=g.width,D.height=g.height;var K=g.getContext("2d"),Y=D.getContext("2d");if(Y)if(!this.options.allowTaint&&K)Y.putImageData(K.getImageData(0,0,g.width,g.height),0,0);else{var Ae=(x=g.getContext("webgl2"))!==null&&x!==void 0?x:g.getContext("webgl");if(Ae){var ae=Ae.getContextAttributes();(ae==null?void 0:ae.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",g)}Y.drawImage(g,0,0)}return D}catch{this.context.logger.info("Unable to clone canvas as it is tainted",g)}return D},y.prototype.createVideoClone=function(g){var x=g.ownerDocument.createElement("canvas");x.width=g.offsetWidth,x.height=g.offsetHeight;var w=x.getContext("2d");try{return w&&(w.drawImage(g,0,0,x.width,x.height),this.options.allowTaint||w.getImageData(0,0,x.width,x.height)),x}catch{this.context.logger.info("Unable to clone video as it is tainted",g)}var D=g.ownerDocument.createElement("canvas");return D.width=g.offsetWidth,D.height=g.offsetHeight,D},y.prototype.appendChildNode=function(g,x,w){(!Nh(x)||!hR(x)&&!x.hasAttribute(_C)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(x)))&&(!this.options.copyStyles||!Nh(x)||!pC(x))&&g.appendChild(this.cloneNode(x,w))},y.prototype.cloneChildNodes=function(g,x,w){for(var D=this,K=g.shadowRoot?g.shadowRoot.firstChild:g.firstChild;K;K=K.nextSibling)if(Nh(K)&&gC(K)&&typeof K.assignedNodes=="function"){var Y=K.assignedNodes();Y.length&&Y.forEach(function(Ae){return D.appendChildNode(x,Ae,w)})}else this.appendChildNode(x,K,w)},y.prototype.cloneNode=function(g,x){if(cC(g))return document.createTextNode(g.data);if(!g.ownerDocument)return g.cloneNode(!1);var w=g.ownerDocument.defaultView;if(w&&Nh(g)&&(r2(g)||F0(g))){var D=this.createElementClone(g);D.style.transitionProperty="none";var K=w.getComputedStyle(g),Y=w.getComputedStyle(g,":before"),Ae=w.getComputedStyle(g,":after");this.referenceElement===g&&r2(D)&&(this.clonedReferenceElement=D),s2(D)&&IR(D);var ae=this.counters.parse(new Zn(this.context,K)),_e=this.resolvePseudoContent(g,D,Y,xp.BEFORE);mC(g)&&(x=!0),hC(g)||this.cloneChildNodes(g,D,x),_e&&D.insertBefore(_e,D.firstChild);var Fe=this.resolvePseudoContent(g,D,Ae,xp.AFTER);return Fe&&D.appendChild(Fe),this.counters.pop(ae),(K&&(this.options.copyStyles||F0(g))&&!fC(g)||x)&&a2(K,D),(g.scrollTop!==0||g.scrollLeft!==0)&&this.scrolledElements.push([D,g.scrollLeft,g.scrollTop]),(T0(g)||N0(g))&&(T0(D)||N0(D))&&(D.value=g.value),D}return g.cloneNode(!1)},y.prototype.resolvePseudoContent=function(g,x,w,D){var K=this;if(w){var Y=w.content,Ae=x.ownerDocument;if(!(!Ae||!Y||Y==="none"||Y==="-moz-alt-content"||w.display==="none")){this.counters.parse(new Zn(this.context,w));var ae=new $n(this.context,w),_e=Ae.createElement("html2canvaspseudoelement");a2(w,_e),ae.content.forEach(function(Pe){if(Pe.type===0)_e.appendChild(Ae.createTextNode(Pe.value));else if(Pe.type===22){var qe=Ae.createElement("img");qe.src=Pe.value,qe.style.opacity="1",_e.appendChild(qe)}else if(Pe.type===18){if(Pe.name==="attr"){var Qt=Pe.values.filter(Se);Qt.length&&_e.appendChild(Ae.createTextNode(g.getAttribute(Qt[0].value)||""))}else if(Pe.name==="counter"){var gt=Pe.values.filter(An),Ft=gt[0],Sn=gt[1];if(Ft&&Se(Ft)){var qt=K.counters.getCounterValue(Ft.value),Gt=Sn&&Se(Sn)?lp.parse(K.context,Sn.value):3;_e.appendChild(Ae.createTextNode(wp(qt,Gt,!1)))}}else if(Pe.name==="counters"){var tr=Pe.values.filter(An),Ft=tr[0],Fn=tr[1],Sn=tr[2];if(Ft&&Se(Ft)){var vn=K.counters.getCounterValues(Ft.value),jt=Sn&&Se(Sn)?lp.parse(K.context,Sn.value):3,Vn=Fn&&Fn.type===0?Fn.value:"",Kn=vn.map(function(yo){return wp(yo,jt,!1)}).join(Vn);_e.appendChild(Ae.createTextNode(Kn))}}}else if(Pe.type===20)switch(Pe.value){case"open-quote":_e.appendChild(Ae.createTextNode(rt(ae.quotes,K.quoteDepth++,!0)));break;case"close-quote":_e.appendChild(Ae.createTextNode(rt(ae.quotes,--K.quoteDepth,!1)));break;default:_e.appendChild(Ae.createTextNode(Pe.value))}}),_e.className=A2+" "+l2;var Fe=D===xp.BEFORE?" "+A2:" "+l2;return F0(x)?x.className.baseValue+=Fe:x.className+=Fe,_e}}},y.destroy=function(g){return g.parentNode?(g.parentNode.removeChild(g),!0):!1},y}(),xp;(function(y){y[y.BEFORE=0]="BEFORE",y[y.AFTER=1]="AFTER"})(xp||(xp={}));var mR=function(y,g){var x=y.createElement("iframe");return x.className="html2canvas-container",x.style.visibility="hidden",x.style.position="fixed",x.style.left="-10000px",x.style.top="0px",x.style.border="0",x.width=g.width.toString(),x.height=g.height.toString(),x.scrolling="no",x.setAttribute(_C,"true"),y.body.appendChild(x),x},yR=function(y){return new Promise(function(g){if(y.complete){g();return}if(!y.src){g();return}y.onload=g,y.onerror=g})},vR=function(y){return Promise.all([].slice.call(y.images,0).map(yR))},wR=function(y){return new Promise(function(g,x){var w=y.contentWindow;if(!w)return x("No window assigned for iframe");var D=w.document;w.onload=y.onload=function(){w.onload=y.onload=null;var K=setInterval(function(){D.body.childNodes.length>0&&D.readyState==="complete"&&(clearInterval(K),g(y))},50)}})},xR=["all","d","content"],a2=function(y,g){for(var x=y.length-1;x>=0;x--){var w=y.item(x);xR.indexOf(w)===-1&&g.style.setProperty(w,y.getPropertyValue(w))}return g},bR=function(y){var g="";return y&&(g+="<!DOCTYPE ",y.name&&(g+=y.name),y.internalSubset&&(g+=y.internalSubset),y.publicId&&(g+='"'+y.publicId+'"'),y.systemId&&(g+='"'+y.systemId+'"'),g+=">"),g},BR=function(y,g,x){y&&y.defaultView&&(g!==y.defaultView.pageXOffset||x!==y.defaultView.pageYOffset)&&y.defaultView.scrollTo(g,x)},_R=function(y){var g=y[0],x=y[1],w=y[2];g.scrollLeft=x,g.scrollTop=w},CR=":before",ER=":after",A2="___html2canvas___pseudoelement_before",l2="___html2canvas___pseudoelement_after",EC=`{
    content: "" !important;
    display: none !important;
}`,IR=function(y){SR(y,"."+A2+CR+EC+`
         .`+l2+ER+EC)},SR=function(y,g){var x=y.ownerDocument;if(x){var w=x.createElement("style");w.textContent=g,y.appendChild(w)}},IC=function(){function y(){}return y.getOrigin=function(g){var x=y._link;return x?(x.href=g,x.href=x.href,x.protocol+x.hostname+x.port):"about:blank"},y.isSameOrigin=function(g){return y.getOrigin(g)===y._origin},y.setContext=function(g){y._link=g.document.createElement("a"),y._origin=y.getOrigin(g.location.href)},y._origin="about:blank",y}(),FR=function(){function y(g,x){this.context=g,this._options=x,this._cache={}}return y.prototype.addImage=function(g){var x=Promise.resolve();return this.has(g)||(u2(g)||LR(g))&&(this._cache[g]=this.loadImage(g)).catch(function(){}),x},y.prototype.match=function(g){return this._cache[g]},y.prototype.loadImage=function(g){return i(this,void 0,void 0,function(){var x,w,D,K,Y=this;return o(this,function(Ae){switch(Ae.label){case 0:return x=IC.isSameOrigin(g),w=!c2(g)&&this._options.useCORS===!0&&js.SUPPORT_CORS_IMAGES&&!x,D=!c2(g)&&!x&&!u2(g)&&typeof this._options.proxy=="string"&&js.SUPPORT_CORS_XHR&&!w,!x&&this._options.allowTaint===!1&&!c2(g)&&!u2(g)&&!D&&!w?[2]:(K=g,D?[4,this.proxy(K)]:[3,2]);case 1:K=Ae.sent(),Ae.label=2;case 2:return this.context.logger.debug("Added image "+g.substring(0,256)),[4,new Promise(function(ae,_e){var Fe=new Image;Fe.onload=function(){return ae(Fe)},Fe.onerror=_e,(PR(K)||w)&&(Fe.crossOrigin="anonymous"),Fe.src=K,Fe.complete===!0&&setTimeout(function(){return ae(Fe)},500),Y._options.imageTimeout>0&&setTimeout(function(){return _e("Timed out ("+Y._options.imageTimeout+"ms) loading image")},Y._options.imageTimeout)})];case 3:return[2,Ae.sent()]}})})},y.prototype.has=function(g){return typeof this._cache[g]<"u"},y.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},y.prototype.proxy=function(g){var x=this,w=this._options.proxy;if(!w)throw new Error("No proxy defined");var D=g.substring(0,256);return new Promise(function(K,Y){var Ae=js.SUPPORT_RESPONSE_TYPE?"blob":"text",ae=new XMLHttpRequest;ae.onload=function(){if(ae.status===200)if(Ae==="text")K(ae.response);else{var Pe=new FileReader;Pe.addEventListener("load",function(){return K(Pe.result)},!1),Pe.addEventListener("error",function(qe){return Y(qe)},!1),Pe.readAsDataURL(ae.response)}else Y("Failed to proxy resource "+D+" with status code "+ae.status)},ae.onerror=Y;var _e=w.indexOf("?")>-1?"&":"?";if(ae.open("GET",""+w+_e+"url="+encodeURIComponent(g)+"&responseType="+Ae),Ae!=="text"&&ae instanceof XMLHttpRequest&&(ae.responseType=Ae),x._options.imageTimeout){var Fe=x._options.imageTimeout;ae.timeout=Fe,ae.ontimeout=function(){return Y("Timed out ("+Fe+"ms) proxying "+D)}}ae.send()})},y}(),TR=/^data:image\/svg\+xml/i,NR=/^data:image\/.*;base64,/i,kR=/^data:image\/.*/i,LR=function(y){return js.SUPPORT_SVG_DRAWING||!jR(y)},c2=function(y){return kR.test(y)},PR=function(y){return NR.test(y)},u2=function(y){return y.substr(0,4)==="blob"},jR=function(y){return y.substr(-3).toLowerCase()==="svg"||TR.test(y)},Pt=function(){function y(g,x){this.type=0,this.x=g,this.y=x}return y.prototype.add=function(g,x){return new y(this.x+g,this.y+x)},y}(),Ph=function(y,g,x){return new Pt(y.x+(g.x-y.x)*x,y.y+(g.y-y.y)*x)},k0=function(){function y(g,x,w,D){this.type=1,this.start=g,this.startControl=x,this.endControl=w,this.end=D}return y.prototype.subdivide=function(g,x){var w=Ph(this.start,this.startControl,g),D=Ph(this.startControl,this.endControl,g),K=Ph(this.endControl,this.end,g),Y=Ph(w,D,g),Ae=Ph(D,K,g),ae=Ph(Y,Ae,g);return x?new y(this.start,w,Y,ae):new y(ae,Ae,K,this.end)},y.prototype.add=function(g,x){return new y(this.start.add(g,x),this.startControl.add(g,x),this.endControl.add(g,x),this.end.add(g,x))},y.prototype.reverse=function(){return new y(this.end,this.endControl,this.startControl,this.start)},y}(),ha=function(y){return y.type===1},UR=function(){function y(g){var x=g.styles,w=g.bounds,D=$r(x.borderTopLeftRadius,w.width,w.height),K=D[0],Y=D[1],Ae=$r(x.borderTopRightRadius,w.width,w.height),ae=Ae[0],_e=Ae[1],Fe=$r(x.borderBottomRightRadius,w.width,w.height),Pe=Fe[0],qe=Fe[1],Qt=$r(x.borderBottomLeftRadius,w.width,w.height),gt=Qt[0],Ft=Qt[1],Sn=[];Sn.push((K+ae)/w.width),Sn.push((gt+Pe)/w.width),Sn.push((Y+Ft)/w.height),Sn.push((_e+qe)/w.height);var qt=Math.max.apply(Math,Sn);qt>1&&(K/=qt,Y/=qt,ae/=qt,_e/=qt,Pe/=qt,qe/=qt,gt/=qt,Ft/=qt);var Gt=w.width-ae,tr=w.height-qe,Fn=w.width-Pe,vn=w.height-Ft,jt=x.borderTopWidth,Vn=x.borderRightWidth,Kn=x.borderBottomWidth,bn=x.borderLeftWidth,xs=Wn(x.paddingTop,g.bounds.width),yo=Wn(x.paddingRight,g.bounds.width),Go=Wn(x.paddingBottom,g.bounds.width),mr=Wn(x.paddingLeft,g.bounds.width);this.topLeftBorderDoubleOuterBox=K>0||Y>0?Mr(w.left+bn/3,w.top+jt/3,K-bn/3,Y-jt/3,ar.TOP_LEFT):new Pt(w.left+bn/3,w.top+jt/3),this.topRightBorderDoubleOuterBox=K>0||Y>0?Mr(w.left+Gt,w.top+jt/3,ae-Vn/3,_e-jt/3,ar.TOP_RIGHT):new Pt(w.left+w.width-Vn/3,w.top+jt/3),this.bottomRightBorderDoubleOuterBox=Pe>0||qe>0?Mr(w.left+Fn,w.top+tr,Pe-Vn/3,qe-Kn/3,ar.BOTTOM_RIGHT):new Pt(w.left+w.width-Vn/3,w.top+w.height-Kn/3),this.bottomLeftBorderDoubleOuterBox=gt>0||Ft>0?Mr(w.left+bn/3,w.top+vn,gt-bn/3,Ft-Kn/3,ar.BOTTOM_LEFT):new Pt(w.left+bn/3,w.top+w.height-Kn/3),this.topLeftBorderDoubleInnerBox=K>0||Y>0?Mr(w.left+bn*2/3,w.top+jt*2/3,K-bn*2/3,Y-jt*2/3,ar.TOP_LEFT):new Pt(w.left+bn*2/3,w.top+jt*2/3),this.topRightBorderDoubleInnerBox=K>0||Y>0?Mr(w.left+Gt,w.top+jt*2/3,ae-Vn*2/3,_e-jt*2/3,ar.TOP_RIGHT):new Pt(w.left+w.width-Vn*2/3,w.top+jt*2/3),this.bottomRightBorderDoubleInnerBox=Pe>0||qe>0?Mr(w.left+Fn,w.top+tr,Pe-Vn*2/3,qe-Kn*2/3,ar.BOTTOM_RIGHT):new Pt(w.left+w.width-Vn*2/3,w.top+w.height-Kn*2/3),this.bottomLeftBorderDoubleInnerBox=gt>0||Ft>0?Mr(w.left+bn*2/3,w.top+vn,gt-bn*2/3,Ft-Kn*2/3,ar.BOTTOM_LEFT):new Pt(w.left+bn*2/3,w.top+w.height-Kn*2/3),this.topLeftBorderStroke=K>0||Y>0?Mr(w.left+bn/2,w.top+jt/2,K-bn/2,Y-jt/2,ar.TOP_LEFT):new Pt(w.left+bn/2,w.top+jt/2),this.topRightBorderStroke=K>0||Y>0?Mr(w.left+Gt,w.top+jt/2,ae-Vn/2,_e-jt/2,ar.TOP_RIGHT):new Pt(w.left+w.width-Vn/2,w.top+jt/2),this.bottomRightBorderStroke=Pe>0||qe>0?Mr(w.left+Fn,w.top+tr,Pe-Vn/2,qe-Kn/2,ar.BOTTOM_RIGHT):new Pt(w.left+w.width-Vn/2,w.top+w.height-Kn/2),this.bottomLeftBorderStroke=gt>0||Ft>0?Mr(w.left+bn/2,w.top+vn,gt-bn/2,Ft-Kn/2,ar.BOTTOM_LEFT):new Pt(w.left+bn/2,w.top+w.height-Kn/2),this.topLeftBorderBox=K>0||Y>0?Mr(w.left,w.top,K,Y,ar.TOP_LEFT):new Pt(w.left,w.top),this.topRightBorderBox=ae>0||_e>0?Mr(w.left+Gt,w.top,ae,_e,ar.TOP_RIGHT):new Pt(w.left+w.width,w.top),this.bottomRightBorderBox=Pe>0||qe>0?Mr(w.left+Fn,w.top+tr,Pe,qe,ar.BOTTOM_RIGHT):new Pt(w.left+w.width,w.top+w.height),this.bottomLeftBorderBox=gt>0||Ft>0?Mr(w.left,w.top+vn,gt,Ft,ar.BOTTOM_LEFT):new Pt(w.left,w.top+w.height),this.topLeftPaddingBox=K>0||Y>0?Mr(w.left+bn,w.top+jt,Math.max(0,K-bn),Math.max(0,Y-jt),ar.TOP_LEFT):new Pt(w.left+bn,w.top+jt),this.topRightPaddingBox=ae>0||_e>0?Mr(w.left+Math.min(Gt,w.width-Vn),w.top+jt,Gt>w.width+Vn?0:Math.max(0,ae-Vn),Math.max(0,_e-jt),ar.TOP_RIGHT):new Pt(w.left+w.width-Vn,w.top+jt),this.bottomRightPaddingBox=Pe>0||qe>0?Mr(w.left+Math.min(Fn,w.width-bn),w.top+Math.min(tr,w.height-Kn),Math.max(0,Pe-Vn),Math.max(0,qe-Kn),ar.BOTTOM_RIGHT):new Pt(w.left+w.width-Vn,w.top+w.height-Kn),this.bottomLeftPaddingBox=gt>0||Ft>0?Mr(w.left+bn,w.top+Math.min(vn,w.height-Kn),Math.max(0,gt-bn),Math.max(0,Ft-Kn),ar.BOTTOM_LEFT):new Pt(w.left+bn,w.top+w.height-Kn),this.topLeftContentBox=K>0||Y>0?Mr(w.left+bn+mr,w.top+jt+xs,Math.max(0,K-(bn+mr)),Math.max(0,Y-(jt+xs)),ar.TOP_LEFT):new Pt(w.left+bn+mr,w.top+jt+xs),this.topRightContentBox=ae>0||_e>0?Mr(w.left+Math.min(Gt,w.width+bn+mr),w.top+jt+xs,Gt>w.width+bn+mr?0:ae-bn+mr,_e-(jt+xs),ar.TOP_RIGHT):new Pt(w.left+w.width-(Vn+yo),w.top+jt+xs),this.bottomRightContentBox=Pe>0||qe>0?Mr(w.left+Math.min(Fn,w.width-(bn+mr)),w.top+Math.min(tr,w.height+jt+xs),Math.max(0,Pe-(Vn+yo)),qe-(Kn+Go),ar.BOTTOM_RIGHT):new Pt(w.left+w.width-(Vn+yo),w.top+w.height-(Kn+Go)),this.bottomLeftContentBox=gt>0||Ft>0?Mr(w.left+bn+mr,w.top+vn,Math.max(0,gt-(bn+mr)),Ft-(Kn+Go),ar.BOTTOM_LEFT):new Pt(w.left+bn+mr,w.top+w.height-(Kn+Go))}return y}(),ar;(function(y){y[y.TOP_LEFT=0]="TOP_LEFT",y[y.TOP_RIGHT=1]="TOP_RIGHT",y[y.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",y[y.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ar||(ar={}));var Mr=function(y,g,x,w,D){var K=4*((Math.sqrt(2)-1)/3),Y=x*K,Ae=w*K,ae=y+x,_e=g+w;switch(D){case ar.TOP_LEFT:return new k0(new Pt(y,_e),new Pt(y,_e-Ae),new Pt(ae-Y,g),new Pt(ae,g));case ar.TOP_RIGHT:return new k0(new Pt(y,g),new Pt(y+Y,g),new Pt(ae,_e-Ae),new Pt(ae,_e));case ar.BOTTOM_RIGHT:return new k0(new Pt(ae,g),new Pt(ae,g+Ae),new Pt(y+Y,_e),new Pt(y,_e));case ar.BOTTOM_LEFT:default:return new k0(new Pt(ae,_e),new Pt(ae-Y,_e),new Pt(y,g+Ae),new Pt(y,g))}},L0=function(y){return[y.topLeftBorderBox,y.topRightBorderBox,y.bottomRightBorderBox,y.bottomLeftBorderBox]},RR=function(y){return[y.topLeftContentBox,y.topRightContentBox,y.bottomRightContentBox,y.bottomLeftContentBox]},P0=function(y){return[y.topLeftPaddingBox,y.topRightPaddingBox,y.bottomRightPaddingBox,y.bottomLeftPaddingBox]},DR=function(){function y(g,x,w){this.offsetX=g,this.offsetY=x,this.matrix=w,this.type=0,this.target=6}return y}(),j0=function(){function y(g,x){this.path=g,this.target=x,this.type=1}return y}(),QR=function(){function y(g){this.opacity=g,this.type=2,this.target=6}return y}(),OR=function(y){return y.type===0},SC=function(y){return y.type===1},MR=function(y){return y.type===2},FC=function(y,g){return y.length===g.length?y.some(function(x,w){return x===g[w]}):!1},HR=function(y,g,x,w,D){return y.map(function(K,Y){switch(Y){case 0:return K.add(g,x);case 1:return K.add(g+w,x);case 2:return K.add(g+w,x+D);case 3:return K.add(g,x+D)}return K})},TC=function(){function y(g){this.element=g,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return y}(),NC=function(){function y(g,x){if(this.container=g,this.parent=x,this.effects=[],this.curves=new UR(this.container),this.container.styles.opacity<1&&this.effects.push(new QR(this.container.styles.opacity)),this.container.styles.transform!==null){var w=this.container.bounds.left+this.container.styles.transformOrigin[0].number,D=this.container.bounds.top+this.container.styles.transformOrigin[1].number,K=this.container.styles.transform;this.effects.push(new DR(w,D,K))}if(this.container.styles.overflowX!==0){var Y=L0(this.curves),Ae=P0(this.curves);FC(Y,Ae)?this.effects.push(new j0(Y,6)):(this.effects.push(new j0(Y,2)),this.effects.push(new j0(Ae,4)))}}return y.prototype.getEffects=function(g){for(var x=[2,3].indexOf(this.container.styles.position)===-1,w=this.parent,D=this.effects.slice(0);w;){var K=w.effects.filter(function(ae){return!SC(ae)});if(x||w.container.styles.position!==0||!w.parent){if(D.unshift.apply(D,K),x=[2,3].indexOf(w.container.styles.position)===-1,w.container.styles.overflowX!==0){var Y=L0(w.curves),Ae=P0(w.curves);FC(Y,Ae)||D.unshift(new j0(Ae,6))}}else D.unshift.apply(D,K);w=w.parent}return D.filter(function(ae){return Ce(ae.target,g)})},y}(),d2=function(y,g,x,w){y.container.elements.forEach(function(D){var K=Ce(D.flags,4),Y=Ce(D.flags,2),Ae=new NC(D,y);Ce(D.styles.display,2048)&&w.push(Ae);var ae=Ce(D.flags,8)?[]:w;if(K||Y){var _e=K||D.styles.isPositioned()?x:g,Fe=new TC(Ae);if(D.styles.isPositioned()||D.styles.opacity<1||D.styles.isTransformed()){var Pe=D.styles.zIndex.order;if(Pe<0){var qe=0;_e.negativeZIndex.some(function(gt,Ft){return Pe>gt.element.container.styles.zIndex.order?(qe=Ft,!1):qe>0}),_e.negativeZIndex.splice(qe,0,Fe)}else if(Pe>0){var Qt=0;_e.positiveZIndex.some(function(gt,Ft){return Pe>=gt.element.container.styles.zIndex.order?(Qt=Ft+1,!1):Qt>0}),_e.positiveZIndex.splice(Qt,0,Fe)}else _e.zeroOrAutoZIndexOrTransformedOrOpacity.push(Fe)}else D.styles.isFloating()?_e.nonPositionedFloats.push(Fe):_e.nonPositionedInlineLevel.push(Fe);d2(Ae,Fe,K?Fe:x,ae)}else D.styles.isInlineLevel()?g.inlineLevel.push(Ae):g.nonInlineLevel.push(Ae),d2(Ae,g,x,ae);Ce(D.flags,8)&&kC(D,ae)})},kC=function(y,g){for(var x=y instanceof t2?y.start:1,w=y instanceof t2?y.reversed:!1,D=0;D<g.length;D++){var K=g[D];K.container instanceof rC&&typeof K.container.value=="number"&&K.container.value!==0&&(x=K.container.value),K.listValue=wp(x,K.container.styles.listStyleType,!0),x+=w?-1:1}},VR=function(y){var g=new NC(y,null),x=new TC(g),w=[];return d2(g,x,x,w),kC(g.container,w),x},LC=function(y,g){switch(g){case 0:return fa(y.topLeftBorderBox,y.topLeftPaddingBox,y.topRightBorderBox,y.topRightPaddingBox);case 1:return fa(y.topRightBorderBox,y.topRightPaddingBox,y.bottomRightBorderBox,y.bottomRightPaddingBox);case 2:return fa(y.bottomRightBorderBox,y.bottomRightPaddingBox,y.bottomLeftBorderBox,y.bottomLeftPaddingBox);case 3:default:return fa(y.bottomLeftBorderBox,y.bottomLeftPaddingBox,y.topLeftBorderBox,y.topLeftPaddingBox)}},KR=function(y,g){switch(g){case 0:return fa(y.topLeftBorderBox,y.topLeftBorderDoubleOuterBox,y.topRightBorderBox,y.topRightBorderDoubleOuterBox);case 1:return fa(y.topRightBorderBox,y.topRightBorderDoubleOuterBox,y.bottomRightBorderBox,y.bottomRightBorderDoubleOuterBox);case 2:return fa(y.bottomRightBorderBox,y.bottomRightBorderDoubleOuterBox,y.bottomLeftBorderBox,y.bottomLeftBorderDoubleOuterBox);case 3:default:return fa(y.bottomLeftBorderBox,y.bottomLeftBorderDoubleOuterBox,y.topLeftBorderBox,y.topLeftBorderDoubleOuterBox)}},zR=function(y,g){switch(g){case 0:return fa(y.topLeftBorderDoubleInnerBox,y.topLeftPaddingBox,y.topRightBorderDoubleInnerBox,y.topRightPaddingBox);case 1:return fa(y.topRightBorderDoubleInnerBox,y.topRightPaddingBox,y.bottomRightBorderDoubleInnerBox,y.bottomRightPaddingBox);case 2:return fa(y.bottomRightBorderDoubleInnerBox,y.bottomRightPaddingBox,y.bottomLeftBorderDoubleInnerBox,y.bottomLeftPaddingBox);case 3:default:return fa(y.bottomLeftBorderDoubleInnerBox,y.bottomLeftPaddingBox,y.topLeftBorderDoubleInnerBox,y.topLeftPaddingBox)}},GR=function(y,g){switch(g){case 0:return U0(y.topLeftBorderStroke,y.topRightBorderStroke);case 1:return U0(y.topRightBorderStroke,y.bottomRightBorderStroke);case 2:return U0(y.bottomRightBorderStroke,y.bottomLeftBorderStroke);case 3:default:return U0(y.bottomLeftBorderStroke,y.topLeftBorderStroke)}},U0=function(y,g){var x=[];return ha(y)?x.push(y.subdivide(.5,!1)):x.push(y),ha(g)?x.push(g.subdivide(.5,!0)):x.push(g),x},fa=function(y,g,x,w){var D=[];return ha(y)?D.push(y.subdivide(.5,!1)):D.push(y),ha(x)?D.push(x.subdivide(.5,!0)):D.push(x),ha(w)?D.push(w.subdivide(.5,!0).reverse()):D.push(w),ha(g)?D.push(g.subdivide(.5,!1).reverse()):D.push(g),D},PC=function(y){var g=y.bounds,x=y.styles;return g.add(x.borderLeftWidth,x.borderTopWidth,-(x.borderRightWidth+x.borderLeftWidth),-(x.borderTopWidth+x.borderBottomWidth))},R0=function(y){var g=y.styles,x=y.bounds,w=Wn(g.paddingLeft,x.width),D=Wn(g.paddingRight,x.width),K=Wn(g.paddingTop,x.width),Y=Wn(g.paddingBottom,x.width);return x.add(w+g.borderLeftWidth,K+g.borderTopWidth,-(g.borderRightWidth+g.borderLeftWidth+w+D),-(g.borderTopWidth+g.borderBottomWidth+K+Y))},WR=function(y,g){return y===0?g.bounds:y===2?R0(g):PC(g)},$R=function(y,g){return y===0?g.bounds:y===2?R0(g):PC(g)},h2=function(y,g,x){var w=WR(Uh(y.styles.backgroundOrigin,g),y),D=$R(Uh(y.styles.backgroundClip,g),y),K=qR(Uh(y.styles.backgroundSize,g),x,w),Y=K[0],Ae=K[1],ae=$r(Uh(y.styles.backgroundPosition,g),w.width-Y,w.height-Ae),_e=YR(Uh(y.styles.backgroundRepeat,g),ae,K,w,D),Fe=Math.round(w.left+ae[0]),Pe=Math.round(w.top+ae[1]);return[_e,Fe,Pe,Y,Ae]},jh=function(y){return Se(y)&&y.value===dl.AUTO},D0=function(y){return typeof y=="number"},qR=function(y,g,x){var w=g[0],D=g[1],K=g[2],Y=y[0],Ae=y[1];if(!Y)return[0,0];if(Pn(Y)&&Ae&&Pn(Ae))return[Wn(Y,x.width),Wn(Ae,x.height)];var ae=D0(K);if(Se(Y)&&(Y.value===dl.CONTAIN||Y.value===dl.COVER)){if(D0(K)){var _e=x.width/x.height;return _e<K!=(Y.value===dl.COVER)?[x.width,x.width/K]:[x.height*K,x.height]}return[x.width,x.height]}var Fe=D0(w),Pe=D0(D),qe=Fe||Pe;if(jh(Y)&&(!Ae||jh(Ae))){if(Fe&&Pe)return[w,D];if(!ae&&!qe)return[x.width,x.height];if(qe&&ae){var Qt=Fe?w:D*K,gt=Pe?D:w/K;return[Qt,gt]}var Ft=Fe?w:x.width,Sn=Pe?D:x.height;return[Ft,Sn]}if(ae){var qt=0,Gt=0;return Pn(Y)?qt=Wn(Y,x.width):Pn(Ae)&&(Gt=Wn(Ae,x.height)),jh(Y)?qt=Gt*K:(!Ae||jh(Ae))&&(Gt=qt/K),[qt,Gt]}var tr=null,Fn=null;if(Pn(Y)?tr=Wn(Y,x.width):Ae&&Pn(Ae)&&(Fn=Wn(Ae,x.height)),tr!==null&&(!Ae||jh(Ae))&&(Fn=Fe&&Pe?tr/w*D:x.height),Fn!==null&&jh(Y)&&(tr=Fe&&Pe?Fn/D*w:x.width),tr!==null&&Fn!==null)return[tr,Fn];throw new Error("Unable to calculate background-size for element")},Uh=function(y,g){var x=y[g];return typeof x>"u"?y[0]:x},YR=function(y,g,x,w,D){var K=g[0],Y=g[1],Ae=x[0],ae=x[1];switch(y){case 2:return[new Pt(Math.round(w.left),Math.round(w.top+Y)),new Pt(Math.round(w.left+w.width),Math.round(w.top+Y)),new Pt(Math.round(w.left+w.width),Math.round(ae+w.top+Y)),new Pt(Math.round(w.left),Math.round(ae+w.top+Y))];case 3:return[new Pt(Math.round(w.left+K),Math.round(w.top)),new Pt(Math.round(w.left+K+Ae),Math.round(w.top)),new Pt(Math.round(w.left+K+Ae),Math.round(w.height+w.top)),new Pt(Math.round(w.left+K),Math.round(w.height+w.top))];case 1:return[new Pt(Math.round(w.left+K),Math.round(w.top+Y)),new Pt(Math.round(w.left+K+Ae),Math.round(w.top+Y)),new Pt(Math.round(w.left+K+Ae),Math.round(w.top+Y+ae)),new Pt(Math.round(w.left+K),Math.round(w.top+Y+ae))];default:return[new Pt(Math.round(D.left),Math.round(D.top)),new Pt(Math.round(D.left+D.width),Math.round(D.top)),new Pt(Math.round(D.left+D.width),Math.round(D.height+D.top)),new Pt(Math.round(D.left),Math.round(D.height+D.top))]}},XR="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",jC="Hidden Text",JR=function(){function y(g){this._data={},this._document=g}return y.prototype.parseMetrics=function(g,x){var w=this._document.createElement("div"),D=this._document.createElement("img"),K=this._document.createElement("span"),Y=this._document.body;w.style.visibility="hidden",w.style.fontFamily=g,w.style.fontSize=x,w.style.margin="0",w.style.padding="0",w.style.whiteSpace="nowrap",Y.appendChild(w),D.src=XR,D.width=1,D.height=1,D.style.margin="0",D.style.padding="0",D.style.verticalAlign="baseline",K.style.fontFamily=g,K.style.fontSize=x,K.style.margin="0",K.style.padding="0",K.appendChild(this._document.createTextNode(jC)),w.appendChild(K),w.appendChild(D);var Ae=D.offsetTop-K.offsetTop+2;w.removeChild(K),w.appendChild(this._document.createTextNode(jC)),w.style.lineHeight="normal",D.style.verticalAlign="super";var ae=D.offsetTop-w.offsetTop+2;return Y.removeChild(w),{baseline:Ae,middle:ae}},y.prototype.getMetrics=function(g,x){var w=g+" "+x;return typeof this._data[w]>"u"&&(this._data[w]=this.parseMetrics(g,x)),this._data[w]},y}(),UC=function(){function y(g,x){this.context=g,this.options=x}return y}(),ZR=1e4,eD=function(y){r(g,y);function g(x,w){var D=y.call(this,x,w)||this;return D._activeEffects=[],D.canvas=w.canvas?w.canvas:document.createElement("canvas"),D.ctx=D.canvas.getContext("2d"),w.canvas||(D.canvas.width=Math.floor(w.width*w.scale),D.canvas.height=Math.floor(w.height*w.scale),D.canvas.style.width=w.width+"px",D.canvas.style.height=w.height+"px"),D.fontMetrics=new JR(document),D.ctx.scale(D.options.scale,D.options.scale),D.ctx.translate(-w.x,-w.y),D.ctx.textBaseline="bottom",D._activeEffects=[],D.context.logger.debug("Canvas renderer initialized ("+w.width+"x"+w.height+") with scale "+w.scale),D}return g.prototype.applyEffects=function(x){for(var w=this;this._activeEffects.length;)this.popEffect();x.forEach(function(D){return w.applyEffect(D)})},g.prototype.applyEffect=function(x){this.ctx.save(),MR(x)&&(this.ctx.globalAlpha=x.opacity),OR(x)&&(this.ctx.translate(x.offsetX,x.offsetY),this.ctx.transform(x.matrix[0],x.matrix[1],x.matrix[2],x.matrix[3],x.matrix[4],x.matrix[5]),this.ctx.translate(-x.offsetX,-x.offsetY)),SC(x)&&(this.path(x.path),this.ctx.clip()),this._activeEffects.push(x)},g.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},g.prototype.renderStack=function(x){return i(this,void 0,void 0,function(){var w;return o(this,function(D){switch(D.label){case 0:return w=x.element.container.styles,w.isVisible()?[4,this.renderStackContent(x)]:[3,2];case 1:D.sent(),D.label=2;case 2:return[2]}})})},g.prototype.renderNode=function(x){return i(this,void 0,void 0,function(){return o(this,function(w){switch(w.label){case 0:if(Ce(x.container.flags,16))debugger;return x.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(x)]:[3,3];case 1:return w.sent(),[4,this.renderNodeContent(x)];case 2:w.sent(),w.label=3;case 3:return[2]}})})},g.prototype.renderTextWithLetterSpacing=function(x,w,D){var K=this;if(w===0)this.ctx.fillText(x.text,x.bounds.left,x.bounds.top+D);else{var Y=Cc(x.text);Y.reduce(function(Ae,ae){return K.ctx.fillText(ae,Ae,x.bounds.top+D),Ae+K.ctx.measureText(ae).width},x.bounds.left)}},g.prototype.createFontStyle=function(x){var w=x.fontVariant.filter(function(Y){return Y==="normal"||Y==="small-caps"}).join(""),D=iD(x.fontFamily).join(", "),K=Z(x.fontSize)?""+x.fontSize.number+x.fontSize.unit:x.fontSize.number+"px";return[[x.fontStyle,w,x.fontWeight,K,D].join(" "),D,K]},g.prototype.renderTextNode=function(x,w){return i(this,void 0,void 0,function(){var D,K,Y,Ae,ae,_e,Fe,Pe,qe=this;return o(this,function(Qt){return D=this.createFontStyle(w),K=D[0],Y=D[1],Ae=D[2],this.ctx.font=K,this.ctx.direction=w.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",ae=this.fontMetrics.getMetrics(Y,Ae),_e=ae.baseline,Fe=ae.middle,Pe=w.paintOrder,x.textBounds.forEach(function(gt){Pe.forEach(function(Ft){switch(Ft){case 0:qe.ctx.fillStyle=qr(w.color),qe.renderTextWithLetterSpacing(gt,w.letterSpacing,_e);var Sn=w.textShadow;Sn.length&&gt.text.trim().length&&(Sn.slice(0).reverse().forEach(function(qt){qe.ctx.shadowColor=qr(qt.color),qe.ctx.shadowOffsetX=qt.offsetX.number*qe.options.scale,qe.ctx.shadowOffsetY=qt.offsetY.number*qe.options.scale,qe.ctx.shadowBlur=qt.blur.number,qe.renderTextWithLetterSpacing(gt,w.letterSpacing,_e)}),qe.ctx.shadowColor="",qe.ctx.shadowOffsetX=0,qe.ctx.shadowOffsetY=0,qe.ctx.shadowBlur=0),w.textDecorationLine.length&&(qe.ctx.fillStyle=qr(w.textDecorationColor||w.color),w.textDecorationLine.forEach(function(qt){switch(qt){case 1:qe.ctx.fillRect(gt.bounds.left,Math.round(gt.bounds.top+_e),gt.bounds.width,1);break;case 2:qe.ctx.fillRect(gt.bounds.left,Math.round(gt.bounds.top),gt.bounds.width,1);break;case 3:qe.ctx.fillRect(gt.bounds.left,Math.ceil(gt.bounds.top+Fe),gt.bounds.width,1);break}}));break;case 1:w.webkitTextStrokeWidth&&gt.text.trim().length&&(qe.ctx.strokeStyle=qr(w.webkitTextStrokeColor),qe.ctx.lineWidth=w.webkitTextStrokeWidth,qe.ctx.lineJoin=window.chrome?"miter":"round",qe.ctx.strokeText(gt.text,gt.bounds.left,gt.bounds.top+_e)),qe.ctx.strokeStyle="",qe.ctx.lineWidth=0,qe.ctx.lineJoin="miter";break}})}),[2]})})},g.prototype.renderReplacedElement=function(x,w,D){if(D&&x.intrinsicWidth>0&&x.intrinsicHeight>0){var K=R0(x),Y=P0(w);this.path(Y),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(D,0,0,x.intrinsicWidth,x.intrinsicHeight,K.left,K.top,K.width,K.height),this.ctx.restore()}},g.prototype.renderNodeContent=function(x){return i(this,void 0,void 0,function(){var w,D,K,Y,Ae,ae,Gt,Gt,_e,Fe,Pe,qe,Fn,Qt,gt,vn,Ft,Sn,qt,Gt,tr,Fn,vn;return o(this,function(jt){switch(jt.label){case 0:this.applyEffects(x.getEffects(4)),w=x.container,D=x.curves,K=w.styles,Y=0,Ae=w.textNodes,jt.label=1;case 1:return Y<Ae.length?(ae=Ae[Y],[4,this.renderTextNode(ae,K)]):[3,4];case 2:jt.sent(),jt.label=3;case 3:return Y++,[3,1];case 4:if(!(w instanceof Th))return[3,8];jt.label=5;case 5:return jt.trys.push([5,7,,8]),[4,this.context.cache.match(w.src)];case 6:return Gt=jt.sent(),this.renderReplacedElement(w,D,Gt),[3,8];case 7:return jt.sent(),this.context.logger.error("Error loading image "+w.src),[3,8];case 8:if(w instanceof tC&&this.renderReplacedElement(w,D,w.canvas),!(w instanceof nC))return[3,12];jt.label=9;case 9:return jt.trys.push([9,11,,12]),[4,this.context.cache.match(w.svg)];case 10:return Gt=jt.sent(),this.renderReplacedElement(w,D,Gt),[3,12];case 11:return jt.sent(),this.context.logger.error("Error loading svg "+w.svg.substring(0,255)),[3,12];case 12:return w instanceof aC&&w.tree?(_e=new g(this.context,{scale:this.options.scale,backgroundColor:w.backgroundColor,x:0,y:0,width:w.width,height:w.height}),[4,_e.render(w.tree)]):[3,14];case 13:Fe=jt.sent(),w.width&&w.height&&this.ctx.drawImage(Fe,0,0,w.width,w.height,w.bounds.left,w.bounds.top,w.bounds.width,w.bounds.height),jt.label=14;case 14:if(w instanceof n2&&(Pe=Math.min(w.bounds.width,w.bounds.height),w.type===E0?w.checked&&(this.ctx.save(),this.path([new Pt(w.bounds.left+Pe*.39363,w.bounds.top+Pe*.79),new Pt(w.bounds.left+Pe*.16,w.bounds.top+Pe*.5549),new Pt(w.bounds.left+Pe*.27347,w.bounds.top+Pe*.44071),new Pt(w.bounds.left+Pe*.39694,w.bounds.top+Pe*.5649),new Pt(w.bounds.left+Pe*.72983,w.bounds.top+Pe*.23),new Pt(w.bounds.left+Pe*.84,w.bounds.top+Pe*.34085),new Pt(w.bounds.left+Pe*.39363,w.bounds.top+Pe*.79)]),this.ctx.fillStyle=qr(sC),this.ctx.fill(),this.ctx.restore()):w.type===I0&&w.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(w.bounds.left+Pe/2,w.bounds.top+Pe/2,Pe/4,0,Math.PI*2,!0),this.ctx.fillStyle=qr(sC),this.ctx.fill(),this.ctx.restore())),tD(w)&&w.value.length){switch(qe=this.createFontStyle(K),Fn=qe[0],Qt=qe[1],gt=this.fontMetrics.getMetrics(Fn,Qt).baseline,this.ctx.font=Fn,this.ctx.fillStyle=qr(K.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=rD(w.styles.textAlign),vn=R0(w),Ft=0,w.styles.textAlign){case 1:Ft+=vn.width/2;break;case 2:Ft+=vn.width;break}Sn=vn.add(Ft,0,0,-vn.height/2+1),this.ctx.save(),this.path([new Pt(vn.left,vn.top),new Pt(vn.left+vn.width,vn.top),new Pt(vn.left+vn.width,vn.top+vn.height),new Pt(vn.left,vn.top+vn.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new _c(w.value,Sn),K.letterSpacing,gt),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ce(w.styles.display,2048))return[3,20];if(w.styles.listStyleImage===null)return[3,19];if(qt=w.styles.listStyleImage,qt.type!==0)return[3,18];Gt=void 0,tr=qt.url,jt.label=15;case 15:return jt.trys.push([15,17,,18]),[4,this.context.cache.match(tr)];case 16:return Gt=jt.sent(),this.ctx.drawImage(Gt,w.bounds.left-(Gt.width+10),w.bounds.top),[3,18];case 17:return jt.sent(),this.context.logger.error("Error loading list-style-image "+tr),[3,18];case 18:return[3,20];case 19:x.listValue&&w.styles.listStyleType!==-1&&(Fn=this.createFontStyle(K)[0],this.ctx.font=Fn,this.ctx.fillStyle=qr(K.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",vn=new A(w.bounds.left,w.bounds.top+Wn(w.styles.paddingTop,w.bounds.width),w.bounds.width,Ka(K.lineHeight,K.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new _c(x.listValue,vn),K.letterSpacing,Ka(K.lineHeight,K.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),jt.label=20;case 20:return[2]}})})},g.prototype.renderStackContent=function(x){return i(this,void 0,void 0,function(){var w,D,qt,K,Y,qt,Ae,ae,qt,_e,Fe,qt,Pe,qe,qt,Qt,gt,qt,Ft,Sn,qt;return o(this,function(Gt){switch(Gt.label){case 0:if(Ce(x.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(x.element)];case 1:Gt.sent(),w=0,D=x.negativeZIndex,Gt.label=2;case 2:return w<D.length?(qt=D[w],[4,this.renderStack(qt)]):[3,5];case 3:Gt.sent(),Gt.label=4;case 4:return w++,[3,2];case 5:return[4,this.renderNodeContent(x.element)];case 6:Gt.sent(),K=0,Y=x.nonInlineLevel,Gt.label=7;case 7:return K<Y.length?(qt=Y[K],[4,this.renderNode(qt)]):[3,10];case 8:Gt.sent(),Gt.label=9;case 9:return K++,[3,7];case 10:Ae=0,ae=x.nonPositionedFloats,Gt.label=11;case 11:return Ae<ae.length?(qt=ae[Ae],[4,this.renderStack(qt)]):[3,14];case 12:Gt.sent(),Gt.label=13;case 13:return Ae++,[3,11];case 14:_e=0,Fe=x.nonPositionedInlineLevel,Gt.label=15;case 15:return _e<Fe.length?(qt=Fe[_e],[4,this.renderStack(qt)]):[3,18];case 16:Gt.sent(),Gt.label=17;case 17:return _e++,[3,15];case 18:Pe=0,qe=x.inlineLevel,Gt.label=19;case 19:return Pe<qe.length?(qt=qe[Pe],[4,this.renderNode(qt)]):[3,22];case 20:Gt.sent(),Gt.label=21;case 21:return Pe++,[3,19];case 22:Qt=0,gt=x.zeroOrAutoZIndexOrTransformedOrOpacity,Gt.label=23;case 23:return Qt<gt.length?(qt=gt[Qt],[4,this.renderStack(qt)]):[3,26];case 24:Gt.sent(),Gt.label=25;case 25:return Qt++,[3,23];case 26:Ft=0,Sn=x.positiveZIndex,Gt.label=27;case 27:return Ft<Sn.length?(qt=Sn[Ft],[4,this.renderStack(qt)]):[3,30];case 28:Gt.sent(),Gt.label=29;case 29:return Ft++,[3,27];case 30:return[2]}})})},g.prototype.mask=function(x){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(x.slice(0).reverse()),this.ctx.closePath()},g.prototype.path=function(x){this.ctx.beginPath(),this.formatPath(x),this.ctx.closePath()},g.prototype.formatPath=function(x){var w=this;x.forEach(function(D,K){var Y=ha(D)?D.start:D;K===0?w.ctx.moveTo(Y.x,Y.y):w.ctx.lineTo(Y.x,Y.y),ha(D)&&w.ctx.bezierCurveTo(D.startControl.x,D.startControl.y,D.endControl.x,D.endControl.y,D.end.x,D.end.y)})},g.prototype.renderRepeat=function(x,w,D,K){this.path(x),this.ctx.fillStyle=w,this.ctx.translate(D,K),this.ctx.fill(),this.ctx.translate(-D,-K)},g.prototype.resizeImage=function(x,w,D){var K;if(x.width===w&&x.height===D)return x;var Y=(K=this.canvas.ownerDocument)!==null&&K!==void 0?K:document,Ae=Y.createElement("canvas");Ae.width=Math.max(1,w),Ae.height=Math.max(1,D);var ae=Ae.getContext("2d");return ae.drawImage(x,0,0,x.width,x.height,0,0,w,D),Ae},g.prototype.renderBackgroundImage=function(x){return i(this,void 0,void 0,function(){var w,D,K,Y,Ae,ae;return o(this,function(_e){switch(_e.label){case 0:w=x.styles.backgroundImage.length-1,D=function(Fe){var Pe,qe,Qt,xs,vo,wo,mr,oi,Kn,gt,xs,vo,wo,mr,oi,Ft,Sn,qt,Gt,tr,Fn,vn,jt,Vn,Kn,bn,xs,yo,Go,mr,oi,Sc,vo,wo,$u,IA,Fc,qu,Yu,yl,Xu,vl;return o(this,function(Rh){switch(Rh.label){case 0:if(Fe.type!==0)return[3,5];Pe=void 0,qe=Fe.url,Rh.label=1;case 1:return Rh.trys.push([1,3,,4]),[4,K.context.cache.match(qe)];case 2:return Pe=Rh.sent(),[3,4];case 3:return Rh.sent(),K.context.logger.error("Error loading background-image "+qe),[3,4];case 4:return Pe&&(Qt=h2(x,w,[Pe.width,Pe.height,Pe.width/Pe.height]),xs=Qt[0],vo=Qt[1],wo=Qt[2],mr=Qt[3],oi=Qt[4],Kn=K.ctx.createPattern(K.resizeImage(Pe,mr,oi),"repeat"),K.renderRepeat(xs,Kn,vo,wo)),[3,6];case 5:Va(Fe)?(gt=h2(x,w,[null,null,null]),xs=gt[0],vo=gt[1],wo=gt[2],mr=gt[3],oi=gt[4],Ft=uc(Fe.angle,mr,oi),Sn=Ft[0],qt=Ft[1],Gt=Ft[2],tr=Ft[3],Fn=Ft[4],vn=document.createElement("canvas"),vn.width=mr,vn.height=oi,jt=vn.getContext("2d"),Vn=jt.createLinearGradient(qt,tr,Gt,Fn),Ws(Fe.stops,Sn).forEach(function(bp){return Vn.addColorStop(bp.stop,qr(bp.color))}),jt.fillStyle=Vn,jt.fillRect(0,0,mr,oi),mr>0&&oi>0&&(Kn=K.ctx.createPattern(vn,"repeat"),K.renderRepeat(xs,Kn,vo,wo))):Ou(Fe)&&(bn=h2(x,w,[null,null,null]),xs=bn[0],yo=bn[1],Go=bn[2],mr=bn[3],oi=bn[4],Sc=Fe.position.length===0?[il]:Fe.position,vo=Wn(Sc[0],mr),wo=Wn(Sc[Sc.length-1],oi),$u=Al(Fe,vo,wo,mr,oi),IA=$u[0],Fc=$u[1],IA>0&&Fc>0&&(qu=K.ctx.createRadialGradient(yo+vo,Go+wo,0,yo+vo,Go+wo,IA),Ws(Fe.stops,IA*2).forEach(function(bp){return qu.addColorStop(bp.stop,qr(bp.color))}),K.path(xs),K.ctx.fillStyle=qu,IA!==Fc?(Yu=x.bounds.left+.5*x.bounds.width,yl=x.bounds.top+.5*x.bounds.height,Xu=Fc/IA,vl=1/Xu,K.ctx.save(),K.ctx.translate(Yu,yl),K.ctx.transform(1,0,0,Xu,0,0),K.ctx.translate(-Yu,-yl),K.ctx.fillRect(yo,vl*(Go-yl)+yl,mr,oi*vl),K.ctx.restore()):K.ctx.fill())),Rh.label=6;case 6:return w--,[2]}})},K=this,Y=0,Ae=x.styles.backgroundImage.slice(0).reverse(),_e.label=1;case 1:return Y<Ae.length?(ae=Ae[Y],[5,D(ae)]):[3,4];case 2:_e.sent(),_e.label=3;case 3:return Y++,[3,1];case 4:return[2]}})})},g.prototype.renderSolidBorder=function(x,w,D){return i(this,void 0,void 0,function(){return o(this,function(K){return this.path(LC(D,w)),this.ctx.fillStyle=qr(x),this.ctx.fill(),[2]})})},g.prototype.renderDoubleBorder=function(x,w,D,K){return i(this,void 0,void 0,function(){var Y,Ae;return o(this,function(ae){switch(ae.label){case 0:return w<3?[4,this.renderSolidBorder(x,D,K)]:[3,2];case 1:return ae.sent(),[2];case 2:return Y=KR(K,D),this.path(Y),this.ctx.fillStyle=qr(x),this.ctx.fill(),Ae=zR(K,D),this.path(Ae),this.ctx.fill(),[2]}})})},g.prototype.renderNodeBackgroundAndBorders=function(x){return i(this,void 0,void 0,function(){var w,D,K,Y,Ae,ae,_e,Fe,Pe=this;return o(this,function(qe){switch(qe.label){case 0:return this.applyEffects(x.getEffects(2)),w=x.container.styles,D=!Oo(w.backgroundColor)||w.backgroundImage.length,K=[{style:w.borderTopStyle,color:w.borderTopColor,width:w.borderTopWidth},{style:w.borderRightStyle,color:w.borderRightColor,width:w.borderRightWidth},{style:w.borderBottomStyle,color:w.borderBottomColor,width:w.borderBottomWidth},{style:w.borderLeftStyle,color:w.borderLeftColor,width:w.borderLeftWidth}],Y=nD(Uh(w.backgroundClip,0),x.curves),D||w.boxShadow.length?(this.ctx.save(),this.path(Y),this.ctx.clip(),Oo(w.backgroundColor)||(this.ctx.fillStyle=qr(w.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(x.container)]):[3,2];case 1:qe.sent(),this.ctx.restore(),w.boxShadow.slice(0).reverse().forEach(function(Qt){Pe.ctx.save();var gt=L0(x.curves),Ft=Qt.inset?0:ZR,Sn=HR(gt,-Ft+(Qt.inset?1:-1)*Qt.spread.number,(Qt.inset?1:-1)*Qt.spread.number,Qt.spread.number*(Qt.inset?-2:2),Qt.spread.number*(Qt.inset?-2:2));Qt.inset?(Pe.path(gt),Pe.ctx.clip(),Pe.mask(Sn)):(Pe.mask(gt),Pe.ctx.clip(),Pe.path(Sn)),Pe.ctx.shadowOffsetX=Qt.offsetX.number+Ft,Pe.ctx.shadowOffsetY=Qt.offsetY.number,Pe.ctx.shadowColor=qr(Qt.color),Pe.ctx.shadowBlur=Qt.blur.number,Pe.ctx.fillStyle=Qt.inset?qr(Qt.color):"rgba(0,0,0,1)",Pe.ctx.fill(),Pe.ctx.restore()}),qe.label=2;case 2:Ae=0,ae=0,_e=K,qe.label=3;case 3:return ae<_e.length?(Fe=_e[ae],Fe.style!==0&&!Oo(Fe.color)&&Fe.width>0?Fe.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Fe.color,Fe.width,Ae,x.curves,2)]:[3,11]):[3,13];case 4:return qe.sent(),[3,11];case 5:return Fe.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Fe.color,Fe.width,Ae,x.curves,3)];case 6:return qe.sent(),[3,11];case 7:return Fe.style!==4?[3,9]:[4,this.renderDoubleBorder(Fe.color,Fe.width,Ae,x.curves)];case 8:return qe.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Fe.color,Ae,x.curves)];case 10:qe.sent(),qe.label=11;case 11:Ae++,qe.label=12;case 12:return ae++,[3,3];case 13:return[2]}})})},g.prototype.renderDashedDottedBorder=function(x,w,D,K,Y){return i(this,void 0,void 0,function(){var Ae,ae,_e,Fe,Pe,qe,Qt,gt,Ft,Sn,qt,Gt,tr,Fn,vn,jt,vn,jt;return o(this,function(Vn){return this.ctx.save(),Ae=GR(K,D),ae=LC(K,D),Y===2&&(this.path(ae),this.ctx.clip()),ha(ae[0])?(_e=ae[0].start.x,Fe=ae[0].start.y):(_e=ae[0].x,Fe=ae[0].y),ha(ae[1])?(Pe=ae[1].end.x,qe=ae[1].end.y):(Pe=ae[1].x,qe=ae[1].y),D===0||D===2?Qt=Math.abs(_e-Pe):Qt=Math.abs(Fe-qe),this.ctx.beginPath(),Y===3?this.formatPath(Ae):this.formatPath(ae.slice(0,2)),gt=w<3?w*3:w*2,Ft=w<3?w*2:w,Y===3&&(gt=w,Ft=w),Sn=!0,Qt<=gt*2?Sn=!1:Qt<=gt*2+Ft?(qt=Qt/(2*gt+Ft),gt*=qt,Ft*=qt):(Gt=Math.floor((Qt+Ft)/(gt+Ft)),tr=(Qt-Gt*gt)/(Gt-1),Fn=(Qt-(Gt+1)*gt)/Gt,Ft=Fn<=0||Math.abs(Ft-tr)<Math.abs(Ft-Fn)?tr:Fn),Sn&&(Y===3?this.ctx.setLineDash([0,gt+Ft]):this.ctx.setLineDash([gt,Ft])),Y===3?(this.ctx.lineCap="round",this.ctx.lineWidth=w):this.ctx.lineWidth=w*2+1.1,this.ctx.strokeStyle=qr(x),this.ctx.stroke(),this.ctx.setLineDash([]),Y===2&&(ha(ae[0])&&(vn=ae[3],jt=ae[0],this.ctx.beginPath(),this.formatPath([new Pt(vn.end.x,vn.end.y),new Pt(jt.start.x,jt.start.y)]),this.ctx.stroke()),ha(ae[1])&&(vn=ae[1],jt=ae[2],this.ctx.beginPath(),this.formatPath([new Pt(vn.end.x,vn.end.y),new Pt(jt.start.x,jt.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},g.prototype.render=function(x){return i(this,void 0,void 0,function(){var w;return o(this,function(D){switch(D.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=qr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),w=VR(x),[4,this.renderStack(w)];case 1:return D.sent(),this.applyEffects([]),[2,this.canvas]}})})},g}(UC),tD=function(y){return y instanceof oC||y instanceof iC?!0:y instanceof n2&&y.type!==I0&&y.type!==E0},nD=function(y,g){switch(y){case 0:return L0(g);case 2:return RR(g);case 1:default:return P0(g)}},rD=function(y){switch(y){case 1:return"center";case 2:return"right";case 0:default:return"left"}},sD=["-apple-system","system-ui"],iD=function(y){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?y.filter(function(g){return sD.indexOf(g)===-1}):y},oD=function(y){r(g,y);function g(x,w){var D=y.call(this,x,w)||this;return D.canvas=w.canvas?w.canvas:document.createElement("canvas"),D.ctx=D.canvas.getContext("2d"),D.options=w,D.canvas.width=Math.floor(w.width*w.scale),D.canvas.height=Math.floor(w.height*w.scale),D.canvas.style.width=w.width+"px",D.canvas.style.height=w.height+"px",D.ctx.scale(D.options.scale,D.options.scale),D.ctx.translate(-w.x,-w.y),D.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+w.width+"x"+w.height+" at "+w.x+","+w.y+") with scale "+w.scale),D}return g.prototype.render=function(x){return i(this,void 0,void 0,function(){var w,D;return o(this,function(K){switch(K.label){case 0:return w=pp(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,x),[4,aD(w)];case 1:return D=K.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=qr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(D,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},g}(UC),aD=function(y){return new Promise(function(g,x){var w=new Image;w.onload=function(){g(w)},w.onerror=x,w.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(y))})},AD=function(){function y(g){var x=g.id,w=g.enabled;this.id=x,this.enabled=w,this.start=Date.now()}return y.prototype.debug=function(){for(var g=[],x=0;x<arguments.length;x++)g[x]=arguments[x];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,a([this.id,this.getTime()+"ms"],g)):this.info.apply(this,g))},y.prototype.getTime=function(){return Date.now()-this.start},y.prototype.info=function(){for(var g=[],x=0;x<arguments.length;x++)g[x]=arguments[x];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,a([this.id,this.getTime()+"ms"],g))},y.prototype.warn=function(){for(var g=[],x=0;x<arguments.length;x++)g[x]=arguments[x];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,a([this.id,this.getTime()+"ms"],g)):this.info.apply(this,g))},y.prototype.error=function(){for(var g=[],x=0;x<arguments.length;x++)g[x]=arguments[x];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,a([this.id,this.getTime()+"ms"],g)):this.info.apply(this,g))},y.instances={},y}(),lD=function(){function y(g,x){var w;this.windowBounds=x,this.instanceName="#"+y.instanceCount++,this.logger=new AD({id:this.instanceName,enabled:g.logging}),this.cache=(w=g.cache)!==null&&w!==void 0?w:new FR(this,g)}return y.instanceCount=1,y}(),cD=function(y,g){return g===void 0&&(g={}),uD(y,g)};typeof window<"u"&&IC.setContext(window);var uD=function(y,g){return i(void 0,void 0,void 0,function(){var x,w,D,K,Y,Ae,ae,_e,Fe,Pe,qe,Qt,gt,Ft,Sn,qt,Gt,tr,Fn,vn,Vn,jt,Vn,Kn,bn,xs,yo,Go,mr,oi,Sc,vo,wo,$u,IA,Fc,qu,Yu,yl,Xu;return o(this,function(vl){switch(vl.label){case 0:if(!y||typeof y!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(x=y.ownerDocument,!x)throw new Error("Element is not attached to a Document");if(w=x.defaultView,!w)throw new Error("Document is not attached to a Window");return D={allowTaint:(Kn=g.allowTaint)!==null&&Kn!==void 0?Kn:!1,imageTimeout:(bn=g.imageTimeout)!==null&&bn!==void 0?bn:15e3,proxy:g.proxy,useCORS:(xs=g.useCORS)!==null&&xs!==void 0?xs:!1},K=s({logging:(yo=g.logging)!==null&&yo!==void 0?yo:!0,cache:g.cache},D),Y={windowWidth:(Go=g.windowWidth)!==null&&Go!==void 0?Go:w.innerWidth,windowHeight:(mr=g.windowHeight)!==null&&mr!==void 0?mr:w.innerHeight,scrollX:(oi=g.scrollX)!==null&&oi!==void 0?oi:w.pageXOffset,scrollY:(Sc=g.scrollY)!==null&&Sc!==void 0?Sc:w.pageYOffset},Ae=new A(Y.scrollX,Y.scrollY,Y.windowWidth,Y.windowHeight),ae=new lD(K,Ae),_e=(vo=g.foreignObjectRendering)!==null&&vo!==void 0?vo:!1,Fe={allowTaint:(wo=g.allowTaint)!==null&&wo!==void 0?wo:!1,onclone:g.onclone,ignoreElements:g.ignoreElements,inlineImages:_e,copyStyles:_e},ae.logger.debug("Starting document clone with size "+Ae.width+"x"+Ae.height+" scrolled to "+-Ae.left+","+-Ae.top),Pe=new CC(ae,y,Fe),qe=Pe.clonedReferenceElement,qe?[4,Pe.toIFrame(x,Ae)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Qt=vl.sent(),gt=s2(qe)||dR(qe)?c(qe.ownerDocument):l(ae,qe),Ft=gt.width,Sn=gt.height,qt=gt.left,Gt=gt.top,tr=dD(ae,qe,g.backgroundColor),Fn={canvas:g.canvas,backgroundColor:tr,scale:(IA=($u=g.scale)!==null&&$u!==void 0?$u:w.devicePixelRatio)!==null&&IA!==void 0?IA:1,x:((Fc=g.x)!==null&&Fc!==void 0?Fc:0)+qt,y:((qu=g.y)!==null&&qu!==void 0?qu:0)+Gt,width:(Yu=g.width)!==null&&Yu!==void 0?Yu:Math.ceil(Ft),height:(yl=g.height)!==null&&yl!==void 0?yl:Math.ceil(Sn)},_e?(ae.logger.debug("Document cloned, using foreign object rendering"),Vn=new oD(ae,Fn),[4,Vn.render(qe)]):[3,3];case 2:return vn=vl.sent(),[3,5];case 3:return ae.logger.debug("Document cloned, element located at "+qt+","+Gt+" with size "+Ft+"x"+Sn+" using computed rendering"),ae.logger.debug("Starting DOM parsing"),jt=lC(ae,qe),tr===jt.styles.backgroundColor&&(jt.styles.backgroundColor=mi.TRANSPARENT),ae.logger.debug("Starting renderer for element at "+Fn.x+","+Fn.y+" with size "+Fn.width+"x"+Fn.height),Vn=new eD(ae,Fn),[4,Vn.render(jt)];case 4:vn=vl.sent(),vl.label=5;case 5:return(!((Xu=g.removeContainer)!==null&&Xu!==void 0)||Xu)&&(CC.destroy(Qt)||ae.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),ae.logger.debug("Finished rendering"),[2,vn]}})})},dD=function(y,g,x){var w=g.ownerDocument,D=w.documentElement?Hi(y,getComputedStyle(w.documentElement).backgroundColor):mi.TRANSPARENT,K=w.body?Hi(y,getComputedStyle(w.body).backgroundColor):mi.TRANSPARENT,Y=typeof x=="string"?Hi(y,x):x===null?mi.TRANSPARENT:4294967295;return g===w.documentElement?Oo(D)?Oo(K)?Y:K:D:Y};return cD})}(fx)),fx.exports}/*!
 * html2pdf.js v0.10.3
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */(function(t,e){(function(r,s){t.exports=s(MW,HW())})(self,function(n,r){return function(){var s={"./src/plugin/hyperlinks.js":function(A,l,c){c.r(l),c("./node_modules/core-js/modules/web.dom-collections.for-each.js"),c("./node_modules/core-js/modules/es.string.link.js");var u=c("./src/worker.js"),f=c("./src/utils.js"),d=[],B={toContainer:u.default.prototype.toContainer,toPdf:u.default.prototype.toPdf};u.default.prototype.toContainer=function(){return B.toContainer.call(this).then(function(){if(this.opt.enableLinks){var v=this.prop.container,C=v.querySelectorAll("a"),S=(0,f.unitConvert)(v.getBoundingClientRect(),this.prop.pageSize.k);d=[],Array.prototype.forEach.call(C,function(R){for(var P=R.getClientRects(),Q=0;Q<P.length;Q++){var T=(0,f.unitConvert)(P[Q],this.prop.pageSize.k);T.left-=S.left,T.top-=S.top;var I=Math.floor(T.top/this.prop.pageSize.inner.height)+1,O=this.opt.margin[0]+T.top%this.prop.pageSize.inner.height,M=this.opt.margin[1]+T.left;d.push({page:I,top:O,left:M,clientRect:T,link:R})}},this)}})},u.default.prototype.toPdf=function(){return B.toPdf.call(this).then(function(){if(this.opt.enableLinks){d.forEach(function(C){this.prop.pdf.setPage(C.page),this.prop.pdf.link(C.left,C.top,C.clientRect.width,C.clientRect.height,{url:C.link.href})},this);var v=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(v)}})}},"./src/plugin/jspdf-plugin.js":function(A,l,c){c.r(l),c("./node_modules/core-js/modules/es.symbol.js"),c("./node_modules/core-js/modules/es.symbol.description.js"),c("./node_modules/core-js/modules/es.object.to-string.js"),c("./node_modules/core-js/modules/es.symbol.iterator.js"),c("./node_modules/core-js/modules/es.array.iterator.js"),c("./node_modules/core-js/modules/es.string.iterator.js"),c("./node_modules/core-js/modules/web.dom-collections.iterator.js");var u=c("jspdf");function f(d){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(b){return typeof b}:f=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},f(d)}u.jsPDF.getPageSize=function(d,B,b){if(f(d)==="object"){var E=d;d=E.orientation,B=E.unit||B,b=E.format||b}B=B||"mm",b=b||"a4",d=(""+(d||"P")).toLowerCase();var v=(""+b).toLowerCase(),C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(B){case"pt":var S=1;break;case"mm":var S=72/25.4;break;case"cm":var S=72/2.54;break;case"in":var S=72;break;case"px":var S=72/96;break;case"pc":var S=12;break;case"em":var S=12;break;case"ex":var S=6;break;default:throw"Invalid unit: "+B}if(C.hasOwnProperty(v))var R=C[v][1]/S,P=C[v][0]/S;else try{var R=b[1],P=b[0]}catch{throw new Error("Invalid format: "+b)}if(d==="p"||d==="portrait"){if(d="p",P>R){var Q=P;P=R,R=Q}}else if(d==="l"||d==="landscape"){if(d="l",R>P){var Q=P;P=R,R=Q}}else throw"Invalid orientation: "+d;var T={width:P,height:R,unit:B,k:S};return T},l.default=u.jsPDF},"./src/plugin/pagebreaks.js":function(A,l,c){c.r(l),c("./node_modules/core-js/modules/es.array.concat.js"),c("./node_modules/core-js/modules/es.array.slice.js"),c("./node_modules/core-js/modules/es.array.join.js"),c("./node_modules/core-js/modules/web.dom-collections.for-each.js"),c("./node_modules/core-js/modules/es.object.keys.js");var u=c("./src/worker.js"),f=c("./src/utils.js"),d={toContainer:u.default.prototype.toContainer};u.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},u.default.prototype.toContainer=function(){return d.toContainer.call(this).then(function(){var E=this.prop.container,v=this.prop.pageSize.inner.px.height,C=[].concat(this.opt.pagebreak.mode),S={avoidAll:C.indexOf("avoid-all")!==-1,css:C.indexOf("css")!==-1,legacy:C.indexOf("legacy")!==-1},R={},P=this;["before","after","avoid"].forEach(function(I){var O=S.avoidAll&&I==="avoid";R[I]=O?[]:[].concat(P.opt.pagebreak[I]||[]),R[I].length>0&&(R[I]=Array.prototype.slice.call(E.querySelectorAll(R[I].join(", "))))});var Q=E.querySelectorAll(".html2pdf__page-break");Q=Array.prototype.slice.call(Q);var T=E.querySelectorAll("*");Array.prototype.forEach.call(T,function(O){var M={before:!1,after:S.legacy&&Q.indexOf(O)!==-1,avoid:S.avoidAll};if(S.css){var L=window.getComputedStyle(O),j=["always","page","left","right"],k=["avoid","avoid-page"];M={before:M.before||j.indexOf(L.breakBefore||L.pageBreakBefore)!==-1,after:M.after||j.indexOf(L.breakAfter||L.pageBreakAfter)!==-1,avoid:M.avoid||k.indexOf(L.breakInside||L.pageBreakInside)!==-1}}Object.keys(M).forEach(function(me){M[me]=M[me]||R[me].indexOf(O)!==-1});var $=O.getBoundingClientRect();if(M.avoid&&!M.before){var re=Math.floor($.top/v),oe=Math.floor($.bottom/v),pe=Math.abs($.bottom-$.top)/v;oe!==re&&pe<=1&&(M.before=!0)}if(M.before){var se=(0,f.createElement)("div",{style:{display:"block",height:v-$.top%v+"px"}});O.parentNode.insertBefore(se,O)}if(M.after){var se=(0,f.createElement)("div",{style:{display:"block",height:v-$.bottom%v+"px"}});O.parentNode.insertBefore(se,O.nextSibling)}})})}},"./src/utils.js":function(A,l,c){c.r(l),c.d(l,{objType:function(){return f},createElement:function(){return d},cloneNode:function(){return B},unitConvert:function(){return b},toPx:function(){return E}}),c("./node_modules/core-js/modules/es.number.constructor.js"),c("./node_modules/core-js/modules/es.symbol.js"),c("./node_modules/core-js/modules/es.symbol.description.js"),c("./node_modules/core-js/modules/es.object.to-string.js"),c("./node_modules/core-js/modules/es.symbol.iterator.js"),c("./node_modules/core-js/modules/es.array.iterator.js"),c("./node_modules/core-js/modules/es.string.iterator.js"),c("./node_modules/core-js/modules/web.dom-collections.iterator.js");function u(v){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(S){return typeof S}:u=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},u(v)}var f=function(C){var S=u(C);return S==="undefined"?"undefined":S==="string"||C instanceof String?"string":S==="number"||C instanceof Number?"number":S==="function"||C instanceof Function?"function":C&&C.constructor===Array?"array":C&&C.nodeType===1?"element":S==="object"?"object":"unknown"},d=function(C,S){var R=document.createElement(C);if(S.className&&(R.className=S.className),S.innerHTML){R.innerHTML=S.innerHTML;for(var P=R.getElementsByTagName("script"),Q=P.length;Q-- >0;null)P[Q].parentNode.removeChild(P[Q])}for(var T in S.style)R.style[T]=S.style[T];return R},B=function v(C,S){for(var R=C.nodeType===3?document.createTextNode(C.nodeValue):C.cloneNode(!1),P=C.firstChild;P;P=P.nextSibling)(S===!0||P.nodeType!==1||P.nodeName!=="SCRIPT")&&R.appendChild(v(P,S));return C.nodeType===1&&(C.nodeName==="CANVAS"?(R.width=C.width,R.height=C.height,R.getContext("2d").drawImage(C,0,0)):(C.nodeName==="TEXTAREA"||C.nodeName==="SELECT")&&(R.value=C.value),R.addEventListener("load",function(){R.scrollTop=C.scrollTop,R.scrollLeft=C.scrollLeft},!0)),R},b=function(C,S){if(f(C)==="number")return C*72/96/S;var R={};for(var P in C)R[P]=C[P]*72/96/S;return R},E=function(C,S){return Math.floor(C*S/72*96)}},"./src/worker.js":function(A,l,c){c.r(l),c("./node_modules/core-js/modules/es.object.assign.js"),c("./node_modules/core-js/modules/es.array.map.js"),c("./node_modules/core-js/modules/es.object.keys.js"),c("./node_modules/core-js/modules/es.array.concat.js"),c("./node_modules/core-js/modules/es.object.to-string.js"),c("./node_modules/core-js/modules/es.regexp.to-string.js"),c("./node_modules/core-js/modules/es.function.name.js"),c("./node_modules/core-js/modules/web.dom-collections.for-each.js");var u=c("jspdf"),f=c("html2canvas"),d=c("./src/utils.js"),B=c("./node_modules/es6-promise/dist/es6-promise.js"),b=c.n(B),E=b().Promise,v=function C(S){var R=Object.assign(C.convert(E.resolve()),JSON.parse(JSON.stringify(C.template))),P=C.convert(E.resolve(),R);return P=P.setProgress(1,C,1,[C]),P=P.set(S),P};v.prototype=Object.create(E.prototype),v.prototype.constructor=v,v.convert=function(S,R){return S.__proto__=R||v.prototype,S},v.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},v.prototype.from=function(S,R){function P(Q){switch((0,d.objType)(Q)){case"string":return"string";case"element":return Q.nodeName.toLowerCase&&Q.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(R=R||P(S),R){case"string":return this.set({src:(0,d.createElement)("div",{innerHTML:S})});case"element":return this.set({src:S});case"canvas":return this.set({canvas:S});case"img":return this.set({img:S});default:return this.error("Unknown source type.")}})},v.prototype.to=function(S){switch(S){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},v.prototype.toContainer=function(){var S=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(S).then(function(){var P={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},Q={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};P.opacity=0;var T=(0,d.cloneNode)(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=(0,d.createElement)("div",{className:"html2pdf__overlay",style:P}),this.prop.container=(0,d.createElement)("div",{className:"html2pdf__container",style:Q}),this.prop.container.appendChild(T),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})},v.prototype.toCanvas=function(){var S=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(S).then(function(){var P=Object.assign({},this.opt.html2canvas);return delete P.onrendered,f(this.prop.container,P)}).then(function(P){var Q=this.opt.html2canvas.onrendered||function(){};Q(P),this.prop.canvas=P,document.body.removeChild(this.prop.overlay)})},v.prototype.toImg=function(){var S=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(S).then(function(){var P=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=P})},v.prototype.toPdf=function(){var S=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(S).then(function(){var P=this.prop.canvas,Q=this.opt,T=P.height,I=Math.floor(P.width*this.prop.pageSize.inner.ratio),O=Math.ceil(T/I),M=this.prop.pageSize.inner.height,L=document.createElement("canvas"),j=L.getContext("2d");L.width=P.width,L.height=I,this.prop.pdf=this.prop.pdf||new u.jsPDF(Q.jsPDF);for(var k=0;k<O;k++){k===O-1&&T%I!==0&&(L.height=T%I,M=L.height*this.prop.pageSize.inner.width/L.width);var $=L.width,re=L.height;j.fillStyle="white",j.fillRect(0,0,$,re),j.drawImage(P,0,k*I,$,re,0,0,$,re),k&&this.prop.pdf.addPage();var oe=L.toDataURL("image/"+Q.image.type,Q.image.quality);this.prop.pdf.addImage(oe,Q.image.type,Q.margin[1],Q.margin[0],this.prop.pageSize.inner.width,M)}})},v.prototype.output=function(S,R,P){return P=P||"pdf",P.toLowerCase()==="img"||P.toLowerCase()==="image"?this.outputImg(S,R):this.outputPdf(S,R)},v.prototype.outputPdf=function(S,R){var P=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(P).then(function(){return this.prop.pdf.output(S,R)})},v.prototype.outputImg=function(S,R){var P=[function(){return this.prop.img||this.toImg()}];return this.thenList(P).then(function(){switch(S){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+S+'" is not supported.'}})},v.prototype.save=function(S){var R=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(R).set(S?{filename:S}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},v.prototype.set=function(S){if((0,d.objType)(S)!=="object")return this;var R=Object.keys(S||{}).map(function(P){switch(P){case"margin":return this.setMargin.bind(this,S.margin);case"jsPDF":return function(){return this.opt.jsPDF=S.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,S.pageSize);default:return P in v.template.prop?function(){this.prop[P]=S[P]}:function(){this.opt[P]=S[P]}}},this);return this.then(function(){return this.thenList(R)})},v.prototype.get=function(S,R){return this.then(function(){var Q=S in v.template.prop?this.prop[S]:this.opt[S];return R?R(Q):Q})},v.prototype.setMargin=function(S){return this.then(function(){switch((0,d.objType)(S)){case"number":S=[S,S,S,S];case"array":if(S.length===2&&(S=[S[0],S[1],S[0],S[1]]),S.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=S}).then(this.setPageSize)},v.prototype.setPageSize=function(S){return this.then(function(){S=S||u.jsPDF.getPageSize(this.opt.jsPDF),S.hasOwnProperty("inner")||(S.inner={width:S.width-this.opt.margin[1]-this.opt.margin[3],height:S.height-this.opt.margin[0]-this.opt.margin[2]},S.inner.px={width:(0,d.toPx)(S.inner.width,S.k),height:(0,d.toPx)(S.inner.height,S.k)},S.inner.ratio=S.inner.height/S.inner.width),this.prop.pageSize=S})},v.prototype.setProgress=function(S,R,P,Q){return S!=null&&(this.progress.val=S),R!=null&&(this.progress.state=R),P!=null&&(this.progress.n=P),Q!=null&&(this.progress.stack=Q),this.progress.ratio=this.progress.val/this.progress.state,this},v.prototype.updateProgress=function(S,R,P,Q){return this.setProgress(S?this.progress.val+S:null,R||null,P?this.progress.n+P:null,Q?this.progress.stack.concat(Q):null)},v.prototype.then=function(S,R){var P=this;return this.thenCore(S,R,function(T,I){return P.updateProgress(null,null,1,[T]),E.prototype.then.call(this,function(M){return P.updateProgress(null,T),M}).then(T,I).then(function(M){return P.updateProgress(1),M})})},v.prototype.thenCore=function(S,R,P){P=P||E.prototype.then;var Q=this;S&&(S=S.bind(Q)),R&&(R=R.bind(Q));var T=E.toString().indexOf("[native code]")!==-1&&E.name==="Promise",I=T?Q:v.convert(Object.assign({},Q),E.prototype),O=P.call(I,S,R);return v.convert(O,Q.__proto__)},v.prototype.thenExternal=function(S,R){return E.prototype.then.call(this,S,R)},v.prototype.thenList=function(S){var R=this;return S.forEach(function(Q){R=R.thenCore(Q)}),R},v.prototype.catch=function(C){C&&(C=C.bind(this));var S=E.prototype.catch.call(this,C);return v.convert(S,this)},v.prototype.catchExternal=function(S){return E.prototype.catch.call(this,S)},v.prototype.error=function(S){return this.then(function(){throw new Error(S)})},v.prototype.using=v.prototype.set,v.prototype.saveAs=v.prototype.save,v.prototype.export=v.prototype.output,v.prototype.run=v.prototype.then,l.default=v},"./node_modules/core-js/internals/a-function.js":function(A){A.exports=function(l){if(typeof l!="function")throw TypeError(String(l)+" is not a function");return l}},"./node_modules/core-js/internals/a-possible-prototype.js":function(A,l,c){var u=c("./node_modules/core-js/internals/is-object.js");A.exports=function(f){if(!u(f)&&f!==null)throw TypeError("Can't set "+String(f)+" as a prototype");return f}},"./node_modules/core-js/internals/add-to-unscopables.js":function(A,l,c){var u=c("./node_modules/core-js/internals/well-known-symbol.js"),f=c("./node_modules/core-js/internals/object-create.js"),d=c("./node_modules/core-js/internals/object-define-property.js"),B=u("unscopables"),b=Array.prototype;b[B]==null&&d.f(b,B,{configurable:!0,value:f(null)}),A.exports=function(E){b[B][E]=!0}},"./node_modules/core-js/internals/an-object.js":function(A,l,c){var u=c("./node_modules/core-js/internals/is-object.js");A.exports=function(f){if(!u(f))throw TypeError(String(f)+" is not an object");return f}},"./node_modules/core-js/internals/array-for-each.js":function(A,l,c){var u=c("./node_modules/core-js/internals/array-iteration.js").forEach,f=c("./node_modules/core-js/internals/array-method-is-strict.js"),d=f("forEach");A.exports=d?[].forEach:function(b){return u(this,b,arguments.length>1?arguments[1]:void 0)}},"./node_modules/core-js/internals/array-includes.js":function(A,l,c){var u=c("./node_modules/core-js/internals/to-indexed-object.js"),f=c("./node_modules/core-js/internals/to-length.js"),d=c("./node_modules/core-js/internals/to-absolute-index.js"),B=function(b){return function(E,v,C){var S=u(E),R=f(S.length),P=d(C,R),Q;if(b&&v!=v){for(;R>P;)if(Q=S[P++],Q!=Q)return!0}else for(;R>P;P++)if((b||P in S)&&S[P]===v)return b||P||0;return!b&&-1}};A.exports={includes:B(!0),indexOf:B(!1)}},"./node_modules/core-js/internals/array-iteration.js":function(A,l,c){var u=c("./node_modules/core-js/internals/function-bind-context.js"),f=c("./node_modules/core-js/internals/indexed-object.js"),d=c("./node_modules/core-js/internals/to-object.js"),B=c("./node_modules/core-js/internals/to-length.js"),b=c("./node_modules/core-js/internals/array-species-create.js"),E=[].push,v=function(C){var S=C==1,R=C==2,P=C==3,Q=C==4,T=C==6,I=C==7,O=C==5||T;return function(M,L,j,k){for(var $=d(M),re=f($),oe=u(L,j,3),pe=B(re.length),se=0,me=k||b,ve=S?me(M,pe):R||I?me(M,0):void 0,Ve,z;pe>se;se++)if((O||se in re)&&(Ve=re[se],z=oe(Ve,se,$),C))if(S)ve[se]=z;else if(z)switch(C){case 3:return!0;case 5:return Ve;case 6:return se;case 2:E.call(ve,Ve)}else switch(C){case 4:return!1;case 7:E.call(ve,Ve)}return T?-1:P||Q?Q:ve}};A.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6),filterReject:v(7)}},"./node_modules/core-js/internals/array-method-has-species-support.js":function(A,l,c){var u=c("./node_modules/core-js/internals/fails.js"),f=c("./node_modules/core-js/internals/well-known-symbol.js"),d=c("./node_modules/core-js/internals/engine-v8-version.js"),B=f("species");A.exports=function(b){return d>=51||!u(function(){var E=[],v=E.constructor={};return v[B]=function(){return{foo:1}},E[b](Boolean).foo!==1})}},"./node_modules/core-js/internals/array-method-is-strict.js":function(A,l,c){var u=c("./node_modules/core-js/internals/fails.js");A.exports=function(f,d){var B=[][f];return!!B&&u(function(){B.call(null,d||function(){throw 1},1)})}},"./node_modules/core-js/internals/array-species-constructor.js":function(A,l,c){var u=c("./node_modules/core-js/internals/is-object.js"),f=c("./node_modules/core-js/internals/is-array.js"),d=c("./node_modules/core-js/internals/well-known-symbol.js"),B=d("species");A.exports=function(b){var E;return f(b)&&(E=b.constructor,typeof E=="function"&&(E===Array||f(E.prototype))?E=void 0:u(E)&&(E=E[B],E===null&&(E=void 0))),E===void 0?Array:E}},"./node_modules/core-js/internals/array-species-create.js":function(A,l,c){var u=c("./node_modules/core-js/internals/array-species-constructor.js");A.exports=function(f,d){return new(u(f))(d===0?0:d)}},"./node_modules/core-js/internals/classof-raw.js":function(A){var l={}.toString;A.exports=function(c){return l.call(c).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(A,l,c){var u=c("./node_modules/core-js/internals/to-string-tag-support.js"),f=c("./node_modules/core-js/internals/classof-raw.js"),d=c("./node_modules/core-js/internals/well-known-symbol.js"),B=d("toStringTag"),b=f(function(){return arguments}())=="Arguments",E=function(v,C){try{return v[C]}catch{}};A.exports=u?f:function(v){var C,S,R;return v===void 0?"Undefined":v===null?"Null":typeof(S=E(C=Object(v),B))=="string"?S:b?f(C):(R=f(C))=="Object"&&typeof C.callee=="function"?"Arguments":R}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(A,l,c){var u=c("./node_modules/core-js/internals/has.js"),f=c("./node_modules/core-js/internals/own-keys.js"),d=c("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),B=c("./node_modules/core-js/internals/object-define-property.js");A.exports=function(b,E){for(var v=f(E),C=B.f,S=d.f,R=0;R<v.length;R++){var P=v[R];u(b,P)||C(b,P,S(E,P))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(A,l,c){var u=c("./node_modules/core-js/internals/fails.js");A.exports=!u(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},"./node_modules/core-js/internals/create-html.js":function(A,l,c){var u=c("./node_modules/core-js/internals/require-object-coercible.js"),f=c("./node_modules/core-js/internals/to-string.js"),d=/"/g;A.exports=function(B,b,E,v){var C=f(u(B)),S="<"+b;return E!==""&&(S+=" "+E+'="'+f(v).replace(d,"&quot;")+'"'),S+">"+C+"</"+b+">"}},"./node_modules/core-js/internals/create-iterator-constructor.js":function(A,l,c){var u=c("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,f=c("./node_modules/core-js/internals/object-create.js"),d=c("./node_modules/core-js/internals/create-property-descriptor.js"),B=c("./node_modules/core-js/internals/set-to-string-tag.js"),b=c("./node_modules/core-js/internals/iterators.js"),E=function(){return this};A.exports=function(v,C,S){var R=C+" Iterator";return v.prototype=f(u,{next:d(1,S)}),B(v,R,!1,!0),b[R]=E,v}},"./node_modules/core-js/internals/create-non-enumerable-property.js":function(A,l,c){var u=c("./node_modules/core-js/internals/descriptors.js"),f=c("./node_modules/core-js/internals/object-define-property.js"),d=c("./node_modules/core-js/internals/create-property-descriptor.js");A.exports=u?function(B,b,E){return f.f(B,b,d(1,E))}:function(B,b,E){return B[b]=E,B}},"./node_modules/core-js/internals/create-property-descriptor.js":function(A){A.exports=function(l,c){return{enumerable:!(l&1),configurable:!(l&2),writable:!(l&4),value:c}}},"./node_modules/core-js/internals/create-property.js":function(A,l,c){var u=c("./node_modules/core-js/internals/to-property-key.js"),f=c("./node_modules/core-js/internals/object-define-property.js"),d=c("./node_modules/core-js/internals/create-property-descriptor.js");A.exports=function(B,b,E){var v=u(b);v in B?f.f(B,v,d(0,E)):B[v]=E}},"./node_modules/core-js/internals/define-iterator.js":function(A,l,c){var u=c("./node_modules/core-js/internals/export.js"),f=c("./node_modules/core-js/internals/create-iterator-constructor.js"),d=c("./node_modules/core-js/internals/object-get-prototype-of.js"),B=c("./node_modules/core-js/internals/object-set-prototype-of.js"),b=c("./node_modules/core-js/internals/set-to-string-tag.js"),E=c("./node_modules/core-js/internals/create-non-enumerable-property.js"),v=c("./node_modules/core-js/internals/redefine.js"),C=c("./node_modules/core-js/internals/well-known-symbol.js"),S=c("./node_modules/core-js/internals/is-pure.js"),R=c("./node_modules/core-js/internals/iterators.js"),P=c("./node_modules/core-js/internals/iterators-core.js"),Q=P.IteratorPrototype,T=P.BUGGY_SAFARI_ITERATORS,I=C("iterator"),O="keys",M="values",L="entries",j=function(){return this};A.exports=function(k,$,re,oe,pe,se,me){f(re,$,oe);var ve=function(Ue){if(Ue===pe&&ce)return ce;if(!T&&Ue in J)return J[Ue];switch(Ue){case O:return function(){return new re(this,Ue)};case M:return function(){return new re(this,Ue)};case L:return function(){return new re(this,Ue)}}return function(){return new re(this)}},Ve=$+" Iterator",z=!1,J=k.prototype,ie=J[I]||J["@@iterator"]||pe&&J[pe],ce=!T&&ie||ve(pe),ge=$=="Array"&&J.entries||ie,we,ue,fe;if(ge&&(we=d(ge.call(new k)),Q!==Object.prototype&&we.next&&(!S&&d(we)!==Q&&(B?B(we,Q):typeof we[I]!="function"&&E(we,I,j)),b(we,Ve,!0,!0),S&&(R[Ve]=j))),pe==M&&ie&&ie.name!==M&&(z=!0,ce=function(){return ie.call(this)}),(!S||me)&&J[I]!==ce&&E(J,I,ce),R[$]=ce,pe)if(ue={values:ve(M),keys:se?ce:ve(O),entries:ve(L)},me)for(fe in ue)(T||z||!(fe in J))&&v(J,fe,ue[fe]);else u({target:$,proto:!0,forced:T||z},ue);return ue}},"./node_modules/core-js/internals/define-well-known-symbol.js":function(A,l,c){var u=c("./node_modules/core-js/internals/path.js"),f=c("./node_modules/core-js/internals/has.js"),d=c("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),B=c("./node_modules/core-js/internals/object-define-property.js").f;A.exports=function(b){var E=u.Symbol||(u.Symbol={});f(E,b)||B(E,b,{value:d.f(b)})}},"./node_modules/core-js/internals/descriptors.js":function(A,l,c){var u=c("./node_modules/core-js/internals/fails.js");A.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"./node_modules/core-js/internals/document-create-element.js":function(A,l,c){var u=c("./node_modules/core-js/internals/global.js"),f=c("./node_modules/core-js/internals/is-object.js"),d=u.document,B=f(d)&&f(d.createElement);A.exports=function(b){return B?d.createElement(b):{}}},"./node_modules/core-js/internals/dom-iterables.js":function(A){A.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js/internals/engine-user-agent.js":function(A,l,c){var u=c("./node_modules/core-js/internals/get-built-in.js");A.exports=u("navigator","userAgent")||""},"./node_modules/core-js/internals/engine-v8-version.js":function(A,l,c){var u=c("./node_modules/core-js/internals/global.js"),f=c("./node_modules/core-js/internals/engine-user-agent.js"),d=u.process,B=u.Deno,b=d&&d.versions||B&&B.version,E=b&&b.v8,v,C;E?(v=E.split("."),C=v[0]<4?1:v[0]+v[1]):f&&(v=f.match(/Edge\/(\d+)/),(!v||v[1]>=74)&&(v=f.match(/Chrome\/(\d+)/),v&&(C=v[1]))),A.exports=C&&+C},"./node_modules/core-js/internals/enum-bug-keys.js":function(A){A.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(A,l,c){var u=c("./node_modules/core-js/internals/global.js"),f=c("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,d=c("./node_modules/core-js/internals/create-non-enumerable-property.js"),B=c("./node_modules/core-js/internals/redefine.js"),b=c("./node_modules/core-js/internals/set-global.js"),E=c("./node_modules/core-js/internals/copy-constructor-properties.js"),v=c("./node_modules/core-js/internals/is-forced.js");A.exports=function(C,S){var R=C.target,P=C.global,Q=C.stat,T,I,O,M,L,j;if(P?I=u:Q?I=u[R]||b(R,{}):I=(u[R]||{}).prototype,I)for(O in S){if(L=S[O],C.noTargetGet?(j=f(I,O),M=j&&j.value):M=I[O],T=v(P?O:R+(Q?".":"#")+O,C.forced),!T&&M!==void 0){if(typeof L==typeof M)continue;E(L,M)}(C.sham||M&&M.sham)&&d(L,"sham",!0),B(I,O,L,C)}}},"./node_modules/core-js/internals/fails.js":function(A){A.exports=function(l){try{return!!l()}catch{return!0}}},"./node_modules/core-js/internals/function-bind-context.js":function(A,l,c){var u=c("./node_modules/core-js/internals/a-function.js");A.exports=function(f,d,B){if(u(f),d===void 0)return f;switch(B){case 0:return function(){return f.call(d)};case 1:return function(b){return f.call(d,b)};case 2:return function(b,E){return f.call(d,b,E)};case 3:return function(b,E,v){return f.call(d,b,E,v)}}return function(){return f.apply(d,arguments)}}},"./node_modules/core-js/internals/get-built-in.js":function(A,l,c){var u=c("./node_modules/core-js/internals/global.js"),f=function(d){return typeof d=="function"?d:void 0};A.exports=function(d,B){return arguments.length<2?f(u[d]):u[d]&&u[d][B]}},"./node_modules/core-js/internals/global.js":function(A){var l=function(c){return c&&c.Math==Math&&c};A.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof Il=="object"&&Il)||function(){return this}()||Function("return this")()},"./node_modules/core-js/internals/has.js":function(A,l,c){var u=c("./node_modules/core-js/internals/to-object.js"),f={}.hasOwnProperty;A.exports=Object.hasOwn||function(B,b){return f.call(u(B),b)}},"./node_modules/core-js/internals/hidden-keys.js":function(A){A.exports={}},"./node_modules/core-js/internals/html.js":function(A,l,c){var u=c("./node_modules/core-js/internals/get-built-in.js");A.exports=u("document","documentElement")},"./node_modules/core-js/internals/ie8-dom-define.js":function(A,l,c){var u=c("./node_modules/core-js/internals/descriptors.js"),f=c("./node_modules/core-js/internals/fails.js"),d=c("./node_modules/core-js/internals/document-create-element.js");A.exports=!u&&!f(function(){return Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(A,l,c){var u=c("./node_modules/core-js/internals/fails.js"),f=c("./node_modules/core-js/internals/classof-raw.js"),d="".split;A.exports=u(function(){return!Object("z").propertyIsEnumerable(0)})?function(B){return f(B)=="String"?d.call(B,""):Object(B)}:Object},"./node_modules/core-js/internals/inherit-if-required.js":function(A,l,c){var u=c("./node_modules/core-js/internals/is-object.js"),f=c("./node_modules/core-js/internals/object-set-prototype-of.js");A.exports=function(d,B,b){var E,v;return f&&typeof(E=B.constructor)=="function"&&E!==b&&u(v=E.prototype)&&v!==b.prototype&&f(d,v),d}},"./node_modules/core-js/internals/inspect-source.js":function(A,l,c){var u=c("./node_modules/core-js/internals/shared-store.js"),f=Function.toString;typeof u.inspectSource!="function"&&(u.inspectSource=function(d){return f.call(d)}),A.exports=u.inspectSource},"./node_modules/core-js/internals/internal-state.js":function(A,l,c){var u=c("./node_modules/core-js/internals/native-weak-map.js"),f=c("./node_modules/core-js/internals/global.js"),d=c("./node_modules/core-js/internals/is-object.js"),B=c("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=c("./node_modules/core-js/internals/has.js"),E=c("./node_modules/core-js/internals/shared-store.js"),v=c("./node_modules/core-js/internals/shared-key.js"),C=c("./node_modules/core-js/internals/hidden-keys.js"),S="Object already initialized",R=f.WeakMap,P,Q,T,I=function(re){return T(re)?Q(re):P(re,{})},O=function(re){return function(oe){var pe;if(!d(oe)||(pe=Q(oe)).type!==re)throw TypeError("Incompatible receiver, "+re+" required");return pe}};if(u||E.state){var M=E.state||(E.state=new R),L=M.get,j=M.has,k=M.set;P=function(re,oe){if(j.call(M,re))throw new TypeError(S);return oe.facade=re,k.call(M,re,oe),oe},Q=function(re){return L.call(M,re)||{}},T=function(re){return j.call(M,re)}}else{var $=v("state");C[$]=!0,P=function(re,oe){if(b(re,$))throw new TypeError(S);return oe.facade=re,B(re,$,oe),oe},Q=function(re){return b(re,$)?re[$]:{}},T=function(re){return b(re,$)}}A.exports={set:P,get:Q,has:T,enforce:I,getterFor:O}},"./node_modules/core-js/internals/is-array.js":function(A,l,c){var u=c("./node_modules/core-js/internals/classof-raw.js");A.exports=Array.isArray||function(d){return u(d)=="Array"}},"./node_modules/core-js/internals/is-forced.js":function(A,l,c){var u=c("./node_modules/core-js/internals/fails.js"),f=/#|\.prototype\./,d=function(C,S){var R=b[B(C)];return R==v?!0:R==E?!1:typeof S=="function"?u(S):!!S},B=d.normalize=function(C){return String(C).replace(f,".").toLowerCase()},b=d.data={},E=d.NATIVE="N",v=d.POLYFILL="P";A.exports=d},"./node_modules/core-js/internals/is-object.js":function(A){A.exports=function(l){return typeof l=="object"?l!==null:typeof l=="function"}},"./node_modules/core-js/internals/is-pure.js":function(A){A.exports=!1},"./node_modules/core-js/internals/is-symbol.js":function(A,l,c){var u=c("./node_modules/core-js/internals/get-built-in.js"),f=c("./node_modules/core-js/internals/use-symbol-as-uid.js");A.exports=f?function(d){return typeof d=="symbol"}:function(d){var B=u("Symbol");return typeof B=="function"&&Object(d)instanceof B}},"./node_modules/core-js/internals/iterators-core.js":function(A,l,c){var u=c("./node_modules/core-js/internals/fails.js"),f=c("./node_modules/core-js/internals/object-get-prototype-of.js"),d=c("./node_modules/core-js/internals/create-non-enumerable-property.js"),B=c("./node_modules/core-js/internals/has.js"),b=c("./node_modules/core-js/internals/well-known-symbol.js"),E=c("./node_modules/core-js/internals/is-pure.js"),v=b("iterator"),C=!1,S=function(){return this},R,P,Q;[].keys&&(Q=[].keys(),"next"in Q?(P=f(f(Q)),P!==Object.prototype&&(R=P)):C=!0);var T=R==null||u(function(){var I={};return R[v].call(I)!==I});T&&(R={}),(!E||T)&&!B(R,v)&&d(R,v,S),A.exports={IteratorPrototype:R,BUGGY_SAFARI_ITERATORS:C}},"./node_modules/core-js/internals/iterators.js":function(A){A.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(A,l,c){var u=c("./node_modules/core-js/internals/engine-v8-version.js"),f=c("./node_modules/core-js/internals/fails.js");A.exports=!!Object.getOwnPropertySymbols&&!f(function(){var d=Symbol();return!String(d)||!(Object(d)instanceof Symbol)||!Symbol.sham&&u&&u<41})},"./node_modules/core-js/internals/native-weak-map.js":function(A,l,c){var u=c("./node_modules/core-js/internals/global.js"),f=c("./node_modules/core-js/internals/inspect-source.js"),d=u.WeakMap;A.exports=typeof d=="function"&&/native code/.test(f(d))},"./node_modules/core-js/internals/object-assign.js":function(A,l,c){var u=c("./node_modules/core-js/internals/descriptors.js"),f=c("./node_modules/core-js/internals/fails.js"),d=c("./node_modules/core-js/internals/object-keys.js"),B=c("./node_modules/core-js/internals/object-get-own-property-symbols.js"),b=c("./node_modules/core-js/internals/object-property-is-enumerable.js"),E=c("./node_modules/core-js/internals/to-object.js"),v=c("./node_modules/core-js/internals/indexed-object.js"),C=Object.assign,S=Object.defineProperty;A.exports=!C||f(function(){if(u&&C({b:1},C(S({},"a",{enumerable:!0,get:function(){S(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var R={},P={},Q=Symbol(),T="abcdefghijklmnopqrst";return R[Q]=7,T.split("").forEach(function(I){P[I]=I}),C({},R)[Q]!=7||d(C({},P)).join("")!=T})?function(P,Q){for(var T=E(P),I=arguments.length,O=1,M=B.f,L=b.f;I>O;)for(var j=v(arguments[O++]),k=M?d(j).concat(M(j)):d(j),$=k.length,re=0,oe;$>re;)oe=k[re++],(!u||L.call(j,oe))&&(T[oe]=j[oe]);return T}:C},"./node_modules/core-js/internals/object-create.js":function(A,l,c){var u=c("./node_modules/core-js/internals/an-object.js"),f=c("./node_modules/core-js/internals/object-define-properties.js"),d=c("./node_modules/core-js/internals/enum-bug-keys.js"),B=c("./node_modules/core-js/internals/hidden-keys.js"),b=c("./node_modules/core-js/internals/html.js"),E=c("./node_modules/core-js/internals/document-create-element.js"),v=c("./node_modules/core-js/internals/shared-key.js"),C=">",S="<",R="prototype",P="script",Q=v("IE_PROTO"),T=function(){},I=function(k){return S+P+C+k+S+"/"+P+C},O=function(k){k.write(I("")),k.close();var $=k.parentWindow.Object;return k=null,$},M=function(){var k=E("iframe"),$="java"+P+":",re;if(k.style)return k.style.display="none",b.appendChild(k),k.src=String($),re=k.contentWindow.document,re.open(),re.write(I("document.F=Object")),re.close(),re.F},L,j=function(){try{L=new ActiveXObject("htmlfile")}catch{}j=document.domain&&L?O(L):M()||O(L);for(var k=d.length;k--;)delete j[R][d[k]];return j()};B[Q]=!0,A.exports=Object.create||function($,re){var oe;return $!==null?(T[R]=u($),oe=new T,T[R]=null,oe[Q]=$):oe=j(),re===void 0?oe:f(oe,re)}},"./node_modules/core-js/internals/object-define-properties.js":function(A,l,c){var u=c("./node_modules/core-js/internals/descriptors.js"),f=c("./node_modules/core-js/internals/object-define-property.js"),d=c("./node_modules/core-js/internals/an-object.js"),B=c("./node_modules/core-js/internals/object-keys.js");A.exports=u?Object.defineProperties:function(E,v){d(E);for(var C=B(v),S=C.length,R=0,P;S>R;)f.f(E,P=C[R++],v[P]);return E}},"./node_modules/core-js/internals/object-define-property.js":function(A,l,c){var u=c("./node_modules/core-js/internals/descriptors.js"),f=c("./node_modules/core-js/internals/ie8-dom-define.js"),d=c("./node_modules/core-js/internals/an-object.js"),B=c("./node_modules/core-js/internals/to-property-key.js"),b=Object.defineProperty;l.f=u?b:function(v,C,S){if(d(v),C=B(C),d(S),f)try{return b(v,C,S)}catch{}if("get"in S||"set"in S)throw TypeError("Accessors not supported");return"value"in S&&(v[C]=S.value),v}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(A,l,c){var u=c("./node_modules/core-js/internals/descriptors.js"),f=c("./node_modules/core-js/internals/object-property-is-enumerable.js"),d=c("./node_modules/core-js/internals/create-property-descriptor.js"),B=c("./node_modules/core-js/internals/to-indexed-object.js"),b=c("./node_modules/core-js/internals/to-property-key.js"),E=c("./node_modules/core-js/internals/has.js"),v=c("./node_modules/core-js/internals/ie8-dom-define.js"),C=Object.getOwnPropertyDescriptor;l.f=u?C:function(R,P){if(R=B(R),P=b(P),v)try{return C(R,P)}catch{}if(E(R,P))return d(!f.f.call(R,P),R[P])}},"./node_modules/core-js/internals/object-get-own-property-names-external.js":function(A,l,c){var u=c("./node_modules/core-js/internals/to-indexed-object.js"),f=c("./node_modules/core-js/internals/object-get-own-property-names.js").f,d={}.toString,B=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],b=function(E){try{return f(E)}catch{return B.slice()}};A.exports.f=function(v){return B&&d.call(v)=="[object Window]"?b(v):f(u(v))}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(A,l,c){var u=c("./node_modules/core-js/internals/object-keys-internal.js"),f=c("./node_modules/core-js/internals/enum-bug-keys.js"),d=f.concat("length","prototype");l.f=Object.getOwnPropertyNames||function(b){return u(b,d)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(A,l){l.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(A,l,c){var u=c("./node_modules/core-js/internals/has.js"),f=c("./node_modules/core-js/internals/to-object.js"),d=c("./node_modules/core-js/internals/shared-key.js"),B=c("./node_modules/core-js/internals/correct-prototype-getter.js"),b=d("IE_PROTO"),E=Object.prototype;A.exports=B?Object.getPrototypeOf:function(v){return v=f(v),u(v,b)?v[b]:typeof v.constructor=="function"&&v instanceof v.constructor?v.constructor.prototype:v instanceof Object?E:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(A,l,c){var u=c("./node_modules/core-js/internals/has.js"),f=c("./node_modules/core-js/internals/to-indexed-object.js"),d=c("./node_modules/core-js/internals/array-includes.js").indexOf,B=c("./node_modules/core-js/internals/hidden-keys.js");A.exports=function(b,E){var v=f(b),C=0,S=[],R;for(R in v)!u(B,R)&&u(v,R)&&S.push(R);for(;E.length>C;)u(v,R=E[C++])&&(~d(S,R)||S.push(R));return S}},"./node_modules/core-js/internals/object-keys.js":function(A,l,c){var u=c("./node_modules/core-js/internals/object-keys-internal.js"),f=c("./node_modules/core-js/internals/enum-bug-keys.js");A.exports=Object.keys||function(B){return u(B,f)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(A,l){var c={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,f=u&&!c.call({1:2},1);l.f=f?function(B){var b=u(this,B);return!!b&&b.enumerable}:c},"./node_modules/core-js/internals/object-set-prototype-of.js":function(A,l,c){var u=c("./node_modules/core-js/internals/an-object.js"),f=c("./node_modules/core-js/internals/a-possible-prototype.js");A.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var d=!1,B={},b;try{b=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,b.call(B,[]),d=B instanceof Array}catch{}return function(v,C){return u(v),f(C),d?b.call(v,C):v.__proto__=C,v}}():void 0)},"./node_modules/core-js/internals/object-to-string.js":function(A,l,c){var u=c("./node_modules/core-js/internals/to-string-tag-support.js"),f=c("./node_modules/core-js/internals/classof.js");A.exports=u?{}.toString:function(){return"[object "+f(this)+"]"}},"./node_modules/core-js/internals/ordinary-to-primitive.js":function(A,l,c){var u=c("./node_modules/core-js/internals/is-object.js");A.exports=function(f,d){var B,b;if(d==="string"&&typeof(B=f.toString)=="function"&&!u(b=B.call(f))||typeof(B=f.valueOf)=="function"&&!u(b=B.call(f))||d!=="string"&&typeof(B=f.toString)=="function"&&!u(b=B.call(f)))return b;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/own-keys.js":function(A,l,c){var u=c("./node_modules/core-js/internals/get-built-in.js"),f=c("./node_modules/core-js/internals/object-get-own-property-names.js"),d=c("./node_modules/core-js/internals/object-get-own-property-symbols.js"),B=c("./node_modules/core-js/internals/an-object.js");A.exports=u("Reflect","ownKeys")||function(E){var v=f.f(B(E)),C=d.f;return C?v.concat(C(E)):v}},"./node_modules/core-js/internals/path.js":function(A,l,c){var u=c("./node_modules/core-js/internals/global.js");A.exports=u},"./node_modules/core-js/internals/redefine.js":function(A,l,c){var u=c("./node_modules/core-js/internals/global.js"),f=c("./node_modules/core-js/internals/create-non-enumerable-property.js"),d=c("./node_modules/core-js/internals/has.js"),B=c("./node_modules/core-js/internals/set-global.js"),b=c("./node_modules/core-js/internals/inspect-source.js"),E=c("./node_modules/core-js/internals/internal-state.js"),v=E.get,C=E.enforce,S=String(String).split("String");(A.exports=function(R,P,Q,T){var I=T?!!T.unsafe:!1,O=T?!!T.enumerable:!1,M=T?!!T.noTargetGet:!1,L;if(typeof Q=="function"&&(typeof P=="string"&&!d(Q,"name")&&f(Q,"name",P),L=C(Q),L.source||(L.source=S.join(typeof P=="string"?P:""))),R===u){O?R[P]=Q:B(P,Q);return}else I?!M&&R[P]&&(O=!0):delete R[P];O?R[P]=Q:f(R,P,Q)})(Function.prototype,"toString",function(){return typeof this=="function"&&v(this).source||b(this)})},"./node_modules/core-js/internals/regexp-flags.js":function(A,l,c){var u=c("./node_modules/core-js/internals/an-object.js");A.exports=function(){var f=u(this),d="";return f.global&&(d+="g"),f.ignoreCase&&(d+="i"),f.multiline&&(d+="m"),f.dotAll&&(d+="s"),f.unicode&&(d+="u"),f.sticky&&(d+="y"),d}},"./node_modules/core-js/internals/require-object-coercible.js":function(A){A.exports=function(l){if(l==null)throw TypeError("Can't call method on "+l);return l}},"./node_modules/core-js/internals/set-global.js":function(A,l,c){var u=c("./node_modules/core-js/internals/global.js");A.exports=function(f,d){try{Object.defineProperty(u,f,{value:d,configurable:!0,writable:!0})}catch{u[f]=d}return d}},"./node_modules/core-js/internals/set-to-string-tag.js":function(A,l,c){var u=c("./node_modules/core-js/internals/object-define-property.js").f,f=c("./node_modules/core-js/internals/has.js"),d=c("./node_modules/core-js/internals/well-known-symbol.js"),B=d("toStringTag");A.exports=function(b,E,v){b&&!f(b=v?b:b.prototype,B)&&u(b,B,{configurable:!0,value:E})}},"./node_modules/core-js/internals/shared-key.js":function(A,l,c){var u=c("./node_modules/core-js/internals/shared.js"),f=c("./node_modules/core-js/internals/uid.js"),d=u("keys");A.exports=function(B){return d[B]||(d[B]=f(B))}},"./node_modules/core-js/internals/shared-store.js":function(A,l,c){var u=c("./node_modules/core-js/internals/global.js"),f=c("./node_modules/core-js/internals/set-global.js"),d="__core-js_shared__",B=u[d]||f(d,{});A.exports=B},"./node_modules/core-js/internals/shared.js":function(A,l,c){var u=c("./node_modules/core-js/internals/is-pure.js"),f=c("./node_modules/core-js/internals/shared-store.js");(A.exports=function(d,B){return f[d]||(f[d]=B!==void 0?B:{})})("versions",[]).push({version:"3.16.0",mode:u?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-html-forced.js":function(A,l,c){var u=c("./node_modules/core-js/internals/fails.js");A.exports=function(f){return u(function(){var d=""[f]('"');return d!==d.toLowerCase()||d.split('"').length>3})}},"./node_modules/core-js/internals/string-multibyte.js":function(A,l,c){var u=c("./node_modules/core-js/internals/to-integer.js"),f=c("./node_modules/core-js/internals/to-string.js"),d=c("./node_modules/core-js/internals/require-object-coercible.js"),B=function(b){return function(E,v){var C=f(d(E)),S=u(v),R=C.length,P,Q;return S<0||S>=R?b?"":void 0:(P=C.charCodeAt(S),P<55296||P>56319||S+1===R||(Q=C.charCodeAt(S+1))<56320||Q>57343?b?C.charAt(S):P:b?C.slice(S,S+2):(P-55296<<10)+(Q-56320)+65536)}};A.exports={codeAt:B(!1),charAt:B(!0)}},"./node_modules/core-js/internals/string-trim.js":function(A,l,c){var u=c("./node_modules/core-js/internals/require-object-coercible.js"),f=c("./node_modules/core-js/internals/to-string.js"),d=c("./node_modules/core-js/internals/whitespaces.js"),B="["+d+"]",b=RegExp("^"+B+B+"*"),E=RegExp(B+B+"*$"),v=function(C){return function(S){var R=f(u(S));return C&1&&(R=R.replace(b,"")),C&2&&(R=R.replace(E,"")),R}};A.exports={start:v(1),end:v(2),trim:v(3)}},"./node_modules/core-js/internals/to-absolute-index.js":function(A,l,c){var u=c("./node_modules/core-js/internals/to-integer.js"),f=Math.max,d=Math.min;A.exports=function(B,b){var E=u(B);return E<0?f(E+b,0):d(E,b)}},"./node_modules/core-js/internals/to-indexed-object.js":function(A,l,c){var u=c("./node_modules/core-js/internals/indexed-object.js"),f=c("./node_modules/core-js/internals/require-object-coercible.js");A.exports=function(d){return u(f(d))}},"./node_modules/core-js/internals/to-integer.js":function(A){var l=Math.ceil,c=Math.floor;A.exports=function(u){return isNaN(u=+u)?0:(u>0?c:l)(u)}},"./node_modules/core-js/internals/to-length.js":function(A,l,c){var u=c("./node_modules/core-js/internals/to-integer.js"),f=Math.min;A.exports=function(d){return d>0?f(u(d),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(A,l,c){var u=c("./node_modules/core-js/internals/require-object-coercible.js");A.exports=function(f){return Object(u(f))}},"./node_modules/core-js/internals/to-primitive.js":function(A,l,c){var u=c("./node_modules/core-js/internals/is-object.js"),f=c("./node_modules/core-js/internals/is-symbol.js"),d=c("./node_modules/core-js/internals/ordinary-to-primitive.js"),B=c("./node_modules/core-js/internals/well-known-symbol.js"),b=B("toPrimitive");A.exports=function(E,v){if(!u(E)||f(E))return E;var C=E[b],S;if(C!==void 0){if(v===void 0&&(v="default"),S=C.call(E,v),!u(S)||f(S))return S;throw TypeError("Can't convert object to primitive value")}return v===void 0&&(v="number"),d(E,v)}},"./node_modules/core-js/internals/to-property-key.js":function(A,l,c){var u=c("./node_modules/core-js/internals/to-primitive.js"),f=c("./node_modules/core-js/internals/is-symbol.js");A.exports=function(d){var B=u(d,"string");return f(B)?B:String(B)}},"./node_modules/core-js/internals/to-string-tag-support.js":function(A,l,c){var u=c("./node_modules/core-js/internals/well-known-symbol.js"),f=u("toStringTag"),d={};d[f]="z",A.exports=String(d)==="[object z]"},"./node_modules/core-js/internals/to-string.js":function(A,l,c){var u=c("./node_modules/core-js/internals/is-symbol.js");A.exports=function(f){if(u(f))throw TypeError("Cannot convert a Symbol value to a string");return String(f)}},"./node_modules/core-js/internals/uid.js":function(A){var l=0,c=Math.random();A.exports=function(u){return"Symbol("+String(u===void 0?"":u)+")_"+(++l+c).toString(36)}},"./node_modules/core-js/internals/use-symbol-as-uid.js":function(A,l,c){var u=c("./node_modules/core-js/internals/native-symbol.js");A.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},"./node_modules/core-js/internals/well-known-symbol-wrapped.js":function(A,l,c){var u=c("./node_modules/core-js/internals/well-known-symbol.js");l.f=u},"./node_modules/core-js/internals/well-known-symbol.js":function(A,l,c){var u=c("./node_modules/core-js/internals/global.js"),f=c("./node_modules/core-js/internals/shared.js"),d=c("./node_modules/core-js/internals/has.js"),B=c("./node_modules/core-js/internals/uid.js"),b=c("./node_modules/core-js/internals/native-symbol.js"),E=c("./node_modules/core-js/internals/use-symbol-as-uid.js"),v=f("wks"),C=u.Symbol,S=E?C:C&&C.withoutSetter||B;A.exports=function(R){return(!d(v,R)||!(b||typeof v[R]=="string"))&&(b&&d(C,R)?v[R]=C[R]:v[R]=S("Symbol."+R)),v[R]}},"./node_modules/core-js/internals/whitespaces.js":function(A){A.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},"./node_modules/core-js/modules/es.array.concat.js":function(A,l,c){var u=c("./node_modules/core-js/internals/export.js"),f=c("./node_modules/core-js/internals/fails.js"),d=c("./node_modules/core-js/internals/is-array.js"),B=c("./node_modules/core-js/internals/is-object.js"),b=c("./node_modules/core-js/internals/to-object.js"),E=c("./node_modules/core-js/internals/to-length.js"),v=c("./node_modules/core-js/internals/create-property.js"),C=c("./node_modules/core-js/internals/array-species-create.js"),S=c("./node_modules/core-js/internals/array-method-has-species-support.js"),R=c("./node_modules/core-js/internals/well-known-symbol.js"),P=c("./node_modules/core-js/internals/engine-v8-version.js"),Q=R("isConcatSpreadable"),T=9007199254740991,I="Maximum allowed index exceeded",O=P>=51||!f(function(){var k=[];return k[Q]=!1,k.concat()[0]!==k}),M=S("concat"),L=function(k){if(!B(k))return!1;var $=k[Q];return $!==void 0?!!$:d(k)},j=!O||!M;u({target:"Array",proto:!0,forced:j},{concat:function($){var re=b(this),oe=C(re,0),pe=0,se,me,ve,Ve,z;for(se=-1,ve=arguments.length;se<ve;se++)if(z=se===-1?re:arguments[se],L(z)){if(Ve=E(z.length),pe+Ve>T)throw TypeError(I);for(me=0;me<Ve;me++,pe++)me in z&&v(oe,pe,z[me])}else{if(pe>=T)throw TypeError(I);v(oe,pe++,z)}return oe.length=pe,oe}})},"./node_modules/core-js/modules/es.array.iterator.js":function(A,l,c){var u=c("./node_modules/core-js/internals/to-indexed-object.js"),f=c("./node_modules/core-js/internals/add-to-unscopables.js"),d=c("./node_modules/core-js/internals/iterators.js"),B=c("./node_modules/core-js/internals/internal-state.js"),b=c("./node_modules/core-js/internals/define-iterator.js"),E="Array Iterator",v=B.set,C=B.getterFor(E);A.exports=b(Array,"Array",function(S,R){v(this,{type:E,target:u(S),index:0,kind:R})},function(){var S=C(this),R=S.target,P=S.kind,Q=S.index++;return!R||Q>=R.length?(S.target=void 0,{value:void 0,done:!0}):P=="keys"?{value:Q,done:!1}:P=="values"?{value:R[Q],done:!1}:{value:[Q,R[Q]],done:!1}},"values"),d.Arguments=d.Array,f("keys"),f("values"),f("entries")},"./node_modules/core-js/modules/es.array.join.js":function(A,l,c){var u=c("./node_modules/core-js/internals/export.js"),f=c("./node_modules/core-js/internals/indexed-object.js"),d=c("./node_modules/core-js/internals/to-indexed-object.js"),B=c("./node_modules/core-js/internals/array-method-is-strict.js"),b=[].join,E=f!=Object,v=B("join",",");u({target:"Array",proto:!0,forced:E||!v},{join:function(S){return b.call(d(this),S===void 0?",":S)}})},"./node_modules/core-js/modules/es.array.map.js":function(A,l,c){var u=c("./node_modules/core-js/internals/export.js"),f=c("./node_modules/core-js/internals/array-iteration.js").map,d=c("./node_modules/core-js/internals/array-method-has-species-support.js"),B=d("map");u({target:"Array",proto:!0,forced:!B},{map:function(E){return f(this,E,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.slice.js":function(A,l,c){var u=c("./node_modules/core-js/internals/export.js"),f=c("./node_modules/core-js/internals/is-object.js"),d=c("./node_modules/core-js/internals/is-array.js"),B=c("./node_modules/core-js/internals/to-absolute-index.js"),b=c("./node_modules/core-js/internals/to-length.js"),E=c("./node_modules/core-js/internals/to-indexed-object.js"),v=c("./node_modules/core-js/internals/create-property.js"),C=c("./node_modules/core-js/internals/well-known-symbol.js"),S=c("./node_modules/core-js/internals/array-method-has-species-support.js"),R=S("slice"),P=C("species"),Q=[].slice,T=Math.max;u({target:"Array",proto:!0,forced:!R},{slice:function(O,M){var L=E(this),j=b(L.length),k=B(O,j),$=B(M===void 0?j:M,j),re,oe,pe;if(d(L)&&(re=L.constructor,typeof re=="function"&&(re===Array||d(re.prototype))?re=void 0:f(re)&&(re=re[P],re===null&&(re=void 0)),re===Array||re===void 0))return Q.call(L,k,$);for(oe=new(re===void 0?Array:re)(T($-k,0)),pe=0;k<$;k++,pe++)k in L&&v(oe,pe,L[k]);return oe.length=pe,oe}})},"./node_modules/core-js/modules/es.function.name.js":function(A,l,c){var u=c("./node_modules/core-js/internals/descriptors.js"),f=c("./node_modules/core-js/internals/object-define-property.js").f,d=Function.prototype,B=d.toString,b=/^\s*function ([^ (]*)/,E="name";u&&!(E in d)&&f(d,E,{configurable:!0,get:function(){try{return B.call(this).match(b)[1]}catch{return""}}})},"./node_modules/core-js/modules/es.number.constructor.js":function(A,l,c){var u=c("./node_modules/core-js/internals/descriptors.js"),f=c("./node_modules/core-js/internals/global.js"),d=c("./node_modules/core-js/internals/is-forced.js"),B=c("./node_modules/core-js/internals/redefine.js"),b=c("./node_modules/core-js/internals/has.js"),E=c("./node_modules/core-js/internals/classof-raw.js"),v=c("./node_modules/core-js/internals/inherit-if-required.js"),C=c("./node_modules/core-js/internals/is-symbol.js"),S=c("./node_modules/core-js/internals/to-primitive.js"),R=c("./node_modules/core-js/internals/fails.js"),P=c("./node_modules/core-js/internals/object-create.js"),Q=c("./node_modules/core-js/internals/object-get-own-property-names.js").f,T=c("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,I=c("./node_modules/core-js/internals/object-define-property.js").f,O=c("./node_modules/core-js/internals/string-trim.js").trim,M="Number",L=f[M],j=L.prototype,k=E(P(j))==M,$=function(me){if(C(me))throw TypeError("Cannot convert a Symbol value to a number");var ve=S(me,"number"),Ve,z,J,ie,ce,ge,we,ue;if(typeof ve=="string"&&ve.length>2){if(ve=O(ve),Ve=ve.charCodeAt(0),Ve===43||Ve===45){if(z=ve.charCodeAt(2),z===88||z===120)return NaN}else if(Ve===48){switch(ve.charCodeAt(1)){case 66:case 98:J=2,ie=49;break;case 79:case 111:J=8,ie=55;break;default:return+ve}for(ce=ve.slice(2),ge=ce.length,we=0;we<ge;we++)if(ue=ce.charCodeAt(we),ue<48||ue>ie)return NaN;return parseInt(ce,J)}}return+ve};if(d(M,!L(" 0o1")||!L("0b1")||L("+0x1"))){for(var re=function(ve){var Ve=arguments.length<1?0:ve,z=this;return z instanceof re&&(k?R(function(){j.valueOf.call(z)}):E(z)!=M)?v(new L($(Ve)),z,re):$(Ve)},oe=u?Q(L):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),pe=0,se;oe.length>pe;pe++)b(L,se=oe[pe])&&!b(re,se)&&I(re,se,T(L,se));re.prototype=j,j.constructor=re,B(f,M,re)}},"./node_modules/core-js/modules/es.object.assign.js":function(A,l,c){var u=c("./node_modules/core-js/internals/export.js"),f=c("./node_modules/core-js/internals/object-assign.js");u({target:"Object",stat:!0,forced:Object.assign!==f},{assign:f})},"./node_modules/core-js/modules/es.object.keys.js":function(A,l,c){var u=c("./node_modules/core-js/internals/export.js"),f=c("./node_modules/core-js/internals/to-object.js"),d=c("./node_modules/core-js/internals/object-keys.js"),B=c("./node_modules/core-js/internals/fails.js"),b=B(function(){d(1)});u({target:"Object",stat:!0,forced:b},{keys:function(v){return d(f(v))}})},"./node_modules/core-js/modules/es.object.to-string.js":function(A,l,c){var u=c("./node_modules/core-js/internals/to-string-tag-support.js"),f=c("./node_modules/core-js/internals/redefine.js"),d=c("./node_modules/core-js/internals/object-to-string.js");u||f(Object.prototype,"toString",d,{unsafe:!0})},"./node_modules/core-js/modules/es.regexp.to-string.js":function(A,l,c){var u=c("./node_modules/core-js/internals/redefine.js"),f=c("./node_modules/core-js/internals/an-object.js"),d=c("./node_modules/core-js/internals/to-string.js"),B=c("./node_modules/core-js/internals/fails.js"),b=c("./node_modules/core-js/internals/regexp-flags.js"),E="toString",v=RegExp.prototype,C=v[E],S=B(function(){return C.call({source:"a",flags:"b"})!="/a/b"}),R=C.name!=E;(S||R)&&u(RegExp.prototype,E,function(){var Q=f(this),T=d(Q.source),I=Q.flags,O=d(I===void 0&&Q instanceof RegExp&&!("flags"in v)?b.call(Q):I);return"/"+T+"/"+O},{unsafe:!0})},"./node_modules/core-js/modules/es.string.iterator.js":function(A,l,c){var u=c("./node_modules/core-js/internals/string-multibyte.js").charAt,f=c("./node_modules/core-js/internals/to-string.js"),d=c("./node_modules/core-js/internals/internal-state.js"),B=c("./node_modules/core-js/internals/define-iterator.js"),b="String Iterator",E=d.set,v=d.getterFor(b);B(String,"String",function(C){E(this,{type:b,string:f(C),index:0})},function(){var S=v(this),R=S.string,P=S.index,Q;return P>=R.length?{value:void 0,done:!0}:(Q=u(R,P),S.index+=Q.length,{value:Q,done:!1})})},"./node_modules/core-js/modules/es.string.link.js":function(A,l,c){var u=c("./node_modules/core-js/internals/export.js"),f=c("./node_modules/core-js/internals/create-html.js"),d=c("./node_modules/core-js/internals/string-html-forced.js");u({target:"String",proto:!0,forced:d("link")},{link:function(b){return f(this,"a","href",b)}})},"./node_modules/core-js/modules/es.symbol.description.js":function(A,l,c){var u=c("./node_modules/core-js/internals/export.js"),f=c("./node_modules/core-js/internals/descriptors.js"),d=c("./node_modules/core-js/internals/global.js"),B=c("./node_modules/core-js/internals/has.js"),b=c("./node_modules/core-js/internals/is-object.js"),E=c("./node_modules/core-js/internals/object-define-property.js").f,v=c("./node_modules/core-js/internals/copy-constructor-properties.js"),C=d.Symbol;if(f&&typeof C=="function"&&(!("description"in C.prototype)||C().description!==void 0)){var S={},R=function(){var M=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),L=this instanceof R?new C(M):M===void 0?C():C(M);return M===""&&(S[L]=!0),L};v(R,C);var P=R.prototype=C.prototype;P.constructor=R;var Q=P.toString,T=String(C("test"))=="Symbol(test)",I=/^Symbol\((.*)\)[^)]+$/;E(P,"description",{configurable:!0,get:function(){var M=b(this)?this.valueOf():this,L=Q.call(M);if(B(S,M))return"";var j=T?L.slice(7,-1):L.replace(I,"$1");return j===""?void 0:j}}),u({global:!0,forced:!0},{Symbol:R})}},"./node_modules/core-js/modules/es.symbol.iterator.js":function(A,l,c){var u=c("./node_modules/core-js/internals/define-well-known-symbol.js");u("iterator")},"./node_modules/core-js/modules/es.symbol.js":function(A,l,c){var u=c("./node_modules/core-js/internals/export.js"),f=c("./node_modules/core-js/internals/global.js"),d=c("./node_modules/core-js/internals/get-built-in.js"),B=c("./node_modules/core-js/internals/is-pure.js"),b=c("./node_modules/core-js/internals/descriptors.js"),E=c("./node_modules/core-js/internals/native-symbol.js"),v=c("./node_modules/core-js/internals/fails.js"),C=c("./node_modules/core-js/internals/has.js"),S=c("./node_modules/core-js/internals/is-array.js"),R=c("./node_modules/core-js/internals/is-object.js"),P=c("./node_modules/core-js/internals/is-symbol.js"),Q=c("./node_modules/core-js/internals/an-object.js"),T=c("./node_modules/core-js/internals/to-object.js"),I=c("./node_modules/core-js/internals/to-indexed-object.js"),O=c("./node_modules/core-js/internals/to-property-key.js"),M=c("./node_modules/core-js/internals/to-string.js"),L=c("./node_modules/core-js/internals/create-property-descriptor.js"),j=c("./node_modules/core-js/internals/object-create.js"),k=c("./node_modules/core-js/internals/object-keys.js"),$=c("./node_modules/core-js/internals/object-get-own-property-names.js"),re=c("./node_modules/core-js/internals/object-get-own-property-names-external.js"),oe=c("./node_modules/core-js/internals/object-get-own-property-symbols.js"),pe=c("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),se=c("./node_modules/core-js/internals/object-define-property.js"),me=c("./node_modules/core-js/internals/object-property-is-enumerable.js"),ve=c("./node_modules/core-js/internals/create-non-enumerable-property.js"),Ve=c("./node_modules/core-js/internals/redefine.js"),z=c("./node_modules/core-js/internals/shared.js"),J=c("./node_modules/core-js/internals/shared-key.js"),ie=c("./node_modules/core-js/internals/hidden-keys.js"),ce=c("./node_modules/core-js/internals/uid.js"),ge=c("./node_modules/core-js/internals/well-known-symbol.js"),we=c("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),ue=c("./node_modules/core-js/internals/define-well-known-symbol.js"),fe=c("./node_modules/core-js/internals/set-to-string-tag.js"),Ue=c("./node_modules/core-js/internals/internal-state.js"),He=c("./node_modules/core-js/internals/array-iteration.js").forEach,Ke=J("hidden"),Je="Symbol",ft="prototype",Oe=ge("toPrimitive"),de=Ue.set,Et=Ue.getterFor(Je),At=Object[ft],Ge=f.Symbol,lt=d("JSON","stringify"),pt=pe.f,dt=se.f,Ut=re.f,Kt=me.f,Mt=z("symbols"),Jt=z("op-symbols"),$t=z("string-to-symbol-registry"),St=z("symbol-to-string-registry"),Rt=z("wks"),ke=f.QObject,Le=!ke||!ke[ft]||!ke[ft].findChild,nt=b&&v(function(){return j(dt({},"a",{get:function(){return dt(this,"a",{value:7}).a}})).a!=7})?function(nn,mt,ct){var xt=pt(At,mt);xt&&delete At[mt],dt(nn,mt,ct),xt&&nn!==At&&dt(At,mt,xt)}:dt,Xe=function(nn,mt){var ct=Mt[nn]=j(Ge[ft]);return de(ct,{type:Je,tag:nn,description:mt}),b||(ct.description=mt),ct},Ot=function(mt,ct,xt){mt===At&&Ot(Jt,ct,xt),Q(mt);var wn=O(ct);return Q(xt),C(Mt,wn)?(xt.enumerable?(C(mt,Ke)&&mt[Ke][wn]&&(mt[Ke][wn]=!1),xt=j(xt,{enumerable:L(0,!1)})):(C(mt,Ke)||dt(mt,Ke,L(1,{})),mt[Ke][wn]=!0),nt(mt,wn,xt)):dt(mt,wn,xt)},vt=function(mt,ct){Q(mt);var xt=I(ct),wn=k(xt).concat(En(xt));return He(wn,function(yn){(!b||vr.call(xt,yn))&&Ot(mt,yn,xt[yn])}),mt},Zt=function(mt,ct){return ct===void 0?j(mt):vt(j(mt),ct)},vr=function(mt){var ct=O(mt),xt=Kt.call(this,ct);return this===At&&C(Mt,ct)&&!C(Jt,ct)?!1:xt||!C(this,ct)||!C(Mt,ct)||C(this,Ke)&&this[Ke][ct]?xt:!0},hn=function(mt,ct){var xt=I(mt),wn=O(ct);if(!(xt===At&&C(Mt,wn)&&!C(Jt,wn))){var yn=pt(xt,wn);return yn&&C(Mt,wn)&&!(C(xt,Ke)&&xt[Ke][wn])&&(yn.enumerable=!0),yn}},Sr=function(mt){var ct=Ut(I(mt)),xt=[];return He(ct,function(wn){!C(Mt,wn)&&!C(ie,wn)&&xt.push(wn)}),xt},En=function(mt){var ct=mt===At,xt=Ut(ct?Jt:I(mt)),wn=[];return He(xt,function(yn){C(Mt,yn)&&(!ct||C(At,yn))&&wn.push(Mt[yn])}),wn};if(E||(Ge=function(){if(this instanceof Ge)throw TypeError("Symbol is not a constructor");var mt=!arguments.length||arguments[0]===void 0?void 0:M(arguments[0]),ct=ce(mt),xt=function(wn){this===At&&xt.call(Jt,wn),C(this,Ke)&&C(this[Ke],ct)&&(this[Ke][ct]=!1),nt(this,ct,L(1,wn))};return b&&Le&&nt(At,ct,{configurable:!0,set:xt}),Xe(ct,mt)},Ve(Ge[ft],"toString",function(){return Et(this).tag}),Ve(Ge,"withoutSetter",function(nn){return Xe(ce(nn),nn)}),me.f=vr,se.f=Ot,pe.f=hn,$.f=re.f=Sr,oe.f=En,we.f=function(nn){return Xe(ge(nn),nn)},b&&(dt(Ge[ft],"description",{configurable:!0,get:function(){return Et(this).description}}),B||Ve(At,"propertyIsEnumerable",vr,{unsafe:!0}))),u({global:!0,wrap:!0,forced:!E,sham:!E},{Symbol:Ge}),He(k(Rt),function(nn){ue(nn)}),u({target:Je,stat:!0,forced:!E},{for:function(nn){var mt=M(nn);if(C($t,mt))return $t[mt];var ct=Ge(mt);return $t[mt]=ct,St[ct]=mt,ct},keyFor:function(mt){if(!P(mt))throw TypeError(mt+" is not a symbol");if(C(St,mt))return St[mt]},useSetter:function(){Le=!0},useSimple:function(){Le=!1}}),u({target:"Object",stat:!0,forced:!E,sham:!b},{create:Zt,defineProperty:Ot,defineProperties:vt,getOwnPropertyDescriptor:hn}),u({target:"Object",stat:!0,forced:!E},{getOwnPropertyNames:Sr,getOwnPropertySymbols:En}),u({target:"Object",stat:!0,forced:v(function(){oe.f(1)})},{getOwnPropertySymbols:function(mt){return oe.f(T(mt))}}),lt){var Fr=!E||v(function(){var nn=Ge();return lt([nn])!="[null]"||lt({a:nn})!="{}"||lt(Object(nn))!="{}"});u({target:"JSON",stat:!0,forced:Fr},{stringify:function(mt,ct,xt){for(var wn=[mt],yn=1,wr;arguments.length>yn;)wn.push(arguments[yn++]);if(wr=ct,!(!R(ct)&&mt===void 0||P(mt)))return S(ct)||(ct=function(jr,Wt){if(typeof wr=="function"&&(Wt=wr.call(this,jr,Wt)),!P(Wt))return Wt}),wn[1]=ct,lt.apply(null,wn)}})}Ge[ft][Oe]||ve(Ge[ft],Oe,Ge[ft].valueOf),fe(Ge,Je),ie[Ke]=!0},"./node_modules/core-js/modules/web.dom-collections.for-each.js":function(A,l,c){var u=c("./node_modules/core-js/internals/global.js"),f=c("./node_modules/core-js/internals/dom-iterables.js"),d=c("./node_modules/core-js/internals/array-for-each.js"),B=c("./node_modules/core-js/internals/create-non-enumerable-property.js");for(var b in f){var E=u[b],v=E&&E.prototype;if(v&&v.forEach!==d)try{B(v,"forEach",d)}catch{v.forEach=d}}},"./node_modules/core-js/modules/web.dom-collections.iterator.js":function(A,l,c){var u=c("./node_modules/core-js/internals/global.js"),f=c("./node_modules/core-js/internals/dom-iterables.js"),d=c("./node_modules/core-js/modules/es.array.iterator.js"),B=c("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=c("./node_modules/core-js/internals/well-known-symbol.js"),E=b("iterator"),v=b("toStringTag"),C=d.values;for(var S in f){var R=u[S],P=R&&R.prototype;if(P){if(P[E]!==C)try{B(P,E,C)}catch{P[E]=C}if(P[v]||B(P,v,S),f[S]){for(var Q in d)if(P[Q]!==d[Q])try{B(P,Q,d[Q])}catch{P[Q]=d[Q]}}}}},"./node_modules/es6-promise/dist/es6-promise.js":function(A){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(l,c){A.exports=c()})(this,function(){function l(ke){var Le=typeof ke;return ke!==null&&(Le==="object"||Le==="function")}function c(ke){return typeof ke=="function"}var u=void 0;Array.isArray?u=Array.isArray:u=function(ke){return Object.prototype.toString.call(ke)==="[object Array]"};var f=u,d=0,B=void 0,b=void 0,E=function(Le,nt){k[d]=Le,k[d+1]=nt,d+=2,d===2&&(b?b($):oe())};function v(ke){b=ke}function C(ke){E=ke}var S=typeof window<"u"?window:void 0,R=S||{},P=R.MutationObserver||R.WebKitMutationObserver,Q=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",T=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function I(){return function(){return process.nextTick($)}}function O(){return typeof B<"u"?function(){B($)}:j()}function M(){var ke=0,Le=new P($),nt=document.createTextNode("");return Le.observe(nt,{characterData:!0}),function(){nt.data=ke=++ke%2}}function L(){var ke=new MessageChannel;return ke.port1.onmessage=$,function(){return ke.port2.postMessage(0)}}function j(){var ke=setTimeout;return function(){return ke($,1)}}var k=new Array(1e3);function $(){for(var ke=0;ke<d;ke+=2){var Le=k[ke],nt=k[ke+1];Le(nt),k[ke]=void 0,k[ke+1]=void 0}d=0}function re(){try{var ke=Function("return this")().require("vertx");return B=ke.runOnLoop||ke.runOnContext,O()}catch{return j()}}var oe=void 0;Q?oe=I():P?oe=M():T?oe=L():S===void 0?oe=re():oe=j();function pe(ke,Le){var nt=this,Xe=new this.constructor(ve);Xe[me]===void 0&&lt(Xe);var Ot=nt._state;if(Ot){var vt=arguments[Ot-1];E(function(){return de(Ot,Xe,vt,nt._result)})}else ft(nt,Xe,ke,Le);return Xe}function se(ke){var Le=this;if(ke&&typeof ke=="object"&&ke.constructor===Le)return ke;var nt=new Le(ve);return Ue(nt,ke),nt}var me=Math.random().toString(36).substring(2);function ve(){}var Ve=void 0,z=1,J=2;function ie(){return new TypeError("You cannot resolve a promise with itself")}function ce(){return new TypeError("A promises callback cannot return that same promise.")}function ge(ke,Le,nt,Xe){try{ke.call(Le,nt,Xe)}catch(Ot){return Ot}}function we(ke,Le,nt){E(function(Xe){var Ot=!1,vt=ge(nt,Le,function(Zt){Ot||(Ot=!0,Le!==Zt?Ue(Xe,Zt):Ke(Xe,Zt))},function(Zt){Ot||(Ot=!0,Je(Xe,Zt))},"Settle: "+(Xe._label||" unknown promise"));!Ot&&vt&&(Ot=!0,Je(Xe,vt))},ke)}function ue(ke,Le){Le._state===z?Ke(ke,Le._result):Le._state===J?Je(ke,Le._result):ft(Le,void 0,function(nt){return Ue(ke,nt)},function(nt){return Je(ke,nt)})}function fe(ke,Le,nt){Le.constructor===ke.constructor&&nt===pe&&Le.constructor.resolve===se?ue(ke,Le):nt===void 0?Ke(ke,Le):c(nt)?we(ke,Le,nt):Ke(ke,Le)}function Ue(ke,Le){if(ke===Le)Je(ke,ie());else if(l(Le)){var nt=void 0;try{nt=Le.then}catch(Xe){Je(ke,Xe);return}fe(ke,Le,nt)}else Ke(ke,Le)}function He(ke){ke._onerror&&ke._onerror(ke._result),Oe(ke)}function Ke(ke,Le){ke._state===Ve&&(ke._result=Le,ke._state=z,ke._subscribers.length!==0&&E(Oe,ke))}function Je(ke,Le){ke._state===Ve&&(ke._state=J,ke._result=Le,E(He,ke))}function ft(ke,Le,nt,Xe){var Ot=ke._subscribers,vt=Ot.length;ke._onerror=null,Ot[vt]=Le,Ot[vt+z]=nt,Ot[vt+J]=Xe,vt===0&&ke._state&&E(Oe,ke)}function Oe(ke){var Le=ke._subscribers,nt=ke._state;if(Le.length!==0){for(var Xe=void 0,Ot=void 0,vt=ke._result,Zt=0;Zt<Le.length;Zt+=3)Xe=Le[Zt],Ot=Le[Zt+nt],Xe?de(nt,Xe,Ot,vt):Ot(vt);ke._subscribers.length=0}}function de(ke,Le,nt,Xe){var Ot=c(nt),vt=void 0,Zt=void 0,vr=!0;if(Ot){try{vt=nt(Xe)}catch(hn){vr=!1,Zt=hn}if(Le===vt){Je(Le,ce());return}}else vt=Xe;Le._state!==Ve||(Ot&&vr?Ue(Le,vt):vr===!1?Je(Le,Zt):ke===z?Ke(Le,vt):ke===J&&Je(Le,vt))}function Et(ke,Le){try{Le(function(Xe){Ue(ke,Xe)},function(Xe){Je(ke,Xe)})}catch(nt){Je(ke,nt)}}var At=0;function Ge(){return At++}function lt(ke){ke[me]=At++,ke._state=void 0,ke._result=void 0,ke._subscribers=[]}function pt(){return new Error("Array Methods must be provided an Array")}var dt=function(){function ke(Le,nt){this._instanceConstructor=Le,this.promise=new Le(ve),this.promise[me]||lt(this.promise),f(nt)?(this.length=nt.length,this._remaining=nt.length,this._result=new Array(this.length),this.length===0?Ke(this.promise,this._result):(this.length=this.length||0,this._enumerate(nt),this._remaining===0&&Ke(this.promise,this._result))):Je(this.promise,pt())}return ke.prototype._enumerate=function(nt){for(var Xe=0;this._state===Ve&&Xe<nt.length;Xe++)this._eachEntry(nt[Xe],Xe)},ke.prototype._eachEntry=function(nt,Xe){var Ot=this._instanceConstructor,vt=Ot.resolve;if(vt===se){var Zt=void 0,vr=void 0,hn=!1;try{Zt=nt.then}catch(En){hn=!0,vr=En}if(Zt===pe&&nt._state!==Ve)this._settledAt(nt._state,Xe,nt._result);else if(typeof Zt!="function")this._remaining--,this._result[Xe]=nt;else if(Ot===St){var Sr=new Ot(ve);hn?Je(Sr,vr):fe(Sr,nt,Zt),this._willSettleAt(Sr,Xe)}else this._willSettleAt(new Ot(function(En){return En(nt)}),Xe)}else this._willSettleAt(vt(nt),Xe)},ke.prototype._settledAt=function(nt,Xe,Ot){var vt=this.promise;vt._state===Ve&&(this._remaining--,nt===J?Je(vt,Ot):this._result[Xe]=Ot),this._remaining===0&&Ke(vt,this._result)},ke.prototype._willSettleAt=function(nt,Xe){var Ot=this;ft(nt,void 0,function(vt){return Ot._settledAt(z,Xe,vt)},function(vt){return Ot._settledAt(J,Xe,vt)})},ke}();function Ut(ke){return new dt(this,ke).promise}function Kt(ke){var Le=this;return f(ke)?new Le(function(nt,Xe){for(var Ot=ke.length,vt=0;vt<Ot;vt++)Le.resolve(ke[vt]).then(nt,Xe)}):new Le(function(nt,Xe){return Xe(new TypeError("You must pass an array to race."))})}function Mt(ke){var Le=this,nt=new Le(ve);return Je(nt,ke),nt}function Jt(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function $t(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var St=function(){function ke(Le){this[me]=Ge(),this._result=this._state=void 0,this._subscribers=[],ve!==Le&&(typeof Le!="function"&&Jt(),this instanceof ke?Et(this,Le):$t())}return ke.prototype.catch=function(nt){return this.then(null,nt)},ke.prototype.finally=function(nt){var Xe=this,Ot=Xe.constructor;return c(nt)?Xe.then(function(vt){return Ot.resolve(nt()).then(function(){return vt})},function(vt){return Ot.resolve(nt()).then(function(){throw vt})}):Xe.then(nt,nt)},ke}();St.prototype.then=pe,St.all=Ut,St.race=Kt,St.resolve=se,St.reject=Mt,St._setScheduler=v,St._setAsap=C,St._asap=E;function Rt(){var ke=void 0;if(typeof Il<"u")ke=Il;else if(typeof self<"u")ke=self;else try{ke=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Le=ke.Promise;if(Le){var nt=null;try{nt=Object.prototype.toString.call(Le.resolve())}catch{}if(nt==="[object Promise]"&&!Le.cast)return}ke.Promise=St}return St.polyfill=Rt,St.Promise=St,St})},html2canvas:function(A){A.exports=r},jspdf:function(A){A.exports=n}},i={};function o(A){var l=i[A];if(l!==void 0)return l.exports;var c=i[A]={exports:{}};return s[A].call(c.exports,c,c.exports,o),c.exports}(function(){o.n=function(A){var l=A&&A.__esModule?function(){return A.default}:function(){return A};return o.d(l,{a:l}),l}})(),function(){o.d=function(A,l){for(var c in l)o.o(l,c)&&!o.o(A,c)&&Object.defineProperty(A,c,{enumerable:!0,get:l[c]})}}(),function(){o.o=function(A,l){return Object.prototype.hasOwnProperty.call(A,l)}}(),function(){o.r=function(A){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})}}();var a={};return function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/o.r(a);var A=o("./src/worker.js");o("./src/plugin/jspdf-plugin.js"),o("./src/plugin/pagebreaks.js"),o("./src/plugin/hyperlinks.js");var l=function c(u,f){var d=new c.Worker(f);return u?d.from(u).save():d};l.Worker=A.default,a.default=l}(),a=a.default,a}()})})(lj);var VW=lj.exports;const P_=b1(VW);function KW(t){return un({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(t)}function zW(t){return un({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"}}]})(t)}function GW(t){return un({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(t)}function LS(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(t)}function PS(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(t)}function WW(t){return un({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(t)}function $W(t){return un({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"}}]})(t)}function qW(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}}]})(t)}function YW(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]})(t)}function XW(t){return un({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(t)}function Nj(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"}}]})(t)}function kj(t){return un({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(t)}function JW(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"}}]})(t)}function Lj(t){return un({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(t)}function Pj(t){return un({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(t)}function ZW(t){return un({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(t)}function e$(t){return un({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"}}]})(t)}class t${constructor(){this.cachedSettings=null,this.settingsLastFetched=0}async getSettingsDoc(e=!1){try{const n=Bs.currentUser;if(!n)return console.log("No user logged in when fetching settings"),null;const r=Pr(Yt,"users",n.uid,"settings","userSettings");if(!e&&this.cachedSettings&&Date.now()-this.settingsLastFetched<3e5)return console.log("Returning cached settings"),this.cachedSettings;const s=await a1(r);if(s.exists()){const i=s.data(),o=this.processTimestamps(i);return this.cachedSettings=o,this.settingsLastFetched=Date.now(),console.log("Settings loaded from Firestore"),o}else{console.log("Initializing new settings"),await this.initializeUserDocuments();const i=await a1(r);if(i.exists()){const o=i.data();return this.cachedSettings=o,this.settingsLastFetched=Date.now(),o}return null}}catch(n){return console.error("Error fetching settings:",n),n.code==="permission-denied"&&$e.error("Permission denied - check account permissions"),this.cachedSettings||null}}processTimestamps(e){if(!e)return e;const n={...e};return Object.keys(n).forEach(r=>{n[r]&&typeof n[r].toDate=="function"?n[r]=n[r].toDate().toISOString():n[r]&&typeof n[r]=="object"&&(n[r]=this.processTimestamps(n[r]))}),n}async updateSettingsDocument(e){try{const n=Bs.currentUser;if(!n)return console.log("No user logged in for update"),!1;const r=Pr(Yt,"users",n.uid,"settings","userSettings"),s={...e,updatedAt:ff()};return console.log("Updating settings with:",s),await A1(r,s,{merge:!0}),console.log("Settings updated successfully"),this.cachedSettings={...this.cachedSettings,...e,updatedAt:new Date().toISOString()},this.settingsLastFetched=Date.now(),!0}catch(n){return console.error("Error updating settings:",n),this.handleFirestoreError(n),!1}}handleFirestoreError(e){$e.error(`Firestore error: ${e.message||"Unknown"}`)}async initializeUserDocuments(){const e=Bs.currentUser;if(!e)return;const n=Pr(Yt,"users",e.uid,"settings","userSettings");await A1(n,{createdAt:ff()},{merge:!0})}}const kg=new t$,h1=[{id:"op1",name:"Oil Change",description:"Standard oil and filter change service",standardHours:.5,searchTerms:["oil","change","filter","lube"]},{id:"op2",name:"Brake Pad Replacement - Front",description:"Remove and replace front brake pads",standardHours:1,searchTerms:["brake","pad","front","replace"]},{id:"op3",name:"Brake Pad Replacement - Rear",description:"Remove and replace rear brake pads",standardHours:1.2,searchTerms:["brake","pad","rear","replace"]},{id:"op4",name:"Timing Belt Replacement",description:"Remove and replace timing belt and tensioner",standardHours:3.5,searchTerms:["timing","belt","replace"]},{id:"op5",name:"Alternator Replacement",description:"Remove and replace alternator",standardHours:1.8,searchTerms:["alternator","replace","electrical"]}],jj="wrenchtrack_labor_guide";function jS(){try{console.log("getAllOperations called from laborGuideDebugger");const t=localStorage.getItem(jj);if(console.log("Retrieved from localStorage:",t?"Data found":"No data found"),t){const e=JSON.parse(t);return console.log(`Parsed ${e.length} operations from localStorage`),e}else return console.log("No operations in localStorage, returning empty array"),h1}catch(t){return console.error("Error getting operations from localStorage:",t),console.log("Returning sample operations due to error"),h1}}function n$(){try{return localStorage.setItem(jj,JSON.stringify(h1)),h1}catch(t){return console.error("Error setting sample operations in localStorage:",t),[]}}function r$({onSelectOperation:t}){const[e,n]=ee.useState(""),[r,s]=ee.useState([]),[i,o]=ee.useState(!1),[a,A]=ee.useState([]),[l,c]=ee.useState(null),[u,f]=ee.useState("");Lo(),console.log("LaborGuideSearch component initialized - Using local storage"),ee.useEffect(()=>{(async()=>{o(!0);try{const v=jS();console.log(`Loaded ${v.length} operations from local storage`),A(v.slice(0,5))}catch(v){console.error("Error loading operations:",v),c("Failed to load labor guide operations")}finally{o(!1)}})()},[]);const d=()=>{if(!(!e||e.length<3)){o(!0),c(null),s([]);try{console.log(`Searching for: "${e}"`);const E=jS();if(console.log(`Total operations available: ${E.length}`),!E||E.length===0){console.warn("No operations found in storage"),c("No operations available to search"),o(!1);return}const v=e.toLowerCase().trim(),C=E.filter(S=>{if(!S)return!1;const R=S.name&&S.name.toLowerCase().includes(v),P=S.description&&S.description.toLowerCase().includes(v),Q=S.id&&S.id.toString().includes(v);return R||P||Q});console.log(`Found ${C.length} matching operations`),C.length===0?console.log("No matching operations found"):console.log("First match:",C[0]),s(C)}catch(E){console.error("Error searching operations:",E),c("Search failed: "+(E.message||"Unknown error")),s([])}finally{o(!1)}}},B=E=>{E.key==="Enter"&&d()},b=()=>{o(!0);try{const E=n$();A(E.slice(0,5)),s([]),f("Labor guide reset to sample operations"),setTimeout(()=>{f("")},3e3)}catch(E){console.error("Error resetting operations:",E),c("Failed to reset operations")}finally{o(!1)}};return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",value:e,onChange:E=>n(E.target.value),onKeyDown:B,placeholder:"Search labor operations (min 3 characters)...",className:"flex-1 border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500"}),h.jsx("button",{onClick:d,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",disabled:e.length<3||i,children:i?"Searching...":"Search"})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("div",{className:"text-sm text-gray-500",children:a.length>0?`${a.length} operations available`:"No operations found"}),h.jsx("button",{onClick:b,className:"text-xs text-blue-600 hover:text-blue-800",children:"Reset to Default"})]}),l&&h.jsx("div",{className:"p-3 bg-red-100 text-red-700 rounded-lg text-sm",children:l}),u&&h.jsx("div",{className:"p-3 bg-green-100 text-green-700 rounded-lg text-sm",children:u}),i?h.jsxs("div",{className:"text-center p-4",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500 mx-auto"}),h.jsx("div",{className:"mt-2",children:"Loading..."})]}):h.jsx("div",{className:"space-y-2",children:r.length>0?h.jsxs("div",{children:[h.jsxs("h3",{className:"font-semibold text-sm text-gray-500 mb-2",children:["Search Results (",r.length,")"]}),h.jsx("div",{className:"space-y-2",children:r.map(E=>h.jsxs("div",{onClick:()=>t(E),className:"p-4 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[h.jsx("div",{className:"font-medium",children:E.name}),h.jsxs("div",{className:"text-sm text-gray-600",children:["Standard time: ",E.standardHours," hours"]}),h.jsx("div",{className:"text-sm text-gray-500 mt-1",children:E.description})]},E.id))})]}):e.length>=3?h.jsx("div",{className:"text-center py-4 text-gray-500",children:"No matching operations found"}):a.length>0?h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-sm text-gray-500 mb-2",children:"Recent Operations"}),h.jsx("div",{className:"space-y-2",children:a.map(E=>h.jsxs("div",{onClick:()=>t(E),className:"p-4 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[h.jsx("div",{className:"font-medium",children:E.name}),h.jsxs("div",{className:"text-sm text-gray-600",children:["Standard time: ",E.standardHours," hours"]}),h.jsx("div",{className:"text-sm text-gray-500 mt-1",children:E.description})]},E.id))})]}):h.jsxs("div",{className:"text-center py-4 text-gray-500",children:[h.jsx("p",{children:"No labor guide operations found"}),h.jsx("p",{className:"mt-2 text-sm",children:'Click "Reset to Default" to add sample operations'})]})})]})}const s$=async t=>{try{console.log("Running setupLaborGuide...");const e=[{name:"Oil Change",description:"Standard oil and filter change service",standardHours:.5,searchTerms:["oil","change","filter","lube"]},{name:"Brake Pad Replacement - Front",description:"Remove and replace front brake pads",standardHours:1,searchTerms:["brake","pad","front","replace"]},{name:"Brake Pad Replacement - Rear",description:"Remove and replace rear brake pads",standardHours:1.2,searchTerms:["brake","pad","rear","replace"]},{name:"Timing Belt Replacement",description:"Remove and replace timing belt and tensioner",standardHours:3.5,searchTerms:["timing","belt","replace"]},{name:"Alternator Replacement",description:"Remove and replace alternator",standardHours:1.8,searchTerms:["alternator","replace","electrical"]},{name:"Spark Plug Replacement",description:"Remove and replace spark plugs",standardHours:.8,searchTerms:["spark","plug","tune","ignition"]},{name:"Water Pump Replacement",description:"Remove and replace water pump",standardHours:2.5,searchTerms:["water","pump","cooling","replace"]}],n=Jo(or(Yt,"laborGuide")),r=await ms(n);if(!r.empty)return console.log(`Labor guide already has ${r.size} operations`),!1;console.log("No existing labor guide data found, adding sample operations");for(const i of e)await Wl(or(Yt,"laborGuide"),i);console.log(`Added ${e.length} sample operations to labor guide`);const s="wrenchtrack_labor_guide";return localStorage.setItem(s,JSON.stringify(e)),!0}catch(e){throw console.error("Error in setupLaborGuide:",e),e}};function Uj({isEditing:t}){const{invoice:e,setInvoice:n,clearInvoice:r}=ee.useContext(yw),{user:s}=Lo(),i=ko(),{id:o}=kk(),[a,A]=ee.useState(1),[l,c]=ee.useState([]),[u,f]=ee.useState({name:"",cost:"",quantity:1}),[d,B]=ee.useState([]),[b,E]=ee.useState(null),[v,C]=ee.useState(!1),[S,R]=ee.useState(!1),[P,Q]=ee.useState({title:"Service Invoice",date:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],notes:"",taxRate:.1,poNumber:"",invoiceNumber:""}),[T,I]=ee.useState(!1),[O,M]=ee.useState(null),L=(ue=6)=>{const fe="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";let Ue="";for(let He=0;He<ue;He++)Ue+=fe.charAt(Math.floor(Math.random()*fe.length));return Ue},j=()=>{const ue=P.poNumber.trim()||Math.floor(1e5+Math.random()*9e5).toString(),fe=L();return`INV-${ue}-${fe}`},[k,$]=ee.useState({businessInfo:{name:"",address:"",city:"",state:"",zip:"",phone:"",email:"",website:"",taxId:""},preferences:{currency:"USD",dateFormat:"MM/DD/YYYY",defaultInvoiceTitle:"Invoice",invoiceNotes:"Thank you for your business!",invoiceTerms:"Net 30",timezone:"America/New_York"}});ee.useEffect(()=>{(async()=>{var fe,Ue,He;if(s){C(!0);try{const Ke=j();Q(Et=>({...Et,invoiceNumber:Ke}));const Je=or(Yt,"users",s.uid,"customers"),Oe=(await ms(Je)).docs.map(Et=>({id:Et.id,...Et.data()}));B(Oe),await kg.initializeUserDocuments();const de=await kg.getSettingsDoc(!0);if(de){console.log("Loaded settings for invoice:",de),$({businessInfo:de.businessInfo||k.businessInfo,preferences:de.preferences||k.preferences});let Et={...P};if((fe=de.preferences)!=null&&fe.defaultInvoiceTitle&&(Et.title=de.preferences.defaultInvoiceTitle),(Ue=de.preferences)!=null&&Ue.invoiceNotes&&(Et.notes=de.preferences.invoiceNotes),(He=de.preferences)!=null&&He.invoiceTerms){const At=de.preferences.invoiceTerms.match(/Net\s+(\d+)/i);if(At&&At[1]){const Ge=parseInt(At[1]);isNaN(Ge)||(Et.dueDate=new Date(Date.now()+Ge*24*60*60*1e3).toISOString().split("T")[0])}}Q(Et)}if(t&&o){const Et=Pr(Yt,"users",s.uid,"invoices",o),At=await a1(Et);if(At.exists()){const Ge=At.data();if(M({id:At.id,...Ge}),Q({title:Ge.title||"Service Invoice",date:Ge.date||new Date().toISOString().split("T")[0],dueDate:Ge.dueDate||new Date(Date.now()+2592e6).toISOString().split("T")[0],notes:Ge.notes||"",taxRate:Ge.taxRate||.1,poNumber:Ge.poNumber||"",invoiceNumber:Ge.invoiceNumber||"DRAFT"}),Ge.parts&&Array.isArray(Ge.parts)&&c(Ge.parts),Ge.customer){const lt=Oe.find(pt=>pt.id===Ge.customer.id);E(lt||Ge.customer)}}else $e.error("Invoice not found"),i("/invoicehistory")}}catch(Ke){console.error("Error fetching data:",Ke),$e.error("Failed to load data")}finally{C(!1)}}})()},[s,t,o,i]),ee.useEffect(()=>{v||Q(ue=>({...ue,invoiceNumber:j()}))},[P.poNumber,v]);const re=()=>{if(!u.name||!u.cost){$e.error("Please provide both part name and cost");return}c([...l,{...u,cost:parseFloat(u.cost)}]),f({name:"",cost:"",quantity:1})},oe=ue=>{c(l.filter((fe,Ue)=>Ue!==ue))},pe=()=>l.reduce((ue,fe)=>ue+fe.cost*fe.quantity,0),se=()=>pe()*P.taxRate,me=()=>pe()+se(),ve=ue=>{var He;const fe=((He=k.preferences)==null?void 0:He.laborRate)||85,Ue={name:`Labor - ${ue.name}`,cost:ue.standardHours*fe,quantity:1,type:"labor",operation:ue};c([...l,Ue]),R(!1),$e.success("Labor operation added to invoice")},Ve=async()=>{try{I(!0),await s$()?$e.success("Labor guide setup complete! Sample operations added."):$e.info("Labor guide data already exists."),R(!1),setTimeout(()=>R(!0),500)}catch(ue){console.error("Error setting up labor guide:",ue),$e.error("Error setting up labor guide. See console for details.")}finally{I(!1)}},z=async()=>{if(!b){$e.error("Please select a customer");return}if(l.length===0){$e.error("Please add at least one part or service");return}try{C(!0);const ue={...P,invoiceNumber:P.invoiceNumber||j(),customer:b,parts:l,subtotal:pe(),tax:se(),total:me(),updatedAt:new Date,status:(O==null?void 0:O.status)||"pending",userId:s.uid,businessInfo:k.businessInfo,preferences:{currency:k.preferences.currency,invoiceTerms:k.preferences.invoiceTerms}};t||(ue.createdAt=new Date);let fe=ue;if(t)O!=null&&O.tracking&&(fe.tracking=O.tracking);else{const{initializeTracking:Ke}=await u1(()=>Promise.resolve().then(()=>A$),void 0);fe=Ke(ue)}let Ue;if(t&&o){const Ke=Pr(Yt,"users",s.uid,"invoices",o);await Ea(Ke,fe),Ue={id:o},console.log("Invoice updated with ID:",o),$e.success(`Invoice ${ue.invoiceNumber} updated successfully`)}else Ue=await Wl(or(Yt,"users",s.uid,"invoices"),fe),console.log("Invoice saved with ID:",Ue.id),$e.success(`Invoice ${ue.invoiceNumber} saved successfully`);const He={...fe,id:Ue.id};n(He),i("/invoicehistory"),t||J()}catch(ue){console.error("Error saving invoice:",ue),$e.error("Failed to save invoice: "+ue.message)}finally{C(!1)}},J=()=>{var fe,Ue;const ue=j();A(1),c([]),E(null),f({name:"",cost:"",quantity:1}),Q({title:((fe=k.preferences)==null?void 0:fe.defaultInvoiceTitle)||"Service Invoice",date:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],notes:((Ue=k.preferences)==null?void 0:Ue.invoiceNotes)||"",taxRate:.1,poNumber:"",invoiceNumber:ue}),$e.info("Form reset for new invoice")},ie=()=>{const ue=document.getElementById("invoice-preview"),fe={margin:.5,filename:`invoice-${P.invoiceNumber||"draft"}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};P_().set(fe).from(ue).save().then(()=>$e.success("PDF generated successfully")).catch(()=>$e.error("Failed to generate PDF"))},ce=()=>{if(a===1&&!b){$e.error("Please select a customer before proceeding");return}if(a===2&&l.length===0){$e.error("Please add at least one part or service");return}A(ue=>Math.min(ue+1,3))},ge=()=>{A(ue=>Math.max(ue-1,1))},we=()=>{var ue;switch(a){case 1:return h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6",children:"Step 1: Customer & Invoice Details"}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Customer"}),h.jsxs("select",{value:(b==null?void 0:b.id)||"",onChange:fe=>E(d.find(Ue=>Ue.id===fe.target.value)),className:"w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[h.jsx("option",{value:"",children:"Choose a customer"}),d.map(fe=>h.jsxs("option",{value:fe.id,children:[fe.name," ",fe.company?`(${fe.company})`:""]},fe.id))]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Invoice Title"}),h.jsx("input",{type:"text",value:P.title,onChange:fe=>Q({...P,title:fe.target.value}),className:"w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["PO Number ",h.jsx("span",{className:"text-gray-500 text-xs font-normal",children:"(Optional)"})]}),h.jsx("input",{type:"text",value:P.poNumber,onChange:fe=>Q({...P,poNumber:fe.target.value}),placeholder:"Enter PO number if applicable",className:"w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to use an auto-generated number"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Invoice Number"}),h.jsx("input",{type:"text",value:P.invoiceNumber,readOnly:!0,className:"w-full border rounded-lg px-4 py-2 bg-gray-100 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700",tabIndex:"-1","aria-readonly":"true"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated - cannot be modified"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date"}),h.jsx("input",{type:"date",value:P.date,onChange:fe=>Q({...P,date:fe.target.value}),className:"w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Due Date"}),h.jsx("input",{type:"date",value:P.dueDate,onChange:fe=>Q({...P,dueDate:fe.target.value}),className:"w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tax Rate (%)"}),h.jsx("input",{type:"number",value:P.taxRate*100,onChange:fe=>Q({...P,taxRate:parseFloat(fe.target.value)/100}),className:"w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600",step:"0.1",min:"0",max:"100"})]})]})]});case 2:return h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6",children:"Step 2: Add Parts & Services"}),h.jsx("div",{className:"mb-4 flex gap-2",children:h.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors",children:[h.jsx(e$,{})," Add Labor from Guide"]})}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[h.jsx("input",{type:"text",placeholder:"Part/Service Name",value:u.name,onChange:fe=>f({...u,name:fe.target.value}),className:"col-span-2 border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600"}),h.jsx("input",{type:"number",placeholder:"Quantity",value:u.quantity,onChange:fe=>f({...u,quantity:parseInt(fe.target.value)||1}),className:"border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600"}),h.jsx("input",{type:"number",placeholder:"Cost",value:u.cost,onChange:fe=>f({...u,cost:fe.target.value}),className:"border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),h.jsxs("button",{onClick:re,className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg",children:[h.jsx(XW,{})," Add Part/Service"]}),h.jsx("div",{className:"mt-4",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[h.jsx("th",{className:"text-left py-2 px-4 text-gray-800 dark:text-white",children:"Description"}),h.jsx("th",{className:"text-center py-2 px-4 text-gray-800 dark:text-white",children:"Quantity"}),h.jsx("th",{className:"text-right py-2 px-4 text-gray-800 dark:text-white",children:"Unit Price"}),h.jsx("th",{className:"text-right py-2 px-4 text-gray-800 dark:text-white",children:"Total"}),h.jsx("th",{className:"text-center py-2 px-4 text-gray-800 dark:text-white",children:"Actions"})]})}),h.jsx("tbody",{children:l.map((fe,Ue)=>h.jsxs("tr",{className:"border-b dark:border-gray-700",children:[h.jsx("td",{className:"py-2 px-4 text-gray-800 dark:text-white",children:fe.name}),h.jsx("td",{className:"text-center py-2 px-4 text-gray-800 dark:text-white",children:fe.quantity}),h.jsxs("td",{className:"text-right py-2 px-4 text-gray-800 dark:text-white",children:["$",fe.cost.toFixed(2)]}),h.jsxs("td",{className:"text-right py-2 px-4 text-gray-800 dark:text-white",children:["$",(fe.cost*fe.quantity).toFixed(2)]}),h.jsx("td",{className:"text-center py-2 px-4",children:h.jsx("button",{onClick:()=>oe(Ue),className:"text-red-500 hover:text-red-700",children:h.jsx(Pj,{})})})]},Ue))})]})})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),h.jsx("textarea",{value:P.notes,onChange:fe=>Q({...P,notes:fe.target.value}),className:"w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600",rows:"3"})]}),S&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Labor Guide"}),h.jsx("button",{onClick:()=>R(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:h.jsx(Lj,{size:20})})]}),h.jsxs("div",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:["Search for labor operations to add to this invoice. Labor rate: $",((ue=k.preferences)==null?void 0:ue.laborRate)||85,"/hr"]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("button",{onClick:Ve,disabled:T,className:"text-sm bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded transition-colors",children:T?"Setting up...":"Setup Labor Guide Data"}),h.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"Click to initialize sample labor operations"})]}),h.jsx(r$,{onSelectOperation:ve})]})})]});case 3:return h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6",children:"Step 3: Review & Finalize"}),h.jsxs("div",{id:"invoice-preview",className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[h.jsxs("div",{className:"flex justify-between items-start mb-8",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-800 dark:text-white mb-2",children:P.title}),h.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-1",children:["Invoice #: ",P.invoiceNumber]}),P.poNumber&&P.poNumber.trim()!==""&&h.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["PO #: ",P.poNumber]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Date: ",new Date(P.date).toLocaleDateString()]}),h.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Due: ",new Date(P.dueDate).toLocaleDateString()]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Bill To:"}),b&&h.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:[h.jsx("p",{className:"font-medium",children:b.name}),h.jsx("p",{children:b.company}),h.jsx("p",{children:b.address}),h.jsx("p",{children:b.email}),h.jsx("p",{children:b.phone})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"From:"}),h.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:[h.jsx("p",{className:"font-medium",children:k.businessInfo.name||"Your Company Name"}),h.jsx("p",{className:"font-medium",children:[k.businessInfo.address,k.businessInfo.city,k.businessInfo.state,k.businessInfo.zip].filter(Boolean).join(", ")||"Your Company Address"}),h.jsx("p",{children:k.businessInfo.email||"Your Email"}),h.jsx("p",{children:k.businessInfo.phone||"Your Phone"}),k.businessInfo.website&&h.jsx("p",{children:k.businessInfo.website}),k.businessInfo.taxId&&h.jsxs("p",{children:["Tax ID: ",k.businessInfo.taxId]})]})]})]}),h.jsxs("table",{className:"w-full mb-8",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[h.jsx("th",{className:"text-left py-3 px-4 text-gray-800 dark:text-white",children:"Description"}),h.jsx("th",{className:"text-center py-3 px-4 text-gray-800 dark:text-white",children:"Quantity"}),h.jsx("th",{className:"text-right py-3 px-4 text-gray-800 dark:text-white",children:"Unit Price"}),h.jsx("th",{className:"text-right py-3 px-4 text-gray-800 dark:text-white",children:"Total"})]})}),h.jsx("tbody",{children:l.map((fe,Ue)=>h.jsxs("tr",{className:"border-b dark:border-gray-700",children:[h.jsx("td",{className:"py-3 px-4 text-gray-800 dark:text-white",children:fe.name}),h.jsx("td",{className:"text-center py-3 px-4 text-gray-800 dark:text-white",children:fe.quantity}),h.jsxs("td",{className:"text-right py-3 px-4 text-gray-800 dark:text-white",children:[k.preferences.currency||"$",fe.cost.toFixed(2)]}),h.jsxs("td",{className:"text-right py-3 px-4 text-gray-800 dark:text-white",children:[k.preferences.currency||"$",(fe.cost*fe.quantity).toFixed(2)]})]},Ue))}),h.jsxs("tfoot",{children:[h.jsxs("tr",{children:[h.jsx("td",{colSpan:"3",className:"text-right py-3 px-4 font-semibold text-gray-800 dark:text-white",children:"Subtotal"}),h.jsxs("td",{className:"text-right py-3 px-4 text-gray-800 dark:text-white",children:[k.preferences.currency||"$",pe().toFixed(2)]})]}),h.jsxs("tr",{children:[h.jsxs("td",{colSpan:"3",className:"text-right py-3 px-4 font-semibold text-gray-800 dark:text-white",children:["Tax (",(P.taxRate*100).toFixed(1),"%)"]}),h.jsxs("td",{className:"text-right py-3 px-4 text-gray-800 dark:text-white",children:[k.preferences.currency||"$",se().toFixed(2)]})]}),h.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[h.jsx("td",{colSpan:"3",className:"text-right py-3 px-4 font-bold text-lg text-gray-800 dark:text-white",children:"Total"}),h.jsxs("td",{className:"text-right py-3 px-4 font-bold text-lg text-gray-800 dark:text-white",children:[k.preferences.currency||"$",me().toFixed(2)]})]})]})]}),P.notes&&h.jsxs("div",{className:"mb-8",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Notes"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 whitespace-pre-line",children:P.notes})]}),h.jsx("div",{className:"border-t dark:border-gray-700 pt-8",children:h.jsx("div",{className:"flex justify-between items-center",children:h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:k.preferences.invoiceNotes||"Thank you for your business!"}),h.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Please make checks payable to ",k.businessInfo.name||"Your Company Name"]})]})})})]}),h.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[h.jsx("button",{onClick:()=>i("/invoicehistory"),type:"button",className:"flex items-center gap-2 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg",children:"View History"}),h.jsxs("button",{onClick:ie,type:"button",className:"flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg",disabled:v,children:[h.jsx(Nj,{})," Generate PDF"]}),h.jsxs("button",{onClick:()=>{z()},type:"button",className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg",disabled:v,children:[h.jsx(kj,{})," ",v?"Saving...":"Save Invoice"]})]})]});default:return null}};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 p-6",children:h.jsx("div",{className:"max-w-4xl mx-auto",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-6",children:"Create Invoice"}),h.jsxs("div",{className:"relative mb-8",children:[h.jsx("div",{className:"absolute left-0 top-1/2 w-full h-1 bg-gray-200 dark:bg-gray-700 -translate-y-1/2 z-0"}),h.jsxs("div",{className:"relative z-10 flex justify-between",children:[h.jsxs("div",{className:`flex flex-col items-center ${a>=1?"text-blue-500":"text-gray-400"}`,children:[h.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors ${a>=1?"bg-blue-500 text-white":"bg-gray-200 text-gray-500 dark:bg-gray-700"}`,children:a>1?h.jsx(LS,{}):1}),h.jsx("span",{className:"text-sm mt-2",children:"Customer"})]}),h.jsxs("div",{className:`flex flex-col items-center ${a>=2?"text-blue-500":"text-gray-400"}`,children:[h.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors ${a>=2?"bg-blue-500 text-white":"bg-gray-200 text-gray-500 dark:bg-gray-700"}`,children:a>2?h.jsx(LS,{}):2}),h.jsx("span",{className:"text-sm mt-2",children:"Items"})]}),h.jsxs("div",{className:`flex flex-col items-center ${a>=3?"text-blue-500":"text-gray-400"}`,children:[h.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors ${a>=3?"bg-blue-500 text-white":"bg-gray-200 text-gray-500 dark:bg-gray-700"}`,children:"3"}),h.jsx("span",{className:"text-sm mt-2",children:"Review"})]})]})]}),we(),h.jsxs("div",{className:"flex justify-between mt-6",children:[h.jsxs("button",{onClick:ge,className:`flex items-center gap-2 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg ${a===1?"opacity-50 cursor-not-allowed":""}`,disabled:a===1,children:[h.jsx(KW,{})," Previous"]}),a<3&&h.jsxs("button",{onClick:ce,className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg",children:["Next ",h.jsx(zW,{})]})]})]})})})}function Rj(){var I,O,M,L,j;const{invoiceId:t}=kk(),{user:e}=Lo(),n=ko(),[r,s]=ee.useState(null),[i,o]=ee.useState(!0),[a,A]=ee.useState(!1),[l,c]=ee.useState([]),[u,f]=ee.useState({totalInvoices:0,paidOnTime:0,paidLate:0,unpaid:0,averageDaysToPayment:0}),[d,B]=ee.useState(!0);ee.useEffect(()=>{(async()=>{var $;if(!e||!t){n("/invoicehistory");return}try{const re=Pr(Yt,"users",e.uid,"invoices",t),oe=await a1(re);if(oe.exists()){const pe=oe.data(),se={...pe,firestoreId:oe.id,createdAt:($=pe.createdAt)==null?void 0:$.toDate()};s(se),se.customer&&se.customer.email?b(se.customer.email):B(!1)}else $e.error("Invoice not found"),n("/invoicehistory")}catch(re){console.error("Error loading invoice:",re),$e.error("Failed to load invoice"),n("/invoicehistory")}o(!1)})()},[e,t,n]);const b=async k=>{if(!k||!e){B(!1);return}try{B(!0);const $=or(Yt,"users",e.uid,"invoices"),re=Jo($,Fd("customer.email","==",k)),oe=await ms(re),pe=[];let se=0,me=0,ve=0,Ve=0,z=0;oe.forEach(ie=>{var we,ue,fe,Ue,He,Ke;const ce=ie.data();if(ie.id===t)return;const ge={id:ie.id,...ce,createdAt:((ue=(we=ce.createdAt)==null?void 0:we.toDate)==null?void 0:ue.call(we))||new Date(ce.createdAt),paidAt:((Ue=(fe=ce.paidAt)==null?void 0:fe.toDate)==null?void 0:Ue.call(fe))||(ce.paidAt?new Date(ce.paidAt):null),dueDate:((Ke=(He=ce.dueDate)==null?void 0:He.toDate)==null?void 0:Ke.call(He))||(ce.dueDate?new Date(ce.dueDate):null)};if(ge.createdAt&&ge.paidAt){const Je=Math.floor((ge.paidAt-ge.createdAt)/864e5);ge.daysToPayment=Je,se+=Je,me++,ge.dueDate&&ge.paidAt>ge.dueDate?(Ve++,ge.paymentStatus="late"):(ve++,ge.paymentStatus="on-time")}else ge.dueDate&&new Date>ge.dueDate?(z++,ge.paymentStatus="overdue"):ge.paymentStatus="pending";pe.push(ge)});const J={totalInvoices:pe.length,paidOnTime:ve,paidLate:Ve,unpaid:z,averageDaysToPayment:me>0?Math.round(se/me):0};pe.sort((ie,ce)=>ce.createdAt-ie.createdAt),c(pe),f(J)}catch($){console.error("Error fetching customer payment history:",$)}finally{B(!1)}},E=async()=>{A(!0);const k=document.getElementById("invoice-detail"),$={margin:[.5,.5],filename:`invoice-${r.poNumber||"download"}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,logging:!1},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};try{await P_().set($).from(k).save(),$e.success("PDF downloaded successfully")}catch(re){console.error("PDF generation error:",re),$e.error("Failed to generate PDF")}finally{A(!1)}},v=k=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(k),C=k=>k?new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",S=()=>r.parts.reduce((k,$)=>k+(parseFloat($.price)||0)*(parseFloat($.quantity)||1),0),R=k=>k*(r.taxRate||0);if(i)return h.jsx("div",{className:"min-h-screen flex items-center justify-center dark:bg-gray-900",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(!r)return null;const P=S(),Q=R(P),T=P+Q;return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-gray-50 to-gray-100 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 p-4 md:p-6",children:h.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsxs("button",{onClick:()=>n("/invoicehistory"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[h.jsx(S_,{className:"w-5 h-5"}),h.jsx("span",{children:"Back to Invoices"})]}),h.jsxs("button",{onClick:E,disabled:a,className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx(tj,{className:"w-5 h-5"}),h.jsx("span",{children:a?"Generating PDF...":"Download PDF"})]})]}),h.jsxs("div",{id:"invoice-detail",className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 space-y-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:r.title||"Invoice"}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[h.jsx(Ql,{className:"w-4 h-4"}),h.jsxs("span",{children:["Invoice #: ",r.poNumber||r.id||"N/A"]})]}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[h.jsx(eh,{className:"w-4 h-4"}),h.jsxs("span",{children:["Created: ",C(r.createdAt)]})]}),r.dueDate&&h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[h.jsx(_G,{className:"w-4 h-4"}),h.jsxs("span",{children:["Due Date: ",C(r.dueDate)]})]})]})]}),h.jsxs("div",{className:"text-right space-y-1",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Your Company"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"123 Business Street"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"City, State 12345"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"contact@company.com"})]})]}),h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Bill To:"}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(wa,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{className:"text-gray-900 dark:text-white",children:(I=r.customer)==null?void 0:I.name})]}),((O=r.customer)==null?void 0:O.company)&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(JP,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:r.customer.company})]}),((M=r.customer)==null?void 0:M.address)&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(F_,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:r.customer.address})]}),((L=r.customer)==null?void 0:L.email)&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(qm,{className:"w-4 h-4 text-gray-400"}),h.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:r.customer.email})]})]})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-900 dark:text-white",children:"Description"}),h.jsx("th",{className:"text-right py-3 text-sm font-medium text-gray-900 dark:text-white",children:"Quantity"}),h.jsx("th",{className:"text-right py-3 text-sm font-medium text-gray-900 dark:text-white",children:"Price"}),h.jsx("th",{className:"text-right py-3 text-sm font-medium text-gray-900 dark:text-white",children:"Amount"})]})}),h.jsx("tbody",{children:r.parts.map((k,$)=>h.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[h.jsx("td",{className:"py-3 text-sm text-gray-900 dark:text-white",children:k.name}),h.jsx("td",{className:"py-3 text-sm text-right text-gray-900 dark:text-white",children:k.quantity||1}),h.jsx("td",{className:"py-3 text-sm text-right text-gray-900 dark:text-white",children:v(parseFloat(k.price)||0)}),h.jsx("td",{className:"py-3 text-sm text-right text-gray-900 dark:text-white",children:v((parseFloat(k.price)||0)*(parseFloat(k.quantity)||1))})]},$))}),h.jsxs("tfoot",{children:[h.jsxs("tr",{children:[h.jsx("td",{colSpan:"3",className:"py-3 text-sm text-right font-medium text-gray-900 dark:text-white",children:"Subtotal:"}),h.jsx("td",{className:"py-3 text-sm text-right font-medium text-gray-900 dark:text-white",children:v(P)})]}),h.jsxs("tr",{children:[h.jsxs("td",{colSpan:"3",className:"py-3 text-sm text-right font-medium text-gray-900 dark:text-white",children:["Tax (",(r.taxRate||0)*100,"%):"]}),h.jsx("td",{className:"py-3 text-sm text-right font-medium text-gray-900 dark:text-white",children:v(Q)})]}),h.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[h.jsx("td",{colSpan:"3",className:"py-3 text-right font-bold text-gray-900 dark:text-white",children:"Total:"}),h.jsx("td",{className:"py-3 text-right font-bold text-gray-900 dark:text-white",children:v(T)})]})]})]})}),"          ",r.notes&&h.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Notes:"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 whitespace-pre-wrap",children:r.notes})]}),h.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Thank you for your business. Please process the payment within the due date."})})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[h.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[h.jsx(XP,{className:"mr-2"}),"Customer Payment History"]}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Payment history and reliability metrics for ",(j=r.customer)==null?void 0:j.name]})]}),h.jsxs("div",{className:"px-6 py-4",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Payment Reliability"}),d?h.jsx("div",{className:"flex justify-center py-4",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[h.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Avg. Days to Pay"}),h.jsx(eh,{className:"h-4 w-4 text-blue-500"})]}),h.jsx("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300 mt-1",children:u.averageDaysToPayment}),h.jsx("p",{className:"text-xs text-blue-600/70 dark:text-blue-400/70 mt-1",children:"days on average"})]}),h.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:"Paid On Time"}),h.jsx(ZP,{className:"h-4 w-4 text-green-500"})]}),h.jsx("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300 mt-1",children:u.paidOnTime}),h.jsx("p",{className:"text-xs text-green-600/70 dark:text-green-400/70 mt-1",children:"invoices paid on time"})]}),h.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"Paid Late"}),h.jsx(ej,{className:"h-4 w-4 text-yellow-500"})]}),h.jsx("p",{className:"text-2xl font-bold text-yellow-700 dark:text-yellow-300 mt-1",children:u.paidLate}),h.jsx("p",{className:"text-xs text-yellow-600/70 dark:text-yellow-400/70 mt-1",children:"invoices paid late"})]}),h.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("p",{className:"text-xs text-red-700 dark:text-red-300",children:"Unpaid/Overdue"}),h.jsx(BG,{className:"h-4 w-4 text-red-500"})]}),h.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300 mt-1",children:u.unpaid}),h.jsx("p",{className:"text-xs text-red-600/70 dark:text-red-400/70 mt-1",children:"overdue invoices"})]})]}),u.totalInvoices>0&&h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Payment Reliability Score"}),h.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[Math.round(u.paidOnTime/Math.max(1,u.totalInvoices)*100),"%"]})]}),h.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:h.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${u.paidOnTime/Math.max(1,u.totalInvoices)*100}%`}})})]})]})]}),h.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Previous Invoices"}),d?h.jsx("div",{className:"flex justify-center py-4",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):l.length>0?h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice #"}),h.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),h.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),h.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment"}),h.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:l.map(k=>h.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-750",children:[h.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:k.poNumber||k.id.substring(0,6)}),h.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:C(k.createdAt)}),h.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:v(k.total||0)}),h.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm",children:k.paidAt?h.jsxs("span",{className:"text-gray-900 dark:text-white",children:[C(k.paidAt),k.daysToPayment!==void 0&&h.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:["(",k.daysToPayment," days)"]})]}):h.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Not paid"})}),h.jsxs("td",{className:"px-3 py-3 whitespace-nowrap text-sm",children:[k.paymentStatus==="on-time"&&h.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:"On time"}),k.paymentStatus==="late"&&h.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",children:"Late"}),k.paymentStatus==="overdue"&&h.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",children:"Overdue"}),k.paymentStatus==="pending"&&h.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",children:"Pending"})]})]},k.id))})]})}):h.jsx("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:h.jsx("p",{children:"No previous invoices found for this customer."})})]}),r.paymentHistory&&r.paymentHistory.length>0&&h.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:[h.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white flex items-center mb-3",children:[h.jsx(IG,{className:"mr-1"}),h.jsx("span",{children:"Current Invoice Payment History"})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),h.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),h.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Method"}),h.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:r.paymentHistory.map((k,$)=>{var re;return h.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-750",children:[h.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:C((re=k.date)!=null&&re.toDate?k.date.toDate():k.date)}),h.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:v(k.amount||0)}),h.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 capitalize",children:k.method}),h.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm",children:h.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:k.status||"Completed"})})]},$)})})]})})]})]})]})})}const Pl={CREATED:"created",IN_PROGRESS:"in_progress",COMPLETED:"completed",PAID:"paid",ARCHIVED:"archived"},Cs={CREATED:"created",PARTS_ADDED:"parts_added",SERVICE_COMPLETED:"service_completed",CUSTOMER_APPROVED:"customer_approved",PAYMENT_RECEIVED:"payment_received",PAYMENT_PARTIAL:"payment_partial",ARCHIVED:"archived"},Dj=(t,e="",n={})=>({type:t,timestamp:new Date,notes:e,data:n}),Lg=t=>{const e={currentStage:Pl.CREATED,milestones:[Dj(Cs.CREATED,"Invoice created")],completionPercentage:0,paymentPercentage:0,lastUpdated:new Date};return{...t,tracking:e}},Pg=(t,e,n="",r={})=>{t.tracking||(t=Lg(t));const s=Dj(e,n,r),i=[...t.tracking.milestones,s];let o=t.tracking.currentStage,a=i$(i),A=o$(t,r);switch(e){case Cs.SERVICE_COMPLETED:o=Pl.COMPLETED;break;case Cs.PAYMENT_RECEIVED:o=Pl.PAID;break;case Cs.PAYMENT_PARTIAL:break;case Cs.ARCHIVED:o=Pl.ARCHIVED;break}return{...t,tracking:{...t.tracking,milestones:i,currentStage:o,completionPercentage:a,paymentPercentage:A,lastUpdated:new Date}}},i$=t=>{const e={[Cs.CREATED]:10,[Cs.PARTS_ADDED]:30,[Cs.SERVICE_COMPLETED]:60,[Cs.CUSTOMER_APPROVED]:100};let n=0;return t.forEach(r=>{const s=e[r.type]||0;s>n&&(n=s)}),n},o$=(t,e={})=>{var r;const n=parseFloat(t.total)||0;return n===0?0:e.amountPaid?Math.min(100,parseFloat(e.amountPaid)/n*100):t.paidAmount?Math.min(100,parseFloat(t.paidAmount)/n*100):((r=t.tracking)==null?void 0:r.paymentPercentage)||0},j_=t=>{var f,d,B;if(!t.tracking)return null;const{currentStage:e,completionPercentage:n,paymentPercentage:r,milestones:s}=t.tracking,i=(f=s.find(b=>b.type===Cs.CREATED))==null?void 0:f.timestamp,o=(d=s.find(b=>b.type===Cs.SERVICE_COMPLETED))==null?void 0:d.timestamp,a=(B=s.find(b=>b.type===Cs.PAYMENT_RECEIVED))==null?void 0:B.timestamp;let A=null,l=null;i&&o&&(A=o-i),o&&a&&(l=a-o);let c="pending";e===Pl.COMPLETED&&r<100?c="completed_unpaid":e===Pl.COMPLETED&&r===100?c="completed_paid":e===Pl.PAID?c="paid":e===Pl.ARCHIVED&&(c="archived");const u=s[s.length-1];return{status:c,stage:e,completionPercentage:n,paymentPercentage:r,timeToComplete:A,timeToPay:l,lastActivity:{type:u.type,timestamp:u.timestamp,description:u.notes},milestoneCount:s.length}},a$=t=>{const e=j_(t);if(!e)return{label:"Pending",colorClass:"bg-yellow-100 text-yellow-800",iconType:"clock"};switch(e.status){case"completed_unpaid":return{label:"Completed (Unpaid)",colorClass:"bg-indigo-100 text-indigo-800",iconType:"check_unpaid"};case"completed_paid":return{label:"Completed (Paid)",colorClass:"bg-green-100 text-green-800",iconType:"check_paid"};case"paid":return{label:"Paid",colorClass:"bg-green-100 text-green-800",iconType:"money"};case"archived":return{label:"Archived",colorClass:"bg-gray-100 text-gray-800",iconType:"archive"};default:return{label:"Pending",colorClass:"bg-yellow-100 text-yellow-800",iconType:"clock"}}},Qj=(t,e=!1,n="",r=0)=>{let s=Pg(t,Cs.SERVICE_COMPLETED,n||"Service completed");return e?s=Pg(s,Cs.PAYMENT_RECEIVED,"Payment received in full",{amountPaid:t.total}):r>0&&(s=Pg(s,Cs.PAYMENT_PARTIAL,`Partial payment received: ${r}`,{amountPaid:r})),s},A$=Object.freeze(Object.defineProperty({__proto__:null,COMPLETION_STAGES:Pl,MILESTONE_TYPES:Cs,addMilestone:Pg,getTrackingStatus:a$,getTrackingSummary:j_,initializeTracking:Lg,markInvoiceCompleted:Qj},Symbol.toStringTag,{value:"Module"}));function l$(t){const[e,n]=ee.useState(!1),r=async(l,c={},u=null,f="",d={})=>{if(!t||!(l!=null&&l.id))return $e.error("Missing user ID or invoice information"),null;n(!0);try{const B=Pr(Yt,"users",t,"invoices",l.id);let b={...l};b.tracking||(b=Lg(b)),u&&(b=Pg(b,u,f,d));const E={...c,tracking:b.tracking,updatedAt:new Date};return await Ea(B,E),{...b,...c}}catch(B){return console.error("Error updating invoice:",B),$e.error("Failed to update invoice: "+B.message),null}finally{n(!1)}},s=async(l,c=!1,u="",f=0)=>{try{const d=Qj(l,c,u,f),b={status:c?"paid":"completed",completed:!0,completedAt:new Date};if(c||f>0){const E=parseFloat(l.paidAmount)||0,v=c?parseFloat(l.total):E+parseFloat(f);b.paidAmount=v,c&&(b.paid=!0,b.paidAt=new Date)}return await r(d,b)}catch(d){return console.error("Error completing invoice:",d),$e.error("Failed to complete invoice"),null}},i=async(l,c)=>{if(!c||isNaN(c)||c<=0)return $e.error("Please enter a valid payment amount"),null;try{let u={...l};u.tracking||(u=Lg(u));const d=(parseFloat(l.paidAmount)||0)+parseFloat(c),B=parseFloat(l.total)||0,b=d>=B,E=b?Cs.PAYMENT_RECEIVED:Cs.PAYMENT_PARTIAL,v=b?"Payment received in full":`Partial payment received: $${c}`,C=b?"paid":l.status==="completed"?"completed":l.status,S={paidAmount:d,status:C,...b?{paid:!0,paidAt:new Date}:{}};return await r(u,S,E,v,{amountPaid:c})}catch(u){return console.error("Error adding payment:",u),$e.error("Failed to add payment"),null}};return{isUpdating:e,updateInvoice:r,completeInvoice:s,addPayment:i,changeStatus:async(l,c)=>{var u;try{let f={...l};switch(f.tracking||(f=Lg(f)),c){case"completed":return await s(f,!1,"Service completed by technician");case"paid":return f.status==="completed"?await i(f,parseFloat(f.total||0)):await s(f,!0,"Service completed and payment received");case"pending":return((u=f.tracking)==null?void 0:u.currentStage)!=="created"?await r(f,{status:c},Cs.PARTS_ADDED,"Invoice updated and pending"):await r(f,{status:c});default:return await r(f,{status:c})}}catch(f){return console.error("Error changing invoice status:",f),$e.error("Failed to change invoice status"),null}},getTracking:l=>l?j_(l):null,finishInvoice:async l=>{try{return!l||l.status!=="paid"?($e.error("Only paid invoices can be marked as finished"),null):await r(l,{status:"finished",finished:!0,finishedAt:new Date,active:!1},Cs.COMPLETED,"Invoice has been closed and marked as finished")}catch(c){return console.error("Error finishing invoice:",c),$e.error("Failed to finish invoice"),null}}}}function Oj(){const{user:t}=Lo();ko();const{invoices:e,loading:n,refreshInvoices:r}=C_(),[s,i]=ee.useState(!0),[o,a]=ee.useState(null),[A,l]=ee.useState(!1),[c,u]=ee.useState("all"),[f,d]=ee.useState(""),[B,b]=ee.useState(!1),[E,v]=ee.useState(null),[C,S]=ee.useState(""),{addPayment:R,completeInvoice:P,changeStatus:Q,isUpdating:T,finishInvoice:I}=l$(t==null?void 0:t.uid);ee.useState(!1),ee.useState(null);const[O,M]=ee.useState(!1);ee.useState("bottom");const[L,j]=ee.useState([]);ee.useState(!1);const[k,$]=ee.useState(!1);ee.useState([]),ee.useState({totalInvoices:0,paidOnTime:0,paidLate:0,unpaid:0,averageDaysToPayment:0}),ee.useState(!1),ee.useState(!1),ee.useState(null),ee.useState({title:"",notes:"",parts:[]}),ee.useState({name:"",cost:"",quantity:1}),ee.useRef(null);const re=ee.useRef(null);ee.useEffect(()=>{i(n)},[n]),ee.useEffect(()=>{function J(ie){re.current&&!re.current.contains(ie.target)&&M(!1)}return document.addEventListener("mousedown",J),()=>{document.removeEventListener("mousedown",J)}},[]);const oe=async()=>{i(!0);try{const J=or(Yt,"users",t.uid,"invoices"),ie=await ms(J);let ce=[];ie.forEach(ge=>{var fe,Ue,He;const we=ge.data(),ue=typeof we.paidAmount<"u"?parseFloat(we.paidAmount):0;ce.push({id:ge.id,...we,paidAmount:ue,createdAt:((fe=we.createdAt)==null?void 0:fe.toDate())||new Date,dueDate:((Ue=we.dueDate)==null?void 0:Ue.toDate())||new Date,updatedAt:((He=we.updatedAt)==null?void 0:He.toDate())||new Date})}),ce.sort((ge,we)=>we.updatedAt-ge.updatedAt),ce.length>0&&r()}catch(J){console.error("Error loading invoices:",J),$e.error("Failed to load invoices")}finally{i(!1)}};ee.useEffect(()=>{e.length===0&&!n&&oe()},[e,n]);const pe=e.filter(J=>{var ge,we;const ie=c==="all"||J.status===c,ce=((ge=J.customerName)==null?void 0:ge.toLowerCase().includes(C.toLowerCase()))||((we=J.invoiceNumber)==null?void 0:we.toLowerCase().includes(C.toLowerCase()));return ie&&ce}),se=J=>{a(J),l(!0)},me=async J=>{if(window.confirm("Are you sure you want to delete this invoice?"))try{await $m(Pr(Yt,"users",t.uid,"invoices",J)),$e.success("Invoice deleted successfully"),r()}catch(ie){console.error("Error deleting invoice:",ie),$e.error("Failed to delete invoice")}},ve=J=>{const ie=document.createElement("div");ie.innerHTML=`<h1>Invoice #${J.invoiceNumber}</h1><p>Customer: ${J.customerName}</p><p>Total: $${J.totalAmount}</p>`,P_().from(ie).save(`invoice_${J.id}.pdf`)},Ve=async()=>{if(!f||isNaN(f)||parseFloat(f)<=0){$e.error("Please enter a valid payment amount");return}try{await R(E.id,parseFloat(f)),b(!1),d(""),$e.success("Payment recorded successfully")}catch{$e.error("Failed to record payment")}},z=J=>{v(J),b(!0)};return s?h.jsx("div",{children:"Loading..."}):h.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[h.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Invoice History"}),h.jsxs("div",{className:"flex mb-4",children:[h.jsx("input",{type:"text",placeholder:"Search by customer or invoice number...",value:C,onChange:J=>S(J.target.value),className:"flex-1 p-2 border rounded mr-2 dark:bg-gray-800 dark:text-white"}),h.jsxs("select",{value:c,onChange:J=>u(J.target.value),className:"p-2 border rounded dark:bg-gray-800 dark:text-white",children:[h.jsx("option",{value:"all",children:"All Statuses"}),h.jsx("option",{value:"draft",children:"Draft"}),h.jsx("option",{value:"sent",children:"Sent"}),h.jsx("option",{value:"pending",children:"Pending"}),h.jsx("option",{value:"paid",children:"Paid"}),h.jsx("option",{value:"overdue",children:"Overdue"})]})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:h.jsx("input",{type:"checkbox",checked:k,onChange:()=>$(!k)})}),h.jsx("th",{children:"Invoice #"}),h.jsx("th",{children:"Customer"}),h.jsx("th",{children:"Amount"}),h.jsx("th",{children:"Status"}),h.jsx("th",{children:"Due Date"}),h.jsx("th",{children:"Actions"})]})}),h.jsx("tbody",{children:pe.map(J=>{var ie;return h.jsxs("tr",{children:[h.jsx("td",{children:h.jsx("input",{type:"checkbox",checked:L.includes(J.id),onChange:()=>{}})}),h.jsx("td",{children:J.invoiceNumber||J.id}),h.jsx("td",{children:J.customerName}),h.jsxs("td",{children:["$",(ie=J.totalAmount)==null?void 0:ie.toFixed(2)]}),h.jsx("td",{children:J.status}),h.jsx("td",{children:new Date(J.dueDate).toLocaleDateString()}),h.jsxs("td",{children:[h.jsx("button",{onClick:()=>se(J),children:h.jsx(WW,{})}),h.jsx("button",{onClick:()=>me(J.id),children:h.jsx(Pj,{})}),h.jsx("button",{onClick:()=>ve(J),children:h.jsx(Nj,{})}),h.jsx("button",{onClick:()=>z(J),children:h.jsx($W,{})})]})]},J.id)})})]})}),A&&o&&h.jsx("div",{className:"modal",children:h.jsx("button",{onClick:()=>l(!1),children:"Close"})}),B&&h.jsxs("div",{className:"modal",children:[h.jsxs("h2",{children:["Record Payment for Invoice #",E==null?void 0:E.invoiceNumber]}),h.jsx("input",{type:"number",value:f,onChange:J=>d(J.target.value),placeholder:"Payment Amount"}),h.jsx("button",{onClick:Ve,children:"Record"}),h.jsx("button",{onClick:()=>b(!1),children:"Cancel"})]})]})}const c$=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Mj=t=>Array.isArray(t)&&t.every(e=>typeof e=="object"&&!(e instanceof Array)),u$=t=>Array.isArray(t)&&t.every(e=>Array.isArray(e)),d$=t=>Array.from(t.map(e=>Object.keys(e)).reduce((e,n)=>new Set([...e,...n]),[])),h$=(t,e)=>{e=e||d$(t);let n=e,r=e;Mj(e)&&(n=e.map(i=>i.label),r=e.map(i=>i.key));const s=t.map(i=>r.map(o=>f$(o,i)));return[n,...s]},f$=(t,e)=>{const n=t.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(r,s,i,o){const a=r[s];if(a==null)o.splice(1);else return a},e);return n===void 0?t in e?e[t]:"":n},p$=t=>typeof t>"u"||t===null?"":t,Hj=(t,e=",",n='"')=>t.filter(r=>r).map(r=>r.map(s=>p$(s)).map(s=>`${n}${s}${n}`).join(e)).join(`
`),g$=(t,e,n,r)=>Hj(e?[e,...t]:t,n,r),m$=(t,e,n,r)=>Hj(h$(t,e),n,r),y$=(t,e,n,r)=>e?`${e.join(n)}
${t}`:t.replace(/"/g,'""'),Vj=(t,e,n,r)=>{if(Mj(t))return m$(t,e,n,r);if(u$(t))return g$(t,e,n,r);if(typeof t=="string")return y$(t,e,n);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},Kj=(t,e,n,r,s)=>{const i=Vj(t,n,r,s),o=c$()?"application/csv":"text/csv",a=new Blob([e?"\uFEFF":"",i],{type:o}),A=`data:${o};charset=utf-8,${e?"\uFEFF":""}${i}`,l=window.URL||window.webkitURL;return typeof l.createObjectURL>"u"?A:l.createObjectURL(a)};var zj={exports:{}},v$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",w$=v$,x$=w$;function Gj(){}function Wj(){}Wj.resetWarningCache=Gj;var b$=function(){function t(r,s,i,o,a,A){if(A!==x$){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Wj,resetWarningCache:Gj};return n.PropTypes=n,n};zj.exports=b$();var pa=zj.exports;const $j={data:pa.oneOfType([pa.string,pa.array,pa.func]).isRequired,headers:pa.array,target:pa.string,separator:pa.string,filename:pa.string,uFEFF:pa.bool,onClick:pa.func,asyncOnClick:pa.bool,enclosingCharacter:pa.string},qj={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},B$={target:"_blank"};class US extends Tn.Component{constructor(e){super(e),this.state={}}buildURI(){return Kj(...arguments)}componentDidMount(){const{data:e,headers:n,separator:r,enclosingCharacter:s,uFEFF:i,target:o,specs:a,replace:A}=this.props;this.state.page=window.open(this.buildURI(e,i,n,r,s),o,a,A)}getWindow(){return this.state.page}render(){return null}}rn(US,"defaultProps",Object.assign(qj,B$)),rn(US,"propTypes",$j);var ky;let _$=(ky=class extends Tn.Component{constructor(e){super(e),this.buildURI=this.buildURI.bind(this)}buildURI(){return Kj(...arguments)}handleLegacy(e,n=!1){if(window.navigator.msSaveOrOpenBlob){e.preventDefault();const{data:r,headers:s,separator:i,filename:o,enclosingCharacter:a,uFEFF:A}=this.props,l=n&&typeof r=="function"?r():r;let c=new Blob([A?"\uFEFF":"",Vj(l,s,i,a)]);return window.navigator.msSaveBlob(c,o),!1}}handleAsyncClick(e){const n=r=>{if(r===!1){e.preventDefault();return}this.handleLegacy(e,!0)};this.props.onClick(e,n)}handleSyncClick(e){if(this.props.onClick(e)===!1){e.preventDefault();return}this.handleLegacy(e)}handleClick(){return e=>{if(typeof this.props.onClick=="function")return this.props.asyncOnClick?this.handleAsyncClick(e):this.handleSyncClick(e);this.handleLegacy(e)}}render(){const{data:e,headers:n,separator:r,filename:s,uFEFF:i,children:o,onClick:a,asyncOnClick:A,enclosingCharacter:l,...c}=this.props,f=typeof window>"u"?"":this.buildURI(e,i,n,r,l);return h.jsx("a",{download:s,...c,ref:d=>this.link=d,target:"_self",href:f,onClick:this.handleClick(),children:o})}},rn(ky,"defaultProps",qj),rn(ky,"propTypes",$j),ky);const Yj=_$;function C$(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Xj=C$,E$=typeof Il=="object"&&Il&&Il.Object===Object&&Il,I$=E$,S$=I$,F$=typeof self=="object"&&self&&self.Object===Object&&self,T$=S$||F$||Function("return this")(),Jj=T$,N$=Jj,k$=function(){return N$.Date.now()},L$=k$,P$=/\s/;function j$(t){for(var e=t.length;e--&&P$.test(t.charAt(e)););return e}var U$=j$,R$=U$,D$=/^\s+/;function Q$(t){return t&&t.slice(0,R$(t)+1).replace(D$,"")}var O$=Q$,M$=Jj,H$=M$.Symbol,Zj=H$,RS=Zj,eU=Object.prototype,V$=eU.hasOwnProperty,K$=eU.toString,Mp=RS?RS.toStringTag:void 0;function z$(t){var e=V$.call(t,Mp),n=t[Mp];try{t[Mp]=void 0;var r=!0}catch{}var s=K$.call(t);return r&&(e?t[Mp]=n:delete t[Mp]),s}var G$=z$,W$=Object.prototype,$$=W$.toString;function q$(t){return $$.call(t)}var Y$=q$,DS=Zj,X$=G$,J$=Y$,Z$="[object Null]",eq="[object Undefined]",QS=DS?DS.toStringTag:void 0;function tq(t){return t==null?t===void 0?eq:Z$:QS&&QS in Object(t)?X$(t):J$(t)}var nq=tq;function rq(t){return t!=null&&typeof t=="object"}var sq=rq,iq=nq,oq=sq,aq="[object Symbol]";function Aq(t){return typeof t=="symbol"||oq(t)&&iq(t)==aq}var lq=Aq,cq=O$,OS=Xj,uq=lq,MS=0/0,dq=/^[-+]0x[0-9a-f]+$/i,hq=/^0b[01]+$/i,fq=/^0o[0-7]+$/i,pq=parseInt;function gq(t){if(typeof t=="number")return t;if(uq(t))return MS;if(OS(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=OS(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=cq(t);var n=hq.test(t);return n||fq.test(t)?pq(t.slice(2),n?2:8):dq.test(t)?MS:+t}var mq=gq,yq=Xj,px=L$,HS=mq,vq="Expected a function",wq=Math.max,xq=Math.min;function bq(t,e,n){var r,s,i,o,a,A,l=0,c=!1,u=!1,f=!0;if(typeof t!="function")throw new TypeError(vq);e=HS(e)||0,yq(n)&&(c=!!n.leading,u="maxWait"in n,i=u?wq(HS(n.maxWait)||0,e):i,f="trailing"in n?!!n.trailing:f);function d(Q){var T=r,I=s;return r=s=void 0,l=Q,o=t.apply(I,T),o}function B(Q){return l=Q,a=setTimeout(v,e),c?d(Q):o}function b(Q){var T=Q-A,I=Q-l,O=e-T;return u?xq(O,i-I):O}function E(Q){var T=Q-A,I=Q-l;return A===void 0||T>=e||T<0||u&&I>=i}function v(){var Q=px();if(E(Q))return C(Q);a=setTimeout(v,b(Q))}function C(Q){return a=void 0,f&&r?d(Q):(r=s=void 0,o)}function S(){a!==void 0&&clearTimeout(a),l=0,r=A=s=a=void 0}function R(){return a===void 0?o:C(px())}function P(){var Q=px(),T=E(Q);if(r=arguments,s=this,A=Q,T){if(a===void 0)return B(A);if(u)return clearTimeout(a),a=setTimeout(v,e),d(A)}return a===void 0&&(a=setTimeout(v,e)),o}return P.cancel=S,P.flush=R,P}var Bq=bq;const U_=b1(Bq);function tU(){const{user:t}=Lo();ee.useContext(yw);const[e,n]=ee.useState(!0),[r,s]=ee.useState([]),[i,o]=ee.useState([]),[a,A]=ee.useState({}),[l,c]=ee.useState(""),[u,f]=ee.useState("name"),[d,B]=ee.useState("asc"),[b,E]=ee.useState("all"),[v,C]=ee.useState({totalCustomers:0,activeCustomers:0,averageInvoiceValue:0}),[S,R]=ee.useState(!1),[P,Q]=ee.useState(!1),[T,I]=ee.useState(null),[O,M]=ee.useState(!1),L={name:"",email:"",phone:"",address:"",company:"",notes:"",preferredContact:"email",status:"active"},[j,k]=ee.useState(L),[$,re]=ee.useState({}),oe=ee.useCallback(ue=>[...ue].sort((fe,Ue)=>{let He=fe[u]??"",Ke=Ue[u]??"";return u==="createdAt"&&He&&Ke?(He=He.toDate?He.toDate():new Date(He),Ke=Ke.toDate?Ke.toDate():new Date(Ke),d==="asc"?He-Ke:Ke-He):d==="asc"?String(He).localeCompare(String(Ke)):String(Ke).localeCompare(String(He))}),[u,d]),pe=ue=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ue),se=ue=>ue?new Date(ue).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",me=ue=>{var He;const fe=a[ue]??[];return{total:fe.reduce((Ke,Je)=>{var Oe;const ft=(Oe=Je.parts)==null?void 0:Oe.reduce((de,Et)=>de+(parseFloat(Et.price)||0),0);return Ke+ft},0),lastService:((He=fe[0])==null?void 0:He.createdAt)??null,invoiceCount:fe.length}};ee.useEffect(()=>{t&&(async()=>{try{const fe=(await ms(or(Yt,"users",t.uid,"customers"))).docs.map(ft=>({id:ft.id,...ft.data()}));s(fe),o(fe);const He=(await ms(Jo(or(Yt,"users",t.uid,"invoices"),x_("createdAt","desc")))).docs.map(ft=>{var Oe;return{id:ft.id,...ft.data(),createdAt:(Oe=ft.data().createdAt)==null?void 0:Oe.toDate()}}),Ke=He.reduce((ft,Oe)=>{var Et;const de=(Et=Oe.customer)==null?void 0:Et.id;return de&&(ft[de]=ft[de]?[...ft[de],Oe]:[Oe]),ft},{});A(Ke);const Je=He.reduce((ft,Oe)=>{var Et;const de=(Et=Oe.parts)==null?void 0:Et.reduce((At,Ge)=>At+(parseFloat(Ge.price)||0),0);return ft+de},0);C({totalCustomers:fe.length,activeCustomers:fe.filter(ft=>ft.status==="active").length,averageInvoiceValue:He.length>0?Je/He.length:0})}catch(ue){console.error("Error loading customers:",ue),$e.error("Failed to load customer data")}finally{n(!1)}})()},[t]);const ve=ee.useCallback(U_(ue=>{if(c(ue),!ue.trim())return o(r);const fe=ue.toLowerCase();o(r.filter(Ue=>Object.values(Ue).some(He=>String(He).toLowerCase().includes(fe))))},300),[r]),Ve=()=>{const ue={};return j.name.trim()||(ue.name="Name is required"),j.email&&!/\S+@\S+\.\S+/.test(j.email)&&(ue.email="Invalid email format"),re(ue),Object.keys(ue).length===0},z=({target:{name:ue,value:fe}})=>{k(Ue=>({...Ue,[ue]:fe})),$[ue]&&re(Ue=>({...Ue,[ue]:""}))},J=async ue=>{if(ue.preventDefault(),!Ve())return $e.error("Please fix the form errors");n(!0);try{if(O&&T){const fe=Pr(Yt,"users",t.uid,"customers",T.id),Ue={...j,updatedAt:new Date};await Ea(fe,Ue),s(He=>He.map(Ke=>Ke.id===T.id?{...Ke,...Ue}:Ke))}else{const fe=await Wl(or(Yt,"users",t.uid,"customers"),{...j,createdAt:new Date,updatedAt:new Date});s(Ue=>[...Ue,{id:fe.id,...j}])}$e.success("Customer saved successfully"),ce()}catch(fe){console.error("Save customer error:",fe),$e.error("Failed to save customer")}finally{n(!1)}},ie=async ue=>{try{await $m(Pr(Yt,"users",t.uid,"customers",ue)),s(fe=>fe.filter(Ue=>Ue.id!==ue)),$e.success("Customer deleted")}catch(fe){console.error("Delete customer error:",fe),$e.error("Failed to delete customer")}finally{Q(!1)}},ce=()=>{R(!1),M(!1),I(null),k(L),re({})},ge=()=>{M(!1),I(null),R(!0)},we=oe(b==="all"?i:i.filter(ue=>b==="active"?ue.status==="active":ue.status==="inactive"));return e?h.jsx("div",{className:"min-h-screen flex items-center justify-center dark:bg-gray-900",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-gray-50 to-gray-100 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 p-4 md:p-6",children:[h.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Customers"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage your customer relationships"})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs(Yj,{data:r,filename:"customers.csv",className:"btn btn-secondary flex items-center gap-2",children:[h.jsx(tj,{})," Export"]}),h.jsxs("button",{onClick:ge,className:"btn btn-primary flex items-center gap-2",children:[h.jsx(kG,{})," Add Customer"]})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{label:"Total Customers",value:v.totalCustomers,icon:h.jsx(wa,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),bg:"blue"},{label:"Active Customers",value:v.activeCustomers,icon:h.jsx(wa,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),bg:"green"},{label:"Avg. Invoice Value",value:`$${v.averageInvoiceValue.toFixed(2)}`,icon:h.jsx(JP,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),bg:"purple"}].map(ue=>h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:ue.label}),h.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ue.value})]}),h.jsx("div",{className:`p-3 bg-${ue.bg}-100 dark:bg-${ue.bg}-900/30 rounded-lg`,children:ue.icon})]})},ue.label))}),h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx("input",{className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200",placeholder:"Search customers…",onChange:ue=>ve(ue.target.value)}),h.jsx(Ym,{className:"absolute left-3 top-3 text-gray-400"})]}),h.jsxs("div",{className:"relative flex items-center gap-2",children:[h.jsxs("select",{className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 appearance-none",value:u,onChange:ue=>f(ue.target.value),children:[h.jsx("option",{value:"name",children:"Sort by Name"}),h.jsx("option",{value:"company",children:"Sort by Company"}),h.jsx("option",{value:"createdAt",children:"Sort by Date Added"})]}),h.jsxs("button",{type:"button",title:`Sort ${d==="asc"?"Descending":"Ascending"}`,className:"px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 flex items-center",onClick:()=>B(ue=>ue==="asc"?"desc":"asc"),children:[h.jsx(SG,{className:`w-4 h-4 ${d==="asc"?"rotate-180":""}`}),h.jsx("span",{className:"ml-1 text-xs",children:d==="asc"?"Asc":"Desc"})]})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("select",{className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 appearance-none",value:b,onChange:ue=>E(ue.target.value),children:[h.jsx("option",{value:"all",children:"All Customers"}),h.jsx("option",{value:"active",children:"Active Only"}),h.jsx("option",{value:"inactive",children:"Inactive Only"})]}),h.jsx(wa,{className:"absolute left-3 top-3 text-gray-400"})]})]})}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:we.length===0?h.jsxs("div",{className:"col-span-full text-center py-12 bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:[h.jsx(wa,{className:"mx-auto h-12 w-12 text-gray-400"}),h.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No customers found"})]}):we.map(ue=>{const fe=me(ue.id);return h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-md transition-shadow p-4",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:h.jsx(wa,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:ue.name}),ue.company&&h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:ue.company})]})]}),h.jsxs("div",{className:"mt-4 space-y-2",children:[ue.email&&h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[h.jsx(qm,{className:"w-4 h-4"}),h.jsx("span",{children:ue.email})]}),ue.phone&&h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[h.jsx(rj,{className:"w-4 h-4"}),h.jsx("span",{children:ue.phone})]}),ue.address&&h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[h.jsx(F_,{className:"w-4 h-4"}),h.jsx("span",{children:ue.address})]})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{title:"Edit Customer",className:"p-2 text-gray-600 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400",onClick:()=>{I(ue),k({...L,...ue}),M(!0),R(!0)},children:h.jsx(nj,{className:"w-4 h-4"})}),h.jsx("button",{title:"Delete Customer",className:"p-2 text-gray-600 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400",onClick:()=>{I(ue),Q(!0)},children:h.jsx(vw,{className:"w-4 h-4"})})]})]}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx(eh,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Last Service"}),h.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:fe.lastService?se(fe.lastService):"None"})]})]}),h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx(Ql,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Invoices"}),h.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:fe.invoiceCount})]})]})]}),h.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm",children:[h.jsx(Za,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Billed"}),h.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:pe(fe.total)})]})]})]}),ue.notes&&h.jsx("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:ue.notes})})]},ue.id)})})]}),S&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:O?"Edit Customer":"Add New Customer"}),h.jsx("button",{onClick:ce,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:h.jsx(T_,{className:"w-5 h-5"})})]}),h.jsxs("form",{onSubmit:J,className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name *"}),h.jsx("input",{name:"name",value:j.name,onChange:z,className:`w-full rounded-lg border ${$.name?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-white px-4 py-2`}),$.name&&h.jsx("p",{className:"mt-1 text-sm text-red-500",children:$.name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company"}),h.jsx("input",{name:"company",value:j.company,onChange:z,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white px-4 py-2"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),h.jsx("input",{type:"email",name:"email",value:j.email,onChange:z,className:`w-full rounded-lg border ${$.email?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-white px-4 py-2`}),$.email&&h.jsx("p",{className:"mt-1 text-sm text-red-500",children:$.email})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone"}),h.jsx("input",{name:"phone",value:j.phone,onChange:z,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white px-4 py-2"})]}),h.jsxs("div",{className:"col-span-full",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address"}),h.jsx("input",{name:"address",value:j.address,onChange:z,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white px-4 py-2"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Preferred Contact"}),h.jsxs("select",{name:"preferredContact",value:j.preferredContact,onChange:z,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white px-4 py-2",children:[h.jsx("option",{value:"email",children:"Email"}),h.jsx("option",{value:"phone",children:"Phone"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),h.jsxs("select",{name:"status",value:j.status,onChange:z,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white px-4 py-2",children:[h.jsx("option",{value:"active",children:"Active"}),h.jsx("option",{value:"inactive",children:"Inactive"})]})]}),h.jsxs("div",{className:"col-span-full",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),h.jsx("textarea",{name:"notes",rows:"3",value:j.notes,onChange:z,className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white px-4 py-2"})]})]}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{type:"button",className:"btn btn-secondary",onClick:ce,children:"Cancel"}),h.jsx("button",{type:"submit",className:"btn btn-primary",disabled:e,children:e?"Saving…":O?"Update Customer":"Add Customer"})]})]})]})})}),P&&T&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Delete Customer"}),h.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Are you sure you want to delete ",T.name,"? This action cannot be undone."]}),h.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[h.jsx("button",{className:"btn btn-secondary",onClick:()=>Q(!1),children:"Cancel"}),h.jsx("button",{className:"btn btn-danger",onClick:()=>ie(T.id),children:"Delete"})]})]})})]})}function nU(){const{user:t}=Lo(),[e,n]=ee.useState([]),[r,s]=ee.useState([]),[i,o]=ee.useState(null),[a,A]=ee.useState({name:"",email:"",phone:"",address:"",company:"",notes:"",preferredContact:"email",status:"active"}),[l,c]=ee.useState(!0),[u,f]=ee.useState({}),[d,B]=ee.useState({totalCustomers:0,totalInvoices:0,totalRevenue:0});ee.useEffect(()=>{if(!t)return;(async()=>{try{const T=or(Yt,"users",t.uid,"customers"),O=(await ms(T)).docs.map(re=>({id:re.id,...re.data()}));n(O),s(O);const M=or(Yt,"users",t.uid,"invoices"),j=(await ms(Jo(M,x_("createdAt","desc")))).docs.map(re=>{var oe;return{id:re.id,...re.data(),createdAt:(oe=re.data().createdAt)==null?void 0:oe.toDate()}}),k={};let $=0;j.forEach(re=>{var oe,pe;if((oe=re.customer)!=null&&oe.id){k[re.customer.id]||(k[re.customer.id]=[]),k[re.customer.id].push(re);const se=((pe=re.parts)==null?void 0:pe.reduce((me,ve)=>me+(parseFloat(ve.price)||0)*(parseFloat(ve.quantity)||1),0))||0;$+=se}}),f(k),B({totalCustomers:O.length,totalInvoices:j.length,totalRevenue:$}),c(!1)}catch(T){console.error("Error fetching data:",T),$e.error("Failed to load customer history"),c(!1)}})()},[t]);const b=U_(Q=>{if(!Q.trim()){s(e);return}const T=e.filter(I=>Object.values(I).some(O=>String(O).toLowerCase().includes(Q.toLowerCase())));s(T)},300),E=Q=>{o(Q.id),A({name:Q.name||"",email:Q.email||"",phone:Q.phone||"",address:Q.address||"",company:Q.company||"",notes:Q.notes||"",preferredContact:Q.preferredContact||"email",status:Q.status||"active"})},v=async()=>{if(!(!i||!t))try{const Q=Pr(Yt,"users",t.uid,"customers",i);await Ea(Q,a),n(T=>T.map(I=>I.id===i?{...I,...a}:I)),s(T=>T.map(I=>I.id===i?{...I,...a}:I)),o(null),A({name:"",email:"",phone:"",address:"",company:"",notes:"",preferredContact:"email",status:"active"}),$e.success("Customer updated successfully")}catch(Q){console.error("Error updating customer:",Q),$e.error("Failed to update customer")}},C=async Q=>{if(t)try{const T=Pr(Yt,"users",t.uid,"customers",Q);await $m(T),n(I=>I.filter(O=>O.id!==Q)),s(I=>I.filter(O=>O.id!==Q)),$e.success("Customer deleted successfully")}catch(T){console.error("Error deleting customer:",T),$e.error("Failed to delete customer")}},S=Q=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Q),R=Q=>Q?new Date(Q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",P=Q=>{const T=u[Q]||[],I=T.reduce((M,L)=>{var j;return M+(((j=L.parts)==null?void 0:j.reduce((k,$)=>k+(parseFloat($.price)||0)*(parseFloat($.quantity)||1),0))||0)},0),O=T.length>0?T[0].createdAt:null;return{total:I,lastService:O,invoiceCount:T.length,recentInvoices:T.slice(0,3)}};return l?h.jsx("div",{className:"min-h-screen flex items-center justify-center dark:bg-gray-900",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-gray-50 to-gray-100 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 p-4 md:p-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[h.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Customer History"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"View detailed customer history and interactions"})]})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Customers"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:d.totalCustomers})]}),h.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:h.jsx(wa,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Invoices"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:d.totalInvoices})]}),h.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:h.jsx(Ql,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:S(d.totalRevenue)})]}),h.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:h.jsx(Za,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})})]}),h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm",children:h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",placeholder:"Search customers...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200",onChange:Q=>b(Q.target.value)}),h.jsx(Ym,{className:"absolute left-3 top-3 text-gray-400"})]})}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.length===0?h.jsxs("div",{className:"col-span-full text-center py-12 bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:[h.jsx(wa,{className:"mx-auto h-12 w-12 text-gray-400"}),h.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No customers found"}),h.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Try adjusting your search terms"})]}):r.map(Q=>{const T=P(Q.id);return h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-md transition-shadow",children:i===Q.id?h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Edit Customer"}),h.jsx("button",{onClick:()=>o(null),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:h.jsx(T_,{className:"w-5 h-5"})})]}),h.jsx("input",{value:a.name,onChange:I=>A({...a,name:I.target.value}),placeholder:"Customer Name",className:"w-full p-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),h.jsx("input",{value:a.email,onChange:I=>A({...a,email:I.target.value}),placeholder:"Email",className:"w-full p-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),h.jsx("input",{value:a.phone,onChange:I=>A({...a,phone:I.target.value}),placeholder:"Phone",className:"w-full p-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),h.jsx("input",{value:a.company,onChange:I=>A({...a,company:I.target.value}),placeholder:"Company",className:"w-full p-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),h.jsx("textarea",{value:a.address,onChange:I=>A({...a,address:I.target.value}),placeholder:"Address",className:"w-full p-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:"2"}),h.jsx("textarea",{value:a.notes,onChange:I=>A({...a,notes:I.target.value}),placeholder:"Notes",className:"w-full p-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:"2"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:v,className:"flex-1 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition",children:"Save"}),h.jsx("button",{onClick:()=>o(null),className:"flex-1 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition",children:"Cancel"})]})]}):h.jsxs("div",{className:"p-4",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:h.jsx(wa,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:Q.name}),Q.company&&h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:Q.company})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>E(Q),className:"p-2 text-gray-600 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400",children:h.jsx(nj,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>C(Q.id),className:"p-2 text-gray-600 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400",children:h.jsx(vw,{className:"w-4 h-4"})})]})]}),h.jsxs("div",{className:"mt-4 space-y-2",children:[Q.email&&h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[h.jsx(qm,{className:"w-4 h-4"}),h.jsx("span",{children:Q.email})]}),Q.phone&&h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[h.jsx(rj,{className:"w-4 h-4"}),h.jsx("span",{children:Q.phone})]}),Q.address&&h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[h.jsx(F_,{className:"w-4 h-4"}),h.jsx("span",{children:Q.address})]})]}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx(eh,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Last Service"}),h.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:T.lastService?R(T.lastService):"No service yet"})]})]}),h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx(Ql,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Invoices"}),h.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:T.invoiceCount})]})]})]}),h.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm",children:[h.jsx(Za,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Revenue"}),h.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:S(T.total)})]})]})]}),T.recentInvoices.length>0&&h.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Recent Invoices"}),h.jsx("div",{className:"space-y-2",children:T.recentInvoices.map(I=>{var O;return h.jsxs("div",{className:"flex justify-between items-center text-sm",children:[h.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:R(I.createdAt)}),h.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:S(((O=I.parts)==null?void 0:O.reduce((M,L)=>M+(parseFloat(L.price)||0)*(parseFloat(L.quantity)||1),0))||0)})]},I.id)})})]}),Q.notes&&h.jsx("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:Q.notes})})]})},Q.id)})})]})})}function R_({message:t}){return h.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsxs("span",{className:"block sm:inline",children:[" ",t]})]})}function _q(){const{user:t}=Lo(),e=ko(),[n,r]=ee.useState([]),[s,i]=ee.useState(!0),[o,a]=ee.useState(null),[A,l]=ee.useState(!1),[c,u]=ee.useState(null),[f,d]=ee.useState({make:"",model:"",year:"",vin:"",owner:"",lastService:""}),[B,b]=ee.useState(""),E=ee.useCallback(async()=>{if(t){i(!0),a(null);try{const P=or(Yt,"users",t.uid,"vehicles"),Q=Jo(P),I=(await ms(Q)).docs.map(O=>({id:O.id,...O.data()}));r(I)}catch(P){console.error("Error fetching vehicles:",P),a("Failed to load vehicles"),$e.error("Error loading vehicles")}finally{i(!1)}}},[t]);ee.useEffect(()=>{E()},[E]);const v=P=>{const{name:Q,value:T}=P.target;d(I=>({...I,[Q]:T}))},C=async P=>{if(P.preventDefault(),!!t)try{if(c){const Q=Pr(Yt,"users",t.uid,"vehicles",c.id);await Ea(Q,f),$e.success("Vehicle updated")}else{const Q=or(Yt,"users",t.uid,"vehicles");await Wl(Q,f),$e.success("Vehicle added")}l(!1),u(null),E()}catch(Q){console.error("Error saving vehicle:",Q),$e.error("Failed to save vehicle")}},S=async P=>{if(window.confirm("Are you sure you want to delete this vehicle?"))try{const Q=Pr(Yt,"users",t.uid,"vehicles",P);await $m(Q),$e.success("Vehicle deleted"),E()}catch(Q){console.error("Error deleting vehicle:",Q),$e.error("Failed to delete vehicle")}},R=n.filter(P=>P.make.toLowerCase().includes(B.toLowerCase())||P.model.toLowerCase().includes(B.toLowerCase())||P.vin.toLowerCase().includes(B.toLowerCase()));return s?h.jsx(Ru,{}):o?h.jsx(R_,{message:o}):h.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Vehicles"}),h.jsx("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Add Vehicle"})]}),h.jsx("input",{type:"text",placeholder:"Search by make, model, or VIN...",value:B,onChange:P=>b(P.target.value),className:"w-full p-2 mb-4 border rounded dark:bg-gray-800 dark:text-white"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[h.jsx("th",{className:"px-4 py-2 border text-left text-gray-900 dark:text-white",children:"Make"}),h.jsx("th",{className:"px-4 py-2 border text-left text-gray-900 dark:text-white",children:"Model"}),h.jsx("th",{className:"px-4 py-2 border text-left text-gray-900 dark:text-white",children:"Year"}),h.jsx("th",{className:"px-4 py-2 border text-left text-gray-900 dark:text-white",children:"VIN"}),h.jsx("th",{className:"px-4 py-2 border text-left text-gray-900 dark:text-white",children:"Owner"}),h.jsx("th",{className:"px-4 py-2 border text-left text-gray-900 dark:text-white",children:"Last Service"}),h.jsx("th",{className:"px-4 py-2 border text-left text-gray-900 dark:text-white",children:"Actions"})]})}),h.jsx("tbody",{children:R.map(P=>h.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[h.jsx("td",{className:"px-4 py-2 border text-gray-900 dark:text-white",children:P.make}),h.jsx("td",{className:"px-4 py-2 border text-gray-900 dark:text-white",children:P.model}),h.jsx("td",{className:"px-4 py-2 border text-gray-900 dark:text-white",children:P.year}),h.jsx("td",{className:"px-4 py-2 border text-gray-900 dark:text-white",children:P.vin}),h.jsx("td",{className:"px-4 py-2 border text-gray-900 dark:text-white",children:P.owner}),h.jsx("td",{className:"px-4 py-2 border text-gray-900 dark:text-white",children:P.lastService}),h.jsxs("td",{className:"px-4 py-2 border",children:[h.jsx("button",{onClick:()=>{u(P),d(P),l(!0)},className:"text-blue-600 dark:text-blue-400 mr-2",children:"Edit"}),h.jsx("button",{onClick:()=>S(P.id),className:"text-red-600 dark:text-red-400 mr-2",children:"Delete"}),h.jsx("button",{onClick:()=>e(`/vehicles/${P.id}/service-records`),className:"text-green-600 dark:text-green-400",children:"Records"})]})]},P.id))})]})}),A&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg w-full max-w-md",children:[h.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:c?"Edit Vehicle":"Add Vehicle"}),h.jsxs("form",{onSubmit:C,className:"space-y-4",children:[h.jsx("input",{name:"make",value:f.make,onChange:v,placeholder:"Make",className:"w-full p-2 border rounded dark:bg-gray-700 dark:text-white",required:!0}),h.jsx("input",{name:"model",value:f.model,onChange:v,placeholder:"Model",className:"w-full p-2 border rounded dark:bg-gray-700 dark:text-white",required:!0}),h.jsx("input",{name:"year",type:"number",value:f.year,onChange:v,placeholder:"Year",className:"w-full p-2 border rounded dark:bg-gray-700 dark:text-white",required:!0}),h.jsx("input",{name:"vin",value:f.vin,onChange:v,placeholder:"VIN",className:"w-full p-2 border rounded dark:bg-gray-700 dark:text-white",required:!0}),h.jsx("input",{name:"owner",value:f.owner,onChange:v,placeholder:"Owner",className:"w-full p-2 border rounded dark:bg-gray-700 dark:text-white",required:!0}),h.jsx("input",{name:"lastService",type:"date",value:f.lastService,onChange:v,placeholder:"Last Service",className:"w-full p-2 border rounded dark:bg-gray-700 dark:text-white"}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx("button",{type:"button",onClick:()=>{l(!1),u(null)},className:"px-4 py-2 bg-gray-600 text-white rounded",children:"Cancel"}),h.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Save"})]})]})]})})]})}function rU(){const[t,e]=ee.useState(""),[n,r]=ee.useState([]),[s,i]=ee.useState(!1),[o,a]=ee.useState(null),[A,l]=ee.useState([]),[c,u]=ee.useState(null),[f,d]=ee.useState([]),[B,b]=ee.useState(!1),[E,v]=ee.useState({serviceDate:new Date().toISOString().split("T")[0],serviceType:"",mileage:"",description:"",technician:"",partsUsed:"",cost:"",recommendations:""}),[C,S]=ee.useState(!1),[R,P]=ee.useState({year:"",make:"",model:"",vin:"",licensePlate:"",color:""}),{user:Q}=Lo();ee.useEffect(()=>{(async()=>{if(Q){i(!0);try{const $=Jo(or(Yt,"users",Q.uid,"customers")),oe=(await ms($)).docs.map(pe=>({id:pe.id,...pe.data()}));r(oe)}catch($){console.error("Error fetching customers:",$),$e.error("Failed to load customers")}finally{i(!1)}}})()},[Q]),ee.useEffect(()=>{(async()=>{if(!o){l([]);return}i(!0);try{const $=Jo(or(Yt,"users",Q.uid,"vehicles"),Fd("customerId","==",o.id)),oe=(await ms($)).docs.map(pe=>({id:pe.id,...pe.data()}));l(oe),u(null)}catch($){console.error("Error fetching vehicles:",$),$e.error("Failed to load vehicles")}finally{i(!1)}})()},[o,Q]),ee.useEffect(()=>{(async()=>{if(!c){d([]);return}i(!0);try{const $=Jo(or(Yt,"users",Q.uid,"serviceRecords"),Fd("vehicleId","==",c.id)),oe=(await ms($)).docs.map(pe=>{var se;return{id:pe.id,...pe.data(),serviceDate:((se=pe.data().serviceDate)==null?void 0:se.toDate())||new Date}}).sort((pe,se)=>se.serviceDate-pe.serviceDate);d(oe)}catch($){console.error("Error fetching service records:",$),$e.error("Failed to load service history")}finally{i(!1)}})()},[c,Q]);const T=n.filter(k=>{var $,re;return`${k.firstName} ${k.lastName}`.toLowerCase().includes(t.toLowerCase())||(($=k.phone)==null?void 0:$.toLowerCase().includes(t.toLowerCase()))||((re=k.email)==null?void 0:re.toLowerCase().includes(t.toLowerCase()))}),I=k=>{const{name:$,value:re}=k.target;v(oe=>({...oe,[$]:re}))},O=async k=>{if(k.preventDefault(),!c){$e.error("Please select a vehicle");return}i(!0);try{const $={vehicleId:c.id,customerId:o.id,serviceDate:Ir.fromDate(new Date(E.serviceDate)),serviceType:E.serviceType,mileage:parseInt(E.mileage)||0,description:E.description,technician:E.technician,partsUsed:E.partsUsed,cost:parseFloat(E.cost)||0,recommendations:E.recommendations,createdAt:Ir.now()};await Wl(or(Yt,"users",Q.uid,"serviceRecords"),$),$e.success("Service record added successfully"),b(!1),v({serviceDate:new Date().toISOString().split("T")[0],serviceType:"",mileage:"",description:"",technician:"",partsUsed:"",cost:"",recommendations:""});const re=Jo(or(Yt,"users",Q.uid,"serviceRecords"),Fd("vehicleId","==",c.id)),pe=(await ms(re)).docs.map(se=>{var me;return{id:se.id,...se.data(),serviceDate:((me=se.data().serviceDate)==null?void 0:me.toDate())||new Date}}).sort((se,me)=>me.serviceDate-se.serviceDate);d(pe)}catch($){console.error("Error adding service record:",$),$e.error("Failed to add service record")}finally{i(!1)}},M=async k=>{if(window.confirm("Are you sure you want to delete this service record?")){i(!0);try{await $m(Pr(Yt,"users",Q.uid,"serviceRecords",k)),d($=>$.filter(re=>re.id!==k)),$e.success("Service record deleted successfully")}catch($){console.error("Error deleting service record:",$),$e.error("Failed to delete service record")}finally{i(!1)}}},L=k=>{const{name:$,value:re}=k.target;P(oe=>({...oe,[$]:re}))},j=async k=>{if(k.preventDefault(),!o){$e.error("Please select a customer first");return}i(!0);try{const $={customerId:o.id,year:R.year,make:R.make,model:R.model,vin:R.vin,licensePlate:R.licensePlate,color:R.color,createdAt:Ir.now()},oe={id:(await Wl(or(Yt,"users",Q.uid,"vehicles"),$)).id,...$};l(pe=>[...pe,oe]),u(oe),S(!1),P({year:"",make:"",model:"",vin:"",licensePlate:"",color:""}),$e.success("Vehicle added successfully")}catch($){console.error("Error adding vehicle:",$),$e.error("Failed to add vehicle")}finally{i(!1)}};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 p-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsx("div",{className:"mb-6",children:h.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Vehicle Service Records"})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Select Customer"}),h.jsxs("div",{className:"relative mb-4",children:[h.jsx(Ym,{className:"absolute left-3 top-3 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Search customers...",value:t,onChange:k=>e(k.target.value),className:"pl-10 w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),h.jsx("div",{className:"max-h-96 overflow-y-auto",children:s&&!n.length?h.jsx("div",{className:"py-4 text-center text-gray-500",children:"Loading customers..."}):h.jsxs("ul",{className:"divide-y divide-gray-200",children:[T.map(k=>h.jsxs("li",{className:`py-3 px-2 cursor-pointer hover:bg-blue-50 rounded transition ${(o==null?void 0:o.id)===k.id?"bg-blue-100":""}`,onClick:()=>a(k),children:[h.jsxs("div",{className:"font-medium",children:[k.firstName," ",k.lastName]}),h.jsx("div",{className:"text-sm text-gray-600",children:k.phone||k.email})]},k.id)),T.length===0&&h.jsx("li",{className:"py-4 text-center text-gray-500",children:"No customers found"})]})})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Select Vehicle"}),o&&h.jsxs("button",{onClick:()=>S(!C),className:"text-blue-600 hover:text-blue-800 text-sm flex items-center gap-1",children:[h.jsx(lS,{})," ",C?"Cancel":"Add Vehicle"]})]}),o?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"text-sm text-blue-600 mb-3",children:["Selected customer: ",o.firstName," ",o.lastName]}),C&&h.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[h.jsx("h3",{className:"font-medium text-sm mb-3",children:"Add New Vehicle"}),h.jsxs("form",{onSubmit:j,className:"space-y-3",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Year*"}),h.jsx("input",{type:"text",name:"year",value:R.year,onChange:L,placeholder:"e.g. 2023",required:!0,className:"w-full p-2 text-sm border border-gray-300 rounded"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Make*"}),h.jsx("input",{type:"text",name:"make",value:R.make,onChange:L,placeholder:"e.g. Honda",required:!0,className:"w-full p-2 text-sm border border-gray-300 rounded"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Model*"}),h.jsx("input",{type:"text",name:"model",value:R.model,onChange:L,placeholder:"e.g. Civic",required:!0,className:"w-full p-2 text-sm border border-gray-300 rounded"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"VIN"}),h.jsx("input",{type:"text",name:"vin",value:R.vin,onChange:L,placeholder:"Vehicle Identification Number",className:"w-full p-2 text-sm border border-gray-300 rounded"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"License Plate"}),h.jsx("input",{type:"text",name:"licensePlate",value:R.licensePlate,onChange:L,placeholder:"License Plate",className:"w-full p-2 text-sm border border-gray-300 rounded"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Color"}),h.jsx("input",{type:"text",name:"color",value:R.color,onChange:L,placeholder:"Vehicle Color",className:"w-full p-2 text-sm border border-gray-300 rounded"})]})]}),h.jsx("div",{className:"pt-2",children:h.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition disabled:opacity-50 text-sm",children:s?"Adding...":"Add Vehicle"})})]})]}),h.jsx("div",{className:"max-h-96 overflow-y-auto",children:s&&!A.length?h.jsx("div",{className:"py-4 text-center text-gray-500",children:"Loading vehicles..."}):h.jsxs("ul",{className:"divide-y divide-gray-200",children:[A.map(k=>h.jsxs("li",{className:`py-3 px-2 cursor-pointer hover:bg-blue-50 rounded transition ${(c==null?void 0:c.id)===k.id?"bg-blue-100":""}`,onClick:()=>u(k),children:[h.jsxs("div",{className:"font-medium",children:[k.year," ",k.make," ",k.model]}),h.jsxs("div",{className:"text-sm text-gray-600",children:[k.licensePlate&&h.jsxs("span",{children:["License: ",k.licensePlate," • "]}),k.vin?`VIN: ${k.vin}`:"",k.color&&h.jsxs("span",{children:[" • ",k.color]})]})]},k.id)),A.length===0&&!C&&h.jsx("li",{className:"py-4 text-center text-gray-500",children:"No vehicles found for this customer"})]})})]}):h.jsx("div",{className:"py-12 text-center text-gray-500",children:"Please select a customer first"})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 lg:col-span-3",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Service History"}),c&&h.jsxs("button",{onClick:()=>b(!B),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition flex items-center gap-2",children:[h.jsx(lS,{})," ",B?"Cancel":"Add Service Record"]})]}),c?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"text-sm text-blue-600 mb-3",children:["Vehicle: ",c.year," ",c.make," ",c.model,c.licensePlate?` • License: ${c.licensePlate}`:""]}),B&&h.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:[h.jsx("h3",{className:"font-medium text-lg mb-3",children:"Add New Service Record"}),h.jsxs("form",{onSubmit:O,children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Date"}),h.jsx("input",{type:"date",name:"serviceDate",value:E.serviceDate,onChange:I,required:!0,className:"w-full p-2 border border-gray-300 rounded-lg"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),h.jsxs("select",{name:"serviceType",value:E.serviceType,onChange:I,required:!0,className:"w-full p-2 border border-gray-300 rounded-lg",children:[h.jsx("option",{value:"",children:"Select service type"}),h.jsx("option",{value:"Oil Change",children:"Oil Change"}),h.jsx("option",{value:"Tire Rotation",children:"Tire Rotation"}),h.jsx("option",{value:"Brake Service",children:"Brake Service"}),h.jsx("option",{value:"Engine Repair",children:"Engine Repair"}),h.jsx("option",{value:"Transmission",children:"Transmission"}),h.jsx("option",{value:"Electrical",children:"Electrical"}),h.jsx("option",{value:"AC/Heating",children:"AC/Heating"}),h.jsx("option",{value:"Diagnostic",children:"Diagnostic"}),h.jsx("option",{value:"Scheduled Maintenance",children:"Scheduled Maintenance"}),h.jsx("option",{value:"Other",children:"Other"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mileage"}),h.jsx("input",{type:"number",name:"mileage",value:E.mileage,onChange:I,placeholder:"Vehicle mileage",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost ($)"}),h.jsx("input",{type:"number",name:"cost",value:E.cost,onChange:I,placeholder:"Service cost",step:"0.01",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Technician"}),h.jsx("input",{type:"text",name:"technician",value:E.technician,onChange:I,placeholder:"Technician name",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parts Used"}),h.jsx("input",{type:"text",name:"partsUsed",value:E.partsUsed,onChange:I,placeholder:"Parts used for service",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),h.jsx("textarea",{name:"description",value:E.description,onChange:I,placeholder:"Describe the service performed",required:!0,rows:"2",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recommendations"}),h.jsx("textarea",{name:"recommendations",value:E.recommendations,onChange:I,placeholder:"Future service recommendations",rows:"2",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]}),h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{type:"submit",disabled:s,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition disabled:opacity-50",children:s?"Saving...":"Save Record"})})]})]}),s&&!f.length?h.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading service records..."}):f.length===0?h.jsx("div",{className:"py-8 text-center text-gray-500",children:"No service records found for this vehicle"}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service Type"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mileage"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(k=>h.jsx(Cq,{record:k,onDelete:M},k.id))})]})})]}):h.jsx("div",{className:"py-12 text-center text-gray-500",children:"Please select a vehicle to view service history"})]})]})]})})}function Cq({record:t,onDelete:e}){const[n,r]=ee.useState(!1);return h.jsxs(h.Fragment,{children:[h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.serviceDate instanceof Date?t.serviceDate.toLocaleDateString():new Date(t.serviceDate).toLocaleDateString()}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:t.serviceType})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.mileage?`${t.mileage.toLocaleString()} mi`:"N/A"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.cost?`$${t.cost.toFixed(2)}`:"N/A"}),h.jsx("td",{className:"px-6 py-4",children:h.jsx("div",{className:"text-sm text-gray-900 line-clamp-1",children:t.description})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[h.jsx("button",{onClick:()=>r(!n),className:"text-blue-600 hover:text-blue-900",children:n?h.jsx(EG,{}):h.jsx(CG,{})}),h.jsx("button",{onClick:()=>e(t.id),className:"text-red-600 hover:text-red-900",children:h.jsx(vw,{})})]})})]}),n&&h.jsx("tr",{className:"bg-gray-50",children:h.jsx("td",{colSpan:"6",className:"px-6 py-4",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-gray-500",children:"Technician"}),h.jsx("p",{className:"text-sm",children:t.technician||"Not specified"})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-gray-500",children:"Parts Used"}),h.jsx("p",{className:"text-sm",children:t.partsUsed||"None recorded"})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("p",{className:"text-xs text-gray-500",children:"Service Description"}),h.jsx("p",{className:"text-sm",children:t.description})]}),t.recommendations&&h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("p",{className:"text-xs text-gray-500",children:"Recommendations"}),h.jsx("p",{className:"text-sm",children:t.recommendations})]})]})})})]})}function Eq({parts:t,onEdit:e,onDelete:n,onAddToInvoice:r}){const[s,i]=ee.useState({key:"name",direction:"asc"}),[o,a]=ee.useState(1),A=10,l=d=>{let B="asc";s.key===d&&s.direction==="asc"&&(B="desc"),i({key:d,direction:B})},c=[...t].sort((d,B)=>d[s.key]<B[s.key]?s.direction==="asc"?-1:1:d[s.key]>B[s.key]?s.direction==="asc"?1:-1:0),u=c.slice((o-1)*A,o*A),f=Math.ceil(c.length/A);return h.jsxs("div",{className:"overflow-x-auto",children:[h.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[h.jsx("th",{onClick:()=>l("name"),className:"px-4 py-2 border cursor-pointer text-gray-900 dark:text-white",children:"Name"}),h.jsx("th",{onClick:()=>l("partNumber"),className:"px-4 py-2 border cursor-pointer text-gray-900 dark:text-white",children:"Part Number"}),h.jsx("th",{onClick:()=>l("quantity"),className:"px-4 py-2 border cursor-pointer text-gray-900 dark:text-white",children:"Quantity"}),h.jsx("th",{onClick:()=>l("cost"),className:"px-4 py-2 border cursor-pointer text-gray-900 dark:text-white",children:"Cost"}),h.jsx("th",{className:"px-4 py-2 border text-gray-900 dark:text-white",children:"Actions"})]})}),h.jsx("tbody",{children:u.map(d=>h.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[h.jsx("td",{className:"px-4 py-2 border text-gray-900 dark:text-white",children:d.name}),h.jsx("td",{className:"px-4 py-2 border text-gray-900 dark:text-white",children:d.partNumber}),h.jsxs("td",{className:"px-4 py-2 border text-gray-900 dark:text-white",children:[d.quantity," ",d.quantity<d.minStock&&h.jsx("span",{className:"text-red-500",children:"(Low)"})]}),h.jsxs("td",{className:"px-4 py-2 border text-gray-900 dark:text-white",children:["$",d.cost.toFixed(2)]}),h.jsxs("td",{className:"px-4 py-2 border",children:[h.jsx("button",{onClick:()=>e(d),className:"text-blue-600 dark:text-blue-400 mr-2 hover:underline",children:"Edit"}),h.jsx("button",{onClick:()=>n(d.id),className:"text-red-600 dark:text-red-400 mr-2 hover:underline",children:"Delete"}),h.jsx("button",{onClick:()=>r(d),className:"text-green-600 dark:text-green-400 hover:underline",children:"Add to Invoice"})]})]},d.id))})]}),h.jsxs("div",{className:"flex justify-between mt-4",children:[h.jsx("button",{disabled:o===1,onClick:()=>a(d=>d-1),className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 rounded disabled:opacity-50",children:"Previous"}),h.jsxs("span",{className:"text-gray-900 dark:text-white",children:["Page ",o," of ",f]}),h.jsx("button",{disabled:o===f,onClick:()=>a(d=>d+1),className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 rounded disabled:opacity-50",children:"Next"})]})]})}function VS({initialData:t={},onSubmit:e,onCancel:n}){const[r,s]=ee.useState({name:"",partNumber:"",quantity:0,cost:0,minStock:5,supplier:"",location:"",description:"",...t}),[i,o]=ee.useState({}),a=()=>{const c={};return r.name||(c.name="Name is required"),r.partNumber||(c.partNumber="Part number is required"),r.quantity<0&&(c.quantity="Quantity cannot be negative"),r.cost<0&&(c.cost="Cost cannot be negative"),o(c),Object.keys(c).length===0},A=c=>{const{name:u,value:f}=c.target;s(d=>({...d,[u]:["quantity","cost","minStock"].includes(u)?Number(f):f}))},l=c=>{c.preventDefault(),a()&&e(r)};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-auto",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg w-full max-w-md m-4",children:[h.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:t.id?"Edit Part":"Add New Part"}),h.jsxs("form",{onSubmit:l,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Name"}),h.jsx("input",{id:"name",name:"name",value:r.name,onChange:A,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-blue-500 focus:border-blue-500",required:!0}),i.name&&h.jsx("p",{className:"text-red-500 text-sm",children:i.name})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"partNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Part Number"}),h.jsx("input",{id:"partNumber",name:"partNumber",value:r.partNumber,onChange:A,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-blue-500 focus:border-blue-500",required:!0}),i.partNumber&&h.jsx("p",{className:"text-red-500 text-sm",children:i.partNumber})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Quantity"}),h.jsx("input",{id:"quantity",name:"quantity",type:"number",min:"0",value:r.quantity,onChange:A,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-blue-500 focus:border-blue-500",required:!0}),i.quantity&&h.jsx("p",{className:"text-red-500 text-sm",children:i.quantity})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"cost",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cost ($)"}),h.jsx("input",{id:"cost",name:"cost",type:"number",step:"0.01",min:"0",value:r.cost,onChange:A,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-blue-500 focus:border-blue-500",required:!0}),i.cost&&h.jsx("p",{className:"text-red-500 text-sm",children:i.cost})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"minStock",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Min Stock Level"}),h.jsx("input",{id:"minStock",name:"minStock",type:"number",min:"0",value:r.minStock,onChange:A,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-blue-500 focus:border-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"supplier",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Supplier"}),h.jsx("input",{id:"supplier",name:"supplier",value:r.supplier,onChange:A,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-blue-500 focus:border-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Storage Location"}),h.jsx("input",{id:"location",name:"location",value:r.location,onChange:A,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-blue-500 focus:border-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),h.jsx("textarea",{id:"description",name:"description",value:r.description,onChange:A,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-blue-500 focus:border-blue-500",rows:"3"})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-900 dark:text-white rounded hover:bg-gray-400 dark:hover:bg-gray-500",children:"Cancel"}),h.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]})]})})}function Iq(t,e){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"}))}const Sq=ee.forwardRef(Iq),Fq=Sq;function Tq(t,e){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const Nq=ee.forwardRef(Tq),kq=Nq;function Lq(t,e){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:e},t),ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}))}const Pq=ee.forwardRef(Lq),jq=Pq;function Uq({data:t}){return t?h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[h.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900 p-4 rounded flex items-center",children:[h.jsx(Fq,{className:"h-8 w-8 text-blue-600 dark:text-blue-300 mr-3"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Total Parts"}),h.jsx("p",{className:"text-2xl text-gray-900 dark:text-white",children:t.totalParts})]})]}),h.jsxs("div",{className:"bg-green-100 dark:bg-green-900 p-4 rounded flex items-center",children:[h.jsx(kq,{className:"h-8 w-8 text-green-600 dark:text-green-300 mr-3"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Total Value"}),h.jsxs("p",{className:"text-2xl text-gray-900 dark:text-white",children:["$",t.totalValue.toFixed(2)]})]})]}),h.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900 p-4 rounded flex items-center",children:[h.jsx(jq,{className:"h-8 w-8 text-yellow-600 dark:text-yellow-300 mr-3"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Low Stock Items"}),h.jsx("p",{className:"text-2xl text-gray-900 dark:text-white",children:t.lowStock})]})]})]}):null}function sU(){ko();const{addPartToInvoice:t}=C_()||{},[e,n]=ee.useState([]),[r,s]=ee.useState(!0),[i,o]=ee.useState(null),[a,A]=ee.useState(!1),[l,c]=ee.useState(null),[u,f]=ee.useState(""),[d,B]=ee.useState(null),b=ee.useCallback(async()=>{try{if(s(!0),o(null),!Bs.currentUser)throw new Error("User not authenticated");const P=or(Yt,"users",Bs.currentUser.uid,"parts"),Q=Jo(P,Fd("status","!=","deleted")),I=(await ms(Q)).docs.map(L=>({id:L.id,...L.data()}));n(I);const O=I.reduce((L,j)=>L+j.quantity*j.cost,0),M=I.filter(L=>L.quantity<L.minStock).length;B({totalParts:I.length,totalValue:O,lowStock:M}),M>0&&$e.warn(`${M} parts are low on stock!`)}catch(P){console.error("Error fetching parts:",P),o("Failed to load parts. Please check your connection and try again."),$e.error("Error loading parts")}finally{s(!1)}},[]);ee.useEffect(()=>{b()},[b]);const E=async P=>{try{if(!Bs.currentUser)return;const Q=or(Yt,"users",Bs.currentUser.uid,"parts");await Wl(Q,{...P,createdAt:new Date,status:"active",stockHistory:[{date:new Date,change:P.quantity,note:"Initial stock"}]}),$e.success("Part added successfully"),A(!1),b()}catch(Q){console.error("Error adding part:",Q),$e.error("Failed to add part")}},v=async(P,Q,T=0)=>{try{if(!Bs.currentUser)return;const I=Pr(Yt,"users",Bs.currentUser.uid,"parts",P),O={...Q,updatedAt:new Date};T!==0&&(O.stockHistory=[...Q.stockHistory||[],{date:new Date,change:T,note:"Stock adjustment"}]),await Ea(I,O),$e.success("Part updated successfully"),c(null),b()}catch(I){console.error("Error updating part:",I),$e.error("Failed to update part")}},C=async P=>{if(window.confirm("Are you sure? This will soft-delete the part."))try{if(!Bs.currentUser)return;const Q=Pr(Yt,"users",Bs.currentUser.uid,"parts",P);await Ea(Q,{status:"deleted",deletedAt:new Date}),$e.success("Part deleted successfully"),b()}catch(Q){console.error("Error deleting part:",Q),$e.error("Failed to delete part")}},S=P=>{t?(t(P),$e.success("Part added to current invoice")):$e.info("Invoice integration not set up yet")},R=e.filter(P=>{var Q,T;return((Q=P.name)==null?void 0:Q.toLowerCase().includes(u.toLowerCase()))||((T=P.partNumber)==null?void 0:T.toLowerCase().includes(u.toLowerCase()))});return r?h.jsx(Ru,{}):i?h.jsxs("div",{className:"p-6",children:[h.jsx(R_,{message:i}),h.jsx("button",{onClick:b,className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded",children:"Retry"})]}):h.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Parts Inventory"}),h.jsxs("div",{children:[h.jsx("button",{onClick:()=>A(!0),className:"bg-blue-600 text-white px-4 py-2 rounded mr-2 hover:bg-blue-700",children:"Add New Part"}),h.jsx(Yj,{data:R,filename:"parts_inventory.csv",className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Export CSV"})]})]}),h.jsx("input",{type:"text",placeholder:"Search by name or part number...",value:u,onChange:P=>f(P.target.value),className:"w-full p-2 mb-6 border rounded bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-white focus:ring-blue-500 focus:border-blue-500"}),d&&h.jsx(Uq,{data:d}),h.jsx(Eq,{parts:R,onEdit:c,onDelete:C,onAddToInvoice:S}),a&&h.jsx(VS,{onSubmit:E,onCancel:()=>A(!1)}),l&&h.jsx(VS,{initialData:l,onSubmit:P=>v(l.id,P,P.quantity-l.quantity),onCancel:()=>c(null)})]})}function iU(){const[t,e]=ee.useState("");ee.useState(null);const[n,r]=ee.useState([]),[s,i]=ee.useState(!1),[o,a]=ee.useState({}),[A,l]=ee.useState([]),[c,u]=ee.useState(85),{user:f}=Lo(),d=ko();ee.useEffect(()=>{(async()=>{if(f)try{const T=Jo(or(Yt,"users",f.uid,"timeEntries"),Fd("completed","==",!1)),O=(await ms(T)).docs.map(L=>{var j,k;return{id:L.id,...L.data(),startTime:(j=L.data().startTime)==null?void 0:j.toDate(),endTime:(k=L.data().endTime)==null?void 0:k.toDate()}});l(O);const M={};O.forEach(L=>{L.isRunning&&(M[L.jobId]={startTime:L.startTime,entryId:L.id})}),a(M)}catch(T){console.error("Error loading time entries:",T),$e.error("Failed to load time entries")}})()},[f]);const B=ee.useCallback(U_(async Q=>{if(!Q||Q.length<2){r([]);return}i(!0);try{const T=Jo(or(Yt,"laborGuide")),O=(await ms(T)).docs.map(j=>({id:j.id,...j.data()})),M=Q.toLowerCase().split(" ").filter(j=>j.length>0),L=O.filter(j=>{const k=`${j.name} ${j.description}`.toLowerCase();return M.every($=>k.includes($))});L.length===0&&$e.info("No matching jobs found"),r(L)}catch(T){console.error("Error searching labor guide:",T),$e.error("Search failed. Please check your connection.")}finally{i(!1)}},500),[]),b=Q=>{const T=Q.target.value;e(T),B(T)},E=Q=>{const T=Math.floor(Q/36e5),I=Math.floor(Q%(1e3*60*60)/(1e3*60)),O=Math.floor(Q%(1e3*60)/1e3);return`${T.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}:${O.toString().padStart(2,"0")}`},v=(Q,T=new Date)=>T.getTime()-Q.getTime(),C=async Q=>{if(o[Q.id]){$e.error("Timer already running for this job");return}try{const T=new Date,I={jobId:Q.id,jobName:Q.name,standardHours:Q.standardHours,startTime:T,isRunning:!0,completed:!1,userId:f.uid,createdAt:T},O=await Wl(or(Yt,"users",f.uid,"timeEntries"),I);a(M=>({...M,[Q.id]:{startTime:T,entryId:O.id}})),l(M=>[...M,{...I,id:O.id}]),$e.success("Timer started")}catch(T){console.error("Error starting timer:",T),$e.error("Failed to start timer")}},S=async Q=>{const T=o[Q];if(T)try{const I=new Date,M=v(T.startTime,I)/(1e3*60*60),L=Pr(Yt,"users",f.uid,"timeEntries",T.entryId);await Ea(L,{endTime:I,isRunning:!1,actualHours:M,laborCost:M*c}),a(j=>{const k={...j};return delete k[Q],k}),l(j=>j.map(k=>k.id===T.entryId?{...k,endTime:I,isRunning:!1,actualHours:M,laborCost:M*c}:k)),$e.success("Timer stopped")}catch(I){console.error("Error stopping timer:",I),$e.error("Failed to stop timer")}},R=async Q=>{try{const T=Pr(Yt,"users",f.uid,"timeEntries",Q);await Ea(T,{completed:!0,completedAt:new Date}),l(I=>I.filter(O=>O.id!==Q)),$e.success("Time entry completed")}catch(T){console.error("Error completing entry:",T),$e.error("Failed to complete entry")}},P=async Q=>{try{const T=Pr(Yt,"users",f.uid,"timeEntries",Q);await Ea(T,{deleted:!0,deletedAt:new Date}),l(I=>I.filter(O=>O.id!==Q)),$e.success("Time entry deleted")}catch(T){console.error("Error deleting entry:",T),$e.error("Failed to delete entry")}};return ee.useEffect(()=>{const Q=setInterval(()=>{l(T=>T.map(I=>{if(!I.isRunning)return I;const O=v(I.startTime);return{...I,elapsedTime:O}}))},1e3);return()=>clearInterval(Q)},[]),h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-gray-50 to-gray-100 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 p-4 md:p-6",children:h.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[h.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:h.jsxs("div",{children:[h.jsxs("button",{onClick:()=>d("/invoice"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors mb-4",children:[h.jsx(S_,{className:"w-5 h-5"}),h.jsx("span",{children:"Back to Invoice"})]}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Job Timer"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Track time spent on jobs"})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 space-y-6",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Ym,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"text",value:t,onChange:b,placeholder:"Search labor guide (min. 2 characters)...",className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400"})]})}),s?h.jsx("div",{className:"flex items-center justify-center py-8",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):h.jsx("div",{className:"space-y-4",children:n.map(Q=>h.jsx("div",{className:"border dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:h.jsxs("div",{className:"flex justify-between items-start gap-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:Q.name}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:Q.description}),h.jsxs("div",{className:"mt-2 text-blue-600 dark:text-blue-400 text-sm",children:["Standard Time: ",Q.standardHours," hours"]})]}),h.jsxs("button",{onClick:()=>C(Q),disabled:!!o[Q.id],className:`flex items-center gap-2 px-4 py-2 rounded-lg text-white ${o[Q.id]?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700"}`,children:[h.jsx(NG,{className:"w-4 h-4"}),h.jsx("span",{children:"Start"})]})]})},Q.id))})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 space-y-6",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[h.jsx(eh,{className:"w-5 h-5"}),"Active Time Entries"]}),h.jsx("div",{className:"space-y-4",children:A.length===0?h.jsx("div",{className:"text-center py-8 text-gray-600 dark:text-gray-400",children:"No active time entries"}):A.map(Q=>h.jsx("div",{className:"border dark:border-gray-700 rounded-lg p-4",children:h.jsxs("div",{className:"flex justify-between items-start gap-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:Q.jobName}),h.jsxs("div",{className:"mt-2 space-y-1",children:[h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Started: ",Q.startTime.toLocaleTimeString()]}),h.jsx("p",{className:"text-lg font-mono text-blue-600 dark:text-blue-400",children:E(Q.elapsedTime||v(Q.startTime))})]})]}),h.jsx("div",{className:"flex items-center gap-2",children:Q.isRunning?h.jsxs("button",{onClick:()=>S(Q.jobId),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white bg-yellow-500 hover:bg-yellow-600 dark:bg-yellow-600 dark:hover:bg-yellow-700",children:[h.jsx(TG,{className:"w-4 h-4"}),h.jsx("span",{children:"Stop"})]}):h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>R(Q.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white bg-green-500 hover:bg-green-600 dark:bg-green-600 dark:hover:bg-green-700",children:[h.jsx(ZP,{className:"w-4 h-4"}),h.jsx("span",{children:"Complete"})]}),h.jsxs("button",{onClick:()=>P(Q.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white bg-red-500 hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700",children:[h.jsx(vw,{className:"w-4 h-4"}),h.jsx("span",{children:"Delete"})]})]})})]})},Q.id))})]})]})]})})}function oU(){const{user:t}=Lo(),{theme:e,toggleTheme:n}=wG(),[r,s]=ee.useState({theme:"light",notifications:!0,emailAlerts:!0,businessName:"",address:"",phone:"",email:"",taxRate:0,currency:"USD"}),[i,o]=ee.useState(!0),[a,A]=ee.useState(null),[l,c]=ee.useState(!1);ee.useEffect(()=>{(async()=>{try{o(!0);const B=await kg.getSettingsDoc();B&&s(b=>({...b,...B}))}catch(B){console.error("Error loading settings:",B),A("Failed to load settings"),$e.error("Failed to load settings")}finally{o(!1)}})()},[]);const u=d=>{const{name:B,value:b,type:E,checked:v}=d.target;s(C=>({...C,[B]:E==="checkbox"?v:b}))},f=async()=>{if(!t){$e.error("No user logged in");return}c(!0);try{if(r.taxRate<0||r.taxRate>100)throw new Error("Tax rate must be between 0 and 100");if(typeof kg.updateSettingsDocument!="function")throw new Error("Update method not available - check service import");if(await kg.updateSettingsDocument(r))$e.success("Settings saved successfully");else throw new Error("Save operation failed")}catch(d){console.error("Error saving settings:",d),$e.error(d.message||"Failed to save settings")}finally{c(!1)}};return i?h.jsx(Ru,{}):a?h.jsx("div",{className:"p-6 text-red-500",children:a}):h.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[h.jsxs("h1",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white flex items-center",children:[h.jsx(PS,{className:"mr-2"})," Settings"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white flex items-center",children:[h.jsx(ZW,{className:"mr-2"})," General"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Business Name"}),h.jsx("input",{name:"businessName",value:r.businessName,onChange:u,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Address"}),h.jsx("input",{name:"address",value:r.address,onChange:u,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone"}),h.jsx("input",{name:"phone",value:r.phone,onChange:u,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),h.jsx("input",{name:"email",value:r.email,onChange:u,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white flex items-center",children:[h.jsx(GW,{className:"mr-2"})," Notifications"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{name:"notifications",type:"checkbox",checked:r.notifications,onChange:u,className:"mr-2"}),"Enable Notifications"]}),h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{name:"emailAlerts",type:"checkbox",checked:r.emailAlerts,onChange:u,className:"mr-2"}),"Email Alerts"]})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white flex items-center",children:[h.jsx(YW,{className:"mr-2"})," Appearance"]}),h.jsxs("button",{onClick:n,className:"flex items-center p-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:[e==="dark"?h.jsx(JW,{className:"mr-2"}):h.jsx(qW,{className:"mr-2"}),"Toggle ",e==="dark"?"Light":"Dark"," Mode"]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white flex items-center",children:[h.jsx(PS,{className:"mr-2"})," Billing"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tax Rate (%)"}),h.jsx("input",{name:"taxRate",type:"number",value:r.taxRate,onChange:u,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Currency"}),h.jsxs("select",{name:"currency",value:r.currency,onChange:u,className:"mt-1 block w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[h.jsx("option",{value:"USD",children:"USD"}),h.jsx("option",{value:"EUR",children:"EUR"}),h.jsx("option",{value:"GBP",children:"GBP"})]})]})]})]})]}),h.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[h.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:[h.jsx(Lj,{className:"mr-2"})," Cancel"]}),h.jsxs("button",{onClick:f,disabled:l,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:[h.jsx(kj,{className:"mr-2"}),l?"Saving...":"Save Settings"]})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Xm(t){return t+.5|0}const tu=(t,e,n)=>Math.max(Math.min(t,n),e);function og(t){return tu(Xm(t*2.55),0,255)}function vu(t){return tu(Xm(t*255),0,255)}function El(t){return tu(Xm(t/2.55)/100,0,1)}function KS(t){return tu(Xm(t*100),0,100)}const ga={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},fB=[..."0123456789ABCDEF"],Rq=t=>fB[t&15],Dq=t=>fB[(t&240)>>4]+fB[t&15],my=t=>(t&240)>>4===(t&15),Qq=t=>my(t.r)&&my(t.g)&&my(t.b)&&my(t.a);function Oq(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ga[t[1]]*17,g:255&ga[t[2]]*17,b:255&ga[t[3]]*17,a:e===5?ga[t[4]]*17:255}:(e===7||e===9)&&(n={r:ga[t[1]]<<4|ga[t[2]],g:ga[t[3]]<<4|ga[t[4]],b:ga[t[5]]<<4|ga[t[6]],a:e===9?ga[t[7]]<<4|ga[t[8]]:255})),n}const Mq=(t,e)=>t<255?e(t):"";function Hq(t){var e=Qq(t)?Rq:Dq;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Mq(t.a,e):void 0}const Vq=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function aU(t,e,n){const r=e*Math.min(n,1-n),s=(i,o=(i+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function Kq(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function zq(t,e,n){const r=aU(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function Gq(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function D_(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let A,l,c;return i!==o&&(c=i-o,l=a>.5?c/(2-i-o):c/(i+o),A=Gq(n,r,s,c,i),A=A*60+.5),[A|0,l||0,a]}function Q_(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(vu)}function O_(t,e,n){return Q_(aU,t,e,n)}function Wq(t,e,n){return Q_(zq,t,e,n)}function $q(t,e,n){return Q_(Kq,t,e,n)}function AU(t){return(t%360+360)%360}function qq(t){const e=Vq.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?og(+e[5]):vu(+e[5]));const s=AU(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=Wq(s,i,o):e[1]==="hsv"?r=$q(s,i,o):r=O_(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function Yq(t,e){var n=D_(t);n[0]=AU(n[0]+e),n=O_(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Xq(t){if(!t)return;const e=D_(t),n=e[0],r=KS(e[1]),s=KS(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${El(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const zS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},GS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Jq(){const t={},e=Object.keys(GS),n=Object.keys(zS);let r,s,i,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,zS[i]);i=parseInt(GS[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let yy;function Zq(t){yy||(yy=Jq(),yy.transparent=[0,0,0,0]);const e=yy[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const eY=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function tY(t){const e=eY.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?og(o):tu(o*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?og(r):tu(r,0,255)),s=255&(e[4]?og(s):tu(s,0,255)),i=255&(e[6]?og(i):tu(i,0,255)),{r,g:s,b:i,a:n}}}function nY(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${El(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const gx=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Gh=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function rY(t,e,n){const r=Gh(El(t.r)),s=Gh(El(t.g)),i=Gh(El(t.b));return{r:vu(gx(r+n*(Gh(El(e.r))-r))),g:vu(gx(s+n*(Gh(El(e.g))-s))),b:vu(gx(i+n*(Gh(El(e.b))-i))),a:t.a+n*(e.a-t.a)}}function vy(t,e,n){if(t){let r=D_(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=O_(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function lU(t,e){return t&&Object.assign(e||{},t)}function WS(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=vu(t[3]))):(e=lU(t,{r:0,g:0,b:0,a:1}),e.a=vu(e.a)),e}function sY(t){return t.charAt(0)==="r"?tY(t):qq(t)}class xm{constructor(e){if(e instanceof xm)return e;const n=typeof e;let r;n==="object"?r=WS(e):n==="string"&&(r=Oq(e)||Zq(e)||sY(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=lU(this._rgb);return e&&(e.a=El(e.a)),e}set rgb(e){this._rgb=WS(e)}rgbString(){return this._valid?nY(this._rgb):void 0}hexString(){return this._valid?Hq(this._rgb):void 0}hslString(){return this._valid?Xq(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,A=r.a-s.a,l=((a*A===-1?a:(a+A)/(1+a*A))+1)/2;i=1-l,r.r=255&l*r.r+i*s.r+.5,r.g=255&l*r.g+i*s.g+.5,r.b=255&l*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=rY(this._rgb,e._rgb,n)),this}clone(){return new xm(this.rgb)}alpha(e){return this._rgb.a=vu(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Xm(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return vy(this._rgb,2,e),this}darken(e){return vy(this._rgb,2,-e),this}saturate(e){return vy(this._rgb,1,e),this}desaturate(e){return vy(this._rgb,1,-e),this}rotate(e){return Yq(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function xl(){}const iY=(()=>{let t=0;return()=>t++})();function Yn(t){return t==null}function zr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function nr(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ys(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Wo(t,e){return Ys(t)?t:e}function Rn(t,e){return typeof t>"u"?e:t}const oY=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Cr(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function hr(t,e,n,r){let s,i,o;if(zr(t))if(i=t.length,r)for(s=i-1;s>=0;s--)e.call(n,t[s],s);else for(s=0;s<i;s++)e.call(n,t[s],s);else if(nr(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(n,t[o[s]],o[s])}function f1(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function p1(t){if(zr(t))return t.map(p1);if(nr(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=p1(t[n[s]]);return e}return t}function cU(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function aY(t,e,n,r){if(!cU(t))return;const s=e[t],i=n[t];nr(s)&&nr(i)?bm(s,i,r):e[t]=p1(i)}function bm(t,e,n){const r=zr(e)?e:[e],s=r.length;if(!nr(t))return t;n=n||{};const i=n.merger||aY;let o;for(let a=0;a<s;++a){if(o=r[a],!nr(o))continue;const A=Object.keys(o);for(let l=0,c=A.length;l<c;++l)i(A[l],t,o,n)}return t}function jg(t,e){return bm(t,e,{merger:AY})}function AY(t,e,n){if(!cU(t))return;const r=e[t],s=n[t];nr(r)&&nr(s)?jg(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=p1(s))}const $S={"":t=>t,x:t=>t.x,y:t=>t.y};function lY(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function cY(t){const e=lY(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Gf(t,e){return($S[e]||($S[e]=cY(e)))(t)}function M_(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Bm=t=>typeof t<"u",Su=t=>typeof t=="function",qS=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function uY(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Es=Math.PI,Ia=2*Es,dY=Ia+Es,g1=Number.POSITIVE_INFINITY,hY=Es/180,ea=Es/2,Zu=Es/4,YS=Es*2/3,nu=Math.log10,zA=Math.sign;function Ug(t,e,n){return Math.abs(t-e)<n}function XS(t){const e=Math.round(t);t=Ug(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(nu(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function fY(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function pY(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function _m(t){return!pY(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function gY(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function uU(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function ru(t){return t*(Es/180)}function H_(t){return t*(180/Es)}function JS(t){if(!Ys(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function mY(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*Es&&(i+=Ia),{angle:i,distance:s}}function pB(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function yY(t,e){return(t-e+dY)%Ia-Es}function eA(t){return(t%Ia+Ia)%Ia}function dU(t,e,n,r){const s=eA(t),i=eA(e),o=eA(n),a=eA(i-s),A=eA(o-s),l=eA(s-i),c=eA(s-o);return s===i||s===o||r&&i===o||a>A&&l<c}function ta(t,e,n){return Math.max(e,Math.min(n,t))}function vY(t){return ta(t,-32768,32767)}function Bd(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function V_(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const _d=(t,e,n,r)=>V_(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),wY=(t,e,n)=>V_(t,n,r=>t[r][e]>=n);function xY(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const hU=["push","pop","shift","splice","unshift"];function bY(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),hU.forEach(n=>{const r="_onData"+M_(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function ZS(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(hU.forEach(i=>{delete t[i]}),delete t._chartjs)}function fU(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const pU=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function gU(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,pU.call(window,()=>{r=!1,t.apply(e,n)}))}}function BY(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const K_=t=>t==="start"?"left":t==="end"?"right":"center",Ii=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,_Y=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function CY(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:A}=t,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,c=o.axis,{min:u,max:f,minDefined:d,maxDefined:B}=o.getUserBounds();if(d){if(s=Math.min(_d(A,c,u).lo,n?r:_d(e,c,o.getPixelForValue(u)).lo),l){const b=A.slice(0,s+1).reverse().findIndex(E=>!Yn(E[a.axis]));s-=Math.max(0,b)}s=ta(s,0,r-1)}if(B){let b=Math.max(_d(A,o.axis,f,!0).hi+1,n?0:_d(e,c,o.getPixelForValue(f),!0).hi+1);if(l){const E=A.slice(b-1).findIndex(v=>!Yn(v[a.axis]));b+=Math.max(0,E)}i=ta(b,s,r)-s}else i=r-s}return{start:s,count:i}}function EY(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const wy=t=>t===0||t===1,eF=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ia/n)),tF=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ia/n)+1,Rg={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ea)+1,easeOutSine:t=>Math.sin(t*ea),easeInOutSine:t=>-.5*(Math.cos(Es*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>wy(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>wy(t)?t:eF(t,.075,.3),easeOutElastic:t=>wy(t)?t:tF(t,.075,.3),easeInOutElastic(t){return wy(t)?t:t<.5?.5*eF(t*2,.1125,.45):.5+.5*tF(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Rg.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Rg.easeInBounce(t*2)*.5:Rg.easeOutBounce(t*2-1)*.5+.5};function z_(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function nF(t){return z_(t)?t:new xm(t)}function mx(t){return z_(t)?t:new xm(t).saturate(.5).darken(.1).hexString()}const IY=["x","y","borderWidth","radius","tension"],SY=["color","borderColor","backgroundColor"];function FY(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:SY},numbers:{type:"number",properties:IY}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function TY(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const rF=new Map;function NY(t,e){e=e||{};const n=t+JSON.stringify(e);let r=rF.get(n);return r||(r=new Intl.NumberFormat(t,e),rF.set(n,r)),r}function G_(t,e,n){return NY(e,n).format(t)}const mU={values(t){return zr(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const l=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(l<1e-4||l>1e15)&&(s="scientific"),i=kY(t,n)}const o=nu(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),A={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(A,this.options.ticks.format),G_(t,r,A)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(nu(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?mU.numeric.call(this,t,e,n):""}};function kY(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Bw={formatters:mU};function LY(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Bw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const th=Object.create(null),gB=Object.create(null);function Dg(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function yx(t,e,n){return typeof e=="string"?bm(Dg(t,e),n):bm(Dg(t,""),e)}class PY{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>mx(s.backgroundColor),this.hoverBorderColor=(r,s)=>mx(s.borderColor),this.hoverColor=(r,s)=>mx(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return yx(this,e,n)}get(e){return Dg(this,e)}describe(e,n){return yx(gB,e,n)}override(e,n){return yx(th,e,n)}route(e,n,r,s){const i=Dg(this,e),o=Dg(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const A=this[a],l=o[s];return nr(A)?Object.assign({},l,A):Rn(A,l)},set(A){this[a]=A}}})}apply(e){e.forEach(n=>n(this))}}var os=new PY({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[FY,TY,LY]);function jY(t){return!t||Yn(t.size)||Yn(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function m1(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function UY(t,e,n,r){r=r||{};let s=r.data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(s=r.data={},i=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const a=n.length;let A,l,c,u,f;for(A=0;A<a;A++)if(u=n[A],u!=null&&!zr(u))o=m1(t,s,i,o,u);else if(zr(u))for(l=0,c=u.length;l<c;l++)f=u[l],f!=null&&!zr(f)&&(o=m1(t,s,i,o,f));t.restore();const d=i.length/2;if(d>n.length){for(A=0;A<d;A++)delete s[i[A]];i.splice(0,d)}return o}function ed(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function sF(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function mB(t,e,n,r){yU(t,e,n,r,null)}function yU(t,e,n,r,s){let i,o,a,A,l,c,u,f;const d=e.pointStyle,B=e.rotation,b=e.radius;let E=(B||0)*hY;if(d&&typeof d=="object"&&(i=d.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(E),t.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),d){default:s?t.ellipse(n,r,s/2,b,0,0,Ia):t.arc(n,r,b,0,Ia),t.closePath();break;case"triangle":c=s?s/2:b,t.moveTo(n+Math.sin(E)*c,r-Math.cos(E)*b),E+=YS,t.lineTo(n+Math.sin(E)*c,r-Math.cos(E)*b),E+=YS,t.lineTo(n+Math.sin(E)*c,r-Math.cos(E)*b),t.closePath();break;case"rectRounded":l=b*.516,A=b-l,o=Math.cos(E+Zu)*A,u=Math.cos(E+Zu)*(s?s/2-l:A),a=Math.sin(E+Zu)*A,f=Math.sin(E+Zu)*(s?s/2-l:A),t.arc(n-u,r-a,l,E-Es,E-ea),t.arc(n+f,r-o,l,E-ea,E),t.arc(n+u,r+a,l,E,E+ea),t.arc(n-f,r+o,l,E+ea,E+Es),t.closePath();break;case"rect":if(!B){A=Math.SQRT1_2*b,c=s?s/2:A,t.rect(n-c,r-A,2*c,2*A);break}E+=Zu;case"rectRot":u=Math.cos(E)*(s?s/2:b),o=Math.cos(E)*b,a=Math.sin(E)*b,f=Math.sin(E)*(s?s/2:b),t.moveTo(n-u,r-a),t.lineTo(n+f,r-o),t.lineTo(n+u,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":E+=Zu;case"cross":u=Math.cos(E)*(s?s/2:b),o=Math.cos(E)*b,a=Math.sin(E)*b,f=Math.sin(E)*(s?s/2:b),t.moveTo(n-u,r-a),t.lineTo(n+u,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":u=Math.cos(E)*(s?s/2:b),o=Math.cos(E)*b,a=Math.sin(E)*b,f=Math.sin(E)*(s?s/2:b),t.moveTo(n-u,r-a),t.lineTo(n+u,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),E+=Zu,u=Math.cos(E)*(s?s/2:b),o=Math.cos(E)*b,a=Math.sin(E)*b,f=Math.sin(E)*(s?s/2:b),t.moveTo(n-u,r-a),t.lineTo(n+u,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=s?s/2:Math.cos(E)*b,a=Math.sin(E)*b,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(E)*(s?s/2:b),r+Math.sin(E)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function jl(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function W_(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function $_(t){t.restore()}function RY(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function DY(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function QY(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Yn(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function OY(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,A=n-i.actualBoundingBoxAscent,l=n+i.actualBoundingBoxDescent,c=s.strikethrough?(A+l)/2:l;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,c),t.lineTo(a,c),t.stroke()}}function MY(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function nh(t,e,n,r,s,i={}){const o=zr(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let A,l;for(t.save(),t.font=s.string,QY(t,i),A=0;A<o.length;++A)l=o[A],i.backdrop&&MY(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Yn(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(l,n,r,i.maxWidth)),t.fillText(l,n,r,i.maxWidth),OY(t,n,r,l,i),r+=Number(s.lineHeight);t.restore()}function Cm(t,e){const{x:n,y:r,w:s,h:i,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Es,Es,!0),t.lineTo(n,r+i-o.bottomLeft),t.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,Es,ea,!0),t.lineTo(n+s-o.bottomRight,r+i),t.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,ea,0,!0),t.lineTo(n+s,r+o.topRight),t.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-ea,!0),t.lineTo(n+o.topLeft,r)}const HY=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,VY=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function KY(t,e){const n=(""+t).match(HY);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const zY=t=>+t||0;function vU(t,e){const n={},r=nr(e),s=r?Object.keys(e):e,i=nr(t)?r?o=>Rn(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=zY(i(o));return n}function wU(t){return vU(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Pd(t){return vU(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Pi(t){const e=wU(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Qs(t,e){t=t||{},e=e||os.font;let n=Rn(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Rn(t.style,e.style);r&&!(""+r).match(VY)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Rn(t.family,e.family),lineHeight:KY(Rn(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Rn(t.weight,e.weight),string:""};return s.string=jY(s),s}function xy(t,e,n,r){let s=!0,i,o,a;for(i=0,o=t.length;i<o;++i)if(a=t[i],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),s=!1),n!==void 0&&zr(a)&&(a=a[n%a.length],s=!1),a!==void 0))return r&&!s&&(r.cacheable=!1),a}function GY(t,e,n){const{min:r,max:s}=t,i=oY(e,(s-r)/2),o=(a,A)=>n&&a===0?0:a+A;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function Du(t,e){return Object.assign(Object.create(t),e)}function q_(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=_U("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>q_([a,...t],e,i,r)};return new Proxy(o,{deleteProperty(a,A){return delete a[A],delete a._keys,delete t[0][A],!0},get(a,A){return bU(a,A,()=>eX(A,e,t,a))},getOwnPropertyDescriptor(a,A){return Reflect.getOwnPropertyDescriptor(a._scopes[0],A)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,A){return oF(a).includes(A)},ownKeys(a){return oF(a)},set(a,A,l){const c=a._storage||(a._storage=s());return a[A]=c[A]=l,delete a._keys,!0}})}function Wf(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:xU(t,r),setContext:i=>Wf(t,i,n,r),override:i=>Wf(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return bU(i,o,()=>$Y(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function xU(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Su(n)?n:()=>n,isIndexable:Su(r)?r:()=>r}}const WY=(t,e)=>t?t+M_(e):e,Y_=(t,e)=>nr(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function bU(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function $Y(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=t;let a=r[e];return Su(a)&&o.isScriptable(e)&&(a=qY(e,a,t,n)),zr(a)&&a.length&&(a=YY(e,a,t,o.isIndexable)),Y_(e,a)&&(a=Wf(a,s,i&&i[e],o)),a}function qY(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let A=e(i,o||r);return a.delete(t),Y_(t,A)&&(A=X_(s._scopes,s,t,A)),A}function YY(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(nr(e[0])){const A=e,l=s._scopes.filter(c=>c!==A);e=[];for(const c of A){const u=X_(l,s,t,c);e.push(Wf(u,i,o&&o[t],a))}}return e}function BU(t,e,n){return Su(t)?t(e,n):t}const XY=(t,e)=>t===!0?e:typeof t=="string"?Gf(e,t):void 0;function JY(t,e,n,r,s){for(const i of e){const o=XY(n,i);if(o){t.add(o);const a=BU(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function X_(t,e,n,r){const s=e._rootScopes,i=BU(e._fallback,n,r),o=[...t,...s],a=new Set;a.add(r);let A=iF(a,o,n,i||n,r);return A===null||typeof i<"u"&&i!==n&&(A=iF(a,o,i,A,r),A===null)?!1:q_(Array.from(a),[""],s,i,()=>ZY(e,n,r))}function iF(t,e,n,r,s){for(;n;)n=JY(t,e,n,r,s);return n}function ZY(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return zr(s)&&nr(n)?n:s||{}}function eX(t,e,n,r){let s;for(const i of e)if(s=_U(WY(i,t),n),typeof s<"u")return Y_(t,s)?X_(n,r,t,s):s}function _U(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function oF(t){let e=t._keys;return e||(e=t._keys=tX(t._scopes)),e}function tX(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const nX=Number.EPSILON||1e-14,$f=(t,e)=>e<t.length&&!t[e].skip&&t[e],CU=t=>t==="x"?"y":"x";function rX(t,e,n,r){const s=t.skip?e:t,i=e,o=n.skip?e:n,a=pB(i,s),A=pB(o,i);let l=a/(a+A),c=A/(a+A);l=isNaN(l)?0:l,c=isNaN(c)?0:c;const u=r*l,f=r*c;return{previous:{x:i.x-u*(o.x-s.x),y:i.y-u*(o.y-s.y)},next:{x:i.x+f*(o.x-s.x),y:i.y+f*(o.y-s.y)}}}function sX(t,e,n){const r=t.length;let s,i,o,a,A,l=$f(t,0);for(let c=0;c<r-1;++c)if(A=l,l=$f(t,c+1),!(!A||!l)){if(Ug(e[c],0,nX)){n[c]=n[c+1]=0;continue}s=n[c]/e[c],i=n[c+1]/e[c],a=Math.pow(s,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[c]=s*o*e[c],n[c+1]=i*o*e[c])}}function iX(t,e,n="x"){const r=CU(n),s=t.length;let i,o,a,A=$f(t,0);for(let l=0;l<s;++l){if(o=a,a=A,A=$f(t,l+1),!a)continue;const c=a[n],u=a[r];o&&(i=(c-o[n])/3,a[`cp1${n}`]=c-i,a[`cp1${r}`]=u-i*e[l]),A&&(i=(A[n]-c)/3,a[`cp2${n}`]=c+i,a[`cp2${r}`]=u+i*e[l])}}function oX(t,e="x"){const n=CU(e),r=t.length,s=Array(r).fill(0),i=Array(r);let o,a,A,l=$f(t,0);for(o=0;o<r;++o)if(a=A,A=l,l=$f(t,o+1),!!A){if(l){const c=l[e]-A[e];s[o]=c!==0?(l[n]-A[n])/c:0}i[o]=a?l?zA(s[o-1])!==zA(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}sX(t,s,i),iX(t,i,e)}function by(t,e,n){return Math.max(Math.min(t,n),e)}function aX(t,e){let n,r,s,i,o,a=jl(t[0],e);for(n=0,r=t.length;n<r;++n)o=i,i=a,a=n<r-1&&jl(t[n+1],e),i&&(s=t[n],o&&(s.cp1x=by(s.cp1x,e.left,e.right),s.cp1y=by(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=by(s.cp2x,e.left,e.right),s.cp2y=by(s.cp2y,e.top,e.bottom)))}function AX(t,e,n,r,s){let i,o,a,A;if(e.spanGaps&&(t=t.filter(l=>!l.skip)),e.cubicInterpolationMode==="monotone")oX(t,s);else{let l=r?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],A=rX(l,a,t[Math.min(i+1,o-(r?0:1))%o],e.tension),a.cp1x=A.previous.x,a.cp1y=A.previous.y,a.cp2x=A.next.x,a.cp2y=A.next.y,l=a}e.capBezierPoints&&aX(t,n)}function J_(){return typeof window<"u"&&typeof document<"u"}function Z_(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function y1(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const _w=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function lX(t,e){return _w(t).getPropertyValue(e)}const cX=["top","right","bottom","left"];function jd(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=cX[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const uX=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function dX(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let o=!1,a,A;if(uX(s,i,t.target))a=s,A=i;else{const l=e.getBoundingClientRect();a=r.clientX-l.left,A=r.clientY-l.top,o=!0}return{x:a,y:A,box:o}}function ld(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=_w(n),i=s.boxSizing==="border-box",o=jd(s,"padding"),a=jd(s,"border","width"),{x:A,y:l,box:c}=dX(t,n),u=o.left+(c&&a.left),f=o.top+(c&&a.top);let{width:d,height:B}=e;return i&&(d-=o.width+a.width,B-=o.height+a.height),{x:Math.round((A-u)/d*n.width/r),y:Math.round((l-f)/B*n.height/r)}}function hX(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&Z_(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=_w(i),A=jd(a,"border","width"),l=jd(a,"padding");e=o.width-l.width-A.width,n=o.height-l.height-A.height,r=y1(a.maxWidth,i,"clientWidth"),s=y1(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||g1,maxHeight:s||g1}}const By=t=>Math.round(t*10)/10;function fX(t,e,n,r){const s=_w(t),i=jd(s,"margin"),o=y1(s.maxWidth,t,"clientWidth")||g1,a=y1(s.maxHeight,t,"clientHeight")||g1,A=hX(t,e,n);let{width:l,height:c}=A;if(s.boxSizing==="content-box"){const f=jd(s,"border","width"),d=jd(s,"padding");l-=d.width+f.width,c-=d.height+f.height}return l=Math.max(0,l-i.width),c=Math.max(0,r?l/r:c-i.height),l=By(Math.min(l,o,A.maxWidth)),c=By(Math.min(c,a,A.maxHeight)),l&&!c&&(c=By(l/2)),(e!==void 0||n!==void 0)&&r&&A.height&&c>A.height&&(c=A.height,l=By(Math.floor(c*r))),{width:l,height:c}}function aF(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=r,o.height=s,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const pX=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};J_()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function AF(t,e){const n=lX(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function cd(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function gX(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function mX(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=cd(t,s,n),a=cd(s,i,n),A=cd(i,e,n),l=cd(o,a,n),c=cd(a,A,n);return cd(l,c,n)}const yX=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},vX=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Cf(t,e,n){return t?yX(e,n):vX()}function EU(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function IU(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function SU(t){return t==="angle"?{between:dU,compare:yY,normalize:eA}:{between:Bd,compare:(e,n)=>e-n,normalize:e=>e}}function lF({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function wX(t,e,n){const{property:r,start:s,end:i}=n,{between:o,normalize:a}=SU(r),A=e.length;let{start:l,end:c,loop:u}=t,f,d;if(u){for(l+=A,c+=A,f=0,d=A;f<d&&o(a(e[l%A][r]),s,i);++f)l--,c--;l%=A,c%=A}return c<l&&(c+=A),{start:l,end:c,loop:u,style:t.style}}function xX(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,o=e.length,{compare:a,between:A,normalize:l}=SU(r),{start:c,end:u,loop:f,style:d}=wX(t,e,n),B=[];let b=!1,E=null,v,C,S;const R=()=>A(s,S,v)&&a(s,S)!==0,P=()=>a(i,v)===0||A(i,S,v),Q=()=>b||R(),T=()=>!b||P();for(let I=c,O=c;I<=u;++I)C=e[I%o],!C.skip&&(v=l(C[r]),v!==S&&(b=A(v,s,i),E===null&&Q()&&(E=a(v,s)===0?I:O),E!==null&&T()&&(B.push(lF({start:E,end:I,loop:f,count:o,style:d})),E=null),O=I,S=v));return E!==null&&B.push(lF({start:E,end:u,loop:f,count:o,style:d})),B}function bX(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=xX(r[s],t.points,e);i.length&&n.push(...i)}return n}function BX(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function _X(t,e,n,r){const s=t.length,i=[];let o=e,a=t[e],A;for(A=e+1;A<=n;++A){const l=t[A%s];l.skip||l.stop?a.skip||(r=!1,i.push({start:e%s,end:(A-1)%s,loop:r}),e=o=l.stop?A:null):(o=A,a.skip&&(e=A)),a=l}return o!==null&&i.push({start:e%s,end:o%s,loop:r}),i}function CX(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:o,end:a}=BX(n,s,i,r);if(r===!0)return cF(t,[{start:o,end:a,loop:i}],n,e);const A=a<o?a+s:a,l=!!t._fullLoop&&o===0&&a===s-1;return cF(t,_X(n,o,A,l),n,e)}function cF(t,e,n,r){return!r||!r.setContext||!n?e:EX(t,e,n,r)}function EX(t,e,n,r){const s=t._chart.getContext(),i=uF(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,A=n.length,l=[];let c=i,u=e[0].start,f=u;function d(B,b,E,v){const C=a?-1:1;if(B!==b){for(B+=A;n[B%A].skip;)B-=C;for(;n[b%A].skip;)b+=C;B%A!==b%A&&(l.push({start:B%A,end:b%A,loop:E,style:v}),c=v,u=b%A)}}for(const B of e){u=a?u:B.start;let b=n[u%A],E;for(f=u+1;f<=B.end;f++){const v=n[f%A];E=uF(r.setContext(Du(s,{type:"segment",p0:b,p1:v,p0DataIndex:(f-1)%A,p1DataIndex:f%A,datasetIndex:o}))),IX(E,c)&&d(u,f-1,B.loop,c),b=v,c=E}u<f-1&&d(u,f-1,B.loop,c)}return l}function uF(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function IX(t,e){if(!e)return!1;const n=[],r=function(s,i){return z_(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function _y(t,e,n){return t.options.clip?t[n]:e[n]}function SX(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:_y(n,e,"left"),right:_y(n,e,"right"),top:_y(r,e,"top"),bottom:_y(r,e,"bottom")}:e}function FX(t,e){const n=e._clip;if(n.disabled)return!1;const r=SX(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class TX{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=pU.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,A;for(;o>=0;--o)A=i[o],A._active?(A._total>r.duration&&(r.duration=A._total),A.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var bl=new TX;const dF="transparent",NX={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=nF(t||dF),s=r.valid&&nF(e||dF);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class kX{constructor(e,n,r,s){const i=n[r];s=xy([e.to,s,i,e.from]);const o=xy([e.from,i,s]);this._active=!0,this._fn=e.fn||NX[e.type||typeof o],this._easing=Rg[e.easing]||Rg.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=xy([e.to,n,s,e.from]),this._from=xy([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let A;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}A=n/r%2,A=o&&A>1?2-A:A,A=this._easing(Math.min(1,Math.max(0,A))),this._target[s]=this._fn(i,a,A)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class FU{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!nr(e))return;const n=Object.keys(os.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!nr(i))return;const o={};for(const a of n)o[a]=i[a];(zr(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,s=PX(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&LX(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let A;for(A=o.length-1;A>=0;--A){const l=o[A];if(l.charAt(0)==="$")continue;if(l==="options"){s.push(...this._animateOptions(e,n));continue}const c=n[l];let u=i[l];const f=r.get(l);if(u)if(f&&u.active()){u.update(f,c,a);continue}else u.cancel();if(!f||!f.duration){e[l]=c;continue}i[l]=u=new kX(f,e,l,c),s.push(u)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return bl.add(this._chart,r),!0}}function LX(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function PX(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function hF(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function jX(t,e,n){if(n===!1)return!1;const r=hF(t,n),s=hF(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function UX(t){let e,n,r,s;return nr(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function TU(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function fF(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let o,a,A,l;if(e===null)return;let c=!1;for(o=0,a=s.length;o<a;++o){if(A=+s[o],A===n){if(c=!0,r.all)continue;break}l=t.values[A],Ys(l)&&(i||e===0||zA(e)===zA(l))&&(e+=l)}return!c&&!r.all?0:e}function RX(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let A,l,c;for(A=0,l=o.length;A<l;++A)c=o[A],a[A]={[s]:c,[i]:t[c]};return a}function vx(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function DX(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function QX(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function OX(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function pF(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function gF(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,A=i.axis,l=o.axis,c=DX(i,o,r),u=e.length;let f;for(let d=0;d<u;++d){const B=e[d],{[A]:b,[l]:E}=B,v=B._stacks||(B._stacks={});f=v[l]=OX(s,c,b),f[a]=E,f._top=pF(f,o,!0,r.type),f._bottom=pF(f,o,!1,r.type);const C=f._visualValues||(f._visualValues={});C[a]=E}}function wx(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function MX(t,e){return Du(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function HX(t,e,n){return Du(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Hp(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const xx=t=>t==="reset"||t==="none",mF=(t,e)=>e?t:Object.assign({},t),VX=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:TU(n,!0),values:null};class Ef{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=vx(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Hp(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(u,f,d,B)=>u==="x"?f:u==="r"?B:d,i=n.xAxisID=Rn(r.xAxisID,wx(e,"x")),o=n.yAxisID=Rn(r.yAxisID,wx(e,"y")),a=n.rAxisID=Rn(r.rAxisID,wx(e,"r")),A=n.indexAxis,l=n.iAxisID=s(A,i,o,a),c=n.vAxisID=s(A,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(l),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ZS(this._data,this),e._stacked&&Hp(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(nr(n)){const s=this._cachedMeta;this._data=RX(n,s)}else if(r!==n){if(r){ZS(r,this);const s=this._cachedMeta;Hp(s),s._parsed=[]}n&&Object.isExtensible(n)&&bY(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=vx(n.vScale,n),n.stack!==r.stack&&(s=!0,Hp(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(gF(this,n._parsed),n._stacked=vx(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let A=e===0&&n===s.length?!0:r._sorted,l=e>0&&r._parsed[e-1],c,u,f;if(this._parsing===!1)r._parsed=s,r._sorted=!0,f=s;else{zr(s[e])?f=this.parseArrayData(r,s,e,n):nr(s[e])?f=this.parseObjectData(r,s,e,n):f=this.parsePrimitiveData(r,s,e,n);const d=()=>u[a]===null||l&&u[a]<l[a];for(c=0;c<n;++c)r._parsed[c+e]=u=f[c],A&&(d()&&(A=!1),l=u);r._sorted=A}o&&gF(this,f)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:o}=e,a=i.axis,A=o.axis,l=i.getLabels(),c=i===o,u=new Array(s);let f,d,B;for(f=0,d=s;f<d;++f)B=f+r,u[f]={[a]:c||i.parse(l[B],B),[A]:o.parse(n[B],B)};return u}parseArrayData(e,n,r,s){const{xScale:i,yScale:o}=e,a=new Array(s);let A,l,c,u;for(A=0,l=s;A<l;++A)c=A+r,u=n[c],a[A]={x:i.parse(u[0],c),y:o.parse(u[1],c)};return a}parseObjectData(e,n,r,s){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:A="y"}=this._parsing,l=new Array(s);let c,u,f,d;for(c=0,u=s;c<u;++c)f=c+r,d=n[f],l[c]={x:i.parse(Gf(d,a),f),y:o.parse(Gf(d,A),f)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:TU(s,!0),values:n._stacks[e.axis]._visualValues};return fF(a,o,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=fF(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,o=s.length,a=this._getOtherScale(e),A=VX(n,r,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=QX(a);let f,d;function B(){d=s[f];const b=d[a.axis];return!Ys(d[e.axis])||c>b||u<b}for(f=0;f<o&&!(!B()&&(this.updateRangeFromParsed(l,e,d,A),i));++f);if(i){for(f=o-1;f>=0;--f)if(!B()){this.updateRangeFromParsed(l,e,d,A);break}}return l}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][e.axis],Ys(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=UX(Rn(this.options.clip,jX(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,A=this._drawCount||s.length-a,l=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(e,i,a,A),c=a;c<a+A;++c){const u=s[c];u.hidden||(u.active&&l?o.push(u):u.draw(e,i))}for(c=0;c<o.length;++c)o[c].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=HX(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=MX(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],A=this.enableOptionSharing&&Bm(r);if(a)return mF(a,A);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=s?[`${e}Hover`,"hover",e,""]:[e,""],f=l.getOptionScopes(this.getDataset(),c),d=Object.keys(os.elements[e]),B=()=>this.getContext(r,s,n),b=l.resolveNamedOptions(f,d,B,u);return b.$shared&&(b.$shared=A,i[o]=Object.freeze(mF(b,A))),b}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let A;if(s.options.animation!==!1){const c=this.chart.config,u=c.datasetAnimationScopeKeys(this._type,n),f=c.getOptionScopes(this.getDataset(),u);A=c.createResolver(f,this.getContext(e,r,n))}const l=new FU(s,A&&A.animations);return A&&A._cacheable&&(i[o]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||xx(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(e,n,r,s){xx(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!xx(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,A,l]of this._syncList)this[a](A,l);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,o=e+n;let a;const A=l=>{for(l.length+=n,a=l.length-1;a>=o;a--)l[a]=l[a-n]};for(A(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&A(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Hp(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}rn(Ef,"defaults",{}),rn(Ef,"datasetElementType",null),rn(Ef,"dataElementType",null);function KX(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=fU(r.sort((s,i)=>s-i))}return t._cache.$bar}function zX(t){const e=t.iScale,n=KX(e,t.type);let r=e._length,s,i,o,a;const A=()=>{o===32767||o===-32768||(Bm(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(s=0,i=n.length;s<i;++s)o=e.getPixelForValue(n[s]),A();for(a=void 0,s=0,i=e.ticks.length;s<i;++s)o=e.getPixelForTick(s),A();return r}function GX(t,e,n,r){const s=n.barThickness;let i,o;return Yn(s)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=s*r,o=1),{chunk:i/r,ratio:o,start:e.pixels[t]-i/2}}function WX(t,e,n,r){const s=e.pixels,i=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const A=n.categoryPercentage;o===null&&(o=i-(a===null?e.end-e.start:a-i)),a===null&&(a=i+i-o);const l=i-(i-Math.min(o,a))/2*A;return{chunk:Math.abs(a-o)/2*A/r,ratio:n.barPercentage,start:l}}function $X(t,e,n,r){const s=n.parse(t[0],r),i=n.parse(t[1],r),o=Math.min(s,i),a=Math.max(s,i);let A=o,l=a;Math.abs(o)>Math.abs(a)&&(A=a,l=o),e[n.axis]=l,e._custom={barStart:A,barEnd:l,start:s,end:i,min:o,max:a}}function NU(t,e,n,r){return zr(t)?$X(t,e,n,r):e[n.axis]=n.parse(t,r),e}function yF(t,e,n,r){const s=t.iScale,i=t.vScale,o=s.getLabels(),a=s===i,A=[];let l,c,u,f;for(l=n,c=n+r;l<c;++l)f=e[l],u={},u[s.axis]=a||s.parse(o[l],l),A.push(NU(f,u,i,l));return A}function bx(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function qX(t,e,n){return t!==0?zA(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function YX(t){let e,n,r,s,i;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:e,top:s,bottom:i}}function XX(t,e,n,r){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:A,top:l,bottom:c}=YX(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=l:(n._bottom||0)===r?s=c:(i[vF(c,o,a,A)]=!0,s=l)),i[vF(s,o,a,A)]=!0,t.borderSkipped=i}function vF(t,e,n,r){return r?(t=JX(t,e,n),t=wF(t,n,e)):t=wF(t,e,n),t}function JX(t,e,n){return t===e?n:t===n?e:t}function wF(t,e,n){return t==="start"?e:t==="end"?n:t}function ZX(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class ov extends Ef{parsePrimitiveData(e,n,r,s){return yF(e,n,r,s)}parseArrayData(e,n,r,s){return yF(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:i,vScale:o}=e,{xAxisKey:a="x",yAxisKey:A="y"}=this._parsing,l=i.axis==="x"?a:A,c=o.axis==="x"?a:A,u=[];let f,d,B,b;for(f=r,d=r+s;f<d;++f)b=n[f],B={},B[i.axis]=i.parse(Gf(b,l),f),u.push(NU(Gf(b,c),B,o,f));return u}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(e),o=i._custom,a=bx(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const i=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,A=a.getBasePixel(),l=a.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:f}=this._getSharedOptions(n,s);for(let d=n;d<n+r;d++){const B=this.getParsed(d),b=i||Yn(B[a.axis])?{base:A,head:A}:this._calculateBarValuePixels(d),E=this._calculateBarIndexPixels(d,c),v=(B._stacks||{})[a.axis],C={horizontal:l,base:b.base,enableBorderRadius:!v||bx(B._custom)||o===v._top||o===v._bottom,x:l?b.head:E.center,y:l?E.center:b.head,height:l?E.size:Math.abs(b.size),width:l?Math.abs(b.size):E.size};f&&(C.options=u||this.resolveDataElementOptions(d,e[d].active?"active":s));const S=C.options||e[d].options;XX(C,S,v,o),ZX(C,S,c.ratio),this.updateElement(e[d],d,C,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),i=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),A=a&&a[r.axis],l=c=>{const u=c._parsed.find(d=>d[r.axis]===A),f=u&&u[c.vScale.axis];if(Yn(f)||isNaN(f))return!0};for(const c of s)if(!(n!==void 0&&l(c))&&((i===!1||o.indexOf(c.stack)===-1||i===void 0&&c.stack===void 0)&&o.push(c.stack),c.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Rn(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,o;for(i=0,o=n.data.length;i<o;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const a=e.barThickness;return{min:a||zX(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:o}}=this,a=i||0,A=this.getParsed(e),l=A._custom,c=bx(l);let u=A[n.axis],f=0,d=r?this.applyStack(n,A,r):u,B,b;d!==u&&(f=d-u,d=u),c&&(u=l.barStart,d=l.barEnd-l.barStart,u!==0&&zA(u)!==zA(l.barEnd)&&(f=0),f+=u);const E=!Yn(i)&&!c?i:f;let v=n.getPixelForValue(E);if(this.chart.getDataVisibility(e)?B=n.getPixelForValue(f+d):B=v,b=B-v,Math.abs(b)<o){b=qX(b,n,a)*o,u===a&&(v-=b/2);const C=n.getPixelForDecimal(0),S=n.getPixelForDecimal(1),R=Math.min(C,S),P=Math.max(C,S);v=Math.max(Math.min(v,P),R),B=v+b,r&&!c&&(A._stacks[n.axis]._visualValues[s]=n.getValueForPixel(B)-n.getValueForPixel(v))}if(v===n.getPixelForValue(a)){const C=zA(b)*n.getLineWidthForValue(a)/2;v+=C,b-=C}return{size:b,base:v,head:B,center:B+b/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,i=s.skipNull,o=Rn(s.maxBarThickness,1/0);let a,A;const l=this._getAxisCount();if(n.grouped){const c=i?this._getStackCount(e):n.stackCount,u=s.barThickness==="flex"?WX(e,n,s,c*l):GX(e,n,s,c*l),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,d=this._getAxis().indexOf(Rn(f,this.getFirstScaleIdForIndexAxis())),B=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+d;a=u.start+u.chunk*B+u.chunk/2,A=Math.min(o,u.chunk*u.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),A=Math.min(o,n.min*n.ratio);return{base:a-A/2,head:a+A/2,center:a,size:A}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}rn(ov,"id","bar"),rn(ov,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),rn(ov,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class av extends Ef{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:A}=CY(n,s,o);this._drawStart=a,this._drawCount=A,EY(n)&&(a=0,A=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:l},e),this.updateElements(s,a,A,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:A,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(n,s),f=o.axis,d=a.axis,{spanGaps:B,segment:b}=this.options,E=_m(B)?B:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||s==="none",C=n+r,S=e.length;let R=n>0&&this.getParsed(n-1);for(let P=0;P<S;++P){const Q=e[P],T=v?Q:{};if(P<n||P>=C){T.skip=!0;continue}const I=this.getParsed(P),O=Yn(I[d]),M=T[f]=o.getPixelForValue(I[f],P),L=T[d]=i||O?a.getBasePixel():a.getPixelForValue(A?this.applyStack(a,I,A):I[d],P);T.skip=isNaN(M)||isNaN(L)||O,T.stop=P>0&&Math.abs(I[f]-R[f])>E,b&&(T.parsed=I,T.raw=l.data[P]),u&&(T.options=c||this.resolveDataElementOptions(P,Q.active?"active":s)),v||this.updateElement(Q,P,T,s),R=I}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}rn(av,"id","line"),rn(av,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),rn(av,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function td(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class eC{constructor(e){rn(this,"options");this.options=e||{}}static override(e){Object.assign(eC.prototype,e)}init(){}formats(){return td()}parse(){return td()}format(){return td()}add(){return td()}diff(){return td()}startOf(){return td()}endOf(){return td()}}var eJ={_date:eC};function tJ(t,e,n,r){const{controller:s,data:i,_sorted:o}=t,a=s._cachedMeta.iScale,A=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const l=a._reversePixels?wY:_d;if(r){if(s._sharedOptions){const c=i[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const f=l(i,e,n-u),d=l(i,e,n+u);return{lo:f.lo,hi:d.hi}}}}else{const c=l(i,e,n);if(A){const{vScale:u}=s._cachedMeta,{_parsed:f}=t,d=f.slice(0,c.lo+1).reverse().findIndex(b=>!Yn(b[u.axis]));c.lo-=Math.max(0,d);const B=f.slice(c.hi).findIndex(b=>!Yn(b[u.axis]));c.hi+=Math.max(0,B)}return c}}return{lo:0,hi:i.length-1}}function Jm(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,A=i.length;a<A;++a){const{index:l,data:c}=i[a],{lo:u,hi:f}=tJ(i[a],e,o,s);for(let d=u;d<=f;++d){const B=c[d];B.skip||r(B,l,d)}}}function nJ(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Bx(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||Jm(t,n,e,function(a,A,l){!s&&!jl(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&i.push({element:a,datasetIndex:A,index:l})},!0),i}function rJ(t,e,n,r){let s=[];function i(o,a,A){const{startAngle:l,endAngle:c}=o.getProps(["startAngle","endAngle"],r),{angle:u}=mY(o,{x:e.x,y:e.y});dU(u,l,c)&&s.push({element:o,datasetIndex:a,index:A})}return Jm(t,n,e,i),s}function sJ(t,e,n,r,s,i){let o=[];const a=nJ(n);let A=Number.POSITIVE_INFINITY;function l(c,u,f){const d=c.inRange(e.x,e.y,s);if(r&&!d)return;const B=c.getCenterPoint(s);if(!(!!i||t.isPointInArea(B))&&!d)return;const E=a(e,B);E<A?(o=[{element:c,datasetIndex:u,index:f}],A=E):E===A&&o.push({element:c,datasetIndex:u,index:f})}return Jm(t,n,e,l),o}function _x(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?rJ(t,e,n,s):sJ(t,e,n,r,s,i)}function xF(t,e,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Jm(t,n,e,(A,l,c)=>{A[o]&&A[o](e[n],s)&&(i.push({element:A,datasetIndex:l,index:c}),a=a||A.inRange(e.x,e.y,s))}),r&&!a?[]:i}var iJ={evaluateInteractionItems:Jm,modes:{index(t,e,n,r){const s=ld(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Bx(t,s,i,r,o):_x(t,s,i,!1,r,o),A=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(l=>{const c=a[0].index,u=l.data[c];u&&!u.skip&&A.push({element:u,datasetIndex:l.index,index:c})}),A):[]},dataset(t,e,n,r){const s=ld(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Bx(t,s,i,r,o):_x(t,s,i,!1,r,o);if(a.length>0){const A=a[0].datasetIndex,l=t.getDatasetMeta(A).data;a=[];for(let c=0;c<l.length;++c)a.push({element:l[c],datasetIndex:A,index:c})}return a},point(t,e,n,r){const s=ld(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Bx(t,s,i,r,o)},nearest(t,e,n,r){const s=ld(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return _x(t,s,i,n.intersect,r,o)},x(t,e,n,r){const s=ld(e,t);return xF(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=ld(e,t);return xF(t,s,"y",n.intersect,r)}}};const kU=["left","top","right","bottom"];function Vp(t,e){return t.filter(n=>n.pos===e)}function bF(t,e){return t.filter(n=>kU.indexOf(n.pos)===-1&&n.box.axis===e)}function Kp(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function oJ(t){const e=[];let n,r,s,i,o,a;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return e}function aJ(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!kU.includes(s))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function AJ(t,e){const n=aJ(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:A}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*r:A&&e.availableWidth,a.height=s):(a.width=r,a.height=c?c*s:A&&e.availableHeight)}return n}function lJ(t){const e=oJ(t),n=Kp(e.filter(l=>l.box.fullSize),!0),r=Kp(Vp(e,"left"),!0),s=Kp(Vp(e,"right")),i=Kp(Vp(e,"top"),!0),o=Kp(Vp(e,"bottom")),a=bF(e,"x"),A=bF(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(A).concat(o).concat(a),chartArea:Vp(e,"chartArea"),vertical:r.concat(s).concat(A),horizontal:i.concat(o).concat(a)}}function BF(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function LU(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function cJ(t,e,n,r){const{pos:s,box:i}=n,o=t.maxPadding;if(!nr(s)){n.size&&(t[s]-=n.size);const u=r[n.stack]||{size:0,count:1};u.size=Math.max(u.size,n.horizontal?i.height:i.width),n.size=u.size/u.count,t[s]+=n.size}i.getPadding&&LU(o,i.getPadding());const a=Math.max(0,e.outerWidth-BF(o,t,"left","right")),A=Math.max(0,e.outerHeight-BF(o,t,"top","bottom")),l=a!==t.w,c=A!==t.h;return t.w=a,t.h=A,n.horizontal?{same:l,other:c}:{same:c,other:l}}function uJ(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function dJ(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return r(t?["left","right"]:["top","bottom"])}function ag(t,e,n,r){const s=[];let i,o,a,A,l,c;for(i=0,o=t.length,l=0;i<o;++i){a=t[i],A=a.box,A.update(a.width||e.w,a.height||e.h,dJ(a.horizontal,e));const{same:u,other:f}=cJ(e,n,a,r);l|=u&&s.length,c=c||f,A.fullSize||s.push(a)}return l&&ag(s,e,n,r)||c}function Cy(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function _F(t,e,n,r){const s=n.padding;let{x:i,y:o}=e;for(const a of t){const A=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const u=e.w*c,f=l.size||A.height;Bm(l.start)&&(o=l.start),A.fullSize?Cy(A,s.left,o,n.outerWidth-s.right-s.left,f):Cy(A,e.left+l.placed,o,u,f),l.start=o,l.placed+=u,o=A.bottom}else{const u=e.h*c,f=l.size||A.width;Bm(l.start)&&(i=l.start),A.fullSize?Cy(A,i,s.top,f,n.outerHeight-s.bottom-s.top):Cy(A,i,e.top+l.placed,f,u),l.start=i,l.placed+=u,i=A.right}}e.x=i,e.y=o}var Ba={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=Pi(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=lJ(t.boxes),A=a.vertical,l=a.horizontal;hr(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const c=A.reduce((b,E)=>E.box.options&&E.box.options.display===!1?b:b+1,0)||1,u=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/c,hBoxMaxHeight:o/2}),f=Object.assign({},s);LU(f,Pi(r));const d=Object.assign({maxPadding:f,w:i,h:o,x:s.left,y:s.top},s),B=AJ(A.concat(l),u);ag(a.fullSize,d,u,B),ag(A,d,u,B),ag(l,d,u,B)&&ag(A,d,u,B),uJ(d),_F(a.leftAndTop,d,u,B),d.x+=d.w,d.y+=d.h,_F(a.rightAndBottom,d,u,B),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},hr(a.chartArea,b=>{const E=b.box;Object.assign(E,t.chartArea),E.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class PU{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class hJ extends PU{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Av="$chartjs",fJ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},CF=t=>t===null||t==="";function pJ(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Av]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",CF(s)){const i=AF(t,"width");i!==void 0&&(t.width=i)}if(CF(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=AF(t,"height");i!==void 0&&(t.height=i)}return t}const jU=pX?{passive:!0}:!1;function gJ(t,e,n){t&&t.addEventListener(e,n,jU)}function mJ(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,jU)}function yJ(t,e){const n=fJ[t.type]||t.type,{x:r,y:s}=ld(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function v1(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function vJ(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||v1(a.addedNodes,r),o=o&&!v1(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function wJ(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||v1(a.removedNodes,r),o=o&&!v1(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Em=new Map;let EF=0;function UU(){const t=window.devicePixelRatio;t!==EF&&(EF=t,Em.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function xJ(t,e){Em.size||window.addEventListener("resize",UU),Em.set(t,e)}function bJ(t){Em.delete(t),Em.size||window.removeEventListener("resize",UU)}function BJ(t,e,n){const r=t.canvas,s=r&&Z_(r);if(!s)return;const i=gU((a,A)=>{const l=s.clientWidth;n(a,A),l<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const A=a[0],l=A.contentRect.width,c=A.contentRect.height;l===0&&c===0||i(l,c)});return o.observe(s),xJ(t,i),o}function Cx(t,e,n){n&&n.disconnect(),e==="resize"&&bJ(t)}function _J(t,e,n){const r=t.canvas,s=gU(i=>{t.ctx!==null&&n(yJ(i,t))},t);return gJ(r,e,s),s}class CJ extends PU{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(pJ(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Av])return!1;const r=n[Av].initial;["height","width"].forEach(i=>{const o=r[i];Yn(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Av],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:vJ,detach:wJ,resize:BJ}[n]||_J;s[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:Cx,detach:Cx,resize:Cx}[n]||mJ)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return fX(e,n,r,s)}isAttached(e){const n=e&&Z_(e);return!!(n&&n.isConnected)}}function EJ(t){return!J_()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?hJ:CJ}class $A{constructor(){rn(this,"x");rn(this,"y");rn(this,"active",!1);rn(this,"options");rn(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return _m(this.x)&&_m(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}rn($A,"defaults",{}),rn($A,"defaultRoutes");function IJ(t,e){const n=t.options.ticks,r=SJ(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?TJ(e):[],o=i.length,a=i[0],A=i[o-1],l=[];if(o>s)return NJ(e,l,i,o/s),l;const c=FJ(i,e,s);if(o>0){let u,f;const d=o>1?Math.round((A-a)/(o-1)):null;for(Ey(e,l,c,Yn(d)?0:a-d,a),u=0,f=o-1;u<f;u++)Ey(e,l,c,i[u],i[u+1]);return Ey(e,l,c,A,Yn(d)?e.length:A+d),l}return Ey(e,l,c),l}function SJ(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function FJ(t,e,n){const r=kJ(t),s=e.length/n;if(!r)return Math.max(s,1);const i=fY(r);for(let o=0,a=i.length-1;o<a;o++){const A=i[o];if(A>s)return A}return Math.max(s,1)}function TJ(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function NJ(t,e,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=n[s*r])}function Ey(t,e,n,r,s){const i=Rn(r,0),o=Math.min(Rn(s,t.length),t.length);let a=0,A,l,c;for(n=Math.ceil(n),s&&(A=s-r,n=A/Math.floor(A/n)),c=i;c<0;)a++,c=Math.round(i+a*n);for(l=Math.max(i,0);l<o;l++)l===c&&(e.push(t[l]),a++,c=Math.round(i+a*n))}function kJ(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const LJ=t=>t==="left"?"right":t==="right"?"left":t,IF=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,SF=(t,e)=>Math.min(e||t,t);function FF(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function PJ(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,o=t._endPixel,a=1e-6;let A=t.getPixelForTick(s),l;if(!(n&&(r===1?l=Math.max(A-i,o-A):e===0?l=(t.getPixelForTick(1)-A)/2:l=(A-t.getPixelForTick(s-1))/2,A+=s<e?l:-l,A<i-a||A>o+a)))return A}function jJ(t,e){hr(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function zp(t){return t.drawTicks?t.tickLength:0}function TF(t,e){if(!t.display)return 0;const n=Qs(t.font,e),r=Pi(t.padding);return(zr(t.text)?t.text.length:1)*n.lineHeight+r.height}function UJ(t,e){return Du(t,{scale:e,type:"scale"})}function RJ(t,e,n){return Du(t,{tick:n,index:e,type:"tick"})}function DJ(t,e,n){let r=K_(t);return(n&&e!=="right"||!n&&e==="right")&&(r=LJ(r)),r}function QJ(t,e,n,r){const{top:s,left:i,bottom:o,right:a,chart:A}=t,{chartArea:l,scales:c}=A;let u=0,f,d,B;const b=o-s,E=a-i;if(t.isHorizontal()){if(d=Ii(r,i,a),nr(n)){const v=Object.keys(n)[0],C=n[v];B=c[v].getPixelForValue(C)+b-e}else n==="center"?B=(l.bottom+l.top)/2+b-e:B=IF(t,n,e);f=a-i}else{if(nr(n)){const v=Object.keys(n)[0],C=n[v];d=c[v].getPixelForValue(C)-E+e}else n==="center"?d=(l.left+l.right)/2-E+e:d=IF(t,n,e);B=Ii(r,o,s),u=n==="left"?-ea:ea}return{titleX:d,titleY:B,maxWidth:f,rotation:u}}class uh extends $A{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=Wo(e,Number.POSITIVE_INFINITY),n=Wo(n,Number.NEGATIVE_INFINITY),r=Wo(r,Number.POSITIVE_INFINITY),s=Wo(s,Number.NEGATIVE_INFINITY),{min:Wo(e,r),max:Wo(n,s),minDefined:Ys(e),maxDefined:Ys(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let A=0,l=a.length;A<l;++A)o=a[A].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:Wo(n,Wo(r,n)),max:Wo(r,Wo(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Cr(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=GY(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const A=a<this.ticks.length;this._convertTicksToLabels(A?FF(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=IJ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),A&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Cr(this.options.afterUpdate,[this])}beforeSetDimensions(){Cr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Cr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Cr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Cr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=Cr(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){Cr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Cr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=SF(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,A,l;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const c=this._getLabelSizes(),u=c.widest.width,f=c.highest.height,d=ta(this.chart.width-u,0,this.maxWidth);a=e.offset?this.maxWidth/r:d/(r-1),u+6>a&&(a=d/(r-(e.offset?.5:1)),A=this.maxHeight-zp(e.grid)-n.padding-TF(e.title,this.chart.options.font),l=Math.sqrt(u*u+f*f),o=H_(Math.min(Math.asin(ta((c.highest.height+6)/a,-1,1)),Math.asin(ta(A/l,-1,1))-Math.asin(ta(f/l,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Cr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Cr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const A=TF(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=zp(i)+A):(e.height=this.maxHeight,e.width=zp(i)+A),r.display&&this.ticks.length){const{first:l,last:c,widest:u,highest:f}=this._getLabelSizes(),d=r.padding*2,B=ru(this.labelRotation),b=Math.cos(B),E=Math.sin(B);if(a){const v=r.mirror?0:E*u.width+b*f.height;e.height=Math.min(this.maxHeight,e.height+v+d)}else{const v=r.mirror?0:b*u.width+E*f.height;e.width=Math.min(this.maxWidth,e.width+v+d)}this._calculatePadding(l,c,E,b)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,A=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,d=0;A?l?(f=s*e.width,d=r*n.height):(f=r*e.height,d=s*n.width):i==="start"?d=n.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,d=n.width/2),this.paddingLeft=Math.max((f-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((d-u+o)*this.width/(this.width-u),0)}else{let c=n.height/2,u=e.height/2;i==="start"?(c=0,u=e.height):i==="end"&&(c=n.height,u=0),this.paddingTop=c+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Cr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Yn(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=FF(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],A=Math.floor(n/SF(n,r));let l=0,c=0,u,f,d,B,b,E,v,C,S,R,P;for(u=0;u<n;u+=A){if(B=e[u].label,b=this._resolveTickFontOptions(u),s.font=E=b.string,v=i[E]=i[E]||{data:{},gc:[]},C=b.lineHeight,S=R=0,!Yn(B)&&!zr(B))S=m1(s,v.data,v.gc,S,B),R=C;else if(zr(B))for(f=0,d=B.length;f<d;++f)P=B[f],!Yn(P)&&!zr(P)&&(S=m1(s,v.data,v.gc,S,P),R+=C);o.push(S),a.push(R),l=Math.max(S,l),c=Math.max(R,c)}jJ(i,n);const Q=o.indexOf(l),T=a.indexOf(c),I=O=>({width:o[O]||0,height:a[O]||0});return{first:I(0),last:I(n-1),widest:I(Q),highest:I(T),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return vY(this._alignToPixels?ed(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=RJ(this.getContext(),e,r))}return this.$context||(this.$context=UJ(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ru(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,A=i?i.highest.height+o:0;return this.isHorizontal()?A*r>a*s?a/r:A/s:A*s<a*r?A/r:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,A=i.offset,l=this.isHorizontal(),u=this.ticks.length+(A?1:0),f=zp(i),d=[],B=a.setContext(this.getContext()),b=B.display?B.width:0,E=b/2,v=function(oe){return ed(r,oe,b)};let C,S,R,P,Q,T,I,O,M,L,j,k;if(o==="top")C=v(this.bottom),T=this.bottom-f,O=C-E,L=v(e.top)+E,k=e.bottom;else if(o==="bottom")C=v(this.top),L=e.top,k=v(e.bottom)-E,T=C+E,O=this.top+f;else if(o==="left")C=v(this.right),Q=this.right-f,I=C-E,M=v(e.left)+E,j=e.right;else if(o==="right")C=v(this.left),M=e.left,j=v(e.right)-E,Q=C+E,I=this.left+f;else if(n==="x"){if(o==="center")C=v((e.top+e.bottom)/2+.5);else if(nr(o)){const oe=Object.keys(o)[0],pe=o[oe];C=v(this.chart.scales[oe].getPixelForValue(pe))}L=e.top,k=e.bottom,T=C+E,O=T+f}else if(n==="y"){if(o==="center")C=v((e.left+e.right)/2);else if(nr(o)){const oe=Object.keys(o)[0],pe=o[oe];C=v(this.chart.scales[oe].getPixelForValue(pe))}Q=C-E,I=Q-f,M=e.left,j=e.right}const $=Rn(s.ticks.maxTicksLimit,u),re=Math.max(1,Math.ceil(u/$));for(S=0;S<u;S+=re){const oe=this.getContext(S),pe=i.setContext(oe),se=a.setContext(oe),me=pe.lineWidth,ve=pe.color,Ve=se.dash||[],z=se.dashOffset,J=pe.tickWidth,ie=pe.tickColor,ce=pe.tickBorderDash||[],ge=pe.tickBorderDashOffset;R=PJ(this,S,A),R!==void 0&&(P=ed(r,R,me),l?Q=I=M=j=P:T=O=L=k=P,d.push({tx1:Q,ty1:T,tx2:I,ty2:O,x1:M,y1:L,x2:j,y2:k,width:me,color:ve,borderDash:Ve,borderDashOffset:z,tickWidth:J,tickColor:ie,tickBorderDash:ce,tickBorderDashOffset:ge}))}return this._ticksLength=u,this._borderValue=C,d}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:A,crossAlign:l,padding:c,mirror:u}=i,f=zp(r.grid),d=f+c,B=u?-c:d,b=-ru(this.labelRotation),E=[];let v,C,S,R,P,Q,T,I,O,M,L,j,k="middle";if(s==="top")Q=this.bottom-B,T=this._getXAxisLabelAlignment();else if(s==="bottom")Q=this.top+B,T=this._getXAxisLabelAlignment();else if(s==="left"){const re=this._getYAxisLabelAlignment(f);T=re.textAlign,P=re.x}else if(s==="right"){const re=this._getYAxisLabelAlignment(f);T=re.textAlign,P=re.x}else if(n==="x"){if(s==="center")Q=(e.top+e.bottom)/2+d;else if(nr(s)){const re=Object.keys(s)[0],oe=s[re];Q=this.chart.scales[re].getPixelForValue(oe)+d}T=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")P=(e.left+e.right)/2-d;else if(nr(s)){const re=Object.keys(s)[0],oe=s[re];P=this.chart.scales[re].getPixelForValue(oe)}T=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(A==="start"?k="top":A==="end"&&(k="bottom"));const $=this._getLabelSizes();for(v=0,C=a.length;v<C;++v){S=a[v],R=S.label;const re=i.setContext(this.getContext(v));I=this.getPixelForTick(v)+i.labelOffset,O=this._resolveTickFontOptions(v),M=O.lineHeight,L=zr(R)?R.length:1;const oe=L/2,pe=re.color,se=re.textStrokeColor,me=re.textStrokeWidth;let ve=T;o?(P=I,T==="inner"&&(v===C-1?ve=this.options.reverse?"left":"right":v===0?ve=this.options.reverse?"right":"left":ve="center"),s==="top"?l==="near"||b!==0?j=-L*M+M/2:l==="center"?j=-$.highest.height/2-oe*M+M:j=-$.highest.height+M/2:l==="near"||b!==0?j=M/2:l==="center"?j=$.highest.height/2-oe*M:j=$.highest.height-L*M,u&&(j*=-1),b!==0&&!re.showLabelBackdrop&&(P+=M/2*Math.sin(b))):(Q=I,j=(1-L)*M/2);let Ve;if(re.showLabelBackdrop){const z=Pi(re.backdropPadding),J=$.heights[v],ie=$.widths[v];let ce=j-z.top,ge=0-z.left;switch(k){case"middle":ce-=J/2;break;case"bottom":ce-=J;break}switch(T){case"center":ge-=ie/2;break;case"right":ge-=ie;break;case"inner":v===C-1?ge-=ie:v>0&&(ge-=ie/2);break}Ve={left:ge,top:ce,width:ie+z.width,height:J+z.height,color:re.backdropColor}}E.push({label:R,font:O,textOffset:j,options:{rotation:b,color:pe,strokeColor:se,strokeWidth:me,textAlign:ve,textBaseline:k,translation:[P,Q],backdrop:Ve}})}return E}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ru(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,A=o.widest.width;let l,c;return n==="left"?s?(c=this.right+i,r==="near"?l="left":r==="center"?(l="center",c+=A/2):(l="right",c+=A)):(c=this.right-a,r==="near"?l="right":r==="center"?(l="center",c-=A/2):(l="left",c=this.left)):n==="right"?s?(c=this.left+i,r==="near"?l="right":r==="center"?(l="center",c-=A/2):(l="left",c-=A)):(c=this.left+a,r==="near"?l="left":r==="center"?(l="center",c+=A/2):(l="right",c=this.right)):l="right",{textAlign:l,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(A,l,c)=>{!c.width||!c.color||(r.save(),r.lineWidth=c.width,r.strokeStyle=c.color,r.setLineDash(c.borderDash||[]),r.lineDashOffset=c.borderDashOffset,r.beginPath(),r.moveTo(A.x,A.y),r.lineTo(l.x,l.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const A=s[i];n.drawOnChartArea&&a({x:A.x1,y:A.y1},{x:A.x2,y:A.y2},A),n.drawTicks&&a({x:A.tx1,y:A.ty1},{x:A.tx2,y:A.ty2},{color:A.tickColor,width:A.tickWidth,borderDash:A.tickBorderDash,borderDashOffset:A.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,A=this._borderValue;let l,c,u,f;this.isHorizontal()?(l=ed(e,this.left,o)-o/2,c=ed(e,this.right,a)+a/2,u=f=A):(u=ed(e,this.top,o)-o/2,f=ed(e,this.bottom,a)+a/2,l=c=A),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(l,u),n.lineTo(c,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&W_(r,s);const i=this.getLabelItems(e);for(const o of i){const a=o.options,A=o.font,l=o.label,c=o.textOffset;nh(r,l,0,c,A,a)}s&&$_(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Qs(r.font),o=Pi(r.padding),a=r.align;let A=i.lineHeight/2;n==="bottom"||n==="center"||nr(n)?(A+=o.bottom,zr(r.text)&&(A+=i.lineHeight*(r.text.length-1))):A+=o.top;const{titleX:l,titleY:c,maxWidth:u,rotation:f}=QJ(this,A,n,a);nh(e,r.text,0,0,i,{color:r.color,maxWidth:u,rotation:f,textAlign:DJ(a,n,s),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Rn(e.grid&&e.grid.z,-1),s=Rn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==uh.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Qs(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Iy{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;HJ(n)&&(r=this.register(n));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,OJ(e,o,r),this.override&&os.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in os[s]&&(delete os[s][r],this.override&&delete th[r])}}function OJ(t,e,n){const r=bm(Object.create(null),[n?os.get(n):{},os.get(e),t.defaults]);os.set(e,r),t.defaultRoutes&&MJ(e,t.defaultRoutes),t.descriptors&&os.describe(e,t.descriptors)}function MJ(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),A=o.join(".");os.route(i,s,A,a)})}function HJ(t){return"id"in t&&"defaults"in t}class VJ{constructor(){this.controllers=new Iy(Ef,"datasets",!0),this.elements=new Iy($A,"elements"),this.plugins=new Iy(Object,"plugins"),this.scales=new Iy(uh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):hr(s,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const s=M_(e);Cr(r["before"+s],[],r),n[e](r),Cr(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var kA=new VJ;class KJ{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,s){s=s||{};for(const i of e){const o=i.plugin,a=o[r],A=[n,s,i.options];if(Cr(a,A,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Yn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=Rn(r.options&&r.options.plugins,{}),i=zJ(r);return s===!1&&!n?[]:WJ(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(A=>a.plugin.id===A.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function zJ(t){const e={},n=[],r=Object.keys(kA.plugins.items);for(let i=0;i<r.length;i++)n.push(kA.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function GJ(t,e){return!e&&t===!1?null:t===!0?{}:t}function WJ(t,{plugins:e,localIds:n},r,s){const i=[],o=t.getContext();for(const a of e){const A=a.id,l=GJ(r[A],s);l!==null&&i.push({plugin:a,options:$J(t.config,{plugin:a,local:n[A]},l,o)})}return i}function $J(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(r,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function yB(t,e){const n=os.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function qJ(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function YJ(t,e){return t===e?"_index_":"_value_"}function NF(t){if(t==="x"||t==="y"||t==="r")return t}function XJ(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function vB(t,...e){if(NF(t))return t;for(const n of e){const r=n.axis||XJ(n.position)||t.length>1&&NF(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function kF(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function JJ(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return kF(t,"x",n[0])||kF(t,"y",n[0])}return{}}function ZJ(t,e){const n=th[t.type]||{scales:{}},r=e.scales||{},s=yB(t.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!nr(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const A=vB(o,a,JJ(o,t),os.scales[a.type]),l=YJ(A,s),c=n.scales||{};i[o]=jg(Object.create(null),[{axis:A},a,c[A],c[l]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,A=o.indexAxis||yB(a,e),c=(th[a]||{}).scales||{};Object.keys(c).forEach(u=>{const f=qJ(u,A),d=o[f+"AxisID"]||f;i[d]=i[d]||Object.create(null),jg(i[d],[{axis:f},r[d],c[u]])})}),Object.keys(i).forEach(o=>{const a=i[o];jg(a,[os.scales[a.type],os.scale])}),i}function RU(t){const e=t.options||(t.options={});e.plugins=Rn(e.plugins,{}),e.scales=ZJ(t,e)}function DU(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function eZ(t){return t=t||{},t.data=DU(t.data),RU(t),t}const LF=new Map,QU=new Set;function Sy(t,e){let n=LF.get(t);return n||(n=e(),LF.set(t,n),QU.add(n)),n}const Gp=(t,e,n)=>{const r=Gf(e,n);r!==void 0&&t.add(r)};class tZ{constructor(e){this._config=eZ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=DU(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),RU(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Sy(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Sy(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Sy(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Sy(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const A=new Set;n.forEach(c=>{e&&(A.add(e),c.forEach(u=>Gp(A,e,u))),c.forEach(u=>Gp(A,s,u)),c.forEach(u=>Gp(A,th[i]||{},u)),c.forEach(u=>Gp(A,os,u)),c.forEach(u=>Gp(A,gB,u))});const l=Array.from(A);return l.length===0&&l.push(Object.create(null)),QU.has(n)&&o.set(n,l),l}chartOptionScopes(){const{options:e,type:n}=this;return[e,th[n]||{},os.datasets[n]||{},{type:n},os,gB]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=PF(this._resolverCache,e,s);let A=o;if(rZ(o,n)){i.$shared=!1,r=Su(r)?r():r;const l=this.createResolver(e,r,a);A=Wf(o,r,l)}for(const l of n)i[l]=A[l];return i}createResolver(e,n,r=[""],s){const{resolver:i}=PF(this._resolverCache,e,r);return nr(n)?Wf(i,n,void 0,s):i}}function PF(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:q_(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const nZ=t=>nr(t)&&Object.getOwnPropertyNames(t).some(e=>Su(t[e]));function rZ(t,e){const{isScriptable:n,isIndexable:r}=xU(t);for(const s of e){const i=n(s),o=r(s),a=(o||i)&&t[s];if(i&&(Su(a)||nZ(a))||o&&zr(a))return!0}return!1}var sZ="4.5.0";const iZ=["top","bottom","left","right","chartArea"];function jF(t,e){return t==="top"||t==="bottom"||iZ.indexOf(t)===-1&&e==="x"}function UF(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function RF(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Cr(n&&n.onComplete,[t],e)}function oZ(t){const e=t.chart,n=e.options.animation;Cr(n&&n.onProgress,[t],e)}function OU(t){return J_()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const lv={},DF=t=>{const e=OU(t);return Object.values(lv).filter(n=>n.canvas===e).pop()};function aZ(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const o=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=o)}}}function AZ(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Rc;let Cw=(Rc=class{static register(...e){kA.add(...e),QF()}static unregister(...e){kA.remove(...e),QF()}constructor(e,n){const r=this.config=new tZ(n),s=OU(e),i=DF(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||EJ(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),A=a&&a.canvas,l=A&&A.height,c=A&&A.width;if(this.id=iY(),this.ctx=a,this.canvas=A,this.width=c,this.height=l,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new KJ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=BY(u=>this.update(u),o.resizeDelay||0),this._dataChanges=[],lv[this.id]=this,!a||!A){console.error("Failed to create chart: can't acquire context from the given item");return}bl.listen(this,"complete",RF),bl.listen(this,"progress",oZ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return Yn(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return kA}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():aF(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return sF(this.canvas,this.ctx),this}stop(){return bl.stop(this),this}resize(e,n){bl.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),A=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,aF(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Cr(r.onResize,[this,o],this),this.attached&&this._doResize(A)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};hr(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],A=vB(o,a),l=A==="r",c=A==="x";return{options:a,dposition:l?"chartArea":c?"bottom":"left",dtype:l?"radialLinear":c?"category":"linear"}}))),hr(i,o=>{const a=o.options,A=a.id,l=vB(A,a),c=Rn(a.type,o.dtype);(a.position===void 0||jF(a.position,l)!==jF(o.dposition))&&(a.position=o.dposition),s[A]=!0;let u=null;if(A in r&&r[A].type===c)u=r[A];else{const f=kA.getScale(c);u=new f({id:A,type:c,ctx:this.ctx,chart:this}),r[u.id]=u}u.init(a,e)}),hr(s,(o,a)=>{o||delete r[a]}),hr(r,o=>{Ba.configure(this,o,o.options),Ba.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(UF("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||yB(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const A=kA.getController(a),{datasetElementType:l,dataElementType:c}=os.datasets[a];Object.assign(A,{dataElementType:kA.getElement(c),datasetElementType:l&&kA.getElement(l)}),o.controller=new A(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){hr(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:u}=this.getDatasetMeta(l),f=!s&&i.indexOf(u)===-1;u.buildOrUpdateElements(f),o=Math.max(+u.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||hr(i,l=>{l.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(UF("z","_idx"));const{_active:a,_lastEvent:A}=this;A?this._eventHandler(A,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){hr(this.scales,e=>{Ba.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!qS(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;aZ(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!qS(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ba.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],hr(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Su(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(bl.has(this)?this.attached&&!bl.running(this)&&bl.start(this):(this.draw(),RF({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=FX(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&W_(n,s),e.controller.draw(),s&&$_(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return jl(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=iJ.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Du(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);Bm(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),bl.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),sF(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete lv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};hr(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(A,l)=>{n.addEventListener(this,A,l),e[A]=l},s=(A,l)=>{e[A]&&(n.removeEventListener(this,A,l),delete e[A])},i=(A,l)=>{this.canvas&&this.resize(A,l)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){hr(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},hr(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,o,a,A;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,A=e.length;a<A;++a){o=e[a];const l=o&&this.getDatasetMeta(o.datasetIndex).controller;l&&l[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!f1(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(A,l)=>A.filter(c=>!l.some(u=>c.datasetIndex===u.datasetIndex&&c.index===u.index)),o=i(n,e),a=r?e:i(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(e,s,r,o),A=uY(e),l=AZ(e,this._lastEvent,r,A);r&&(this._lastEvent=null,Cr(i.onHover,[e,a,this],this),A&&Cr(i.onClick,[e,a,this],this));const c=!f1(a,s);return(c||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=l,c}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},rn(Rc,"defaults",os),rn(Rc,"instances",lv),rn(Rc,"overrides",th),rn(Rc,"registry",kA),rn(Rc,"version",sZ),rn(Rc,"getChart",DF),Rc);function QF(){return hr(Cw.instances,t=>t._plugins.invalidate())}function MU(t,e,n=e){t.lineCap=Rn(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Rn(n.borderDash,e.borderDash)),t.lineDashOffset=Rn(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Rn(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Rn(n.borderWidth,e.borderWidth),t.strokeStyle=Rn(n.borderColor,e.borderColor)}function lZ(t,e,n){t.lineTo(n.x,n.y)}function cZ(t){return t.stepped?RY:t.tension||t.cubicInterpolationMode==="monotone"?DY:lZ}function HU(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:o,end:a}=e,A=Math.max(s,o),l=Math.min(i,a),c=s<o&&i<o||s>a&&i>a;return{count:r,start:A,loop:e.loop,ilen:l<A&&!c?r+l-A:l-A}}function uZ(t,e,n,r){const{points:s,options:i}=e,{count:o,start:a,loop:A,ilen:l}=HU(s,n,r),c=cZ(i);let{move:u=!0,reverse:f}=r||{},d,B,b;for(d=0;d<=l;++d)B=s[(a+(f?l-d:d))%o],!B.skip&&(u?(t.moveTo(B.x,B.y),u=!1):c(t,b,B,f,i.stepped),b=B);return A&&(B=s[(a+(f?l:0))%o],c(t,b,B,f,i.stepped)),!!A}function dZ(t,e,n,r){const s=e.points,{count:i,start:o,ilen:a}=HU(s,n,r),{move:A=!0,reverse:l}=r||{};let c=0,u=0,f,d,B,b,E,v;const C=R=>(o+(l?a-R:R))%i,S=()=>{b!==E&&(t.lineTo(c,E),t.lineTo(c,b),t.lineTo(c,v))};for(A&&(d=s[C(0)],t.moveTo(d.x,d.y)),f=0;f<=a;++f){if(d=s[C(f)],d.skip)continue;const R=d.x,P=d.y,Q=R|0;Q===B?(P<b?b=P:P>E&&(E=P),c=(u*c+R)/++u):(S(),t.lineTo(R,P),B=Q,u=0,b=E=P),v=P}S()}function wB(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?dZ:uZ}function hZ(t){return t.stepped?gX:t.tension||t.cubicInterpolationMode==="monotone"?mX:cd}function fZ(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),MU(t,e.options),t.stroke(s)}function pZ(t,e,n,r){const{segments:s,options:i}=e,o=wB(e);for(const a of s)MU(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const gZ=typeof Path2D=="function";function mZ(t,e,n,r){gZ&&!e.options.segment?fZ(t,e,n,r):pZ(t,e,n,r)}class Ag extends $A{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;AX(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=CX(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,o=bX(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],A=hZ(r);let l,c;for(l=0,c=o.length;l<c;++l){const{start:u,end:f}=o[l],d=i[u],B=i[f];if(d===B){a.push(d);continue}const b=Math.abs((s-d[n])/(B[n]-d[n])),E=A(d,B,b,r.stepped);E[n]=e[n],a.push(E)}return a.length===1?a[0]:a}pathSegment(e,n,r){return wB(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=wB(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of s)o&=i(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),mZ(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}rn(Ag,"id","line"),rn(Ag,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),rn(Ag,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),rn(Ag,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function OF(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class cv extends $A{constructor(n){super();rn(this,"parsed");rn(this,"skip");rn(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return OF(this,n,"x",r)}inYRange(n,r){return OF(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!jl(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,mB(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}rn(cv,"id","point"),rn(cv,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),rn(cv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function VU(t,e){const{x:n,y:r,base:s,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let a,A,l,c,u;return t.horizontal?(u=o/2,a=Math.min(n,s),A=Math.max(n,s),l=r-u,c=r+u):(u=i/2,a=n-u,A=n+u,l=Math.min(r,s),c=Math.max(r,s)),{left:a,top:l,right:A,bottom:c}}function su(t,e,n,r){return t?0:ta(e,n,r)}function yZ(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,i=wU(r);return{t:su(s.top,i.top,0,n),r:su(s.right,i.right,0,e),b:su(s.bottom,i.bottom,0,n),l:su(s.left,i.left,0,e)}}function vZ(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=Pd(s),o=Math.min(e,n),a=t.borderSkipped,A=r||nr(s);return{topLeft:su(!A||a.top||a.left,i.topLeft,0,o),topRight:su(!A||a.top||a.right,i.topRight,0,o),bottomLeft:su(!A||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:su(!A||a.bottom||a.right,i.bottomRight,0,o)}}function wZ(t){const e=VU(t),n=e.right-e.left,r=e.bottom-e.top,s=yZ(t,n/2,r/2),i=vZ(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function Ex(t,e,n,r){const s=e===null,i=n===null,a=t&&!(s&&i)&&VU(t,r);return a&&(s||Bd(e,a.left,a.right))&&(i||Bd(n,a.top,a.bottom))}function xZ(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function bZ(t,e){t.rect(e.x,e.y,e.w,e.h)}function Ix(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+i,h:t.h+o,radius:t.radius}}class uv extends $A{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:o}=wZ(this),a=xZ(o.radius)?Cm:bZ;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),a(e,Ix(o,n,i)),e.clip(),a(e,Ix(i,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,Ix(i,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return Ex(this,e,n,r)}inXRange(e,n){return Ex(this,e,null,n)}inYRange(e,n){return Ex(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}rn(uv,"id","bar"),rn(uv,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),rn(uv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const MF=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},BZ=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class HF extends $A{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Cr(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=Qs(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:A}=MF(r,i);let l,c;n.font=s.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(o,i,a,A)+10):(c=this.maxHeight,l=this._fitCols(o,s,a,A)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,A=this.legendHitBoxes=[],l=this.lineWidths=[0],c=s+a;let u=e;i.textAlign="left",i.textBaseline="middle";let f=-1,d=-c;return this.legendItems.forEach((B,b)=>{const E=r+n/2+i.measureText(B.text).width;(b===0||l[l.length-1]+E+2*a>o)&&(u+=c,l[l.length-(b>0?0:1)]=0,d+=c,f++),A[b]={left:0,top:d,row:f,width:E,height:s},l[l.length-1]+=E+a}),u}_fitCols(e,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,A=this.legendHitBoxes=[],l=this.columnSizes=[],c=o-e;let u=a,f=0,d=0,B=0,b=0;return this.legendItems.forEach((E,v)=>{const{itemWidth:C,itemHeight:S}=_Z(r,n,i,E,s);v>0&&d+S+2*a>c&&(u+=f+a,l.push({width:f,height:d}),B+=f+a,b++,f=d=0),A[v]={left:B,top:d,col:b,width:C,height:S},f=Math.max(f,C),d+=S+a}),u+=f,l.push({width:f,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=Cf(i,this.left,this.width);if(this.isHorizontal()){let a=0,A=Ii(r,this.left+s,this.right-this.lineWidths[a]);for(const l of n)a!==l.row&&(a=l.row,A=Ii(r,this.left+s,this.right-this.lineWidths[a])),l.top+=this.top+e+s,l.left=o.leftForLtr(o.x(A),l.width),A+=l.width+s}else{let a=0,A=Ii(r,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const l of n)l.col!==a&&(a=l.col,A=Ii(r,this.top+e+s,this.bottom-this.columnSizes[a].height)),l.top=A,l.left+=this.left+s,l.left=o.leftForLtr(o.x(l.left),l.width),A+=l.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;W_(e,this),this._draw(),$_(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=e,a=os.color,A=Cf(e.rtl,this.left,this.width),l=Qs(o.font),{padding:c}=o,u=l.size,f=u/2;let d;this.drawTitle(),s.textAlign=A.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=l.string;const{boxWidth:B,boxHeight:b,itemHeight:E}=MF(o,u),v=function(Q,T,I){if(isNaN(B)||B<=0||isNaN(b)||b<0)return;s.save();const O=Rn(I.lineWidth,1);if(s.fillStyle=Rn(I.fillStyle,a),s.lineCap=Rn(I.lineCap,"butt"),s.lineDashOffset=Rn(I.lineDashOffset,0),s.lineJoin=Rn(I.lineJoin,"miter"),s.lineWidth=O,s.strokeStyle=Rn(I.strokeStyle,a),s.setLineDash(Rn(I.lineDash,[])),o.usePointStyle){const M={radius:b*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:O},L=A.xPlus(Q,B/2),j=T+f;yU(s,M,L,j,o.pointStyleWidth&&B)}else{const M=T+Math.max((u-b)/2,0),L=A.leftForLtr(Q,B),j=Pd(I.borderRadius);s.beginPath(),Object.values(j).some(k=>k!==0)?Cm(s,{x:L,y:M,w:B,h:b,radius:j}):s.rect(L,M,B,b),s.fill(),O!==0&&s.stroke()}s.restore()},C=function(Q,T,I){nh(s,I.text,Q,T+E/2,l,{strikethrough:I.hidden,textAlign:A.textAlign(I.textAlign)})},S=this.isHorizontal(),R=this._computeTitleHeight();S?d={x:Ii(i,this.left+c,this.right-r[0]),y:this.top+c+R,line:0}:d={x:this.left+c,y:Ii(i,this.top+R+c,this.bottom-n[0].height),line:0},EU(this.ctx,e.textDirection);const P=E+c;this.legendItems.forEach((Q,T)=>{s.strokeStyle=Q.fontColor,s.fillStyle=Q.fontColor;const I=s.measureText(Q.text).width,O=A.textAlign(Q.textAlign||(Q.textAlign=o.textAlign)),M=B+f+I;let L=d.x,j=d.y;A.setWidth(this.width),S?T>0&&L+M+c>this.right&&(j=d.y+=P,d.line++,L=d.x=Ii(i,this.left+c,this.right-r[d.line])):T>0&&j+P>this.bottom&&(L=d.x=L+n[d.line].width+c,d.line++,j=d.y=Ii(i,this.top+R+c,this.bottom-n[d.line].height));const k=A.x(L);if(v(k,j,Q),L=_Y(O,L+B+f,S?L+M:this.right,e.rtl),C(A.x(L),j,Q),S)d.x+=M+c;else if(typeof Q.text!="string"){const $=l.lineHeight;d.y+=KU(Q,$)+c}else d.y+=P}),IU(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Qs(n.font),s=Pi(n.padding);if(!n.display)return;const i=Cf(e.rtl,this.left,this.width),o=this.ctx,a=n.position,A=r.size/2,l=s.top+A;let c,u=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),c=this.top+l,u=Ii(e.align,u,this.right-f);else{const B=this.columnSizes.reduce((b,E)=>Math.max(b,E.height),0);c=l+Ii(e.align,this.top,this.bottom-B-e.labels.padding-this._computeTitleHeight())}const d=Ii(a,u,u+f);o.textAlign=i.textAlign(K_(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,nh(o,n.text,d,c,r)}_computeTitleHeight(){const e=this.options.title,n=Qs(e.font),r=Pi(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(Bd(e,this.left,this.right)&&Bd(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],Bd(e,s.left,s.left+s.width)&&Bd(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!IZ(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=BZ(s,r);s&&!i&&Cr(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&Cr(n.onHover,[e,r,this],this)}else r&&Cr(n.onClick,[e,r,this],this)}}function _Z(t,e,n,r,s){const i=CZ(r,t,e,n),o=EZ(s,r,e.lineHeight);return{itemWidth:i,itemHeight:o}}function CZ(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+r.measureText(s).width}function EZ(t,e,n){let r=t;return typeof e.text!="string"&&(r=KU(e,n)),r}function KU(t,e){const n=t.text?t.text.length:0;return e*n}function IZ(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var SZ={id:"legend",_element:HF,start(t,e,n){const r=t.legend=new HF({ctx:t.ctx,options:n,chart:t});Ba.configure(t,r,n),Ba.addBox(t,r)},stop(t){Ba.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Ba.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(A=>{const l=A.controller.getStyle(n?0:void 0),c=Pi(l.borderWidth);return{text:e[A.index].label,fillStyle:l.backgroundColor,fontColor:i,hidden:!A.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:A.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class zU extends $A{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=zr(r.text)?r.text.length:1;this._padding=Pi(r.padding);const i=s*Qs(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:o}=this,a=o.align;let A=0,l,c,u;return this.isHorizontal()?(c=Ii(a,r,i),u=n+e,l=i-r):(o.position==="left"?(c=r+e,u=Ii(a,s,n),A=Es*-.5):(c=i-e,u=Ii(a,n,s),A=Es*.5),l=s-n),{titleX:c,titleY:u,maxWidth:l,rotation:A}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Qs(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:A,rotation:l}=this._drawArgs(i);nh(e,n.text,0,0,r,{color:n.color,maxWidth:A,rotation:l,textAlign:K_(n.align),textBaseline:"middle",translation:[o,a]})}}function FZ(t,e){const n=new zU({ctx:t.ctx,options:e,chart:t});Ba.configure(t,n,e),Ba.addBox(t,n),t.titleBlock=n}var TZ={id:"title",_element:zU,start(t,e,n){FZ(t,n)},stop(t){const e=t.titleBlock;Ba.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Ba.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const lg={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const A=a.tooltipPosition();r.add(A.x),s+=A.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,A)=>a+A)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const A=t[i].element;if(A&&A.hasValue()){const l=A.getCenterPoint(),c=pB(e,l);c<s&&(s=c,a=A)}}if(a){const A=a.tooltipPosition();n=A.x,r=A.y}return{x:n,y:r}}};function TA(t,e){return e&&(zr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Bl(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function NZ(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function VF(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:o,boxHeight:a}=e,A=Qs(e.bodyFont),l=Qs(e.titleFont),c=Qs(e.footerFont),u=i.length,f=s.length,d=r.length,B=Pi(e.padding);let b=B.height,E=0,v=r.reduce((R,P)=>R+P.before.length+P.lines.length+P.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,u&&(b+=u*l.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),v){const R=e.displayColors?Math.max(a,A.lineHeight):A.lineHeight;b+=d*R+(v-d)*A.lineHeight+(v-1)*e.bodySpacing}f&&(b+=e.footerMarginTop+f*c.lineHeight+(f-1)*e.footerSpacing);let C=0;const S=function(R){E=Math.max(E,n.measureText(R).width+C)};return n.save(),n.font=l.string,hr(t.title,S),n.font=A.string,hr(t.beforeBody.concat(t.afterBody),S),C=e.displayColors?o+2+e.boxPadding:0,hr(r,R=>{hr(R.before,S),hr(R.lines,S),hr(R.after,S)}),C=0,n.font=c.string,hr(t.footer,S),n.restore(),E+=B.width,{width:E,height:b}}function kZ(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function LZ(t,e,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function PZ(t,e,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:A}}=t;let l="center";return r==="center"?l=s<=(a+A)/2?"left":"right":s<=i/2?l="left":s>=o-i/2&&(l="right"),LZ(l,t,e,n)&&(l="center"),l}function KF(t,e,n){const r=n.yAlign||e.yAlign||kZ(t,n);return{xAlign:n.xAlign||e.xAlign||PZ(t,e,n,r),yAlign:r}}function jZ(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function UZ(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function zF(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:A}=n,l=s+i,{topLeft:c,topRight:u,bottomLeft:f,bottomRight:d}=Pd(o);let B=jZ(e,a);const b=UZ(e,A,l);return A==="center"?a==="left"?B+=l:a==="right"&&(B-=l):a==="left"?B-=Math.max(c,f)+s:a==="right"&&(B+=Math.max(u,d)+s),{x:ta(B,0,r.width-e.width),y:ta(b,0,r.height-e.height)}}function Fy(t,e,n){const r=Pi(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function GF(t){return TA([],Bl(t))}function RZ(t,e,n){return Du(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function WF(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const GU={beforeTitle:xl,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:xl,beforeBody:xl,beforeLabel:xl,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Yn(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:xl,afterBody:xl,beforeFooter:xl,footer:xl,afterFooter:xl};function xo(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?GU[e].call(n,r):s}class xB extends $A{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new FU(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=RZ(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=xo(r,"beforeTitle",this,e),i=xo(r,"title",this,e),o=xo(r,"afterTitle",this,e);let a=[];return a=TA(a,Bl(s)),a=TA(a,Bl(i)),a=TA(a,Bl(o)),a}getBeforeBody(e,n){return GF(xo(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return hr(e,i=>{const o={before:[],lines:[],after:[]},a=WF(r,i);TA(o.before,Bl(xo(a,"beforeLabel",this,i))),TA(o.lines,xo(a,"label",this,i)),TA(o.after,Bl(xo(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,n){return GF(xo(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=xo(r,"beforeFooter",this,e),i=xo(r,"footer",this,e),o=xo(r,"afterFooter",this,e);let a=[];return a=TA(a,Bl(s)),a=TA(a,Bl(i)),a=TA(a,Bl(o)),a}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],A,l;for(A=0,l=n.length;A<l;++A)a.push(NZ(this.chart,n[A]));return e.filter&&(a=a.filter((c,u,f)=>e.filter(c,u,f,r))),e.itemSort&&(a=a.sort((c,u)=>e.itemSort(c,u,r))),hr(a,c=>{const u=WF(e.callbacks,c);s.push(xo(u,"labelColor",this,c)),i.push(xo(u,"labelPointStyle",this,c)),o.push(xo(u,"labelTextColor",this,c))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=lg[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const A=this._size=VF(this,r),l=Object.assign({},a,A),c=KF(this.chart,r,l),u=zF(r,l,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,i={opacity:1,x:u.x,y:u.y,width:A.width,height:A.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:A,topRight:l,bottomLeft:c,bottomRight:u}=Pd(a),{x:f,y:d}=e,{width:B,height:b}=n;let E,v,C,S,R,P;return i==="center"?(R=d+b/2,s==="left"?(E=f,v=E-o,S=R+o,P=R-o):(E=f+B,v=E+o,S=R-o,P=R+o),C=E):(s==="left"?v=f+Math.max(A,c)+o:s==="right"?v=f+B-Math.max(l,u)-o:v=this.caretX,i==="top"?(S=d,R=S-o,E=v-o,C=v+o):(S=d+b,R=S+o,E=v+o,C=v-o),P=S),{x1:E,x2:v,x3:C,y1:S,y2:R,y3:P}}drawTitle(e,n,r){const s=this.title,i=s.length;let o,a,A;if(i){const l=Cf(r.rtl,this.x,this.width);for(e.x=Fy(this,r.titleAlign,r),n.textAlign=l.textAlign(r.titleAlign),n.textBaseline="middle",o=Qs(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,A=0;A<i;++A)n.fillText(s[A],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,A+1===i&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:A,boxWidth:l}=i,c=Qs(i.bodyFont),u=Fy(this,"left",i),f=s.x(u),d=A<c.lineHeight?(c.lineHeight-A)/2:0,B=n.y+d;if(i.usePointStyle){const b={radius:Math.min(l,A)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},E=s.leftForLtr(f,l)+l/2,v=B+A/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,mB(e,b,E,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,mB(e,b,E,v)}else{e.lineWidth=nr(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const b=s.leftForLtr(f,l),E=s.leftForLtr(s.xPlus(f,1),l-2),v=Pd(o.borderRadius);Object.values(v).some(C=>C!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Cm(e,{x:b,y:B,w:l,h:A,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Cm(e,{x:E,y:B+1,w:l-2,h:A-2,radius:v}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(b,B,l,A),e.strokeRect(b,B,l,A),e.fillStyle=o.backgroundColor,e.fillRect(E,B+1,l-2,A-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:A,boxWidth:l,boxPadding:c}=r,u=Qs(r.bodyFont);let f=u.lineHeight,d=0;const B=Cf(r.rtl,this.x,this.width),b=function(I){n.fillText(I,B.x(e.x+d),e.y+f/2),e.y+=f+i},E=B.textAlign(o);let v,C,S,R,P,Q,T;for(n.textAlign=o,n.textBaseline="middle",n.font=u.string,e.x=Fy(this,E,r),n.fillStyle=r.bodyColor,hr(this.beforeBody,b),d=a&&E!=="right"?o==="center"?l/2+c:l+2+c:0,R=0,Q=s.length;R<Q;++R){for(v=s[R],C=this.labelTextColors[R],n.fillStyle=C,hr(v.before,b),S=v.lines,a&&S.length&&(this._drawColorBox(n,e,R,B,r),f=Math.max(u.lineHeight,A)),P=0,T=S.length;P<T;++P)b(S[P]),f=u.lineHeight;hr(v.after,b)}d=0,f=u.lineHeight,hr(this.afterBody,b),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let o,a;if(i){const A=Cf(r.rtl,this.x,this.width);for(e.x=Fy(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=A.textAlign(r.footerAlign),n.textBaseline="middle",o=Qs(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],A.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:A}=e,{width:l,height:c}=r,{topLeft:u,topRight:f,bottomLeft:d,bottomRight:B}=Pd(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+u,A),o==="top"&&this.drawCaret(e,n,r,s),n.lineTo(a+l-f,A),n.quadraticCurveTo(a+l,A,a+l,A+f),o==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(a+l,A+c-B),n.quadraticCurveTo(a+l,A+c,a+l-B,A+c),o==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(a+d,A+c),n.quadraticCurveTo(a,A+c,a,A+c-d),o==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(a,A+u),n.quadraticCurveTo(a,A,a+u,A),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=lg[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=VF(this,e),A=Object.assign({},o,this._size),l=KF(n,e,A),c=zF(e,A,l,n);(s._to!==c.x||i._to!==c.y)&&(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Pi(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),EU(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),IU(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:a,index:A})=>{const l=this.chart.getDatasetMeta(a);if(!l)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:l.data[A],index:A}}),i=!f1(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,r),a=this._positionChanged(o,e),A=n||!f1(o,i)||a;return A&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),A}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,o=lg[i.position].call(this,e,n);return o!==!1&&(r!==o.x||s!==o.y)}}rn(xB,"positioners",lg);var DZ={id:"tooltip",_element:xB,positioners:lg,afterInit(t,e,n){n&&(t.tooltip=new xB({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:GU},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const QZ=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function OZ(t,e,n,r){const s=t.indexOf(e);if(s===-1)return QZ(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const MZ=(t,e)=>t===null?null:ta(Math.round(t),0,e);function $F(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class bB extends uh{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Yn(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:OZ(r,e,Rn(n,e),this._addedLabels),MZ(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return $F.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}rn(bB,"id","category"),rn(bB,"defaults",{ticks:{callback:$F}});function HZ(t,e){const n=[],{bounds:s,step:i,min:o,max:a,precision:A,count:l,maxTicks:c,maxDigits:u,includeBounds:f}=t,d=i||1,B=c-1,{min:b,max:E}=e,v=!Yn(o),C=!Yn(a),S=!Yn(l),R=(E-b)/(u+1);let P=XS((E-b)/B/d)*d,Q,T,I,O;if(P<1e-14&&!v&&!C)return[{value:b},{value:E}];O=Math.ceil(E/P)-Math.floor(b/P),O>B&&(P=XS(O*P/B/d)*d),Yn(A)||(Q=Math.pow(10,A),P=Math.ceil(P*Q)/Q),s==="ticks"?(T=Math.floor(b/P)*P,I=Math.ceil(E/P)*P):(T=b,I=E),v&&C&&i&&gY((a-o)/i,P/1e3)?(O=Math.round(Math.min((a-o)/P,c)),P=(a-o)/O,T=o,I=a):S?(T=v?o:T,I=C?a:I,O=l-1,P=(I-T)/O):(O=(I-T)/P,Ug(O,Math.round(O),P/1e3)?O=Math.round(O):O=Math.ceil(O));const M=Math.max(JS(P),JS(T));Q=Math.pow(10,Yn(A)?M:A),T=Math.round(T*Q)/Q,I=Math.round(I*Q)/Q;let L=0;for(v&&(f&&T!==o?(n.push({value:o}),T<o&&L++,Ug(Math.round((T+L*P)*Q)/Q,o,qF(o,R,t))&&L++):T<o&&L++);L<O;++L){const j=Math.round((T+L*P)*Q)/Q;if(C&&j>a)break;n.push({value:j})}return C&&f&&I!==a?n.length&&Ug(n[n.length-1].value,a,qF(a,R,t))?n[n.length-1].value=a:n.push({value:a}):(!C||I===a)&&n.push({value:I}),n}function qF(t,e,{horizontal:n,minRotation:r}){const s=ru(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class w1 extends uh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Yn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=A=>s=n?s:A,a=A=>i=r?i:A;if(e){const A=zA(s),l=zA(i);A<0&&l<0?a(0):A>0&&l>0&&o(0)}if(s===i){let A=i===0?1:Math.abs(i*.05);a(i+A),e||o(s-A)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=HZ(s,i);return e.bounds==="ticks"&&uU(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return G_(e,this.chart.options.locale,this.options.ticks.format)}}class BB extends w1{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ys(e)?e:0,this.max=Ys(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=ru(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}rn(BB,"id","linear"),rn(BB,"defaults",{ticks:{callback:Bw.formatters.numeric}});const Im=t=>Math.floor(nu(t)),nd=(t,e)=>Math.pow(10,Im(t)+e);function YF(t){return t/Math.pow(10,Im(t))===1}function XF(t,e,n){const r=Math.pow(10,n),s=Math.floor(t/r);return Math.ceil(e/r)-s}function VZ(t,e){const n=e-t;let r=Im(n);for(;XF(t,e,r)>10;)r++;for(;XF(t,e,r)<10;)r--;return Math.min(r,Im(t))}function KZ(t,{min:e,max:n}){e=Wo(t.min,e);const r=[],s=Im(e);let i=VZ(e,n),o=i<0?Math.pow(10,Math.abs(i)):1;const a=Math.pow(10,i),A=s>i?Math.pow(10,s):0,l=Math.round((e-A)*o)/o,c=Math.floor((e-A)/a/10)*a*10;let u=Math.floor((l-c)/Math.pow(10,i)),f=Wo(t.min,Math.round((A+c+u*Math.pow(10,i))*o)/o);for(;f<n;)r.push({value:f,major:YF(f),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(i++,u=2,o=i>=0?1:o),f=Math.round((A+c+u*Math.pow(10,i))*o)/o;const d=Wo(t.max,f);return r.push({value:d,major:YF(d),significand:u}),r}class JF extends uh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=w1.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return Ys(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ys(e)?Math.max(0,e):null,this.max=Ys(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ys(this._userMin)&&(this.min=e===nd(this.min,0)?nd(this.min,-1):nd(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,s=this.max;const i=a=>r=e?r:a,o=a=>s=n?s:a;r===s&&(r<=0?(i(1),o(10)):(i(nd(r,-1)),o(nd(s,1)))),r<=0&&i(nd(s,-1)),s<=0&&o(nd(r,1)),this.min=r,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=KZ(n,this);return e.bounds==="ticks"&&uU(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":G_(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=nu(e),this._valueRange=nu(this.max)-nu(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(nu(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}rn(JF,"id","logarithmic"),rn(JF,"defaults",{ticks:{callback:Bw.formatters.logarithmic,major:{enabled:!0}}});function _B(t){const e=t.ticks;if(e.display&&t.display){const n=Pi(e.backdropPadding);return Rn(e.font&&e.font.size,os.font.size)+n.height}return 0}function zZ(t,e,n){return n=zr(n)?n:[n],{w:UY(t,e.string,n),h:n.length*e.lineHeight}}function ZF(t,e,n,r,s){return t===r||t===s?{start:e-n/2,end:e+n/2}:t<r||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function GZ(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],s=[],i=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Es/i:0;for(let A=0;A<i;A++){const l=o.setContext(t.getPointLabelContext(A));s[A]=l.padding;const c=t.getPointPosition(A,t.drawingArea+s[A],a),u=Qs(l.font),f=zZ(t.ctx,u,t._pointLabels[A]);r[A]=f;const d=eA(t.getIndexAngle(A)+a),B=Math.round(H_(d)),b=ZF(B,c.x,f.w,0,180),E=ZF(B,c.y,f.h,90,270);WZ(n,e,d,b,E)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=YZ(t,r,s)}function WZ(t,e,n,r,s){const i=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,A=0;r.start<e.l?(a=(e.l-r.start)/i,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/i,t.r=Math.max(t.r,e.r+a)),s.start<e.t?(A=(e.t-s.start)/o,t.t=Math.min(t.t,e.t-A)):s.end>e.b&&(A=(s.end-e.b)/o,t.b=Math.max(t.b,e.b+A))}function $Z(t,e,n){const r=t.drawingArea,{extra:s,additionalAngle:i,padding:o,size:a}=n,A=t.getPointPosition(e,r+s+o,i),l=Math.round(H_(eA(A.angle+ea))),c=ZZ(A.y,a.h,l),u=XZ(l),f=JZ(A.x,a.w,u);return{visible:!0,x:A.x,y:c,textAlign:u,left:f,top:c,right:f+a.w,bottom:c+a.h}}function qZ(t,e){if(!e)return!0;const{left:n,top:r,right:s,bottom:i}=t;return!(jl({x:n,y:r},e)||jl({x:n,y:i},e)||jl({x:s,y:r},e)||jl({x:s,y:i},e))}function YZ(t,e,n){const r=[],s=t._pointLabels.length,i=t.options,{centerPointLabels:o,display:a}=i.pointLabels,A={extra:_B(i)/2,additionalAngle:o?Es/s:0};let l;for(let c=0;c<s;c++){A.padding=n[c],A.size=e[c];const u=$Z(t,c,A);r.push(u),a==="auto"&&(u.visible=qZ(u,l),u.visible&&(l=u))}return r}function XZ(t){return t===0||t===180?"center":t<180?"left":"right"}function JZ(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function ZZ(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function eee(t,e,n){const{left:r,top:s,right:i,bottom:o}=n,{backdropColor:a}=e;if(!Yn(a)){const A=Pd(e.borderRadius),l=Pi(e.backdropPadding);t.fillStyle=a;const c=r-l.left,u=s-l.top,f=i-r+l.width,d=o-s+l.height;Object.values(A).some(B=>B!==0)?(t.beginPath(),Cm(t,{x:c,y:u,w:f,h:d,radius:A}),t.fill()):t.fillRect(c,u,f,d)}}function tee(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let s=e-1;s>=0;s--){const i=t._pointLabelItems[s];if(!i.visible)continue;const o=r.setContext(t.getPointLabelContext(s));eee(n,o,i);const a=Qs(o.font),{x:A,y:l,textAlign:c}=i;nh(n,t._pointLabels[s],A,l+a.lineHeight/2,a,{color:o.color,textAlign:c,textBaseline:"middle"})}}function WU(t,e,n,r){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,Ia);else{let i=t.getPointPosition(0,e);s.moveTo(i.x,i.y);for(let o=1;o<r;o++)i=t.getPointPosition(o,e),s.lineTo(i.x,i.y)}}function nee(t,e,n,r,s){const i=t.ctx,o=e.circular,{color:a,lineWidth:A}=e;!o&&!r||!a||!A||n<0||(i.save(),i.strokeStyle=a,i.lineWidth=A,i.setLineDash(s.dash||[]),i.lineDashOffset=s.dashOffset,i.beginPath(),WU(t,n,o,r),i.closePath(),i.stroke(),i.restore())}function ree(t,e,n){return Du(t,{label:n,index:e,type:"pointLabel"})}class Ty extends w1{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Pi(_B(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Ys(e)&&!isNaN(e)?e:0,this.max=Ys(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/_B(this.options))}generateTickLabels(e){w1.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const s=Cr(this.options.pointLabels.callback,[n,r],this);return s||s===0?s:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?GZ(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,s))}getIndexAngle(e){const n=Ia/(this._pointLabels.length||1),r=this.options.startAngle||0;return eA(e*n+ru(r))}getDistanceFromCenterForValue(e){if(Yn(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Yn(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return ree(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const s=this.getIndexAngle(e)-ea+r;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:s,bottom:i}=this._pointLabelItems[e];return{left:n,top:r,right:s,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),WU(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:s,border:i}=n,o=this._pointLabels.length;let a,A,l;if(n.pointLabels.display&&tee(this,o),s.display&&this.ticks.forEach((c,u)=>{if(u!==0||u===0&&this.min<0){A=this.getDistanceFromCenterForValue(c.value);const f=this.getContext(u),d=s.setContext(f),B=i.setContext(f);nee(this,d,A,o,B)}}),r.display){for(e.save(),a=o-1;a>=0;a--){const c=r.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:f}=c;!f||!u||(e.lineWidth=f,e.strokeStyle=u,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,A=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),l=this.getPointPosition(a,A),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const s=this.getIndexAngle(0);let i,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,A)=>{if(A===0&&this.min>=0&&!n.reverse)return;const l=r.setContext(this.getContext(A)),c=Qs(l.font);if(i=this.getDistanceFromCenterForValue(this.ticks[A].value),l.showLabelBackdrop){e.font=c.string,o=e.measureText(a.label).width,e.fillStyle=l.backdropColor;const u=Pi(l.backdropPadding);e.fillRect(-o/2-u.left,-i-c.size/2-u.top,o+u.width,c.size+u.height)}nh(e,a.label,0,-i,c,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),e.restore()}drawTitle(){}}rn(Ty,"id","radialLinear"),rn(Ty,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Bw.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),rn(Ty,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),rn(Ty,"descriptors",{angleLines:{_fallback:"grid"}});const Ew={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Co=Object.keys(Ew);function eT(t,e){return t-e}function tT(t,e){if(Yn(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Ys(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(_m(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function nT(t,e,n,r){const s=Co.length;for(let i=Co.indexOf(t);i<s-1;++i){const o=Ew[Co[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Co[i]}return Co[s-1]}function see(t,e,n,r,s){for(let i=Co.length-1;i>=Co.indexOf(n);i--){const o=Co[i];if(Ew[o].common&&t._adapter.diff(s,r,o)>=e-1)return o}return Co[n?Co.indexOf(n):0]}function iee(t){for(let e=Co.indexOf(t)+1,n=Co.length;e<n;++e)if(Ew[Co[e]].common)return Co[e]}function rT(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=V_(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function oee(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),o=e[e.length-1].value;let a,A;for(a=i;a<=o;a=+s.add(a,1,r))A=n[a],A>=0&&(e[A].major=!0);return e}function sT(t,e,n){const r=[],s={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:oee(t,r,s,n)}class x1 extends uh{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new eJ._date(e.adapters.date);s.init(n),jg(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:tT(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function A(l){!o&&!isNaN(l.min)&&(s=Math.min(s,l.min)),!a&&!isNaN(l.max)&&(i=Math.max(i,l.max))}(!o||!a)&&(A(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&A(this.getMinMax(!1))),s=Ys(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=Ys(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=xY(s,i,o);return this._unit=n.unit||(r.autoSkip?nT(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):see(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:iee(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),sT(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=ta(n,0,o),r=ta(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||nT(i.minUnit,n,r,this._getLabelCapacity(n)),a=Rn(s.ticks.stepSize,1),A=o==="week"?i.isoWeekday:!1,l=_m(A)||A===!0,c={};let u=n,f,d;if(l&&(u=+e.startOf(u,"isoWeek",A)),u=+e.startOf(u,l?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const B=s.ticks.source==="data"&&this.getDataTimestamps();for(f=u,d=0;f<r;f=+e.add(f,a,o),d++)rT(c,f,B);return(f===r||s.bounds==="ticks"||d===1)&&rT(c,f,B),Object.keys(c).sort(eT).map(b=>+b)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return Cr(o,[e,n,r],this);const a=i.time.displayFormats,A=this._unit,l=this._majorUnit,c=A&&a[A],u=l&&a[l],f=r[n],d=l&&u&&f&&f.major;return this._adapter.format(e,s||(d?u:c))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=ru(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,sT(this,[e],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(tT(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return fU(e.sort(eT))}}rn(x1,"id","time"),rn(x1,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ny(t,e,n){let r=0,s=t.length-1,i,o,a,A;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=_d(t,"pos",e)),{pos:i,time:a}=t[r],{pos:o,time:A}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=_d(t,"time",e)),{time:i,pos:a}=t[r],{time:o,pos:A}=t[s]);const l=o-i;return l?a+(A-a)*(e-i)/l:a}class iT extends x1{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Ny(n,this.min),this._tableRange=Ny(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let o,a,A,l,c;for(o=0,a=e.length;o<a;++o)l=e[o],l>=n&&l<=r&&s.push(l);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)c=s[o+1],A=s[o-1],l=s[o],Math.round((c+A)/2)!==l&&i.push({time:l,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Ny(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Ny(this._table,r*this._tableRange+this._minPos,!0)}}rn(iT,"id","timeseries"),rn(iT,"defaults",x1.defaults);const $U="label";function oT(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function aee(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function qU(t,e){t.labels=e}function YU(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$U;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function Aee(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$U;const n={labels:[],datasets:[]};return qU(n,t.labels),YU(n,t.datasets,e),n}function lee(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:a,options:A,plugins:l=[],fallbackContent:c,updateMode:u,...f}=t,d=ee.useRef(null),B=ee.useRef(null),b=()=>{d.current&&(B.current=new Cw(d.current,{type:o,data:Aee(a,i),options:A&&{...A},plugins:l}),oT(e,B.current))},E=()=>{oT(e,null),B.current&&(B.current.destroy(),B.current=null)};return ee.useEffect(()=>{!s&&B.current&&A&&aee(B.current,A)},[s,A]),ee.useEffect(()=>{!s&&B.current&&qU(B.current.config.data,a.labels)},[s,a.labels]),ee.useEffect(()=>{!s&&B.current&&a.datasets&&YU(B.current.config.data,a.datasets,i)},[s,a.datasets]),ee.useEffect(()=>{B.current&&(s?(E(),setTimeout(b)):B.current.update(u))},[s,A,a.labels,a.datasets,u]),ee.useEffect(()=>{B.current&&(E(),setTimeout(b))},[o]),ee.useEffect(()=>(b(),()=>E()),[]),Tn.createElement("canvas",{ref:d,role:"img",height:n,width:r,...f},c)}const cee=ee.forwardRef(lee);function XU(t,e){return Cw.register(e),ee.forwardRef((n,r)=>Tn.createElement(cee,{...n,ref:r,type:t}))}const uee=XU("line",av),dee=XU("bar",ov);Cw.register(bB,BB,uv,Ag,cv,TZ,DZ,SZ);function hee(){const{user:t}=Lo(),[e,n]=ee.useState(!0),[r,s]=ee.useState(null),[i,o]=ee.useState({revenue:0,invoicesCount:0,partsUsed:0,averageJobTime:0,revenueChart:{labels:[],data:[]},partsChart:{labels:[],data:[]}});if(ee.useEffect(()=>{(async()=>{if(t){n(!0),s(null);try{const f=or(Yt,"users",t.uid,"invoices"),B=(await ms(f)).docs.map(oe=>oe.data()),b=B.length,E=B.reduce((oe,pe)=>oe+(pe.totalAmount||0),0),v={};B.forEach(oe=>{var se;const pe=new Date(((se=oe.createdAt)==null?void 0:se.seconds)*1e3).toLocaleString("default",{month:"short"});v[pe]=(v[pe]||0)+(oe.totalAmount||0)});const C=Object.keys(v),S=Object.values(v),R=or(Yt,"users",t.uid,"parts"),Q=(await ms(R)).docs.map(oe=>oe.data()),T=Q.reduce((oe,pe)=>oe+(pe.quantity||0),0),I=Q.sort((oe,pe)=>pe.quantity-oe.quantity).slice(0,5),O=I.map(oe=>oe.name),M=I.map(oe=>oe.quantity),L=or(Yt,"users",t.uid,"jobs"),k=(await ms(L)).docs.map(oe=>oe.data()),$=k.reduce((oe,pe)=>oe+(pe.duration||0),0),re=k.length?($/k.length).toFixed(2):0;o({revenue:E,invoicesCount:b,partsUsed:T,averageJobTime:re,revenueChart:{labels:C,data:S},partsChart:{labels:O,data:M}})}catch(f){console.error("Error fetching analytics:",f),s("Failed to load analytics"),$e.error("Error loading analytics")}finally{n(!1)}}})()},[t]),e)return h.jsx(Ru,{});if(r)return h.jsx(R_,{message:r});const a={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Monthly Revenue"}}},A={labels:i.revenueChart.labels,datasets:[{label:"Revenue ($)",data:i.revenueChart.data,borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.5)"}]},l={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Top Parts Used"}}},c={labels:i.partsChart.labels,datasets:[{label:"Quantity",data:i.partsChart.data,backgroundColor:"rgba(153, 102, 255, 0.5)"}]};return h.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[h.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Analytics"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Revenue"}),h.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",i.revenue.toFixed(2)]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Invoices"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i.invoicesCount})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Parts Used"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i.partsUsed})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Avg Job Time (hrs)"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i.averageJobTime})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:h.jsx(uee,{options:a,data:A})}),h.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:h.jsx(dee,{options:l,data:c})})]})]})}function JU(){var L;const{user:t}=Lo(),e=ko(),[n,r]=ee.useState("cash"),{setPaid:s}=ee.useContext(yw),[i,o]=ee.useState(!1),[a,A]=ee.useState(""),[l,c]=ee.useState(!1),[u,f]=ee.useState(null),[d,B]=ee.useState([]),[b,E]=ee.useState(""),[v,C]=ee.useState(!0),[S,R]=ee.useState(0);ee.useEffect(()=>{(async()=>{if(t)try{const $=(await ms(or(Yt,"users",t.uid,"invoices"))).docs.map(re=>({id:re.id,...re.data(),balance:re.data().total-(re.data().paidAmount||0)})).filter(re=>!re.paid&&re.balance>0);B($)}catch{$e.error("Failed to load invoices")}finally{C(!1)}})()},[t]);const P=j=>{const k=d.find($=>$.id===j);k&&(E(j),A(k.balance.toString()),R(k.balance),f(null))},Q=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(j),T=j=>j?new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",I=(j,k)=>{const $=parseFloat(j);if(isNaN($)||$<=0)throw new Error("Please enter a valid payment amount");if($>k.balance)throw new Error(`Payment amount cannot exceed the remaining balance of ${Q(k.balance)}`);return $},O=async()=>{if(!b||!a){f("Please select an invoice and enter amount");return}c(!0),f(null);try{const j=d.find(me=>me.id===b),k=I(a,j),$=(j.paidAmount||0)+k,re=j.total-$,oe=re<=0,pe=Pr(Yt,"users",t.uid,"invoices",b);await Ea(pe,{paid:oe,paidAmount:$,balance:re,paymentHistory:[...j.paymentHistory||[],{amount:k,method:n,date:new Date,status:"completed"}],lastPayment:{amount:k,method:n,date:new Date},status:oe?"paid":"partial",updatedAt:new Date});const se=d.filter(me=>me.id!==b||me.id===b&&!oe).map(me=>me.id===b?{...me,balance:re,paidAmount:$}:me);B(se),s(oe),o(!0),$e.success(`Payment of ${Q(k)} processed successfully`),setTimeout(()=>{e("/invoicehistory")},2e3)}catch(j){console.error("Payment error:",j),f(j.message||"Failed to process payment. Please try again."),$e.error(j.message||"Payment processing failed")}finally{c(!1)}};if(v)return h.jsx("div",{className:"min-h-screen flex items-center justify-center dark:bg-gray-900",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});const M=b?d.find(j=>j.id===b):null;return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-gray-50 to-gray-100 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 p-4 md:p-6",children:h.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[h.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:h.jsxs("div",{children:[h.jsxs("button",{onClick:()=>e("/invoicehistory"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors mb-4",children:[h.jsx(S_,{className:"w-5 h-5"}),h.jsx("span",{children:"Back to Invoices"})]}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Process Payment"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Record payment for outstanding invoices"})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Select Invoice"}),h.jsxs("select",{className:"w-full bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400",value:b,onChange:j=>P(j.target.value),children:[h.jsx("option",{value:"",children:"Choose an invoice"}),d.map(j=>{var k;return h.jsxs("option",{value:j.id,children:[j.poNumber||j.id," - Balance: ",Q(j.balance)," (",(k=j.customer)==null?void 0:k.name,")"]},j.id)})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Payment Amount"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Za,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"number",value:a,onChange:j=>{const k=j.target.value;A(k),M&&parseFloat(k)>M.balance?f(`Payment amount cannot exceed the remaining balance of ${Q(M.balance)}`):f(null)},className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400",placeholder:"0.00",step:"0.01",max:M==null?void 0:M.balance})]}),M&&h.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Remaining balance: ",Q(M.balance)]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Payment Method"}),h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{id:"cash",label:"Cash",icon:Za},{id:"card",label:"Credit Card",icon:ej},{id:"venmo",label:"Venmo",icon:Za},{id:"check",label:"Check",icon:AS}].map(j=>h.jsxs("button",{type:"button",onClick:()=>r(j.id),className:`flex flex-col items-center justify-center p-4 rounded-lg border ${n===j.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"border-gray-200 dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-500"}`,children:[h.jsx(j.icon,{className:"w-6 h-6 mb-2"}),h.jsx("span",{className:"text-sm",children:j.label})]},j.id))})]}),n==="card"&&h.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[h.jsx(eh,{className:"w-5 h-5"}),h.jsx("p",{children:"Credit card payments coming soon!"})]})}),u&&h.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center gap-3 text-red-600 dark:text-red-400",children:[h.jsx(I_,{className:"w-5 h-5"}),h.jsx("p",{children:u})]})}),h.jsx("button",{onClick:O,disabled:l||!a||!b||u,className:`w-full py-3 rounded-lg text-white font-medium transition flex items-center justify-center gap-2 ${l||!a||!b||u?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700"}`,children:l?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h.jsx("span",{children:"Processing..."})]}):h.jsxs(h.Fragment,{children:[h.jsx(Za,{className:"w-5 h-5"}),h.jsxs("span",{children:["Pay ",Q(a||0)]})]})})]})}),h.jsx("div",{className:"lg:col-span-1",children:M?h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 space-y-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Invoice Details"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Ql,{className:"w-5 h-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Invoice Number"}),h.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:M.poNumber||M.id})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(wa,{className:"w-5 h-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Customer"}),h.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:(L=M.customer)==null?void 0:L.name})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(eh,{className:"w-5 h-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Created Date"}),h.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:T(M.createdAt)})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Za,{className:"w-5 h-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Amount"}),h.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Q(M.total||0)})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Za,{className:"w-5 h-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Amount Paid"}),h.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Q(M.paidAmount||0)})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Za,{className:"w-5 h-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Remaining Balance"}),h.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Q(M.balance||0)})]})]})]})]}):h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:h.jsxs("div",{className:"text-center text-gray-600 dark:text-gray-400",children:[h.jsx(Ql,{className:"w-8 h-8 mx-auto mb-3"}),h.jsx("p",{children:"Select an invoice to view details"})]})})})]}),i&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl p-6 max-w-md w-full",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(AS,{className:"w-8 h-8 text-green-500"})}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Payment Successful"}),h.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Payment of ",Q(a)," has been recorded for invoice #",b," via ",n]}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Redirecting to invoice history..."})]})})})]})})}class ZU extends Tn.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error caught by boundary:",e,n)}render(){return this.state.hasError?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:h.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full",children:[h.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"An error occurred while rendering this screen. Please try refreshing the page."}),h.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Reload Page"})]})}):this.props.children}}const fee=Uk([{path:"/login",element:h.jsx(ij,{})},{path:"/register",element:h.jsx(oj,{})},{path:"/forgot-password",element:h.jsx(aj,{})},{path:"/",element:h.jsx(eR,{}),children:[{index:!0,element:h.jsx(Aj,{})},{path:"invoices",element:h.jsx(Uj,{})},{path:"invoices/:id",element:h.jsx(Rj,{})},{path:"history",element:h.jsx(Oj,{})},{path:"customers",element:h.jsx(tU,{})},{path:"customers/:id/history",element:h.jsx(nU,{})},{path:"vehicles/:id/service-records",element:h.jsx(rU,{})},{path:"parts",element:h.jsx(sU,{})},{path:"jobs",element:h.jsx(iU,{})},{path:"settings",element:h.jsx(oU,{})},{path:"payments/:invoiceId",element:h.jsx(JU,{})}]},{path:"*",element:h.jsx(B5,{to:"/",replace:!0})}],{future:{v7_startTransition:!0,v7_relativeSplatPath:!0}});function eR(){return h.jsx(__,{children:h.jsx(zP,{children:h.jsx(WP,{children:h.jsx(E_,{children:h.jsxs(ZU,{children:[h.jsx(ee.Suspense,{fallback:h.jsx(Ru,{}),children:h.jsx(Rk,{router:fee})}),h.jsx(Qv,{position:"top-right",autoClose:3e3,theme:"colored"})]})})})})})}function pee({children:t}){const{user:e,loading:n}=Lo();return n?h.jsx(Ru,{}):e?t:h.jsx(B5,{to:"/login",replace:!0})}const gee=Uk([{path:"/login",element:h.jsx(ij,{})},{path:"/register",element:h.jsx(oj,{})},{path:"/forgot-password",element:h.jsx(aj,{})},{path:"/",element:h.jsx(pee,{children:h.jsx(eR,{})}),children:[{index:!0,element:h.jsx(Aj,{})},{path:"invoices",element:h.jsx(Uj,{})},{path:"invoices/:id",element:h.jsx(Rj,{})},{path:"history",element:h.jsx(Oj,{})},{path:"customers",element:h.jsx(tU,{})},{path:"customers/:id/history",element:h.jsx(nU,{})},{path:"vehicles",element:h.jsx(_q,{})},{path:"vehicles/:id/service-records",element:h.jsx(rU,{})},{path:"parts",element:h.jsx(sU,{})},{path:"jobs",element:h.jsx(iU,{})},{path:"settings",element:h.jsx(oU,{})},{path:"analytics",element:h.jsx(hee,{})},{path:"payments/:invoiceId",element:h.jsx(JU,{})}]},{path:"*",element:h.jsx(B5,{to:"/",replace:!0})}],{future:{v7_startTransition:!0,v7_relativeSplatPath:!0}});function mee(){return h.jsx(__,{children:h.jsx(zP,{children:h.jsx(WP,{children:h.jsx(E_,{children:h.jsxs(ZU,{children:[h.jsx(ee.Suspense,{fallback:h.jsx(Ru,{}),children:h.jsx(Rk,{router:gee})}),h.jsx(Qv,{position:"top-right",autoClose:3e3,theme:"colored"})]})})})})})}Sx.createRoot(document.getElementById("root")).render(h.jsx(Tn.StrictMode,{children:h.jsx(__,{children:h.jsx(E_,{children:h.jsx(mee,{})})})}));export{pr as _,Il as c,b1 as g,HW as r};
